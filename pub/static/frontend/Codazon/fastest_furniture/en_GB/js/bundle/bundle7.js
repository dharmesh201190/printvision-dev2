require.config({"config": {
        "jsbuild":{"Biztech_Productdesigner/premium/main.js":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[\"main\"],{\r\n\r\n/***/ \"./node_modules/webpack/hot sync ^\\\\.\\\\/log$\":\r\n/*!*************************************************!*\\\r\n  !*** (webpack)/hot sync nonrecursive ^\\.\\/log$ ***!\r\n  \\*************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nvar map = {\r\n\t\"./log\": \"./node_modules/webpack/hot/log.js\"\r\n};\r\n\r\n\r\nfunction webpackContext(req) {\r\n\tvar id = webpackContextResolve(req);\r\n\treturn __webpack_require__(id);\r\n}\r\nfunction webpackContextResolve(req) {\r\n\tvar id = map[req];\r\n\tif(!(id + 1)) { // check for number or string\r\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\r\n\t\te.code = 'MODULE_NOT_FOUND';\r\n\t\tthrow e;\r\n\t}\r\n\treturn id;\r\n}\r\nwebpackContext.keys = function webpackContextKeys() {\r\n\treturn Object.keys(map);\r\n};\r\nwebpackContext.resolve = webpackContextResolve;\r\nmodule.exports = webpackContext;\r\nwebpackContext.id = \"./node_modules/webpack/hot sync ^\\\\.\\\\/log$\";\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/$$_lazy_route_resource lazy recursive\":\r\n/*!**********************************************************!*\\\r\n  !*** ./src/$$_lazy_route_resource lazy namespace object ***!\r\n  \\**********************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nfunction webpackEmptyAsyncContext(req) {\r\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\r\n\t// uncaught exception popping up in devtools\r\n\treturn Promise.resolve().then(function() {\r\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\r\n\t\te.code = 'MODULE_NOT_FOUND';\r\n\t\tthrow e;\r\n\t});\r\n}\r\nwebpackEmptyAsyncContext.keys = function() { return []; };\r\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\r\nmodule.exports = webpackEmptyAsyncContext;\r\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/_helper/formatCurrency.ts\":\r\n/*!*******************************************!*\\\r\n  !*** ./src/app/_helper/formatCurrency.ts ***!\r\n  \\*******************************************/\r\n/*! exports provided: FormatCurrency */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FormatCurrency\", function() { return FormatCurrency; });\r\nfunction FormatCurrency(price, format, showPlus) {\r\n    var precision = isNaN(format.precision = Math.abs(format.precision)) ? 2 : format.precision;\r\n    var requiredPrecision = isNaN(format.requiredPrecision = Math.abs(format.requiredPrecision)) ? 2 : format.requiredPrecision;\r\n    //for now we don't need this difference so precision is requiredPrecision\r\n    precision = requiredPrecision;\r\n    var integerRequired = isNaN(format.integerRequired = Math.abs(format.integerRequired)) ? 1 : format.integerRequired;\r\n    var decimalSymbol = format.decimalSymbol == undefined ? \",\" : format.decimalSymbol;\r\n    var groupSymbol = format.groupSymbol == undefined ? \".\" : format.groupSymbol;\r\n    var groupLength = format.groupLength == undefined ? 3 : format.groupLength;\r\n    var s = '';\r\n    var j;\r\n    var re;\r\n    var i;\r\n    if (showPlus == undefined || showPlus == true) {\r\n        s = price < 0 ? \"-\" : (showPlus ? \"+\" : \"\");\r\n    }\r\n    else if (showPlus == false) {\r\n        s = '';\r\n    }\r\n    i = parseInt(price = Math.abs(+price || 0).toFixed(precision)) + \"\";\r\n    var pad = (i.length < integerRequired) ? (integerRequired - i.length) : 0;\r\n    while (pad) {\r\n        i = '0' + i;\r\n        pad--;\r\n    }\r\n    j = (j = i.length) > groupLength ? j % groupLength : 0;\r\n    re = new RegExp(\"(\\\\d{\" + groupLength + \"})(?=\\\\d)\", \"g\");\r\n    /**\r\n     * replace(/-/, 0) is only for fixing Safari bug which appears\r\n     * when Math.abs(0).toFixed() executed on \"0\" number.\r\n     * Result is \"0.-0\"\r\n     */\r\n    var r;\r\n    r = (j ? i.substr(0, j) + groupSymbol : \"\") + i.substr(j).replace(re, \"$1\" + groupSymbol) + (precision ? decimalSymbol + Math.abs(price - i).toFixed(precision).replace(/-/, '0').slice(2) : \"\");\r\n    var pattern = '';\r\n    if (format.pattern.indexOf('{sign}') == -1) {\r\n        pattern = s + format.pattern;\r\n    }\r\n    else {\r\n        pattern = format.pattern.replace('{sign}', s);\r\n    }\r\n    return pattern.replace('%s', r).replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\r\n}\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/_helper/must-match.validator.ts\":\r\n/*!*************************************************!*\\\r\n  !*** ./src/app/_helper/must-match.validator.ts ***!\r\n  \\*************************************************/\r\n/*! exports provided: MustMatch */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MustMatch\", function() { return MustMatch; });\r\n// custom validator to check that two fields match\r\nfunction MustMatch(controlName, matchingControlName) {\r\n    return function (formGroup) {\r\n        var control = formGroup.controls[controlName];\r\n        var matchingControl = formGroup.controls[matchingControlName];\r\n        if (matchingControl.errors && !matchingControl.errors.mustMatch) {\r\n            // return if another validator has already found an error on the matchingControl\r\n            return;\r\n        }\r\n        // set error on matchingControl if validation fails\r\n        if (control.value !== matchingControl.value) {\r\n            matchingControl.setErrors({ mustMatch: true });\r\n        }\r\n        else {\r\n            matchingControl.setErrors(null);\r\n        }\r\n    };\r\n}\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/components/object-lock/object-lock.component.html\":\r\n/*!**************************************************************************!*\\\r\n  !*** ./src/app/addons/components/object-lock/object-lock.component.html ***!\r\n  \\**************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg class=\\\"icon icon-t-lock\\\" *ngIf=\\\"mainService.isAdmin === true\\\" id=\\\"lock\\\" viewBox=\\\"0 0 30 30\\\" (click)=\\\"ultimateLockObject()\\\">\\n\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-t-lock\\\" id=\\\"lock\\\"></use>\\n</svg>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/components/object-lock/object-lock.component.scss\":\r\n/*!**************************************************************************!*\\\r\n  !*** ./src/app/addons/components/object-lock/object-lock.component.scss ***!\r\n  \\**************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9jb21wb25lbnRzL29iamVjdC1sb2NrL29iamVjdC1sb2NrLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/components/object-lock/object-lock.component.ts\":\r\n/*!************************************************************************!*\\\r\n  !*** ./src/app/addons/components/object-lock/object-lock.component.ts ***!\r\n  \\************************************************************************/\r\n/*! exports provided: ObjectLockComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectLockComponent\", function() { return ObjectLockComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n\r\n\r\n\r\n\r\nvar ObjectLockComponent = /** @class */ (function () {\r\n    function ObjectLockComponent(mainService, eventService) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n    }\r\n    ObjectLockComponent.prototype.ngOnInit = function () {\r\n        var keysToBePush = [\"lockMovementX\", \"lockMovementY\", \"hasControls\", \"ultimatelock\"], currentJsonKeys = this.mainService.canvasService.objProperties;\r\n        keysToBePush.filter(function (currentKey) {\r\n            if (currentJsonKeys.indexOf(currentKey) == -1)\r\n                currentJsonKeys.push(currentKey);\r\n        });\r\n        this.mainService.canvasService.objProperties = currentJsonKeys;\r\n        this.initData();\r\n        this.subscribeEvents();\r\n    };\r\n    ObjectLockComponent.prototype.initData = function (obj) {\r\n        if (obj === void 0) { obj = \"\"; }\r\n        this.enableForSingleObj = (this.enableForSingleObject() === true) ? false : true;\r\n    };\r\n    ObjectLockComponent.prototype.enableForSingleObject = function () {\r\n        var obj = this.mainService.canvasService.getActiveObject();\r\n        if (obj == false)\r\n            return false;\r\n        return true;\r\n    };\r\n    ObjectLockComponent.prototype.ultimateLockObject = function () {\r\n        var _this = this;\r\n        var objs = this.mainService.canvasService.currentCanvas.getActiveObjects();\r\n        if (objs.length > 0) {\r\n            objs.filter(function (obj) {\r\n                var lockedObj = _this.mainService.canvasService.applyUltimateLock(obj, false);\r\n                _this.mainService.canvasService.currentCanvas.discardActiveObject();\r\n                _this.mainService.canvasService.currentCanvas.setActiveObject(lockedObj);\r\n            });\r\n            this.mainService.canvasService.currentCanvas.renderAll();\r\n        }\r\n    };\r\n    ObjectLockComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            _this.initData(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            _this.initData(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function (obj) {\r\n            _this.initData(obj);\r\n        });\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            _this.mainService.canvasService.applyUltimateLock(obj, true);\r\n        });\r\n    };\r\n    ObjectLockComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[object-lock]',\r\n            template: __webpack_require__(/*! ./object-lock.component.html */ \"./src/app/addons/components/object-lock/object-lock.component.html\"),\r\n            styles: [__webpack_require__(/*! ./object-lock.component.scss */ \"./src/app/addons/components/object-lock/object-lock.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"]])\r\n    ], ObjectLockComponent);\r\n    return ObjectLockComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/components/printing-methods/printing-methods.component.html\":\r\n/*!************************************************************************************!*\\\r\n  !*** ./src/app/addons/components/printing-methods/printing-methods.component.html ***!\r\n  \\************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byi-printing-method\\\" [formGroup]=\\\"parentFormGroup\\\">\\n\\t<ul>\\n\\t\\t<li *ngFor=\\\"let data of printingMethods;let i = index\\\">\\n\\t\\t\\t<label class=\\\"byi-radio\\\">\\n\\t\\t\\t\\t<input type=\\\"radio\\\" required name=\\\"method\\\" [value]=\\\"data.printing_id\\\" formControlName=\\\"method\\\"\\n\\t\\t\\t\\t\\t(change)=\\\"applyPrintingMethod(data.printing_id, data.minimum_quantity)\\\">\\n\\t\\t\\t\\t{{data.printing_name}}\\n\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t<button *ngIf=\\\"!mainService.isResponsive && data.printing_description\\\" class=\\\"byiu-right-icon\\\"\\n\\t\\t\\t\\t\\ttype=\\\"button\\\" tooltip=\\\"{{ data.printing_description | translate}}\\\" placement=\\\"bottom\\\">\\n\\t\\t\\t\\t\\t<svg class=\\\"icon icon-question\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-question\\\"></use>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t</ul>\\n\\t<span class=\\\"byi-error\\\" *ngIf=\\\"parentFormGroup.invalid && isClickedAddtoCart\\\">{{'Please select at least one printing method' | translate}}</span>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/components/printing-methods/printing-methods.component.scss\":\r\n/*!************************************************************************************!*\\\r\n  !*** ./src/app/addons/components/printing-methods/printing-methods.component.scss ***!\r\n  \\************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \".no-margin-bottom {\\n  margin-bottom: 0px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2h0bWwvUmVzdHJ1Y3R1cmVWMi9tYWdlbnRvMjI4VjIvYW5ndWxhci9zcmMvYXBwL2FkZG9ucy9jb21wb25lbnRzL3ByaW50aW5nLW1ldGhvZHMvcHJpbnRpbmctbWV0aG9kcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFrQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvYWRkb25zL2NvbXBvbmVudHMvcHJpbnRpbmctbWV0aG9kcy9wcmludGluZy1tZXRob2RzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5vLW1hcmdpbi1ib3R0b20ge1xuICAgIG1hcmdpbi1ib3R0b206IDBweDtcbn0iXX0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/components/printing-methods/printing-methods.component.ts\":\r\n/*!**********************************************************************************!*\\\r\n  !*** ./src/app/addons/components/printing-methods/printing-methods.component.ts ***!\r\n  \\**********************************************************************************/\r\n/*! exports provided: PrintingMethodsComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PrintingMethodsComponent\", function() { return PrintingMethodsComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\r\n/* harmony import */ var src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/essentials/components/price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar PrintingMethodsComponent = /** @class */ (function () {\r\n    function PrintingMethodsComponent(mainService, cacheService, priceService, eventService) {\r\n        this.mainService = mainService;\r\n        this.cacheService = cacheService;\r\n        this.priceService = priceService;\r\n        this.eventService = eventService;\r\n        this.printingMethodDataCacheKey = '';\r\n        this.printingMethods = [];\r\n        this.additionalAmount = 0;\r\n        this.selectedPrintingId = null;\r\n        this.displayError = false;\r\n        this.printingMethodDataCacheKey = 'printingMethodDataCacheKey' + this.mainService.productId + '-' + this.mainService.baseUrl;\r\n    }\r\n    PrintingMethodsComponent.prototype.ngOnInit = function () {\r\n        this.loadPrintingMethods();\r\n        this.subscribeEvents();\r\n        this.displayError = false;\r\n    };\r\n    PrintingMethodsComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('objectAdded', function () {\r\n            if (_this.selectedPrintingId != null)\r\n                _this.applyPrintingMethod(_this.selectedPrintingId, null);\r\n        });\r\n        this.eventService.$sub('objectUpdated', function () {\r\n            setTimeout(function () {\r\n                if (_this.selectedPrintingId != null)\r\n                    _this.applyPrintingMethod(_this.selectedPrintingId, null);\r\n            }, 300);\r\n        });\r\n        this.eventService.$sub('objectRemoved', function () {\r\n            if (_this.selectedPrintingId != null)\r\n                _this.applyPrintingMethod(_this.selectedPrintingId, null);\r\n        });\r\n        this.eventService.$sub('canvasBackgroundChange', function () {\r\n            if (_this.selectedPrintingId != null)\r\n                _this.applyPrintingMethod(_this.selectedPrintingId, null);\r\n        });\r\n        this.eventService.$sub('showError', function (show) {\r\n            _this.displayError = show;\r\n        });\r\n    };\r\n    PrintingMethodsComponent.prototype.loadPrintingMethods = function () {\r\n        var _this = this;\r\n        var params = { productId: this.mainService.productId }, url = 'printingmethods/Index/getPrintingMethodData', cacheKey = this.printingMethodDataCacheKey;\r\n        this.mainService.getData(url, params, cacheKey, null, true).then(function (data) {\r\n            _this.cacheService.set(_this.printingMethodDataCacheKey, data, { maxAge: 15 * 60 });\r\n            _this.printingMethods = data.printingMethods;\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    PrintingMethodsComponent.prototype.applyPrintingMethod = function (printingId, minimumQty) {\r\n        this.displayError = false;\r\n        if (minimumQty) {\r\n            this.priceService.printingMethodMinimumQty = minimumQty;\r\n        }\r\n        this.selectedPrintingId = printingId;\r\n        var methodData = this.getMethodsValueById(printingId)[0];\r\n        if (methodData.method_type == 1) {\r\n            var setPrice = null;\r\n            if (this.mainService.canvasService.usedColorCounter < 1) {\r\n                setPrice = 0;\r\n            }\r\n            else {\r\n                var priceData = methodData.counterData;\r\n                priceData.sort(function (val1, val2) { return val1.colors_counter - val2.colors_counter; });\r\n                this.additionalAmount = 0;\r\n                if (priceData.length > 0) {\r\n                    for (var i = 0; i < priceData.length && setPrice == null; i++) {\r\n                        if (priceData[i].colors_counter == this.mainService.canvasService.usedColorCounter) {\r\n                            setPrice = priceData[i].colors_price;\r\n                        }\r\n                        else if (priceData[i + 1] != undefined && this.mainService.canvasService.usedColorCounter >= priceData[i].colors_counter && this.mainService.canvasService.usedColorCounter < priceData[i + 1].colors_counter) {\r\n                            setPrice = priceData[i].colors_price;\r\n                        }\r\n                        else if (!priceData[i + 1] && this.mainService.canvasService.usedColorCounter >= priceData[i].colors_counter) {\r\n                            setPrice = priceData[i].colors_price;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (setPrice != null) {\r\n                this.additionalAmount = setPrice;\r\n                this.priceService.additionalPrice = setPrice;\r\n                this.priceService.addThisPrice();\r\n                var param = { 'label': \"perintingMethod\", \"price\": this.priceService.additionalPrice };\r\n                this.eventService.$pub('priceUpdate', param);\r\n            }\r\n        }\r\n        if (methodData.method_type == 2) {\r\n            var priceData = methodData.counterData;\r\n            priceData.sort(function (val1, val2) { return val1.area_size_end - val2.area_size_end; });\r\n            this.priceService.additionalPrice = this.calculateAreaWisePrice(priceData);\r\n            this.priceService.addThisPrice();\r\n            var param = { 'label': \"perintingMethod\", \"price\": this.priceService.additionalPrice };\r\n            this.eventService.$pub('priceUpdate', param);\r\n        }\r\n    };\r\n    PrintingMethodsComponent.prototype.getMethodsValueById = function (id) {\r\n        return this.printingMethods.filter(function (x) { return x.printing_id === id; });\r\n    };\r\n    /*\r\n        For calculation of area wise price\r\n        */\r\n    PrintingMethodsComponent.prototype.calculateAreaWisePrice = function (priceData) {\r\n        var final_price = 0, canvasKeys = Object.keys(this.mainService.canvasService.containerCanvases), canvasObjects;\r\n        var _loop_1 = function (key) {\r\n            var leftArr = [];\r\n            var topArr = [];\r\n            var widthArr = [];\r\n            var heightArr = [];\r\n            canvasObjects = this_1.mainService.canvasService.getObjects(this_1.mainService.canvasService.containerCanvases[key]);\r\n            canvasObjects.forEach(function (data) {\r\n                leftArr.push(data.left);\r\n                topArr.push(data.top);\r\n                var width_val = data.left + (data.width * data.scaleX);\r\n                var height_val = data.top + (data.height * data.scaleY);\r\n                widthArr.push(width_val);\r\n                heightArr.push(height_val);\r\n            });\r\n            if (leftArr.length > 0) {\r\n                // find lowest left and top\r\n                var lowest_left = Math.min.apply(Math, leftArr);\r\n                var lowest_top = Math.min.apply(Math, topArr);\r\n                var max_width = Math.max.apply(Math, widthArr);\r\n                var max_height = Math.max.apply(Math, heightArr);\r\n                var final_width = max_width - lowest_left;\r\n                var final_height = max_height - lowest_top;\r\n                var calculate_area = final_width * final_height;\r\n                // get multiplier factor \r\n                var multiplier_factor = this_1.mainService.canvasService.fetchOutPutScaleFactor(this_1.mainService.canvasService.containerCanvases[key]);\r\n                var final_area = calculate_area * multiplier_factor;\r\n                var area_price = this_1.getAreaPriceBetweenRange(priceData, final_area);\r\n                final_price = final_price + area_price;\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var _i = 0, canvasKeys_1 = canvasKeys; _i < canvasKeys_1.length; _i++) {\r\n            var key = canvasKeys_1[_i];\r\n            _loop_1(key);\r\n        }\r\n        return final_price;\r\n    };\r\n    PrintingMethodsComponent.prototype.getAreaPriceBetweenRange = function (priceData, final_area) {\r\n        var price = 0;\r\n        if (priceData.length > 0) {\r\n            for (var i = 0; i < priceData.length; i++) {\r\n                if (!priceData[i + 1] && final_area > priceData[i].area_size_end) {\r\n                    price = parseFloat(priceData[i].area_price);\r\n                }\r\n                if (priceData[i + 1] && final_area > priceData[i].area_size_end && final_area < priceData[i + 1].area_size_end) {\r\n                    price = parseFloat(priceData[i].area_price);\r\n                }\r\n                if (final_area >= priceData[i].area_size_start && final_area <= priceData[i].area_size_end) {\r\n                    price = parseFloat(priceData[i].area_price);\r\n                }\r\n            }\r\n        }\r\n        return price;\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"FormGroup\"])\r\n    ], PrintingMethodsComponent.prototype, \"parentFormGroup\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], PrintingMethodsComponent.prototype, \"isClickedAddtoCart\", void 0);\r\n    PrintingMethodsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: '[printing-methods]',\r\n            template: __webpack_require__(/*! ./printing-methods.component.html */ \"./src/app/addons/components/printing-methods/printing-methods.component.html\"),\r\n            styles: [__webpack_require__(/*! ./printing-methods.component.scss */ \"./src/app/addons/components/printing-methods/printing-methods.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_4__[\"CacheService\"],\r\n            src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_6__[\"PriceService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"]])\r\n    ], PrintingMethodsComponent);\r\n    return PrintingMethodsComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/components/three-d-preview/three-d-preview.component.html\":\r\n/*!**********************************************************************************!*\\\r\n  !*** ./src/app/addons/components/three-d-preview/three-d-preview.component.html ***!\r\n  \\**********************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<a href=\\\"javascript:void(0)\\\" id='preview_btn3d' (click)=\\\"open3DPreview()\\\" attr.disabled=\\\"disabled\\\"\\r\\n  tooltip=\\\"{{'3D Preview' | translate}}\\\">\\r\\n  <svg class=\\\"icon icon-3d\\\" viewBox=\\\"0 0 30 30\\\">\\r\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-3d\\\"></use>\\r\\n  </svg>\\r\\n</a>\\r\\n<div class=\\\"byi-3dpreview-wrap\\\" #previewWrap>\\r\\n  <div class=\\\"byi-3dpreview-inner\\\">\\r\\n    <div class=\\\"byi-3dpreview-header\\\">\\r\\n      <h2>3D Preview</h2>\\r\\n      <button class=\\\"byi-close-btn\\\" (click)=\\\"close3DPreview()\\\">\\r\\n        <span></span>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div class=\\\"byi-3d-canvas\\\" id=\\\"byi-3d-canvas\\\"></div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #template>\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">{{'3D Preview' | translate}}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\" id=\\\"byi-3d-canvas\\\" style=\\\"height: 500px\\\">\\r\\n  </div>\\r\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/components/three-d-preview/three-d-preview.component.scss\":\r\n/*!**********************************************************************************!*\\\r\n  !*** ./src/app/addons/components/three-d-preview/three-d-preview.component.scss ***!\r\n  \\**********************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9jb21wb25lbnRzL3RocmVlLWQtcHJldmlldy90aHJlZS1kLXByZXZpZXcuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/components/three-d-preview/three-d-preview.component.ts\":\r\n/*!********************************************************************************!*\\\r\n  !*** ./src/app/addons/components/three-d-preview/three-d-preview.component.ts ***!\r\n  \\********************************************************************************/\r\n/*! exports provided: ThreeDPreviewComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ThreeDPreviewComponent\", function() { return ThreeDPreviewComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\nvar ThreeDPreviewComponent = /** @class */ (function () {\r\n    /**\r\n     * Dependancy injector\r\n     *\r\n     * @param mainService\r\n     * @param canvasService\r\n     * @param eventService\r\n     */\r\n    function ThreeDPreviewComponent(mainService, canvasService, eventService) {\r\n        this.mainService = mainService;\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        // common variables\r\n        this.currSelectedObjs = null;\r\n        this.isFirst = true;\r\n    }\r\n    /**\r\n     * Angular init event\r\n     */\r\n    ThreeDPreviewComponent.prototype.ngOnInit = function () {\r\n        this.subscribeEvents();\r\n    };\r\n    /**\r\n     * Subscrive pubsub events\r\n     */\r\n    ThreeDPreviewComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        // \r\n        this.eventService.$sub('allcanvasCreated', function () {\r\n            setTimeout(function () {\r\n                _this.prepare3DPreview();\r\n            }, 100);\r\n        });\r\n        // for each CRUD opearation\r\n        // we have created common update function\r\n        // which will let threeJS know about update\r\n        this.eventService.$sub('objectAdded', function (canvas) {\r\n            _this.update();\r\n        });\r\n        this.eventService.$sub('objectUpdated', function (canvas) {\r\n            _this.update();\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (canvas) {\r\n            _this.update();\r\n        });\r\n        this.eventService.$sub('canvasBackgroundChange', function () {\r\n            _this.update();\r\n        });\r\n        // as we need to update canvas only first time of canvas render\r\n        // we have used flag here\r\n        this.eventService.$sub('canvasRenderAfter', function (canvas) {\r\n            if (canvas == _this.canvasService.currentCanvas && _this.isFirst === true) {\r\n                _this.isFirst = false;\r\n                _this.update();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * A common function that will detect changes\r\n     */\r\n    ThreeDPreviewComponent.prototype.update = function () {\r\n        this.threeDObj.traverse(function (obj) {\r\n            if (obj.isMesh && obj.hasOwnProperty('material') && obj.material.hasOwnProperty('map')) {\r\n                obj.material.map.needsUpdate = true;\r\n            }\r\n        });\r\n        this.prepare3DPreview();\r\n    };\r\n    /**\r\n     * Function that will prepare 3d preview\r\n     */\r\n    ThreeDPreviewComponent.prototype.prepare3DPreview = function () {\r\n        var camera, controls, renderer, object;\r\n        var element = document.getElementById(\"byi-3d-canvas\");\r\n        var self = this;\r\n        init();\r\n        animate();\r\n        function init() {\r\n            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 2000);\r\n            camera.position.z = 48;\r\n            controls = new THREE.OrbitControls(camera);\r\n            controls.autoRotate = true;\r\n            controls.autoRotateSpeed = 50;\r\n            controls.enableRotate = false;\r\n            controls.enablePan = false;\r\n            controls.enableZoom = false;\r\n            controls.maxPolarAngle = 1.5;\r\n            controls.minPolarAngle = 1.5;\r\n            // scene\r\n            self.scene = new THREE.Scene();\r\n            var ambientLight = new THREE.AmbientLight(0xcccccc, 0.4);\r\n            self.scene.add(ambientLight);\r\n            var pointLight = new THREE.PointLight(0xffffff, 0.8);\r\n            camera.add(pointLight);\r\n            self.scene.add(camera);\r\n            // manager\r\n            function loadModel() {\r\n                object.traverse(function (child) {\r\n                    if (child.isMesh) {\r\n                        child.material.map = canvasTexture;\r\n                    }\r\n                });\r\n                self.scene.add(object);\r\n            }\r\n            var canvasTexture = new THREE.CanvasTexture(self.canvasService.currentCanvas.lowerCanvasEl);\r\n            canvasTexture.wrapS = THREE.RepeatWrapping;\r\n            canvasTexture.wrapT = THREE.RepeatWrapping;\r\n            canvasTexture.repeat.set(1, 1);\r\n            var manager = new THREE.LoadingManager(loadModel);\r\n            var loader = new THREE.OBJLoader(manager);\r\n            loader.load('assets/img/mug.obj', function (obj) {\r\n                object = obj;\r\n                self.threeDObj = obj;\r\n            });\r\n            //\r\n            renderer = new THREE.WebGLRenderer({ antialias: true });\r\n            renderer.setClearColor(0xffffff);\r\n            renderer.setSize(element.clientWidth, element.clientHeight / 1.8);\r\n            element.appendChild(renderer.domElement);\r\n        }\r\n        function animate() {\r\n            requestAnimationFrame(animate);\r\n            render();\r\n        }\r\n        function render() {\r\n            controls.update();\r\n            camera.lookAt(self.scene.position);\r\n            renderer.render(self.scene, camera);\r\n        }\r\n    };\r\n    /**\r\n     * Open 3D Preview Modal\r\n     *\r\n     */\r\n    ThreeDPreviewComponent.prototype.open3DPreview = function () {\r\n        this.currSelectedObjs = this.canvasService.currentCanvas.getActiveObjects();\r\n        this.canvasService.deselectAllObjects();\r\n        this.previewWrap.nativeElement.classList.add('active');\r\n    };\r\n    /**\r\n     * Close 3D preview modal\r\n     */\r\n    ThreeDPreviewComponent.prototype.close3DPreview = function () {\r\n        if (this.currSelectedObjs && this.currSelectedObjs.length) {\r\n            this.eventService.$pub('selectThisObjects', this.currSelectedObjs);\r\n        }\r\n        this.previewWrap.nativeElement.classList.remove('active');\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('previewWrap'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ElementRef\"])\r\n    ], ThreeDPreviewComponent.prototype, \"previewWrap\", void 0);\r\n    ThreeDPreviewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[three-d-preview]',\r\n            template: __webpack_require__(/*! ./three-d-preview.component.html */ \"./src/app/addons/components/three-d-preview/three-d-preview.component.html\"),\r\n            styles: [__webpack_require__(/*! ./three-d-preview.component.scss */ \"./src/app/addons/components/three-d-preview/three-d-preview.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"]])\r\n    ], ThreeDPreviewComponent);\r\n    return ThreeDPreviewComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.html\":\r\n/*!******************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.html ***!\r\n  \\******************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"month-containter\\\">\\n\\t<div class=\\\"month-container-inner\\\">\\n\\t\\t<label>Starting Month</label>\\n\\t\\t<div class=\\\"byi-select select-style\\\">\\n\\t\\t\\t<select (change)=\\\"changeCalendarMonth($event)\\\" class=\\\"select_months validate-select\\\" id=\\\"select_months\\\"\\n\\t\\t\\t\\tname=\\\"select_months\\\">\\n\\t\\t\\t\\t<option value=\\\"{{calender['value']}}\\\" *ngFor=\\\"let calender of calenderData\\\">{{calender['label']}}\\n\\t\\t\\t\\t</option>\\n\\t\\t\\t</select>\\n\\t\\t\\t<span class=\\\"caret\\\"></span>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.scss\":\r\n/*!******************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.scss ***!\r\n  \\******************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9tb2R1bGVzL3Bob3RvLWNhbGVuZGFyL2NvbXBvbmVudC9waG90by1jYWxlbmRhci9waG90by1jYWxlbmRhci5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.ts\":\r\n/*!****************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.ts ***!\r\n  \\****************************************************************************************************/\r\n/*! exports provided: PhotoCalendarComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PhotoCalendarComponent\", function() { return PhotoCalendarComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\nvar PhotoCalendarComponent = /** @class */ (function () {\r\n    function PhotoCalendarComponent(canvasService, eventService) {\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.calenderData = [];\r\n        this.canvasImages = [];\r\n        this.containerCloneCanvases = {};\r\n    }\r\n    PhotoCalendarComponent.prototype.ngOnInit = function () {\r\n        this.loadCalendarMonths();\r\n    };\r\n    PhotoCalendarComponent.prototype.loadCalendarMonths = function () {\r\n        var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n        var canvasImagesData = this.canvasService.allImages;\r\n        this.canvasImages = this.canvasService.allImages;\r\n        var d = new Date();\r\n        var currentMonth = d.getMonth();\r\n        var currentYear = d.getFullYear();\r\n        var breakFlag = false;\r\n        var maximumYear = Math.max.apply(null, canvasImagesData.map(function (o) { return o.year; }));\r\n        var totalYears = (maximumYear + 1) - currentYear;\r\n        for (var i = 0; i < totalYears; ++i) {\r\n            var year = currentYear + i;\r\n            if (i + 1 == totalYears) {\r\n                breakFlag = true;\r\n            }\r\n            for (var key in months) {\r\n                if (parseInt(key) < currentMonth && currentYear == year) {\r\n                    continue;\r\n                }\r\n                var month = months[key];\r\n                var month_year = [];\r\n                month_year['label'] = month + \" \" + year;\r\n                month_year['value'] = parseInt(key) + 1 + \"-\" + year;\r\n                this.calenderData.push(month_year);\r\n                if (breakFlag) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (this.calenderData.length > 0) {\r\n            this.changeSideImages(this.calenderData[0].value);\r\n        }\r\n    };\r\n    PhotoCalendarComponent.prototype.changeCalendarMonth = function (event) {\r\n        var value = event.currentTarget.value;\r\n        this.changeSideImages(value);\r\n    };\r\n    PhotoCalendarComponent.prototype.changeSideImages = function (value) {\r\n        if (value) {\r\n            var monthYear = value;\r\n            var monthYearArray = monthYear.split(\"-\");\r\n            var month = monthYearArray[0];\r\n            var year = monthYearArray[1];\r\n            var backPage = void 0;\r\n            var nextYearPages = [];\r\n            this.canvasImages = [];\r\n            var selectedMonthSide = '';\r\n            for (var key in this.canvasService.allImages) {\r\n                /**\r\n                 * If month is Cover page and year is same then push it first\r\n                 */\r\n                if (this.canvasService.allImages[key].month == 0 && this.canvasService.allImages[key].year == year) {\r\n                    selectedMonthSide = this.canvasService.allImages[key];\r\n                    this.canvasImages.push(selectedMonthSide);\r\n                }\r\n                if (parseInt(this.canvasService.allImages[key].month) == parseInt(month) && this.canvasService.allImages[key].year == year && !selectedMonthSide) {\r\n                    selectedMonthSide = this.canvasService.allImages[key].image_id;\r\n                }\r\n                if (parseInt(this.canvasService.allImages[key].month) + 1 <= parseInt(month) && this.canvasService.allImages[key].year == year) {\r\n                    continue;\r\n                }\r\n                if (this.canvasService.allImages[key].year == year) {\r\n                    this.canvasImages.push(this.canvasService.allImages[key]);\r\n                }\r\n                else if (this.canvasService.allImages[key].year != year && parseInt(this.canvasService.allImages[key].month) < parseInt(month) && this.canvasService.allImages[key].month != 0 && this.canvasService.allImages[key].month != 13) {\r\n                    nextYearPages.push(this.canvasService.allImages[key]);\r\n                }\r\n                else if (this.canvasService.allImages[key].month == 13 && (this.canvasService.allImages[key].year == year || this.canvasService.allImages[key].year == 0)) {\r\n                    backPage = this.canvasService.allImages[key];\r\n                }\r\n            }\r\n            if (nextYearPages.length > 0) {\r\n                for (var key in nextYearPages) {\r\n                    this.canvasImages.push(nextYearPages[key]);\r\n                }\r\n            }\r\n            if (backPage != undefined) {\r\n                this.canvasImages.push(backPage);\r\n            }\r\n            if (Object.keys(this.containerCloneCanvases).length == 0) {\r\n                this.containerCloneCanvases = Object.assign({}, this.canvasService.containerCanvases);\r\n            }\r\n            this.canvasService.containerCanvases = Object.assign({}, this.containerCloneCanvases);\r\n            for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\r\n                var key = _a[_i];\r\n                var canvas = this.canvasService.containerCanvases[key];\r\n                if (!this.findCanvasImageId(canvas.image_id)) {\r\n                    this.cloneCanvas(canvas, key);\r\n                    delete this.canvasService.containerCanvases[key];\r\n                }\r\n            }\r\n            this.changeSlide(selectedMonthSide, 0);\r\n        }\r\n        else {\r\n            this.canvasImages = this.canvasService.allImages;\r\n            this.canvasService.containerCanvases = Object.assign({}, this.containerCloneCanvases);\r\n            this.changeSlide(this.canvasImages[0].image_id, 0);\r\n        }\r\n    };\r\n    PhotoCalendarComponent.prototype.cloneCanvas = function (canvasNew, key) {\r\n        this.containerCloneCanvases[key] = canvasNew;\r\n    };\r\n    PhotoCalendarComponent.prototype.changeSlide = function (image_id, slide) {\r\n        var data = {\r\n            image_id: image_id,\r\n            slide: slide,\r\n            canvasImages: this.canvasImages\r\n        };\r\n        this.eventService.$pub('changeSlider', data);\r\n    };\r\n    PhotoCalendarComponent.prototype.findCanvasImageId = function (canvasimageid) {\r\n        var returnVal = false;\r\n        for (var i = 0; i < this.canvasImages.length; i++) {\r\n            if (this.canvasImages[i].image_id == canvasimageid) {\r\n                returnVal = true;\r\n            }\r\n        }\r\n        return returnVal;\r\n    };\r\n    PhotoCalendarComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[photo-calendar]',\r\n            template: __webpack_require__(/*! ./photo-calendar.component.html */ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.html\"),\r\n            styles: [__webpack_require__(/*! ./photo-calendar.component.scss */ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"]])\r\n    ], PhotoCalendarComponent);\r\n    return PhotoCalendarComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/photo-calendar/photo-calendar.module.ts\":\r\n/*!************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/photo-calendar/photo-calendar.module.ts ***!\r\n  \\************************************************************************/\r\n/*! exports provided: PhotoCalendarModule */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PhotoCalendarModule\", function() { return PhotoCalendarModule; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm5/common.js\");\r\n/* harmony import */ var _component_photo_calendar_photo_calendar_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component/photo-calendar/photo-calendar.component */ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.ts\");\r\n\r\n\r\n\r\n\r\nvar PhotoCalendarModule = /** @class */ (function () {\r\n    function PhotoCalendarModule() {\r\n    }\r\n    PhotoCalendarModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\r\n            declarations: [_component_photo_calendar_photo_calendar_component__WEBPACK_IMPORTED_MODULE_3__[\"PhotoCalendarComponent\"]],\r\n            imports: [\r\n                _angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"],\r\n            ],\r\n            exports: [_component_photo_calendar_photo_calendar_component__WEBPACK_IMPORTED_MODULE_3__[\"PhotoCalendarComponent\"]]\r\n        })\r\n    ], PhotoCalendarModule);\r\n    return PhotoCalendarModule;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.html\":\r\n/*!****************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/product-template/component/apply-images/apply-images.component.html ***!\r\n  \\****************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<ng-container *ngIf=\\\"mainService.loadedProductData && mainService.loadedProductData.designerProductType\\\">\\n\\t<p class=\\\"pending-images\\\">\\n\\t\\t{{'Total Pending images' | translate}} : {{productTemplateService.pendingImages}}\\n\\t</p>\\n\\t<button *ngIf=\\\"files.length > 0\\\" (click)=\\\"applyImages()\\\" class=\\\"byi-btn byi-btn-xs\\\" type=\\\"button\\\">{{'Apply Images' | translate}}</button>\\n</ng-container>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.scss\":\r\n/*!****************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/product-template/component/apply-images/apply-images.component.scss ***!\r\n  \\****************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9tb2R1bGVzL3Byb2R1Y3QtdGVtcGxhdGUvY29tcG9uZW50L2FwcGx5LWltYWdlcy9hcHBseS1pbWFnZXMuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.ts\":\r\n/*!**************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/product-template/component/apply-images/apply-images.component.ts ***!\r\n  \\**************************************************************************************************/\r\n/*! exports provided: ApplyImagesComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ApplyImagesComponent\", function() { return ApplyImagesComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var _product_template_product_template_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../product-template/product-template.service */ \"./src/app/addons/modules/product-template/component/product-template/product-template.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ApplyImagesComponent = /** @class */ (function () {\r\n    function ApplyImagesComponent(addImageService, canvasService, productTemplateService, eventService, mainService) {\r\n        this.addImageService = addImageService;\r\n        this.canvasService = canvasService;\r\n        this.productTemplateService = productTemplateService;\r\n        this.eventService = eventService;\r\n        this.mainService = mainService;\r\n        this.appliedImagesConter = 0;\r\n    }\r\n    ApplyImagesComponent.prototype.ngOnInit = function () {\r\n        this.getNumberOfPendingImages();\r\n        var self = this;\r\n        this.eventService.$sub('loadProduct', function (object) {\r\n            self.getNumberOfPendingImages();\r\n        });\r\n        this.eventService.$sub('objectAdded', function (object) {\r\n            self.getNumberOfPendingImages();\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (object) {\r\n            self.getNumberOfPendingImages();\r\n        });\r\n    };\r\n    ApplyImagesComponent.prototype.getNumberOfPendingImages = function () {\r\n        this.productTemplateService.pendingImages = 0;\r\n        if (this.mainService.loadedProductData && this.mainService.loadedProductData.designerProductType) {\r\n            for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\r\n                var key = _a[_i];\r\n                if (this.productTemplateService.maskingContainerIndex[key]) {\r\n                    var currentCounter = this.productTemplateService.maskingContainerIndex[key];\r\n                    for (var i = 0; i < currentCounter.length; i++) {\r\n                        if (currentCounter[i] == 0) {\r\n                            this.productTemplateService.pendingImages++;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ApplyImagesComponent.prototype.applyImages = function () {\r\n        var properties = { tab: this.byitab };\r\n        this.addImageAtPath(this.files, properties);\r\n    };\r\n    ApplyImagesComponent.prototype.addImageAtPath = function (files, properties) {\r\n        if (files[this.appliedImagesConter]) {\r\n            var imageURL = files[this.appliedImagesConter].medium_url;\r\n            var self_1 = this;\r\n            var data = this.searchCanvasHavingMask();\r\n            if (data) {\r\n                this.eventService.$pub('changeImageSide', { canvas: data.canvas, index: data.index });\r\n                this.addImageService.addImage(imageURL, properties).then(function (resp) {\r\n                    self_1.appliedImagesConter++;\r\n                    self_1.addImageAtPath(files, properties);\r\n                }).catch(function (err) { return console.log(err); });\r\n            }\r\n        }\r\n        else {\r\n            this.appliedImagesConter = 0;\r\n        }\r\n    };\r\n    ApplyImagesComponent.prototype.searchCanvasHavingMask = function () {\r\n        var index = 0;\r\n        for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            if (this.productTemplateService.maskingContainerIndex[key]) {\r\n                var currentCounter = this.productTemplateService.maskingContainerIndex[key];\r\n                for (var i = 0; i < currentCounter.length; i++) {\r\n                    if (currentCounter[i] == 0) {\r\n                        var data = {\r\n                            canvas: this.canvasService.containerCanvases[key],\r\n                            index: index\r\n                        };\r\n                        return data;\r\n                    }\r\n                }\r\n            }\r\n            index++;\r\n        }\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ApplyImagesComponent.prototype, \"files\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ApplyImagesComponent.prototype, \"byitab\", void 0);\r\n    ApplyImagesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[apply-images]',\r\n            template: __webpack_require__(/*! ./apply-images.component.html */ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.html\"),\r\n            styles: [__webpack_require__(/*! ./apply-images.component.scss */ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_2__[\"AddImageService\"], src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"], _product_template_product_template_service__WEBPACK_IMPORTED_MODULE_5__[\"ProductTemplateService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"]])\r\n    ], ApplyImagesComponent);\r\n    return ApplyImagesComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.html\":\r\n/*!************************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/product-template/component/product-template/product-template.component.html ***!\r\n  \\************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.scss\":\r\n/*!************************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/product-template/component/product-template/product-template.component.scss ***!\r\n  \\************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9tb2R1bGVzL3Byb2R1Y3QtdGVtcGxhdGUvY29tcG9uZW50L3Byb2R1Y3QtdGVtcGxhdGUvcHJvZHVjdC10ZW1wbGF0ZS5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.ts\":\r\n/*!**********************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/product-template/component/product-template/product-template.component.ts ***!\r\n  \\**********************************************************************************************************/\r\n/*! exports provided: ProductTemplateComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductTemplateComponent\", function() { return ProductTemplateComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/fabric.js\");\r\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_3__);\r\n/* harmony import */ var _product_template_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./product-template.service */ \"./src/app/addons/modules/product-template/component/product-template/product-template.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ProductTemplateComponent = /** @class */ (function () {\r\n    function ProductTemplateComponent(eventService, productTemplateService, canvasService, mainService) {\r\n        this.eventService = eventService;\r\n        this.productTemplateService = productTemplateService;\r\n        this.canvasService = canvasService;\r\n        this.mainService = mainService;\r\n        var params = this.mainService.getUrlParams(['imageid']);\r\n        if (!params['imageid']) {\r\n            return;\r\n        }\r\n        var imageid = atob(params['imageid']);\r\n        var param = {\r\n            imageid: imageid\r\n        };\r\n        this.mainService.otherOptions.push(param);\r\n    }\r\n    ProductTemplateComponent.prototype.ngOnInit = function () {\r\n        this.subScribeEvents();\r\n    };\r\n    ProductTemplateComponent.prototype.subScribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('canvasCreated', function (canvas) {\r\n            if (canvas.dim.pathMasking && canvas.dim.mask) {\r\n                _this.applyMasking(canvas);\r\n            }\r\n        });\r\n        this.eventService.$sub('zoomCanvasUpdated', function (canvas) {\r\n            if (canvas.dim.pathMasking && canvas.dim.mask) {\r\n                _this.applyMasking(canvas);\r\n            }\r\n        });\r\n        this.eventService.$sub('objectAddedBefore', function (object) {\r\n            if (_this.mainService.loadedProductData && _this.mainService.loadedProductData.designerProductType) {\r\n                var obj = (object.length > 0) ? object[0] : object;\r\n                if (obj.type == 'image' || obj.type == 'path' || obj.type == 'path-group' || obj.type == 'group') {\r\n                    _this.applyMaskToObject(obj);\r\n                }\r\n            }\r\n        });\r\n        this.eventService.$sub('objectAdded', function (object) {\r\n            if (_this.mainService.loadedProductData && _this.mainService.loadedProductData.designerProductType) {\r\n                var obj = (object.length > 0) ? object[0] : object;\r\n                if (obj.type == 'image' || obj.type == 'path' || obj.type == 'path-group' || obj.type == 'group') {\r\n                    _this.sendObjectToBack(obj);\r\n                }\r\n            }\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (objects) {\r\n            if (_this.mainService.loadedProductData && _this.mainService.loadedProductData.designerProductType) {\r\n                var object = void 0;\r\n                if (Array.isArray(objects)) {\r\n                    object = objects.filter(function (obj) { return obj.type == 'image' || obj.type == 'path' || obj.type == 'path-group' || obj.type == 'group'; });\r\n                }\r\n                else {\r\n                    object = objects;\r\n                }\r\n                _this.removeMaskToObject(object);\r\n            }\r\n        });\r\n    };\r\n    ProductTemplateComponent.prototype.applyMasking = function (canvas) {\r\n        this.setProductImage(canvas);\r\n        var self = this;\r\n        var xml_val = canvas.dim.mask;\r\n        var maskWidth = parseFloat(canvas.dim.maskWidth);\r\n        var maskHeight = parseFloat(canvas.dim.maskHeight);\r\n        var xmlObject = document.createElement('div');\r\n        xmlObject.innerHTML = xml_val;\r\n        var paths = xmlObject.getElementsByTagName(\"path\");\r\n        var currentMaskContainer = self.productTemplateService.maskingContainer['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId];\r\n        if (currentMaskContainer) {\r\n            var len = currentMaskContainer.length;\r\n            for (var _i = 0, currentMaskContainer_1 = currentMaskContainer; _i < currentMaskContainer_1.length; _i++) {\r\n                var path = currentMaskContainer_1[_i];\r\n                this.canvasService.resizeObjectAsPerScale(path);\r\n                canvas.renderAll();\r\n            }\r\n        }\r\n        else {\r\n            self.productTemplateService.maskingContainer['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId] = [];\r\n            self.productTemplateService.maskingContainerIndex['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId] = [];\r\n            var i_1 = 0;\r\n            for (; i_1 < paths.length; i_1++) {\r\n                fabric__WEBPACK_IMPORTED_MODULE_3__[\"fabric\"].Path.fromElement(paths[i_1], function (path) {\r\n                    path.fill = 'rgba(0, 0, 0, 0)';\r\n                    var canvasWidth = canvas.width;\r\n                    var canvasHeight = canvas.height;\r\n                    path.scale(canvasWidth / maskWidth);\r\n                    path.setCoords();\r\n                    var left = (canvasWidth * (path.left)) / maskWidth;\r\n                    var top = (canvasHeight * (path.top)) / maskHeight;\r\n                    path.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_3__[\"fabric\"].Point(left, top), 'left', 'top');\r\n                    var topD = path.top;\r\n                    var leftD = path.left;\r\n                    path.set({\r\n                        clipFor: i_1,\r\n                        top: topD,\r\n                        left: leftD,\r\n                        evented: false,\r\n                        selectable: false,\r\n                        customType: 'mask',\r\n                        objectCaching: false,\r\n                        absolutePositioned: true,\r\n                        customWidth: ((canvasWidth * (path.height)) / maskWidth),\r\n                        customHeight: ((canvasHeight * (path.height)) / maskHeight),\r\n                        scaleFactor: self.canvasService.scaleFactor\r\n                    });\r\n                    /**\r\n                     * Path are stored with design area key\r\n                     */\r\n                    self.productTemplateService.maskingContainer['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId][i_1] = path;\r\n                    /**\r\n                     * Initailize Index key to 0;\r\n                     */\r\n                    self.productTemplateService.maskingContainerIndex['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId][i_1] = 0;\r\n                });\r\n            }\r\n            self.productTemplateService.maskingCounter['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId] = i_1;\r\n        }\r\n    };\r\n    ProductTemplateComponent.prototype.setProductImage = function (canvas) {\r\n        var objects = canvas.getObjects();\r\n        var object = objects.filter(function (obj) { return obj.productimage == true; });\r\n        if (object.length != 0) {\r\n            return;\r\n        }\r\n        var self = this;\r\n        var productImage = canvas.url;\r\n        fabric__WEBPACK_IMPORTED_MODULE_3__[\"fabric\"].Image.fromURL(productImage, function (img) {\r\n            var oImg = img.set({\r\n                evented: false,\r\n                selectable: false,\r\n                productimage: true,\r\n                src: productImage,\r\n                top: 0,\r\n                left: 0,\r\n            }).scale(1 / self.canvasService.scaleFactor);\r\n            canvas.add(oImg).renderAll();\r\n            canvas.sendToBack(oImg);\r\n        });\r\n    };\r\n    ProductTemplateComponent.prototype.applyMaskToObject = function (obj) {\r\n        var self = this;\r\n        var clipPath = this.getClipPath(obj);\r\n        if (clipPath && obj.productimage != true) {\r\n            var scaleVal1 = clipPath.customWidth / (obj.width);\r\n            var scaleVal2 = clipPath.customHeight / (obj.height);\r\n            var scaleVal = Math.max(scaleVal1, scaleVal2);\r\n            obj.set({\r\n                left: clipPath.left,\r\n                top: clipPath.top,\r\n                scaleX: scaleVal,\r\n                scaleY: scaleVal,\r\n                clipPath: clipPath,\r\n                clipName: clipPath.clipFor,\r\n                isCenter: false\r\n            });\r\n            var canvas = self.canvasService.containerCanvases[obj.imageDesignId];\r\n            /*\r\n            We set flag to 1 if object is added to that mask\r\n            */\r\n            this.productTemplateService.maskingContainerIndex[obj.imageDesignId][obj.clipName] = 1;\r\n            this.productTemplateService.pendingImages--;\r\n            /*\r\n            Reposition object with\r\n            */\r\n            this.repositionObj(obj, clipPath, scaleVal);\r\n        }\r\n    };\r\n    ProductTemplateComponent.prototype.sendObjectToBack = function (obj) {\r\n        if (obj.clipPath) {\r\n            var canvas = this.canvasService.containerCanvases[obj.imageDesignId];\r\n            obj.moveTo(-1);\r\n            canvas.sendToBack(obj);\r\n        }\r\n    };\r\n    ProductTemplateComponent.prototype.getClipPath = function (obj) {\r\n        var currentCounter = this.productTemplateService.maskingContainerIndex[obj.imageDesignId];\r\n        for (var i = 0; i < currentCounter.length; i++) {\r\n            if (currentCounter[i] == 0) {\r\n                return this.productTemplateService.maskingContainer[obj.imageDesignId][i];\r\n            }\r\n        }\r\n    };\r\n    ProductTemplateComponent.prototype.removeMaskToObject = function (obj) {\r\n        if (obj.length > 0) {\r\n            for (var i = 0; i < obj.length; i++) {\r\n                if (obj[i].clipPath) {\r\n                    this.productTemplateService.maskingContainerIndex[obj[i].imageDesignId][obj[i].clipName] = 0;\r\n                    this.productTemplateService.pendingImages++;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.productTemplateService.maskingContainerIndex[obj.imageDesignId][obj.clipName] = 0;\r\n            this.productTemplateService.pendingImages++;\r\n        }\r\n    };\r\n    ProductTemplateComponent.prototype.repositionObj = function (obj, clipPath, scaleVal) {\r\n        if (scaleVal != 1) {\r\n            var top_1 = obj.top - (((obj.height * obj.scaleY) - clipPath.customHeight) / 2);\r\n            var left = obj.left - (((obj.width * obj.scaleX) - clipPath.customWidth) / 2);\r\n            obj.set({\r\n                left: left,\r\n                top: top_1\r\n            });\r\n            obj.setCoords();\r\n        }\r\n    };\r\n    ProductTemplateComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[product-template]',\r\n            template: __webpack_require__(/*! ./product-template.component.html */ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.html\"),\r\n            styles: [__webpack_require__(/*! ./product-template.component.scss */ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"], _product_template_service__WEBPACK_IMPORTED_MODULE_4__[\"ProductTemplateService\"], src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_5__[\"CanvasService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_6__[\"MainService\"]])\r\n    ], ProductTemplateComponent);\r\n    return ProductTemplateComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/product-template/component/product-template/product-template.service.ts\":\r\n/*!********************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/product-template/component/product-template/product-template.service.ts ***!\r\n  \\********************************************************************************************************/\r\n/*! exports provided: ProductTemplateService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductTemplateService\", function() { return ProductTemplateService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar ProductTemplateService = /** @class */ (function () {\r\n    function ProductTemplateService() {\r\n        this.maskingContainer = [];\r\n        this.maskingContainerIndex = [];\r\n        this.maskingCounter = [];\r\n        this.pendingImages = 0;\r\n    }\r\n    ProductTemplateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], ProductTemplateService);\r\n    return ProductTemplateService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/product-template/product-template.module.ts\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/product-template/product-template.module.ts ***!\r\n  \\****************************************************************************/\r\n/*! exports provided: HttpLoaderFactory, ProductTemplateModule */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpLoaderFactory\", function() { return HttpLoaderFactory; });\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductTemplateModule\", function() { return ProductTemplateModule; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm5/common.js\");\r\n/* harmony import */ var _component_product_template_product_template_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component/product-template/product-template.component */ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.ts\");\r\n/* harmony import */ var _component_apply_images_apply_images_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./component/apply-images/apply-images.component */ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.ts\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/http-loader */ \"./node_modules/@ngx-translate/http-loader/fesm5/ngx-translate-http-loader.js\");\r\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common/http */ \"./node_modules/@angular/common/fesm5/http.js\");\r\n/* harmony import */ var src_app_addons_modules_photo_calendar_photo_calendar_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/addons/modules/photo-calendar/photo-calendar.module */ \"./src/app/addons/modules/photo-calendar/photo-calendar.module.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction HttpLoaderFactory(httpClient) {\r\n    return new _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_6__[\"TranslateHttpLoader\"](httpClient);\r\n}\r\nvar ProductTemplateModule = /** @class */ (function () {\r\n    function ProductTemplateModule() {\r\n    }\r\n    ProductTemplateModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\r\n            declarations: [_component_product_template_product_template_component__WEBPACK_IMPORTED_MODULE_3__[\"ProductTemplateComponent\"], _component_apply_images_apply_images_component__WEBPACK_IMPORTED_MODULE_4__[\"ApplyImagesComponent\"]],\r\n            imports: [\r\n                _angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"],\r\n                src_app_addons_modules_photo_calendar_photo_calendar_module__WEBPACK_IMPORTED_MODULE_8__[\"PhotoCalendarModule\"],\r\n                _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateModule\"].forRoot({\r\n                    loader: {\r\n                        provide: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateLoader\"],\r\n                        useFactory: HttpLoaderFactory,\r\n                        deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_7__[\"HttpClient\"]]\r\n                    }\r\n                }),\r\n            ],\r\n            exports: [_component_product_template_product_template_component__WEBPACK_IMPORTED_MODULE_3__[\"ProductTemplateComponent\"], _component_apply_images_apply_images_component__WEBPACK_IMPORTED_MODULE_4__[\"ApplyImagesComponent\"]]\r\n        })\r\n    ], ProductTemplateModule);\r\n    return ProductTemplateModule;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.html\":\r\n/*!*********************************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.html ***!\r\n  \\*********************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byi-or-saperator\\\">\\n\\t<span>OR</span>\\n</div>\\n<div class=\\\"byi-social-upload\\\">\\n\\t<ul>\\n\\t\\t<li>\\n\\t\\t\\t<a class=\\\"icon icon-upfacebook\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"loginWithFacebook()\\\">\\n\\t\\t\\t\\t<svg viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-upfacebook\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</a>\\n\\t\\t</li>\\n\\t\\t<li>\\n\\t\\t\\t<a class=\\\"icon icon-upinsta\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"onLoginWithInstagram()\\\">\\n\\t\\t\\t\\t<svg viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-upinsta\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</a>\\n\\t\\t</li>\\n\\t</ul>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.scss\":\r\n/*!*********************************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.scss ***!\r\n  \\*********************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9tb2R1bGVzL3NvY2lhbC1tZWRpYS1pbXBvcnQvY29tcG9uZW50L3NvY2lhbC1tZWRpYS1pbXBvcnQvc29jaWFsLW1lZGlhLWltcG9ydC5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.ts\":\r\n/*!*******************************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.ts ***!\r\n  \\*******************************************************************************************************************/\r\n/*! exports provided: SocialMediaImportComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SocialMediaImportComponent\", function() { return SocialMediaImportComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var ngx_facebook__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-facebook */ \"./node_modules/ngx-facebook/dist/esm/index.js\");\r\n\r\n\r\n\r\n\r\n\r\nvar SocialMediaImportComponent = /** @class */ (function () {\r\n    function SocialMediaImportComponent(mainService, eventService) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n    }\r\n    SocialMediaImportComponent.prototype.ngOnInit = function () {\r\n    };\r\n    SocialMediaImportComponent.prototype.onLoginWithInstagram = function () {\r\n        this.eventService.$pub('onLoginWithInstagram');\r\n    };\r\n    SocialMediaImportComponent.prototype.loginWithFacebook = function () {\r\n        this.eventService.$pub('loginWithFacebook');\r\n    };\r\n    SocialMediaImportComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[social-media-import]',\r\n            template: __webpack_require__(/*! ./social-media-import.component.html */ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.html\"),\r\n            providers: [ngx_facebook__WEBPACK_IMPORTED_MODULE_4__[\"FacebookService\"]],\r\n            styles: [__webpack_require__(/*! ./social-media-import.component.scss */ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"]])\r\n    ], SocialMediaImportComponent);\r\n    return SocialMediaImportComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.html\":\r\n/*!***********************************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.html ***!\r\n  \\***********************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byi-dropdown\\\" *ngIf=\\\"fbAlbums && fbAlbums.length > 0\\\">\\n  <div class=\\\"btn-group\\\" dropdown>\\n     <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n        {{selectedAlbum.name}}<span class=\\\"caret\\\"></span>\\n     </button>\\n     <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n        <li role=\\\"menuitem\\\" *ngFor=\\\"let albumData of fbAlbums\\\"\\n           class=\\\"main-product-category\\\"\\n           [class.selected]=\\\"albumData.id === selectedAlbum.id\\\" (click)=\\\"showalbumImages(albumData.id)\\\">\\n           <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n              {{albumData.name}}</a>\\n        </li>\\n     </ul>\\n  </div>\\n</div>\\n<div class=\\\"byi-upload-list\\\" *ngIf=\\\"fbPhotos && fbPhotos.length > 0\\\">\\n  <ul>\\n    <li *ngFor=\\\"let fbPhoto of fbPhotos; let i = index\\\">\\n      <span>\\n        <img [src]=\\\"fbPhoto.picture\\\" (click)=\\\"addImageService.addImage(fbPhoto.picture)\\\">\\n      </span>\\n    </li>\\n  </ul>\\n</div>\\n<div class=\\\"byi-upload-list\\\" *ngIf=\\\"instaImages && instaImages.length > 0\\\">\\n  <ul>\\n    <li *ngFor=\\\"let instaPhoto of instaImages; let i = index\\\">\\n      <span>\\n        <img [src]=\\\"instaPhoto.orig_url\\\" (click)=\\\"addImageService.addImage(instaPhoto.orig_url)\\\">\\n      </span>\\n    </li>\\n  </ul>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.scss\":\r\n/*!***********************************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.scss ***!\r\n  \\***********************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9tb2R1bGVzL3NvY2lhbC1tZWRpYS1pbXBvcnQvY29tcG9uZW50L3NvY2lhbC1tZWRpYS1saXN0aW5nL3NvY2lhbC1tZWRpYS1saXN0aW5nLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.ts\":\r\n/*!*********************************************************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.ts ***!\r\n  \\*********************************************************************************************************************/\r\n/*! exports provided: SocialMediaListingComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SocialMediaListingComponent\", function() { return SocialMediaListingComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var ngx_facebook__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-facebook */ \"./node_modules/ngx-facebook/dist/esm/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar SocialMediaListingComponent = /** @class */ (function () {\r\n    function SocialMediaListingComponent(FB, mainService, canvasService, eventService, zone, addImageService) {\r\n        var _this = this;\r\n        this.FB = FB;\r\n        this.mainService = mainService;\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.zone = zone;\r\n        this.addImageService = addImageService;\r\n        this.fbAlbums = [];\r\n        this.fbPhotos = [];\r\n        this.instaImages = [];\r\n        window['SocialMediaImportComponent'] = {\r\n            zone: this.zone,\r\n            setInstaMediaData: function (Data) { return _this.setInstaMediaData(Data); },\r\n            component: this\r\n        };\r\n    }\r\n    SocialMediaListingComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        // Create and add script element for load facebook sdk\r\n        var getFacebookSdk = document.getElementById('facebookSdk');\r\n        if (!getFacebookSdk) {\r\n            var script = document.createElement('script');\r\n            script.type = 'text/javascript';\r\n            script.src = 'https://connect.facebook.net/en_US/all.js';\r\n            script.id = 'facebookScript';\r\n            document.getElementsByTagName('head')[0].appendChild(script);\r\n        }\r\n        this.eventService.$sub('loginWithFacebook', function () {\r\n            _this.checkLoginState();\r\n        });\r\n        this.eventService.$sub('onLoginWithInstagram', function () {\r\n            _this.checkLoginWithInstagram();\r\n        });\r\n    };\r\n    SocialMediaListingComponent.prototype.ngAfterViewInit = function () {\r\n        this.initFacebook();\r\n    };\r\n    SocialMediaListingComponent.prototype.initFacebook = function () {\r\n        var _this = this;\r\n        var configPaths = ['productdesigner/social_media_upload/facebook_appid',\r\n            'productdesigner/social_media_upload/instagram_clientid'];\r\n        // prepare url and payload\r\n        var url = 'productdesigner/Index/getConfiguration', params = { configPaths: configPaths, key: 'social-media-import' }, cacheKey = 'configuration-social-media-import' + this.mainService.baseUrl;\r\n        // hit post request\r\n        this.mainService.getData(url, params, cacheKey).then(function (resp) {\r\n            _this.instagram_url = _this.mainService.baseUrl + 'socialmediaimport/index/resInstagram';\r\n            _this.instaid = resp[1];\r\n            var initParams = {\r\n                appId: resp[0],\r\n                xfbml: true,\r\n                version: 'v2.8'\r\n            };\r\n            _this.FB.init(initParams);\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    SocialMediaListingComponent.prototype.checkLoginWithInstagram = function () {\r\n        var url = 'https://api.instagram.com/oauth/authorize/?client_id=' + this.instaid + '&redirect_uri=' + this.instagram_url + '&response_type=code&scope=basic';\r\n        this.instawindow = window.open(url, 'instagram', 'height=500,width=600');\r\n    };\r\n    SocialMediaListingComponent.prototype.setInstaMediaData = function (data) {\r\n        var imageData;\r\n        this.instawindow.close();\r\n        this.instaImages = [];\r\n        for (var i = 0; i < data.images.length; i++) {\r\n            imageData = {};\r\n            imageData.orig_url = data.images[i];\r\n            this.instaImages.push(imageData);\r\n        }\r\n    };\r\n    SocialMediaListingComponent.prototype.checkLoginState = function () {\r\n        var _this = this;\r\n        this.FB.getLoginStatus().then(function (response) { return _this.statusChangeCallback(response); });\r\n    };\r\n    SocialMediaListingComponent.prototype.statusChangeCallback = function (response) {\r\n        if (response.status === 'connected') {\r\n            this.getFbAlbums();\r\n        }\r\n        else {\r\n            this.fbLogin();\r\n        }\r\n    };\r\n    SocialMediaListingComponent.prototype.fbLogin = function () {\r\n        var _this = this;\r\n        this.FB.login({ scope: 'user_photos' }).\r\n            then(function (response) {\r\n            if (response.status === 'connected') {\r\n                _this.getFbAlbums();\r\n            }\r\n        });\r\n    };\r\n    SocialMediaListingComponent.prototype.setAlbum = function (resp) {\r\n        var _this = this;\r\n        if (resp && !resp.error) {\r\n            this.fbAlbums = [];\r\n            for (var i = 0; i < resp.data.length; i++) {\r\n                var albumId = resp.data[i].id;\r\n                this.FB.api('/' + albumId + '?fields=picture,name')\r\n                    .then(function (response) {\r\n                    _this.fbAlbums.push(response);\r\n                    _this.selectedAlbum = _this.fbAlbums[0];\r\n                    _this.showalbumImages(_this.selectedAlbum.id);\r\n                })\r\n                    .catch(function (e) { return console.log(e); });\r\n            }\r\n        }\r\n    };\r\n    SocialMediaListingComponent.prototype.getFbAlbums = function () {\r\n        var _this = this;\r\n        this.FB.api('/me').then(function (res) {\r\n            return _this.FB.api('/' + res.id + '/albums').then(function (resp) { return _this.setAlbum(resp); })\r\n                .catch(function (e) { return console.log(e); });\r\n        }).catch(function (e) { return console.log(e); });\r\n    };\r\n    SocialMediaListingComponent.prototype.setFbAlbumPhotos = function (res) {\r\n        var _this = this;\r\n        var url = 'socialmediaimport/Index/downloadAlbum', param = { data: res };\r\n        this.mainService.post(url, param, true).then(function (resp) {\r\n            // let data = JSON.parse(resp);\r\n            _this.setFBAlbumsPhotos(resp);\r\n        });\r\n    };\r\n    SocialMediaListingComponent.prototype.showalbumImages = function (id) {\r\n        var _this = this;\r\n        this.FB.api('/' + id + '/photos?fields=picture,source').then(function (res) {\r\n            return _this.setFbAlbumPhotos(res);\r\n        }).catch(function (e) { return console.log(e); });\r\n    };\r\n    SocialMediaListingComponent.prototype.setFBAlbumsPhotos = function (data) {\r\n        var imageData;\r\n        for (var i = 0; i < data.images.length; i++) {\r\n            imageData = {};\r\n            imageData.picture = data.images[i];\r\n            this.fbPhotos.push(imageData);\r\n        }\r\n    };\r\n    SocialMediaListingComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: '[social-media-listing]',\r\n            template: __webpack_require__(/*! ./social-media-listing.component.html */ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.html\"),\r\n            providers: [ngx_facebook__WEBPACK_IMPORTED_MODULE_6__[\"FacebookService\"]],\r\n            styles: [__webpack_require__(/*! ./social-media-listing.component.scss */ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ngx_facebook__WEBPACK_IMPORTED_MODULE_6__[\"FacebookService\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"NgZone\"],\r\n            src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_1__[\"AddImageService\"]])\r\n    ], SocialMediaListingComponent);\r\n    return SocialMediaListingComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/addons/modules/social-media-import/social-media-import.module.ts\":\r\n/*!**********************************************************************************!*\\\r\n  !*** ./src/app/addons/modules/social-media-import/social-media-import.module.ts ***!\r\n  \\**********************************************************************************/\r\n/*! exports provided: SocialMediaImportModule */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SocialMediaImportModule\", function() { return SocialMediaImportModule; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm5/common.js\");\r\n/* harmony import */ var _component_social_media_import_social_media_import_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component/social-media-import/social-media-import.component */ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.ts\");\r\n/* harmony import */ var ngx_facebook__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-facebook */ \"./node_modules/ngx-facebook/dist/esm/index.js\");\r\n/* harmony import */ var _component_social_media_listing_social_media_listing_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./component/social-media-listing/social-media-listing.component */ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar SocialMediaImportModule = /** @class */ (function () {\r\n    function SocialMediaImportModule() {\r\n    }\r\n    SocialMediaImportModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\r\n            declarations: [_component_social_media_import_social_media_import_component__WEBPACK_IMPORTED_MODULE_3__[\"SocialMediaImportComponent\"], _component_social_media_listing_social_media_listing_component__WEBPACK_IMPORTED_MODULE_5__[\"SocialMediaListingComponent\"]],\r\n            imports: [\r\n                _angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"],\r\n                ngx_facebook__WEBPACK_IMPORTED_MODULE_4__[\"FacebookModule\"].forRoot()\r\n            ],\r\n            exports: [_component_social_media_import_social_media_import_component__WEBPACK_IMPORTED_MODULE_3__[\"SocialMediaImportComponent\"], _component_social_media_listing_social_media_listing_component__WEBPACK_IMPORTED_MODULE_5__[\"SocialMediaListingComponent\"]]\r\n        })\r\n    ], SocialMediaImportModule);\r\n    return SocialMediaImportModule;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/app.component.html\":\r\n/*!************************************!*\\\r\n  !*** ./src/app/app.component.html ***!\r\n  \\************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div loader #loaderComponent></div>\\n<div class=\\\"byi-wrap\\\" (contextmenu)=\\\"rightClickEventCheck($event)\\\">\\n\\t<div name-number *ngIf=\\\"designService.mainService.nameNumber || designService.mainService.isGenerateSVGDesign\\\" [loadContent]=\\\"'adminNameNumber'\\\"></div>\\n    <header [hidden]=\\\"designService.mainService.nameNumber || designService.mainService.isGenerateSVGDesign\\\"></header>\\n    <div class=\\\"generate-image-block\\\" *ngIf=\\\"designService.mainService.isGenerateSVGDesign\\\">\\n         <button class=\\\"generate-image-btn\\\" (click)=\\\"designService.generateSVGDesign()\\\">Generate Image</button>\\n    </div>\\n    <div product-template></div>\\n    <div class=\\\"byi-designboard\\\">\\n     <tabs [hidden]=\\\"designService.mainService.nameNumber || designService.mainService.isGenerateSVGDesign\\\"></tabs>\\n     <design-area></design-area>\\n     <right-panel [hidden]=\\\"designService.mainService.nameNumber || designService.mainService.isGenerateSVGDesign\\\"></right-panel>\\n </div>\\n <translate></translate>\\n <footer [hidden]=\\\"designService.mainService.nameNumber || designService.mainService.isGenerateSVGDesign\\\"></footer>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/app.component.scss\":\r\n/*!************************************!*\\\r\n  !*** ./src/app/app.component.scss ***!\r\n  \\************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/app.component.ts\":\r\n/*!**********************************!*\\\r\n  !*** ./src/app/app.component.ts ***!\r\n  \\**********************************/\r\n/*! exports provided: AppComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AppComponent\", function() { return AppComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _services_design_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/design.service */ \"./src/app/services/design.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _services_canvas_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_6__);\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar AppComponent = /** @class */ (function () {\r\n    function AppComponent(designService, eventService, canvasService, translate) {\r\n        this.designService = designService;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.translate = translate;\r\n        this.title = 'basic';\r\n        this.data = [];\r\n        this.checkLandscape();\r\n    }\r\n    AppComponent.prototype.checkLandscape = function () {\r\n        var activeDom = document.activeElement.tagName;\r\n        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) && window.matchMedia(\"(orientation: landscape)\").matches && activeDom != 'INPUT') {\r\n            sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.fire({\r\n                customClass: 'potrait-mode-popup',\r\n                title: this.translate.instant(\"Alert\"),\r\n                text: this.translate.instant(\"Please select Portrait Mode to see Product Designer Tool in action.\"),\r\n                showConfirmButton: false,\r\n                allowOutsideClick: false\r\n            });\r\n            return;\r\n        }\r\n        else {\r\n            sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.close();\r\n        }\r\n    };\r\n    AppComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.subscribeEvents();\r\n        this.getColors();\r\n        this.eventService.$sub('windowResize', function () {\r\n            _this.checkLandscape();\r\n        });\r\n    };\r\n    AppComponent.prototype.getColors = function () {\r\n        var _this = this;\r\n        var params = {}, url = 'productdesigner/index/getColor', cacheKey = 'getColors' + this.designService.mainService.baseUrl;\r\n        this.designService.mainService.getData(url, params, cacheKey).then(function (colorData) {\r\n            _this.designService.mainService.colorData = colorData;\r\n            _this.eventService.$pub('getColors', (colorData));\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    AppComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        // Subscribe product zoom\r\n        this.eventService.$sub('showMainLoader', function () {\r\n            _this.loaderComponent.showMainLoader = true;\r\n        });\r\n        // Subscribe product zoom\r\n        this.eventService.$sub('hideMainLoader', function () {\r\n            _this.loaderComponent.showMainLoader = false;\r\n        });\r\n    };\r\n    AppComponent.prototype.rightClickEventCheck = function (event) {\r\n        return false;\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\r\n    ], AppComponent.prototype, \"loaderComponent\", void 0);\r\n    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: 'app-root',\r\n            template: __webpack_require__(/*! ./app.component.html */ \"./src/app/app.component.html\"),\r\n            styles: [__webpack_require__(/*! ./app.component.scss */ \"./src/app/app.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_services_design_service__WEBPACK_IMPORTED_MODULE_3__[\"DesignService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"], _services_canvas_service__WEBPACK_IMPORTED_MODULE_5__[\"CanvasService\"], _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__[\"TranslateService\"]])\r\n    ], AppComponent);\r\n    return AppComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/app.module.ts\":\r\n/*!*******************************!*\\\r\n  !*** ./src/app/app.module.ts ***!\r\n  \\*******************************/\r\n/*! exports provided: HttpLoaderFactory, AppModule */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpLoaderFactory\", function() { return HttpLoaderFactory; });\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AppModule\", function() { return AppModule; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ \"./node_modules/@angular/platform-browser/fesm5/platform-browser.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-bootstrap/tooltip */ \"./node_modules/ngx-bootstrap/tooltip/fesm5/ngx-bootstrap-tooltip.js\");\r\n/* harmony import */ var ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-bootstrap/modal */ \"./node_modules/ngx-bootstrap/modal/fesm5/ngx-bootstrap-modal.js\");\r\n/* harmony import */ var ngx_bootstrap_dropdown__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-bootstrap/dropdown */ \"./node_modules/ngx-bootstrap/dropdown/fesm5/ngx-bootstrap-dropdown.js\");\r\n/* harmony import */ var ngx_bootstrap_accordion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-bootstrap/accordion */ \"./node_modules/ngx-bootstrap/accordion/fesm5/ngx-bootstrap-accordion.js\");\r\n/* harmony import */ var node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! node_modules/@angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\r\n/* harmony import */ var ngx_bootstrap_tabs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-bootstrap/tabs */ \"./node_modules/ngx-bootstrap/tabs/fesm5/ngx-bootstrap-tabs.js\");\r\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common/http */ \"./node_modules/@angular/common/fesm5/http.js\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ngx-translate/http-loader */ \"./node_modules/@ngx-translate/http-loader/fesm5/ngx-translate-http-loader.js\");\r\n/* harmony import */ var ng_recaptcha__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ng-recaptcha */ \"./node_modules/ng-recaptcha/index.js\");\r\n/* harmony import */ var ng_recaptcha__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(ng_recaptcha__WEBPACK_IMPORTED_MODULE_13__);\r\n/* harmony import */ var _ngu_carousel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ngu/carousel */ \"./node_modules/@ngu/carousel/fesm5/ngu-carousel.js\");\r\n/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./app.component */ \"./src/app/app.component.ts\");\r\n/* harmony import */ var _essentials_components_header_header_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./essentials/components/header/header.component */ \"./src/app/essentials/components/header/header.component.ts\");\r\n/* harmony import */ var _essentials_components_products_products_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./essentials/components/products/products.component */ \"./src/app/essentials/components/products/products.component.ts\");\r\n/* harmony import */ var _essentials_components_preview_preview_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./essentials/components/preview/preview.component */ \"./src/app/essentials/components/preview/preview.component.ts\");\r\n/* harmony import */ var _essentials_components_save_design_save_design_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./essentials/components/save-design/save-design.component */ \"./src/app/essentials/components/save-design/save-design.component.ts\");\r\n/* harmony import */ var _essentials_components_download_download_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./essentials/components/download/download.component */ \"./src/app/essentials/components/download/download.component.ts\");\r\n/* harmony import */ var _common_components_customer_login_customer_login_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./common/components/customer-login/customer-login.component */ \"./src/app/common/components/customer-login/customer-login.component.ts\");\r\n/* harmony import */ var _essentials_components_tabs_tabs_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./essentials/components/tabs/tabs.component */ \"./src/app/essentials/components/tabs/tabs.component.ts\");\r\n/* harmony import */ var _essentials_components_footer_footer_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./essentials/components/footer/footer.component */ \"./src/app/essentials/components/footer/footer.component.ts\");\r\n/* harmony import */ var _essentials_components_design_area_design_area_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./essentials/components/design-area/design-area.component */ \"./src/app/essentials/components/design-area/design-area.component.ts\");\r\n/* harmony import */ var _essentials_components_image_sides_image_sides_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./essentials/components/image-sides/image-sides.component */ \"./src/app/essentials/components/image-sides/image-sides.component.ts\");\r\n/* harmony import */ var _essentials_components_cropper_cropper_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./essentials/components/cropper/cropper.component */ \"./src/app/essentials/components/cropper/cropper.component.ts\");\r\n/* harmony import */ var _essentials_components_clipart_clipart_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./essentials/components/clipart/clipart.component */ \"./src/app/essentials/components/clipart/clipart.component.ts\");\r\n/* harmony import */ var _essentials_components_plain_text_plain_text_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./essentials/components/plain-text/plain-text.component */ \"./src/app/essentials/components/plain-text/plain-text.component.ts\");\r\n/* harmony import */ var _essentials_components_image_upload_image_upload_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./essentials/components/image-upload/image-upload.component */ \"./src/app/essentials/components/image-upload/image-upload.component.ts\");\r\n/* harmony import */ var _essentials_components_background_color_background_color_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./essentials/components/background-color/background-color.component */ \"./src/app/essentials/components/background-color/background-color.component.ts\");\r\n/* harmony import */ var _essentials_components_product_options_product_options_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./essentials/components/product-options/product-options.component */ \"./src/app/essentials/components/product-options/product-options.component.ts\");\r\n/* harmony import */ var _essentials_components_font_font_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./essentials/components/font/font.component */ \"./src/app/essentials/components/font/font.component.ts\");\r\n/* harmony import */ var _essentials_components_right_panel_right_panel_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./essentials/components/right-panel/right-panel.component */ \"./src/app/essentials/components/right-panel/right-panel.component.ts\");\r\n/* harmony import */ var _essentials_components_common_tabs_common_tabs_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./essentials/components/common-tabs/common-tabs.component */ \"./src/app/essentials/components/common-tabs/common-tabs.component.ts\");\r\n/* harmony import */ var _common_components_image_effects_image_effects_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./common/components/image-effects/image-effects.component */ \"./src/app/common/components/image-effects/image-effects.component.ts\");\r\n/* harmony import */ var _essentials_components_my_designs_my_designs_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./essentials/components/my-designs/my-designs.component */ \"./src/app/essentials/components/my-designs/my-designs.component.ts\");\r\n/* harmony import */ var _premium_components_opacity_opacity_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./premium/components/opacity/opacity.component */ \"./src/app/premium/components/opacity/opacity.component.ts\");\r\n/* harmony import */ var _essentials_components_drop_shadow_drop_shadow_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./essentials/components/drop-shadow/drop-shadow.component */ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.ts\");\r\n/* harmony import */ var _essentials_components_designarea_controls_designarea_controls_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./essentials/components/designarea-controls/designarea-controls.component */ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.ts\");\r\n/* harmony import */ var _essentials_components_stroke_stroke_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./essentials/components/stroke/stroke.component */ \"./src/app/essentials/components/stroke/stroke.component.ts\");\r\n/* harmony import */ var _essentials_components_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./essentials/components/tooltip/tooltip.component */ \"./src/app/essentials/components/tooltip/tooltip.component.ts\");\r\n/* harmony import */ var _essentials_components_skew_skew_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./essentials/components/skew/skew.component */ \"./src/app/essentials/components/skew/skew.component.ts\");\r\n/* harmony import */ var _essentials_components_layer_management_layer_management_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./essentials/components/layer-management/layer-management.component */ \"./src/app/essentials/components/layer-management/layer-management.component.ts\");\r\n/* harmony import */ var _essentials_components_cart_cart_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./essentials/components/cart/cart.component */ \"./src/app/essentials/components/cart/cart.component.ts\");\r\n/* harmony import */ var _essentials_components_context_menu_context_menu_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./essentials/components/context-menu/context-menu.component */ \"./src/app/essentials/components/context-menu/context-menu.component.ts\");\r\n/* harmony import */ var _essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var _essentials_components_conf_product_attr_conf_product_attr_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./essentials/components/conf-product-attr/conf-product-attr.component */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.ts\");\r\n/* harmony import */ var _essentials_components_translate_translate_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./essentials/components/translate/translate.component */ \"./src/app/essentials/components/translate/translate.component.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var _essentials_components_object_position_object_position_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./essentials/components/object-position/object-position.component */ \"./src/app/essentials/components/object-position/object-position.component.ts\");\r\n/* harmony import */ var _essentials_components_custom_options_custom_options_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./essentials/components/custom-options/custom-options.component */ \"./src/app/essentials/components/custom-options/custom-options.component.ts\");\r\n/* harmony import */ var _essentials_components_price_price_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./essentials/components/price/price.component */ \"./src/app/essentials/components/price/price.component.ts\");\r\n/* harmony import */ var ngx_filesaver__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ngx-filesaver */ \"./node_modules/ngx-filesaver/fesm5/ngx-filesaver.js\");\r\n/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! @angular/platform-browser/animations */ \"./node_modules/@angular/platform-browser/fesm5/animations.js\");\r\n/* harmony import */ var _premium_components_object_alignment_position_object_alignment_position_component__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./premium/components/object-alignment-position/object-alignment-position.component */ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.ts\");\r\n/* harmony import */ var _addons_components_object_lock_object_lock_component__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./addons/components/object-lock/object-lock.component */ \"./src/app/addons/components/object-lock/object-lock.component.ts\");\r\n/* harmony import */ var _common_modules_custom_color_picker_custom_color_picker_module__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./common/modules/custom-color-picker/custom-color-picker.module */ \"./src/app/common/modules/custom-color-picker/custom-color-picker.module.ts\");\r\n/* harmony import */ var _premium_modules_social_media_sharing_social_media_sharing_module__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./premium/modules/social-media-sharing/social-media-sharing.module */ \"./src/app/premium/modules/social-media-sharing/social-media-sharing.module.ts\");\r\n/* harmony import */ var _addons_modules_social_media_import_social_media_import_module__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./addons/modules/social-media-import/social-media-import.module */ \"./src/app/addons/modules/social-media-import/social-media-import.module.ts\");\r\n/* harmony import */ var _essentials_components_placeholder_loader_placeholder_loader_component__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./essentials/components/placeholder-loader/placeholder-loader.component */ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.ts\");\r\n/* harmony import */ var ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ngx-infinite-scroll */ \"./node_modules/ngx-infinite-scroll/modules/ngx-infinite-scroll.es5.js\");\r\n/* harmony import */ var _premium_components_design_templates_design_templates_component__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./premium/components/design-templates/design-templates.component */ \"./src/app/premium/components/design-templates/design-templates.component.ts\");\r\n/* harmony import */ var _addons_components_printing_methods_printing_methods_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./addons/components/printing-methods/printing-methods.component */ \"./src/app/addons/components/printing-methods/printing-methods.component.ts\");\r\n/* harmony import */ var _premium_components_name_number_name_number_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./premium/components/name-number/name-number.component */ \"./src/app/premium/components/name-number/name-number.component.ts\");\r\n/* harmony import */ var _premium_components_distribute_vertical_horizontal_alignment_distribute_vertical_horizontal_alignment_component__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component */ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.ts\");\r\n/* harmony import */ var _premium_components_object_grouping_object_grouping_component__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./premium/components/object-grouping/object-grouping.component */ \"./src/app/premium/components/object-grouping/object-grouping.component.ts\");\r\n/* harmony import */ var _addons_modules_product_template_product_template_module__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./addons/modules/product-template/product-template.module */ \"./src/app/addons/modules/product-template/product-template.module.ts\");\r\n/* harmony import */ var _demostore_product_demo_product_demo_component__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./demostore/product-demo/product-demo.component */ \"./src/app/demostore/product-demo/product-demo.component.ts\");\r\n/* harmony import */ var _addons_components_three_d_preview_three_d_preview_component__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./addons/components/three-d-preview/three-d-preview.component */ \"./src/app/addons/components/three-d-preview/three-d-preview.component.ts\");\r\n/* harmony import */ var _premium_components_drag_drop_drag_drop_component__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./premium/components/drag-drop/drag-drop.component */ \"./src/app/premium/components/drag-drop/drag-drop.component.ts\");\r\n/* harmony import */ var _premium_components_background_patterns_background_patterns_component__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./premium/components/background-patterns/background-patterns.component */ \"./src/app/premium/components/background-patterns/background-patterns.component.ts\");\r\n/* harmony import */ var _premium_components_background_pattern_controls_background_pattern_controls_component__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./premium/components/background-pattern-controls/background-pattern-controls.component */ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.ts\");\r\n/* harmony import */ var _premium_components_image_slider_image_slider_component__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./premium/components/image-slider/image-slider.component */ \"./src/app/premium/components/image-slider/image-slider.component.ts\");\r\n/* harmony import */ var _premium_components_price_info_price_info_component__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./premium/components/price-info/price-info.component */ \"./src/app/premium/components/price-info/price-info.component.ts\");\r\n\r\n/* Modules */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* Components */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* Services */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction HttpLoaderFactory(httpClient) {\r\n    return new _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_12__[\"TranslateHttpLoader\"](httpClient);\r\n}\r\nvar AppModule = /** @class */ (function () {\r\n    function AppModule() {\r\n    }\r\n    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"NgModule\"])({\r\n            declarations: [\r\n                _app_component__WEBPACK_IMPORTED_MODULE_15__[\"AppComponent\"],\r\n                _essentials_components_header_header_component__WEBPACK_IMPORTED_MODULE_16__[\"HeaderComponent\"],\r\n                _essentials_components_products_products_component__WEBPACK_IMPORTED_MODULE_17__[\"ProductsComponent\"],\r\n                _essentials_components_preview_preview_component__WEBPACK_IMPORTED_MODULE_18__[\"PreviewComponent\"],\r\n                _essentials_components_save_design_save_design_component__WEBPACK_IMPORTED_MODULE_19__[\"SaveDesignComponent\"],\r\n                _essentials_components_download_download_component__WEBPACK_IMPORTED_MODULE_20__[\"DownloadComponent\"],\r\n                _common_components_customer_login_customer_login_component__WEBPACK_IMPORTED_MODULE_21__[\"CustomerLoginComponent\"],\r\n                _essentials_components_tabs_tabs_component__WEBPACK_IMPORTED_MODULE_22__[\"TabsComponent\"],\r\n                _essentials_components_footer_footer_component__WEBPACK_IMPORTED_MODULE_23__[\"FooterComponent\"],\r\n                _essentials_components_design_area_design_area_component__WEBPACK_IMPORTED_MODULE_24__[\"DesignAreaComponent\"],\r\n                _essentials_components_image_sides_image_sides_component__WEBPACK_IMPORTED_MODULE_25__[\"ImageSidesComponent\"],\r\n                _essentials_components_clipart_clipart_component__WEBPACK_IMPORTED_MODULE_27__[\"ClipartComponent\"],\r\n                _essentials_components_plain_text_plain_text_component__WEBPACK_IMPORTED_MODULE_28__[\"PlainTextComponent\"],\r\n                _essentials_components_image_upload_image_upload_component__WEBPACK_IMPORTED_MODULE_29__[\"ImageUploadComponent\"],\r\n                _essentials_components_background_color_background_color_component__WEBPACK_IMPORTED_MODULE_30__[\"BackgroundColorComponent\"],\r\n                _essentials_components_product_options_product_options_component__WEBPACK_IMPORTED_MODULE_31__[\"ProductOptionsComponent\"],\r\n                _essentials_components_font_font_component__WEBPACK_IMPORTED_MODULE_32__[\"FontComponent\"],\r\n                _essentials_components_right_panel_right_panel_component__WEBPACK_IMPORTED_MODULE_33__[\"RightPanelComponent\"],\r\n                _essentials_components_common_tabs_common_tabs_component__WEBPACK_IMPORTED_MODULE_34__[\"CommonTabsComponent\"],\r\n                _common_components_image_effects_image_effects_component__WEBPACK_IMPORTED_MODULE_35__[\"ImageEffectsComponent\"],\r\n                _essentials_components_my_designs_my_designs_component__WEBPACK_IMPORTED_MODULE_36__[\"MyDesignsComponent\"],\r\n                _premium_components_opacity_opacity_component__WEBPACK_IMPORTED_MODULE_37__[\"OpacityComponent\"],\r\n                _essentials_components_drop_shadow_drop_shadow_component__WEBPACK_IMPORTED_MODULE_38__[\"DropShadowComponent\"],\r\n                _essentials_components_designarea_controls_designarea_controls_component__WEBPACK_IMPORTED_MODULE_39__[\"DesignareaControlsComponent\"],\r\n                _essentials_components_stroke_stroke_component__WEBPACK_IMPORTED_MODULE_40__[\"StrokeComponent\"],\r\n                _essentials_components_cropper_cropper_component__WEBPACK_IMPORTED_MODULE_26__[\"CropperComponent\"],\r\n                _essentials_components_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_41__[\"TooltipComponent\"],\r\n                _essentials_components_skew_skew_component__WEBPACK_IMPORTED_MODULE_42__[\"SkewComponent\"],\r\n                _essentials_components_layer_management_layer_management_component__WEBPACK_IMPORTED_MODULE_43__[\"LayerManagementComponent\"],\r\n                _essentials_components_cart_cart_component__WEBPACK_IMPORTED_MODULE_44__[\"CartComponent\"],\r\n                _essentials_components_context_menu_context_menu_component__WEBPACK_IMPORTED_MODULE_45__[\"ContextMenuComponent\"],\r\n                _essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_46__[\"LoaderComponent\"],\r\n                _essentials_components_object_position_object_position_component__WEBPACK_IMPORTED_MODULE_50__[\"ObjectPositionComponent\"],\r\n                _essentials_components_custom_options_custom_options_component__WEBPACK_IMPORTED_MODULE_51__[\"CustomOptionsComponent\"],\r\n                _essentials_components_conf_product_attr_conf_product_attr_component__WEBPACK_IMPORTED_MODULE_47__[\"ConfProductAttrComponent\"],\r\n                _essentials_components_price_price_component__WEBPACK_IMPORTED_MODULE_52__[\"PriceComponent\"],\r\n                _essentials_components_translate_translate_component__WEBPACK_IMPORTED_MODULE_48__[\"TranslateComponent\"],\r\n                _addons_components_object_lock_object_lock_component__WEBPACK_IMPORTED_MODULE_56__[\"ObjectLockComponent\"],\r\n                _premium_components_object_alignment_position_object_alignment_position_component__WEBPACK_IMPORTED_MODULE_55__[\"ObjectAlignmentPositionComponent\"],\r\n                _essentials_components_placeholder_loader_placeholder_loader_component__WEBPACK_IMPORTED_MODULE_60__[\"PlaceholderLoaderComponent\"],\r\n                _premium_components_design_templates_design_templates_component__WEBPACK_IMPORTED_MODULE_62__[\"DesignTemplatesComponent\"],\r\n                _addons_components_printing_methods_printing_methods_component__WEBPACK_IMPORTED_MODULE_63__[\"PrintingMethodsComponent\"],\r\n                _premium_components_name_number_name_number_component__WEBPACK_IMPORTED_MODULE_64__[\"NameNumberComponent\"],\r\n                _premium_components_distribute_vertical_horizontal_alignment_distribute_vertical_horizontal_alignment_component__WEBPACK_IMPORTED_MODULE_65__[\"DistributeVerticalHorizontalAlignmentComponent\"],\r\n                _premium_components_object_grouping_object_grouping_component__WEBPACK_IMPORTED_MODULE_66__[\"ObjectGroupingComponent\"],\r\n                _demostore_product_demo_product_demo_component__WEBPACK_IMPORTED_MODULE_68__[\"ProductDemoComponent\"],\r\n                _addons_components_three_d_preview_three_d_preview_component__WEBPACK_IMPORTED_MODULE_69__[\"ThreeDPreviewComponent\"],\r\n                _premium_components_drag_drop_drag_drop_component__WEBPACK_IMPORTED_MODULE_70__[\"DragDropComponent\"],\r\n                _premium_components_background_patterns_background_patterns_component__WEBPACK_IMPORTED_MODULE_71__[\"BackgroundPatternsComponent\"],\r\n                _premium_components_background_pattern_controls_background_pattern_controls_component__WEBPACK_IMPORTED_MODULE_72__[\"BackgroundPatternControlsComponent\"],\r\n                _premium_components_image_slider_image_slider_component__WEBPACK_IMPORTED_MODULE_73__[\"ImageSliderComponent\"],\r\n                _premium_components_price_info_price_info_component__WEBPACK_IMPORTED_MODULE_74__[\"PriceInfoComponent\"]\r\n            ],\r\n            imports: [\r\n                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__[\"BrowserModule\"],\r\n                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_54__[\"BrowserAnimationsModule\"],\r\n                _ngu_carousel__WEBPACK_IMPORTED_MODULE_14__[\"NguCarouselModule\"],\r\n                ngx_bootstrap_tabs__WEBPACK_IMPORTED_MODULE_9__[\"TabsModule\"].forRoot(),\r\n                angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubModule\"].forRoot(),\r\n                node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_8__[\"FormsModule\"],\r\n                node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_8__[\"ReactiveFormsModule\"],\r\n                ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_4__[\"TooltipModule\"].forRoot(),\r\n                ngx_bootstrap_dropdown__WEBPACK_IMPORTED_MODULE_6__[\"BsDropdownModule\"].forRoot(),\r\n                ngx_bootstrap_accordion__WEBPACK_IMPORTED_MODULE_7__[\"AccordionModule\"].forRoot(),\r\n                ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_5__[\"ModalModule\"].forRoot(),\r\n                _angular_common_http__WEBPACK_IMPORTED_MODULE_10__[\"HttpClientModule\"],\r\n                _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__[\"TranslateModule\"].forRoot({\r\n                    loader: {\r\n                        provide: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__[\"TranslateLoader\"],\r\n                        useFactory: HttpLoaderFactory,\r\n                        deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_10__[\"HttpClient\"]]\r\n                    }\r\n                }),\r\n                ngx_filesaver__WEBPACK_IMPORTED_MODULE_53__[\"FileSaverModule\"],\r\n                _common_modules_custom_color_picker_custom_color_picker_module__WEBPACK_IMPORTED_MODULE_57__[\"CustomColorPickerModule\"],\r\n                _premium_modules_social_media_sharing_social_media_sharing_module__WEBPACK_IMPORTED_MODULE_58__[\"SocialMediaSharingModule\"],\r\n                _addons_modules_social_media_import_social_media_import_module__WEBPACK_IMPORTED_MODULE_59__[\"SocialMediaImportModule\"],\r\n                ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_61__[\"InfiniteScrollModule\"],\r\n                _addons_modules_product_template_product_template_module__WEBPACK_IMPORTED_MODULE_67__[\"ProductTemplateModule\"],\r\n                ng_recaptcha__WEBPACK_IMPORTED_MODULE_13__[\"RecaptchaModule\"]\r\n            ],\r\n            providers: [\r\n                ng2_cache__WEBPACK_IMPORTED_MODULE_49__[\"CacheService\"],\r\n                { provide: ng2_cache__WEBPACK_IMPORTED_MODULE_49__[\"CacheStorageAbstract\"], useClass: ng2_cache__WEBPACK_IMPORTED_MODULE_49__[\"CacheLocalStorage\"] }\r\n            ],\r\n            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_15__[\"AppComponent\"]]\r\n        })\r\n    ], AppModule);\r\n    return AppModule;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/common/components/customer-login/customer-login.component.html\":\r\n/*!********************************************************************************!*\\\r\n  !*** ./src/app/common/components/customer-login/customer-login.component.html ***!\r\n  \\********************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<button *ngIf=\\\"mainService.isAdmin == false\\\" (click)=\\\"openModal()\\\" class=\\\"byiu-right-icon\\\"\\n  [class.byiu-logout-icon]=\\\"mainService.userLoggedIn === true\\\" type=\\\"button\\\"\\n  tooltip=\\\"{{(mainService.userLoggedIn === true) ? 'Logout' : 'Customer Login' | translate}}\\\" placement=\\\"bottom\\\">\\n  <svg class=\\\"icon icon-user\\\" *ngIf=\\\"mainService.userLoggedIn === false\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-user\\\"></use>\\n  </svg>\\n  <svg class=\\\"icon icon-logout\\\" *ngIf=\\\"mainService.userLoggedIn === true\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-logout\\\"></use>\\n  </svg>\\n</button>\\n\\n<!-- Login Form Modal -->\\n<ng-template #loginModal>\\n  <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"loginCustomer()\\\">\\n\\n    <!-- Modal header section -->\\n    <div class=\\\"modal-header\\\">\\n      <h4 class=\\\"modal-title pull-left\\\">{{'Customer Login' | translate}}</h4>\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closeModal()\\\">\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\n      </button>\\n    </div>\\n\\n    <!-- Modal body section -->\\n    <div class=\\\"modal-body\\\">\\n      <div class=\\\"byi-login-tab\\\">\\n        <div class=\\\"byi-float-form\\\">\\n\\n          <!-- Login Email Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Email' | translate}}*</label>\\n            <input type=\\\"text\\\" name=\\\"loginEmail\\\" [(ngModel)]=\\\"loginEmail\\\" placeholder=\\\"{{'Email' | translate}}\\\"\\n              formControlName=\\\"loginEmail\\\" [ngClass]=\\\"{ 'is-invalid': submitted && lf.loginEmail.errors }\\\" />\\n            <!-- Login Email Error Message -->\\n            <div *ngIf=\\\"submitted && lf.loginEmail.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"lf.loginEmail.errors.required\\\">{{'Email is required' | translate}}</ng-container>\\n              <ng-container *ngIf=\\\"lf.loginEmail.errors.email\\\">{{'Invalid Email' | translate}}</ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Login Password Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Password' | translate}}*</label>\\n            <input type=\\\"password\\\" name=\\\"loginPassword\\\" [(ngModel)]=\\\"loginPassword\\\"\\n              placeholder=\\\"{{'Password' | translate}}\\\" formControlName=\\\"loginPassword\\\"\\n              [ngClass]=\\\"{ 'is-invalid': lf.loginPassword.errors }\\\" />\\n\\n            <!-- Login Password Error -->\\n            <div *ngIf=\\\"submitted && lf.loginPassword.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"lf.loginPassword.errors.required\\\">{{'Password is required' | translate}}\\n              </ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Button Section -->\\n          <div class=\\\"byi-form-action\\\">\\n            <button class=\\\"byi-btn\\\" type=\\\"submit\\\">{{'Login' | translate}}</button>\\n            <p class=\\\"byifa-link\\\">\\n              <a class=\\\"register-popup\\\" href=\\\"javascript:void(0)\\\"\\n                (click)=\\\"openModal(true,isSave)\\\">{{'Create An Account' | translate}}</a>\\n            </p>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <!-- End of modal body -->\\n  </form>\\n</ng-template>\\n\\n<!-- Registration Form Modal -->\\n<ng-template #registerModal>\\n  <form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"registerCustomer()\\\">\\n\\n    <!-- Modal header section -->\\n    <div class=\\\"modal-header\\\">\\n      <h4 class=\\\"modal-title pull-left\\\">{{'Customer Registration' | translate}}</h4>\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closeModal()\\\">\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\n      </button>\\n    </div>\\n\\n    <!-- Modal body section -->\\n    <div class=\\\"modal-body\\\">\\n      <div class=\\\"byi-login-tab\\\">\\n        <div class=\\\"byi-float-form\\\">\\n\\n          <!-- First Name Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'First Name' | translate}}*</label>\\n            <input type=\\\"text\\\" name=\\\"firstName\\\" [(ngModel)]=\\\"firstName\\\" placeholder=\\\"{{'First Name' | translate}}\\\"\\n              formControlName=\\\"firstName\\\" [ngClass]=\\\"{ 'is-invalid': submitted && rf.firstName.errors }\\\" />\\n            <!-- First Name Error Message -->\\n            <div *ngIf=\\\"submitted && rf.firstName.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"rf.firstName.errors.required\\\">{{'First Name is required' | translate}}</ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Last Name Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Last Name' | translate}}*</label>\\n            <input type=\\\"text\\\" name=\\\"lastName\\\" [(ngModel)]=\\\"lastName\\\" placeholder=\\\"{{'Last Name' | translate}}\\\"\\n              formControlName=\\\"lastName\\\" [ngClass]=\\\"{ 'is-invalid': submitted && rf.lastName.errors }\\\" />\\n\\n            <!-- Last Name Error Message -->\\n            <div *ngIf=\\\"submitted && rf.lastName.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"rf.lastName.errors.required\\\">{{'Last Name is required' | translate}}</ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Registration Email Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Email' | translate}}*</label>\\n            <input type=\\\"text\\\" name=\\\"email\\\" [(ngModel)]=\\\"email\\\" placeholder=\\\"{{'Email' | translate}}\\\"\\n              formControlName=\\\"email\\\" [ngClass]=\\\"{ 'is-invalid': submitted && rf.email.errors }\\\" />\\n\\n            <!-- Registration Email Error Message -->\\n            <div *ngIf=\\\"submitted && rf.email.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"rf.email.errors.required\\\">{{'Email is required' | translate}}</ng-container>\\n              <ng-container *ngIf=\\\"rf.email.errors.email\\\">{{'Invalid Email' | translate}}</ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Signup for newsletter section -->\\n          <div class=\\\"byi-float-checkbox\\\">\\n            <label class=\\\"byi-checkbox\\\">\\n              <input name=\\\"newsletter\\\" type=\\\"checkbox\\\" (click)=\\\"isSubscribe = !isSubscribe\\\">\\n              <span></span>\\n              {{'Sign Up for Newsletter' | translate}}\\n            </label>\\n          </div>\\n\\n          <!-- Password Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Password' | translate}}*</label>\\n            <input type=\\\"password\\\" name=\\\"password\\\" [(ngModel)]=\\\"password\\\" placeholder=\\\"{{'Password' | translate}}\\\"\\n              formControlName=\\\"password\\\" [ngClass]=\\\"{ 'is-invalid': rf.password.errors }\\\" />\\n\\n            <!-- Password Error -->\\n            <div *ngIf=\\\"submitted && rf.password.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"rf.password.errors.required\\\">{{'Password is required' | translate}}</ng-container>\\n              <ng-container *ngIf=\\\"rf.password.errors.minlength\\\">\\n                {{'Minimum length of this field must be equal or greater than 8 symbols' | translate}}\\n              </ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Confirm Password Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Confirm Password' | translate}}*</label>\\n            <input type=\\\"password\\\" name=\\\"confirmPassword\\\" [(ngModel)]=\\\"confirmPassword\\\"\\n              placeholder=\\\"{{'Confirm Password' | translate}}\\\" formControlName=\\\"confirmPassword\\\"\\n              [ngClass]=\\\"{ 'is-invalid': rf.confirmPassword.errors }\\\" />\\n\\n            <!-- Confirm Password Error -->\\n            <div *ngIf=\\\"submitted && rf.confirmPassword.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"rf.confirmPassword.errors.required\\\">{{'Confirm Password is required' | translate}}\\n              </ng-container>\\n              <ng-container *ngIf=\\\"rf.confirmPassword.errors.mustMatch\\\">\\n                {{'Confirm Password must match with password field' | translate}}\\n              </ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Button Section -->\\n          <div class=\\\"byi-form-action\\\">\\n            <button class=\\\"byi-btn\\\" type=\\\"submit\\\">{{'Sign Up' | translate}}</button>\\n            <p class=\\\"byifa-link\\\">\\n              <a href=\\\"javascript:void(0)\\\" (click)=\\\"openModal(false,isSave)\\\">{{'Back' | translate}}</a>\\n            </p>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <!-- End of Modal header section -->\\n  </form>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/common/components/customer-login/customer-login.component.scss\":\r\n/*!********************************************************************************!*\\\r\n  !*** ./src/app/common/components/customer-login/customer-login.component.scss ***!\r\n  \\********************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbW1vbi9jb21wb25lbnRzL2N1c3RvbWVyLWxvZ2luL2N1c3RvbWVyLWxvZ2luLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/common/components/customer-login/customer-login.component.ts\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/common/components/customer-login/customer-login.component.ts ***!\r\n  \\******************************************************************************/\r\n/*! exports provided: CustomerLoginComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomerLoginComponent\", function() { return CustomerLoginComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\r\n/* harmony import */ var src_app_helper_must_match_validator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/_helper/must-match.validator */ \"./src/app/_helper/must-match.validator.ts\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar CustomerLoginComponent = /** @class */ (function () {\r\n    function CustomerLoginComponent(eventService, formBuilder, mainService, translate, cdr, canvasService) {\r\n        this.eventService = eventService;\r\n        this.formBuilder = formBuilder;\r\n        this.mainService = mainService;\r\n        this.translate = translate;\r\n        this.cdr = cdr;\r\n        this.canvasService = canvasService;\r\n        this.submitted = false;\r\n        this.isSubscribe = false;\r\n        this.isSave = false;\r\n    }\r\n    /**\r\n     * Init Actions\r\n     */\r\n    CustomerLoginComponent.prototype.ngOnInit = function () {\r\n        this.init();\r\n        this.subscribeEvents();\r\n        this.checkForCustomerLogin();\r\n    };\r\n    /**\r\n     * This method check for customer whether it is login or not\r\n     * @return {[type]} [description]\r\n     */\r\n    CustomerLoginComponent.prototype.checkForCustomerLogin = function () {\r\n        var _this = this;\r\n        // prepare url and payload\r\n        var url = 'productdesigner/Customer/checkForLogin', param = {};\r\n        // hit post request\r\n        this.mainService.post(url, param, true).then(function (resp) {\r\n            // if customer is logged in\r\n            if (resp && resp.status == \"success\") {\r\n                if (resp.customer_login) {\r\n                    _this.mainService.userLoggedIn = true;\r\n                    _this.eventService.$pub('customerLoggedIn', false);\r\n                    _this.mainService.loggedInUserId = resp.customer_id;\r\n                }\r\n            }\r\n        }).catch(function (err) {\r\n            console.log(_this.translate.instant(\"Error in logging in: \"), err);\r\n        });\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    CustomerLoginComponent.prototype.init = function () {\r\n        this.passwordMinLength = 8;\r\n        this.initFormGroup();\r\n        this.initData();\r\n    };\r\n    /**\r\n     * Prepare register and login form group objects\r\n     */\r\n    CustomerLoginComponent.prototype.initFormGroup = function () {\r\n        // register form builder\r\n        this.registerForm = this.formBuilder.group({\r\n            firstName: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required],\r\n            lastName: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required],\r\n            email: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].email]],\r\n            subscribe: [''],\r\n            password: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].minLength(this.passwordMinLength)]],\r\n            confirmPassword: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required]]\r\n        }, {\r\n            validator: Object(src_app_helper_must_match_validator__WEBPACK_IMPORTED_MODULE_6__[\"MustMatch\"])('password', 'confirmPassword')\r\n        });\r\n        // Login form builder\r\n        this.loginForm = this.formBuilder.group({\r\n            loginEmail: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].email]],\r\n            loginPassword: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required]\r\n        });\r\n    };\r\n    /**\r\n     * Subscribe events\r\n     */\r\n    CustomerLoginComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        if (!this.eventService.events.openLoginModal) {\r\n            this.eventService.$sub('openLoginModal').subscribe(function (isSave) { return _this.openModal(false, isSave); });\r\n        }\r\n    };\r\n    /**\r\n     * Open Modal\r\n     * @param isReg\r\n     */\r\n    CustomerLoginComponent.prototype.openModal = function (isReg, isSave) {\r\n        if (isReg === void 0) { isReg = false; }\r\n        if (isSave === void 0) { isSave = false; }\r\n        // save design flag\r\n        this.isSave = isSave;\r\n        // if user already logged in\r\n        if (this.mainService.userLoggedIn === true) {\r\n            this.mainService.logout();\r\n            this.mainService.lastSavedData = [];\r\n            return;\r\n        }\r\n        // set submitted flag to false to hide error message from current modal\r\n        this.submitted = false;\r\n        // determine template object based in isReg parametere\r\n        var template = (isReg === false) ? this.loginModalTemplate : this.registerModalTemplate, \r\n        // determine modal class based on isReg parameter\r\n        modalClass = (isReg === false) ? \"byi-login-modal\" : \"byi-register:modal\";\r\n        // if modalRef is already there, ie. if modal is already open, close it first\r\n        // this happens when clicking on Register button in login popup\r\n        if (this.modalRef != undefined)\r\n            this.closeModal();\r\n        // open modal\r\n        this.modalRef = this.mainService.openThisModal(template, modalClass);\r\n    };\r\n    /**\r\n     * Reset\r\n     */\r\n    CustomerLoginComponent.prototype.initData = function () {\r\n        // as subscribe for newsletters is not form control object\r\n        // we manually need to set it false\r\n        this.loginEmail = '';\r\n        this.loginPassword = '';\r\n        this.firstName = '';\r\n        this.lastName = '';\r\n        this.email = '';\r\n        this.password = '';\r\n        this.confirmPassword = '';\r\n        this.isSubscribe = false;\r\n    };\r\n    /**\r\n     * When user hits on login button\r\n     */\r\n    CustomerLoginComponent.prototype.loginCustomer = function () {\r\n        var _this = this;\r\n        // set flag\r\n        this.submitted = true;\r\n        // stop here if form is invalid\r\n        if (this.loginForm.invalid) {\r\n            return;\r\n        }\r\n        // prepare url and payload\r\n        var url = 'productdesigner/Customer/login', param = {\r\n            customer_email: this.loginEmail,\r\n            customer_password: this.loginPassword\r\n        };\r\n        // hit post request\r\n        this.mainService.post(url, param, true).then(function (resp) {\r\n            // if login was successfull\r\n            if (resp && resp.status == \"success\") {\r\n                _this.setCustomerLoginData(resp);\r\n                if (!_this.isSave) {\r\n                    _this.mainService.swal(_this.translate.instant(\"Success\"), _this.translate.instant(\"Logged in successfully\"), 'success').finally(function () { return _this.closeModal(); });\r\n                }\r\n                else {\r\n                    _this.closeModal();\r\n                }\r\n                _this.init();\r\n                _this.eventService.$pub('customerLoggedIn', _this.isSave);\r\n            }\r\n            // if something went wrong with login process\r\n            else {\r\n                var msg = resp.log;\r\n                if (msg.lastIndexOf(\"-\") >= 0)\r\n                    msg = msg.substr(msg.lastIndexOf(\"-\") + 2);\r\n                _this.mainService.swal(_this.translate.instant(\"Error\"), _this.translate.instant(msg), 'error');\r\n            }\r\n        }).catch(function (err) {\r\n            console.log(_this.translate.instant(\"Error in logging in: \"), err);\r\n        });\r\n    };\r\n    /**\r\n     * When user hits on register button\r\n     */\r\n    CustomerLoginComponent.prototype.registerCustomer = function () {\r\n        var _this = this;\r\n        // set flag to true for displaying error message(if any)\r\n        this.submitted = true;\r\n        // if form is invalid, return from here\r\n        if (this.registerForm.invalid) {\r\n            return;\r\n        }\r\n        // prepare url and payload\r\n        var url = \"productdesigner/Customer/Register\", param = {\r\n            firstname: this.firstName,\r\n            lastname: this.lastName,\r\n            email: this.email,\r\n            password: this.password,\r\n            password_confirmation: this.confirmPassword,\r\n            isSubscribed: this.isSubscribe,\r\n            customer_action: 'registration'\r\n        };\r\n        // hit post request\r\n        this.mainService.post(url, param, true).then(function (resp) {\r\n            // if registration was successfull\r\n            if (resp && resp.status == \"success\") {\r\n                _this.setCustomerLoginData(resp);\r\n                if (!_this.isSave) {\r\n                    _this.mainService.swal(_this.translate.instant(\"Registered\"), _this.translate.instant(\"Registered Successfully!\"), \"success\").finally(function () { return _this.closeModal(); });\r\n                }\r\n                else {\r\n                    _this.closeModal();\r\n                }\r\n                _this.init();\r\n                _this.eventService.$pub('customerLoggedIn', _this.isSave);\r\n            }\r\n            // if registration failed\r\n            else {\r\n                var errorMsg = resp.message;\r\n                //if (errorMsg.lastIndexOf(\"-\") >= 0) errorMsg.substr(errorMsg.lastIndexOf(\"-\") + 2);\r\n                _this.mainService.swal(\"Error\", errorMsg, \"error\");\r\n            }\r\n        }).catch(function (err) {\r\n            console.log(_this.translate.instant(\"Error in registering user: \"), err);\r\n        });\r\n    };\r\n    /**\r\n     * After successfully loggedin/registered, we will set logged in user's data\r\n     *\r\n     * @param resp response object\r\n     */\r\n    CustomerLoginComponent.prototype.setCustomerLoginData = function (resp) {\r\n        this.submitted = false;\r\n        this.mainService.userLoggedIn = true;\r\n        this.mainService.loggedInUserId = resp.customer_id;\r\n    };\r\n    /**\r\n     * Close Modal\r\n     */\r\n    CustomerLoginComponent.prototype.closeModal = function () {\r\n        this.modalRef.hide();\r\n    };\r\n    Object.defineProperty(CustomerLoginComponent.prototype, \"lf\", {\r\n        // get control object for login form\r\n        get: function () { return this.loginForm.controls; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CustomerLoginComponent.prototype, \"rf\", {\r\n        // get control object for register form\r\n        get: function () { return this.registerForm.controls; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ViewChild\"])('loginModal'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], CustomerLoginComponent.prototype, \"loginModalTemplate\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ViewChild\"])('registerModal'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], CustomerLoginComponent.prototype, \"registerModalTemplate\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ViewChild\"])(\"loaderComponent\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\r\n    ], CustomerLoginComponent.prototype, \"loaderComponent\", void 0);\r\n    CustomerLoginComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"Component\"])({\r\n            selector: '[customer-login]',\r\n            template: __webpack_require__(/*! ./customer-login.component.html */ \"./src/app/common/components/customer-login/customer-login.component.html\"),\r\n            styles: [__webpack_require__(/*! ./customer-login.component.scss */ \"./src/app/common/components/customer-login/customer-login.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"],\r\n            _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"FormBuilder\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__[\"TranslateService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ChangeDetectorRef\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_8__[\"CanvasService\"]])\r\n    ], CustomerLoginComponent);\r\n    return CustomerLoginComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/common/components/image-effects/image-effects.component.html\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/common/components/image-effects/image-effects.component.html ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<accordion-group [isOpen]=\\\"openAccordian\\\" class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive && !isSvgColorsDisplay\\\" [hidden]=\\\"componentHide\\\">\\n   <button class=\\\"byi-accordion-title\\\" accordion-heading>\\n      <span>{{'Image Filters' | translate}}</span>\\n   </button>\\n   <div class=\\\"byi-accord-content\\\">\\n      <ng-container [ngTemplateOutlet]=\\\"imageFilterRef\\\"></ng-container>\\n   </div>\\n</accordion-group>\\n\\n<accordion-group [isOpen]=\\\"openAccordianEffect\\\" class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [hidden]=\\\"componentHide\\\">\\n   <button class=\\\"byi-accordion-title\\\" accordion-heading>\\n      <span>{{'Image Effects' | translate}}</span>\\n   </button>\\n   <div class=\\\"byi-accord-content\\\">\\n      <ng-container [ngTemplateOutlet]=\\\"imageEffectsRef\\\"></ng-container>\\n   </div>\\n</accordion-group>\\n\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('image-effects') && !isSvgColorsDisplay\\\" [attr.hidden]=\\\"componentHide\\\" [customClass]=\\\"'isResponsiveTab'\\\">\\n   <ng-template tabHeading>\\n      <span>{{'Image Filters' | translate}}</span>\\n   </ng-template>\\n   <ng-container [ngTemplateOutlet]=\\\"imageFilterRef\\\"></ng-container>\\n</tab>\\n\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('image-effects')\\\" [attr.hidden]=\\\"componentHide\\\" [customClass]=\\\"'isResponsiveTab'\\\">\\n   <ng-template tabHeading>\\n      <span>{{'Image Effects' | translate}}</span>\\n   </ng-template>\\n   <ng-container [ngTemplateOutlet]=\\\"imageEffectsRef\\\"></ng-container>\\n</tab>\\n\\n<ng-template #imageFilterRef>\\n   <div loader #loaderComponent></div>\\n\\n   <!-- For JPG,JPEG,PNG Image -->\\n   <div class=\\\"byi-tab-cats byi-img-effect\\\" *ngIf=\\\"displayEffects\\\"\\n      [ngClass]=\\\"displayEffects ? '' : 'disabled'\\\">\\n      <ul>\\n         <ng-container *ngFor=\\\"let effect of imageEffects; let i = index\\\">\\n            <li *ngIf=\\\"effect.is_filter == 1\\\">\\n               <a class=\\\"image-with-text\\\" [class.selected]=\\\"effectArray.indexOf(effect.effect_name) > -1\\\"\\n                  href=\\\"javascript:void(0)\\\" (click)=\\\"changeEffect(effect.effect_name)\\\">\\n                  <span><img src=\\\"{{effect.effect_image}}\\\"></span>\\n                  <label>{{effect.effect_name}}</label>\\n               </a>\\n               <div class=\\\"byi-effect-slider\\\"\\n                  *ngIf=\\\"effect.slider_value != null && effectArray.indexOf(effect.effect_name) > -1\\\">\\n                  <input class=\\\"slider\\\" value=\\\"effect.slider_value\\\" [(ngModel)]=\\\"sliderValue[effect.effect_name]\\\"\\n                     (ngModelChange)=changeSlider(effect.effect_name,$event,i) [max]=\\\"effect.max\\\" [min]=\\\"effect.min\\\"\\n                     [step]=\\\"effect.step\\\" type=\\\"range\\\">\\n               </div>\\n            </li>\\n         </ng-container>\\n      </ul>\\n   </div>\\n   <!-- END For JPG,JPEG,PNG Image -->\\n</ng-template>\\n\\n<ng-template #imageEffectsRef>\\n   <div loader #loaderComponent></div>\\n\\n   <!-- For JPG,JPEG,PNG Image -->\\n   <div class=\\\"byi-tab-cats byi-img-filters\\\" *ngIf=\\\"displayEffects\\\"\\n      [ngClass]=\\\"displayEffects ? '' : 'disabled'\\\">\\n      \\n      <!-- For image effects slider -->\\n      <div class=\\\"byie-option\\\">\\n         <div class=\\\"byi-range-box byi-range-color byie-count-wrap\\\"  [ngClass]=\\\"{'active': selectedResponsiveItem == effect && mainService.isResponsive}\\\" (click)=\\\"activeEffect(effect)\\\" *ngFor=\\\"let effect of imageEffects; let i = index\\\">\\n            <ng-container *ngIf=\\\"effect.is_filter == 0\\\">\\n               <label>\\n                  <svg attr.class=\\\"byi-effect-icon icon icon-{{effect.effect_name}}\\\" viewBox=\\\"0 0 30 30\\\">\\n                     <use attr.xlink:href=\\\"assets/img/sprite.svg#icon-{{effect.effect_name}}\\\"></use>\\n                  </svg>\\n                  <span>{{effect.effect_name}}</span>\\n               </label>\\n               <div class=\\\"byi-range-box-filter\\\">\\n                  <div class=\\\"byi-rb-input\\\">\\n                     <span class=\\\"byie-count\\\">{{(sliderValue[effect.effect_name]).toFixed(2)}}</span>\\n                     <input type=\\\"range\\\" value=\\\"effect.slider_value\\\" [(ngModel)]=\\\"sliderValue[effect.effect_name]\\\"\\n                        (ngModelChange)=changeSlider(effect.effect_name,$event,i) [max]=\\\"effect.max\\\" [min]=\\\"effect.min\\\"\\n                        [step]=\\\"effect.step\\\" class=\\\"slider\\\">\\n                  </div>\\n                  <button class=\\\"byi-range-reset-link\\\" (click)=\\\"resetEffects(effect.effect_name)\\\"\\n                     tooltip=\\\"{{'Reset' | translate}}\\\">\\n                     <svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n                     </svg>\\n                  </button>\\n               </div>\\n            </ng-container>\\n         </div>\\n      </div>\\n      <!-- End For image effects slider -->\\n\\n   </div>\\n   <!-- END For JPG,JPEG,PNG Image -->\\n\\n   <!-- For SVG Image -->\\n   <div class=\\\"byie-option\\\" *ngIf=\\\"loaderComponent.showSubLoader === false && isSvgColorsDisplay\\\">\\n      <div class=\\\"byi-colors-list byi-imagecolor-list\\\" #colorContainer>\\n         <ul #svgColorContainer id='ul'>\\n            <li class=\\\"byic_color_action\\\" [style.background]=\\\"color\\\" (click)=\\\"colorPickerToggle(color, $event);\\\"\\n               *ngFor=\\\"let color of svgColorArr; let i = index\\\" [id]=\\\"'id_' + i\\\">\\n            </li>\\n         </ul>\\n         <div *ngIf=\\\"!mainService.isResponsive\\\" id='picker' class=\\\"byic-colors-select byic-shadow-colors\\\"\\n            [attr.hidden]=\\\"hideColorToggle ? true : null\\\" [ngClass]=\\\"(isLeft) ? 'open-left' : 'open-right'\\\"\\n            #colorPickerContainer>\\n            <div custom-color-picker [type]=\\\"'imageEffect'\\\" [activeColor]=\\\"selectedItem\\\"\\n               (changeColorEvent)=\\\"setFill($event)\\\"></div>\\n         </div>\\n         <div *ngIf=\\\"mainService.isResponsive\\\" class=\\\"byic-colors-select byic-shadow-colors\\\"\\n            [attr.hidden]=\\\"hideColorToggle ? true : null\\\" [ngClass]=\\\"(isLeft) ? 'open-left' : 'open-right'\\\"\\n            #colorPickerContainer>\\n            <div custom-color-picker [type]=\\\"'imageEffect'\\\" [activeColor]=\\\"selectedItem\\\" (changeColorEvent)=\\\"setFill($event)\\\"></div>\\n         </div>\\n      </div>\\n   </div>\\n   <!--END For SVG Image -->\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/common/components/image-effects/image-effects.component.scss\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/common/components/image-effects/image-effects.component.scss ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"/* byi theme color main */\\n/* true if dark mode is on */\\n/* black */\\n/* white */\\n/* error color */\\n/* warning color */\\n/* byi fonts */\\n/* default tab icon color */\\n/* active tab icon color */\\n/* header footer background color (used @ other places where it needs) */\\n/* mobile sub header background color */\\n/* main canvas background color */\\n/* normal text color */\\n/* default accordion text color */\\n/* active accordion text color */\\n/* accordion background color */\\n/* accordion background color in product options */\\n/* input item backgroud (input , select, textarea, etc.) */\\n/* left and right panel background and active tab background */\\n/* right panel dark icon color */\\n/* right panel dark icon color hover */\\n/* light icon color (header icons, footer icons, layer icon, etc.) */\\n/* tooltip background color */\\n/* tooltip text color */\\n/* border color for input item dropdowns catagory list etc. */\\n/* range selector background color */\\n/* side change icon color canvas area */\\n/*-------------------------------------\\r\\n        Color Scheme (Dark Theme)\\r\\n-------------------------------------- */\\n/*----------------------------------\\n        Image Effect Pro Version\\n------------------------------------*/\\n.byi-img-effect ul li a.selected:before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  z-index: 2;\\n  border-radius: 4px;\\n  background-color: rgba(255, 255, 255, 0.5); }\\n.byi-img-effect .byi-effect-slider {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 20px;\\n  z-index: 3;\\n  padding: 5px;\\n  margin: 0 5px; }\\n.byi-img-effect .byi-effect-slider input[type=\\\"range\\\"] {\\n    width: 100%; }\\n@media screen and (max-width: 1024px) {\\n  .byi-img-effect .byi-effect-slider {\\n    margin: 0 15px 0 5px; } }\\n.byi-img-filters {\\n  margin-top: 10px; }\\n.byi-img-filters .byi-range-box > label svg {\\n    width: 15px;\\n    height: 15px;\\n    margin-right: 5px;\\n    fill: #262626; }\\n@media screen and (max-width: 1024px) {\\n    .byi-img-filters .byie-option {\\n      display: flex;\\n      align-items: center;\\n      text-align: center;\\n      overflow: auto;\\n      padding: 3px 0 5px 0;\\n      -webkit-overflow-scrolling: touch; }\\n    .byi-img-filters .byi-range-box {\\n      position: static; }\\n      .byi-img-filters .byi-range-box:empty {\\n        display: none; }\\n      .byi-img-filters .byi-range-box.active .byi-range-box-filter {\\n        display: block; }\\n      .byi-img-filters .byi-range-box.active > label {\\n        color: #f05929; }\\n        .byi-img-filters .byi-range-box.active > label svg {\\n          fill: #f05929; }\\n      .byi-img-filters .byi-range-box .byi-range-box-filter {\\n        display: none;\\n        position: absolute;\\n        top: -30px;\\n        left: 0;\\n        right: 30px;\\n        z-index: 9; }\\n      .byi-img-filters .byi-range-box > label {\\n        display: flex;\\n        width: 85px;\\n        flex: 0 0 85px;\\n        margin-right: 10px;\\n        border-radius: 10px;\\n        padding: 5px 0;\\n        flex-direction: column-reverse;\\n        color: #262626;\\n        border: 1px solid #d9d9d9; }\\n        .byi-img-filters .byi-range-box > label svg {\\n          width: 20px;\\n          height: 20px;\\n          margin: 5px auto auto auto;\\n          fill: #262626; }\\n        .byi-img-filters .byi-range-box > label span {\\n          display: block;\\n          overflow: hidden;\\n          white-space: nowrap;\\n          text-overflow: ellipsis; } }\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2h0bWwvUmVzdHJ1Y3R1cmVWMi9tYWdlbnRvMjI4VjIvYW5ndWxhci9zcmMvYXNzZXRzL3Nhc3MvdGhlbWUtc3dpdGNoLnNjc3MiLCIvdmFyL3d3dy9odG1sL1Jlc3RydWN0dXJlVjIvbWFnZW50bzIyOFYyL2FuZ3VsYXIvc3JjL2Fzc2V0cy9zYXNzL3ZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9jb21tb24vY29tcG9uZW50cy9pbWFnZS1lZmZlY3RzL2ltYWdlLWVmZmVjdHMuY29tcG9uZW50LnNjc3MiLCIvdmFyL3d3dy9odG1sL1Jlc3RydWN0dXJlVjIvbWFnZW50bzIyOFYyL2FuZ3VsYXIvc3JjL2FwcC9jb21tb24vY29tcG9uZW50cy9pbWFnZS1lZmZlY3RzL2ltYWdlLWVmZmVjdHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQXFCLHlCQUFBO0FBQ0ssNEJBQUE7QUNEVCxVQUFBO0FBQ0MsVUFBQTtBQUNHLGdCQUFBO0FBQ0Usa0JBQUE7QUFDYSxjQUFBO0FBRVosMkJBQUE7QUFDVSwwQkFBQTtBQUNYLHdFQUFBO0FBQ08sdUNBQUE7QUFDVixpQ0FBQTtBQUNNLHNCQUFBO0FBQ0MsaUNBQUE7QUFDVSxnQ0FBQTtBQUNmLCtCQUFBO0FBQ1Esa0RBQUE7QUFDVCwwREFBQTtBQUNHLDhEQUFBO0FBQ0EsZ0NBQUE7QUFDRyxzQ0FBQTtBQUNGLG9FQUFBO0FBQ0YsNkJBQUE7QUFDRSx1QkFBQTtBQUNHLDZEQUFBO0FBQ0osb0NBQUE7QUFDTyx1Q0FBQTtBQUUvQjs7d0NDRXdDO0FDMUJ4Qzs7cUNENkJxQztBQzFCckM7RUFJUSxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLE1BQU07RUFDTixTQUFTO0VBQ1QsT0FBTztFQUNQLFFBQVE7RUFDUixVQUFVO0VBQ1Ysa0JBQWtCO0VBQ2xCLDBDRmpCUSxFQUFBO0FFS2hCO0VBaUJJLGtCQUFrQjtFQUNsQixPQUFPO0VBQ1AsUUFBUTtFQUNSLFNBQVM7RUFDVCxVQUFVO0VBQ1YsWUFBWTtFQUNaLGFBQWEsRUFBQTtBQXZCakI7SUF5Qk0sV0FBVyxFQUFBO0FBR2Y7RUE1QkY7SUE4Qk0sb0JBQW9CLEVBQUEsRUFDckI7QUFJTDtFQUNFLGdCQUFnQixFQUFBO0FBRGxCO0lBS1EsV0FBVztJQUNYLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsYUZ0Q2dCLEVBQUE7QUUwQ3RCO0lBWkY7TUFnQk0sYUFBYTtNQUdiLG1CQUFtQjtNQUNuQixrQkFBa0I7TUFDbEIsY0FBYztNQUNkLG9CQUFvQjtNQUNwQixpQ0FBaUMsRUFBQTtJQXZCdkM7TUEwQk0sZ0JBQWdCLEVBQUE7TUExQnRCO1FBNEJRLGFBQWEsRUFBQTtNQTVCckI7UUFnQ1UsY0FBYyxFQUFBO01BaEN4QjtRQW1DVSxjSDVFUyxFQUFBO1FHeUNuQjtVQXFDWSxhSDlFTyxFQUFBO01HeUNuQjtRQTBDUSxhQUFhO1FBQ2Isa0JBQWtCO1FBQ2xCLFVBQVU7UUFDVixPQUFPO1FBQ1AsV0FBVztRQUNYLFVBQVUsRUFBQTtNQS9DbEI7UUFrRFEsYUFBYTtRQUNiLFdBQVc7UUFHWCxjQUFjO1FBQ2Qsa0JBQWtCO1FBQ2xCLG1CQUFtQjtRQUNuQixjQUFjO1FBSWQsOEJBQThCO1FBQzlCLGNGNUZnQjtRRTZGaEIseUJBQWdELEVBQUE7UUEvRHhEO1VBaUVVLFdBQVc7VUFDWCxZQUFZO1VBQ1osMEJBQTBCO1VBQzFCLGFGbEdjLEVBQUE7UUU4QnhCO1VBdUVVLGNBQWM7VUFDZCxnQkFBZ0I7VUFDaEIsbUJBQW1CO1VBQ25CLHVCQUF1QixFQUFBLEVBQ3hCIiwiZmlsZSI6InNyYy9hcHAvY29tbW9uL2NvbXBvbmVudHMvaW1hZ2UtZWZmZWN0cy9pbWFnZS1lZmZlY3RzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiJGJ5aS10aGVtZTogI2YwNTkyOTsgLyogYnlpIHRoZW1lIGNvbG9yIG1haW4gKi9cclxuJGJ5aS1kYXJrLXNjaGVtZTogZmFsc2U7ICAvKiB0cnVlIGlmIGRhcmsgbW9kZSBpcyBvbiAqL1xyXG4iLCIkYnlpLWRhcms6ICMwMDA7IC8qIGJsYWNrICovXHJcbiRieWktbGlnaHQ6ICNmZmY7IC8qIHdoaXRlICovXHJcbiRieWktZXJyb3I6ICNmMTJkMmQ7IC8qIGVycm9yIGNvbG9yICovXHJcbiRieWktd2FybmluZzogI0ZGRkY5OTsgLyogd2FybmluZyBjb2xvciAqL1xyXG4kYnlpLWZvbnQ6ICdPcGVuIFNhbnMnLCBzYW5zLXNlcmlmOyAvKiBieWkgZm9udHMgKi9cclxuXHJcbiRieWktdGFiLWljb246ICMyNjI2MjY7IC8qIGRlZmF1bHQgdGFiIGljb24gY29sb3IgKi9cclxuJGJ5aS10YWItaWNvbi1hY3RpdmU6ICRieWktdGhlbWU7IC8qIGFjdGl2ZSB0YWIgaWNvbiBjb2xvciAqL1xyXG4kYnlpLXRvb2xiYXItYmc6ICNmZmY7IC8qIGhlYWRlciBmb290ZXIgYmFja2dyb3VuZCBjb2xvciAodXNlZCBAIG90aGVyIHBsYWNlcyB3aGVyZSBpdCBuZWVkcykgKi9cclxuJGJ5aS1mb290ZXItbW9iLXRvcDogI2Y1ZjVmNTsgLyogbW9iaWxlIHN1YiBoZWFkZXIgYmFja2dyb3VuZCBjb2xvciAqL1xyXG4kYnlpLW1haW4tYmc6ICNmZmY7IC8qIG1haW4gY2FudmFzIGJhY2tncm91bmQgY29sb3IgKi9cclxuJGJ5aS10ZXh0LWNvbG9yOiAjMjYyNjI2OyAvKiBub3JtYWwgdGV4dCBjb2xvciAqL1xyXG4kYnlpLWFjY29yZC10ZXh0OiAjMjYyNjI2OyAvKiBkZWZhdWx0IGFjY29yZGlvbiB0ZXh0IGNvbG9yICovXHJcbiRieWktYWNjb3JkLXRleHQtYWN0aXZlOiAkYnlpLXRoZW1lOyAvKiBhY3RpdmUgYWNjb3JkaW9uIHRleHQgY29sb3IgKi9cclxuJGJ5aS1hY2NvcmQtYmc6ICNmZmY7IC8qIGFjY29yZGlvbiBiYWNrZ3JvdW5kIGNvbG9yICovXHJcbiRieWktYWNjb3JkLWJnLWRhcms6ICNmNWY1ZjU7IC8qIGFjY29yZGlvbiBiYWNrZ3JvdW5kIGNvbG9yIGluIHByb2R1Y3Qgb3B0aW9ucyAqL1xyXG4kYnlpLWlucHV0LWJnOiAjZmZmOyAvKiBpbnB1dCBpdGVtIGJhY2tncm91ZCAoaW5wdXQgLCBzZWxlY3QsIHRleHRhcmVhLCBldGMuKSAqL1xyXG4kYnlpLXBhbmVsLWJnOiAjZjVmNWY1OyAvKiBsZWZ0IGFuZCByaWdodCBwYW5lbCBiYWNrZ3JvdW5kIGFuZCBhY3RpdmUgdGFiIGJhY2tncm91bmQgKi9cclxuJGJ5aS1kYXJraWNvbjogIzRkNGM0YzsgLyogcmlnaHQgcGFuZWwgZGFyayBpY29uIGNvbG9yICovXHJcbiRieWktZGFya2ljb24taG92ZXI6ICMwMDA7IC8qIHJpZ2h0IHBhbmVsIGRhcmsgaWNvbiBjb2xvciBob3ZlciAqL1xyXG4kYnlpLWxpZ2h0aWNvbjogIzgwN2Y3ZjsgLyogbGlnaHQgaWNvbiBjb2xvciAoaGVhZGVyIGljb25zLCBmb290ZXIgaWNvbnMsIGxheWVyIGljb24sIGV0Yy4pICovXHJcbiRieWktdG9vbHRpcC1iZzogIzAwMDsgLyogdG9vbHRpcCBiYWNrZ3JvdW5kIGNvbG9yICovXHJcbiRieWktdG9vbHRpcC10ZXh0OiAjZmZmOyAvKiB0b29sdGlwIHRleHQgY29sb3IgKi9cclxuJGJ5aS1ib3JkZXItY29sb3I6ICNjY2NjY2M7IC8qIGJvcmRlciBjb2xvciBmb3IgaW5wdXQgaXRlbSBkcm9wZG93bnMgY2F0YWdvcnkgbGlzdCBldGMuICovXHJcbiRieWktcmFuZ2UtYmc6ICNiOGI4Yjg7IC8qIHJhbmdlIHNlbGVjdG9yIGJhY2tncm91bmQgY29sb3IgKi9cclxuJGJ5aS1zaWRlY2hhbmdlLWljb246ICNjY2NjY2M7IC8qIHNpZGUgY2hhbmdlIGljb24gY29sb3IgY2FudmFzIGFyZWEgKi9cclxuXHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIENvbG9yIFNjaGVtZSAoRGFyayBUaGVtZSlcclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuQGlmIHZhcmlhYmxlLWV4aXN0cyhieWktZGFyay1zY2hlbWUpIGFuZCAkYnlpLWRhcmstc2NoZW1lPT10cnVlIHtcclxuICAgICAgICAkYnlpLXRhYi1pY29uOiAjYTVhNWE1O1xyXG4gICAgICAgICRieWktdGFiLWljb24tYWN0aXZlOiAjZmZmO1xyXG4gICAgICAgICRieWktdG9vbGJhci1iZzogIzMwMzAzMDtcclxuICAgICAgICAkYnlpLWZvb3Rlci1tb2ItdG9wOiAjMzAzMDMwO1xyXG4gICAgICAgICRieWktbWFpbi1iZzogIzI4MjgyODtcclxuICAgICAgICAkYnlpLXRleHQtY29sb3I6ICNmMGYwZjA7XHJcbiAgICAgICAgJGJ5aS1hY2NvcmQtdGV4dDogI2JiYjtcclxuICAgICAgICAkYnlpLWFjY29yZC10ZXh0LWFjdGl2ZTogI2YwZjBmMDtcclxuICAgICAgICAkYnlpLWFjY29yZC1iZzogIzMwMzAzMDtcclxuICAgICAgICAkYnlpLWFjY29yZC1iZy1kYXJrOiAjMzAzMDMwO1xyXG4gICAgICAgICRieWktaW5wdXQtYmc6ICM1MjUyNTI7XHJcbiAgICAgICAgJGJ5aS1wYW5lbC1iZzogIzQ3NDc0NztcclxuICAgICAgICAkYnlpLWRhcmtpY29uOiAjZjBmMGYwO1xyXG4gICAgICAgICRieWktZGFya2ljb24taG92ZXI6ICNmMGYwZjA7XHJcbiAgICAgICAgJGJ5aS1saWdodGljb246ICNmMGYwZjA7XHJcbiAgICAgICAgJGJ5aS10b29sdGlwLWJnOiAjMzMzO1xyXG4gICAgICAgICRieWktdG9vbHRpcC10ZXh0OiAjRkZGO1xyXG4gICAgICAgICRieWktYm9yZGVyLWNvbG9yOiAjNjc2NzY3O1xyXG4gICAgICAgICRieWktcmFuZ2UtYmc6IGxpZ2h0ZW4oIzQ3NDc0NywgMTUlKTtcclxuICAgICAgICAkYnlpLXNpZGVjaGFuZ2UtaWNvbjogI2YwZjBmMDtcclxufSIsIi8qIGJ5aSB0aGVtZSBjb2xvciBtYWluICovXG4vKiB0cnVlIGlmIGRhcmsgbW9kZSBpcyBvbiAqL1xuLyogYmxhY2sgKi9cbi8qIHdoaXRlICovXG4vKiBlcnJvciBjb2xvciAqL1xuLyogd2FybmluZyBjb2xvciAqL1xuLyogYnlpIGZvbnRzICovXG4vKiBkZWZhdWx0IHRhYiBpY29uIGNvbG9yICovXG4vKiBhY3RpdmUgdGFiIGljb24gY29sb3IgKi9cbi8qIGhlYWRlciBmb290ZXIgYmFja2dyb3VuZCBjb2xvciAodXNlZCBAIG90aGVyIHBsYWNlcyB3aGVyZSBpdCBuZWVkcykgKi9cbi8qIG1vYmlsZSBzdWIgaGVhZGVyIGJhY2tncm91bmQgY29sb3IgKi9cbi8qIG1haW4gY2FudmFzIGJhY2tncm91bmQgY29sb3IgKi9cbi8qIG5vcm1hbCB0ZXh0IGNvbG9yICovXG4vKiBkZWZhdWx0IGFjY29yZGlvbiB0ZXh0IGNvbG9yICovXG4vKiBhY3RpdmUgYWNjb3JkaW9uIHRleHQgY29sb3IgKi9cbi8qIGFjY29yZGlvbiBiYWNrZ3JvdW5kIGNvbG9yICovXG4vKiBhY2NvcmRpb24gYmFja2dyb3VuZCBjb2xvciBpbiBwcm9kdWN0IG9wdGlvbnMgKi9cbi8qIGlucHV0IGl0ZW0gYmFja2dyb3VkIChpbnB1dCAsIHNlbGVjdCwgdGV4dGFyZWEsIGV0Yy4pICovXG4vKiBsZWZ0IGFuZCByaWdodCBwYW5lbCBiYWNrZ3JvdW5kIGFuZCBhY3RpdmUgdGFiIGJhY2tncm91bmQgKi9cbi8qIHJpZ2h0IHBhbmVsIGRhcmsgaWNvbiBjb2xvciAqL1xuLyogcmlnaHQgcGFuZWwgZGFyayBpY29uIGNvbG9yIGhvdmVyICovXG4vKiBsaWdodCBpY29uIGNvbG9yIChoZWFkZXIgaWNvbnMsIGZvb3RlciBpY29ucywgbGF5ZXIgaWNvbiwgZXRjLikgKi9cbi8qIHRvb2x0aXAgYmFja2dyb3VuZCBjb2xvciAqL1xuLyogdG9vbHRpcCB0ZXh0IGNvbG9yICovXG4vKiBib3JkZXIgY29sb3IgZm9yIGlucHV0IGl0ZW0gZHJvcGRvd25zIGNhdGFnb3J5IGxpc3QgZXRjLiAqL1xuLyogcmFuZ2Ugc2VsZWN0b3IgYmFja2dyb3VuZCBjb2xvciAqL1xuLyogc2lkZSBjaGFuZ2UgaWNvbiBjb2xvciBjYW52YXMgYXJlYSAqL1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgQ29sb3IgU2NoZW1lIChEYXJrIFRoZW1lKVxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIEltYWdlIEVmZmVjdCBQcm8gVmVyc2lvblxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi5ieWktaW1nLWVmZmVjdCB1bCBsaSBhLnNlbGVjdGVkOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB6LWluZGV4OiAyO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTsgfVxuXG4uYnlpLWltZy1lZmZlY3QgLmJ5aS1lZmZlY3Qtc2xpZGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgdG9wOiAyMHB4O1xuICB6LWluZGV4OiAzO1xuICBwYWRkaW5nOiA1cHg7XG4gIG1hcmdpbjogMCA1cHg7IH1cbiAgLmJ5aS1pbWctZWZmZWN0IC5ieWktZWZmZWN0LXNsaWRlciBpbnB1dFt0eXBlPVwicmFuZ2VcIl0ge1xuICAgIHdpZHRoOiAxMDAlOyB9XG5cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwMjRweCkge1xuICAuYnlpLWltZy1lZmZlY3QgLmJ5aS1lZmZlY3Qtc2xpZGVyIHtcbiAgICBtYXJnaW46IDAgMTVweCAwIDVweDsgfSB9XG5cbi5ieWktaW1nLWZpbHRlcnMge1xuICBtYXJnaW4tdG9wOiAxMHB4OyB9XG4gIC5ieWktaW1nLWZpbHRlcnMgLmJ5aS1yYW5nZS1ib3ggPiBsYWJlbCBzdmcge1xuICAgIHdpZHRoOiAxNXB4O1xuICAgIGhlaWdodDogMTVweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICBmaWxsOiAjMjYyNjI2OyB9XG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwMjRweCkge1xuICAgIC5ieWktaW1nLWZpbHRlcnMgLmJ5aWUtb3B0aW9uIHtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcbiAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgICBwYWRkaW5nOiAzcHggMCA1cHggMDtcbiAgICAgIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsgfVxuICAgIC5ieWktaW1nLWZpbHRlcnMgLmJ5aS1yYW5nZS1ib3gge1xuICAgICAgcG9zaXRpb246IHN0YXRpYzsgfVxuICAgICAgLmJ5aS1pbWctZmlsdGVycyAuYnlpLXJhbmdlLWJveDplbXB0eSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7IH1cbiAgICAgIC5ieWktaW1nLWZpbHRlcnMgLmJ5aS1yYW5nZS1ib3guYWN0aXZlIC5ieWktcmFuZ2UtYm94LWZpbHRlciB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4gICAgICAuYnlpLWltZy1maWx0ZXJzIC5ieWktcmFuZ2UtYm94LmFjdGl2ZSA+IGxhYmVsIHtcbiAgICAgICAgY29sb3I6ICNmMDU5Mjk7IH1cbiAgICAgICAgLmJ5aS1pbWctZmlsdGVycyAuYnlpLXJhbmdlLWJveC5hY3RpdmUgPiBsYWJlbCBzdmcge1xuICAgICAgICAgIGZpbGw6ICNmMDU5Mjk7IH1cbiAgICAgIC5ieWktaW1nLWZpbHRlcnMgLmJ5aS1yYW5nZS1ib3ggLmJ5aS1yYW5nZS1ib3gtZmlsdGVyIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IC0zMHB4O1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMzBweDtcbiAgICAgICAgei1pbmRleDogOTsgfVxuICAgICAgLmJ5aS1pbWctZmlsdGVycyAuYnlpLXJhbmdlLWJveCA+IGxhYmVsIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgd2lkdGg6IDg1cHg7XG4gICAgICAgIC13ZWJraXQtYm94LWZsZXg6IDA7XG4gICAgICAgIC1tcy1mbGV4OiAwIDAgODVweDtcbiAgICAgICAgZmxleDogMCAwIDg1cHg7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgcGFkZGluZzogNXB4IDA7XG4gICAgICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XG4gICAgICAgIC13ZWJraXQtYm94LWRpcmVjdGlvbjogcmV2ZXJzZTtcbiAgICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xuICAgICAgICBjb2xvcjogIzI2MjYyNjtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2Q5ZDlkOTsgfVxuICAgICAgICAuYnlpLWltZy1maWx0ZXJzIC5ieWktcmFuZ2UtYm94ID4gbGFiZWwgc3ZnIHtcbiAgICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICAgICAgbWFyZ2luOiA1cHggYXV0byBhdXRvIGF1dG87XG4gICAgICAgICAgZmlsbDogIzI2MjYyNjsgfVxuICAgICAgICAuYnlpLWltZy1maWx0ZXJzIC5ieWktcmFuZ2UtYm94ID4gbGFiZWwgc3BhbiB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyB9IH1cbiIsIkBpbXBvcnQgXCJzcmMvYXNzZXRzL3Nhc3MvdGhlbWUtc3dpdGNoLnNjc3NcIjtcbkBpbXBvcnQgXCJzcmMvYXNzZXRzL3Nhc3MvdmFyaWFibGVzLnNjc3NcIjtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIEltYWdlIEVmZmVjdCBQcm8gVmVyc2lvblxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi5ieWktaW1nLWVmZmVjdCB7XG4gIHVsIGxpIGEge1xuICAgICYuc2VsZWN0ZWQge1xuICAgICAgJjpiZWZvcmUge1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgei1pbmRleDogMjtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKCRieWktbGlnaHQsIDAuNSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC5ieWktZWZmZWN0LXNsaWRlciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgdG9wOiAyMHB4O1xuICAgIHotaW5kZXg6IDM7XG4gICAgcGFkZGluZzogNXB4O1xuICAgIG1hcmdpbjogMCA1cHg7XG4gICAgaW5wdXRbdHlwZT1cInJhbmdlXCJdIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cbiAgfVxuICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMDI0cHgpIHtcbiAgICAuYnlpLWVmZmVjdC1zbGlkZXIge1xuICAgICAgbWFyZ2luOiAwIDE1cHggMCA1cHg7XG4gICAgfVxuICB9XG59XG5cbi5ieWktaW1nLWZpbHRlcnMge1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICAuYnlpLXJhbmdlLWJveCB7XG4gICAgPiBsYWJlbCB7XG4gICAgICBzdmcge1xuICAgICAgICB3aWR0aDogMTVweDtcbiAgICAgICAgaGVpZ2h0OiAxNXB4O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICAgICAgZmlsbDogJGJ5aS10ZXh0LWNvbG9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMDI0cHgpIHtcbiAgICAuYnlpZS1vcHRpb24ge1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xuICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgIHBhZGRpbmc6IDNweCAwIDVweCAwO1xuICAgICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xuICAgIH1cbiAgICAuYnlpLXJhbmdlLWJveCB7XG4gICAgICBwb3NpdGlvbjogc3RhdGljO1xuICAgICAgJjplbXB0eSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAmLmFjdGl2ZSB7XG4gICAgICAgIC5ieWktcmFuZ2UtYm94LWZpbHRlciB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cbiAgICAgICAgPiBsYWJlbCB7XG4gICAgICAgICAgY29sb3I6ICRieWktdGhlbWU7XG4gICAgICAgICAgc3ZnIHtcbiAgICAgICAgICAgIGZpbGw6ICRieWktdGhlbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAuYnlpLXJhbmdlLWJveC1maWx0ZXIge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogLTMwcHg7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAzMHB4O1xuICAgICAgICB6LWluZGV4OiA5O1xuICAgICAgfVxuICAgICAgPiBsYWJlbCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIHdpZHRoOiA4NXB4O1xuICAgICAgICAtd2Via2l0LWJveC1mbGV4OiAwO1xuICAgICAgICAtbXMtZmxleDogMCAwIDg1cHg7XG4gICAgICAgIGZsZXg6IDAgMCA4NXB4O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIHBhZGRpbmc6IDVweCAwO1xuICAgICAgICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xuICAgICAgICAtd2Via2l0LWJveC1kaXJlY3Rpb246IHJldmVyc2U7XG4gICAgICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcbiAgICAgICAgY29sb3I6ICRieWktdGV4dC1jb2xvcjtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgbGlnaHRlbigkYnlpLWJvcmRlci1jb2xvciwgNSUpO1xuICAgICAgICBzdmcge1xuICAgICAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgICBtYXJnaW46IDVweCBhdXRvIGF1dG8gYXV0bztcbiAgICAgICAgICBmaWxsOiAkYnlpLXRleHQtY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgc3BhbiB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/common/components/image-effects/image-effects.component.ts\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/common/components/image-effects/image-effects.component.ts ***!\r\n  \\****************************************************************************/\r\n/*! exports provided: ImageEffectsComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageEffectsComponent\", function() { return ImageEffectsComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var _image_effects_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./image-effects.service */ \"./src/app/common/components/image-effects/image-effects.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ImageEffectsComponent = /** @class */ (function () {\r\n    function ImageEffectsComponent(cacheService, mainService, eventService, canvasService, cdr, imageEffectsService, tabsService) {\r\n        this.cacheService = cacheService;\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.cdr = cdr;\r\n        this.imageEffectsService = imageEffectsService;\r\n        this.tabsService = tabsService;\r\n        this.svgColorArr = [];\r\n        this.colorarr = [];\r\n        this.hideColorToggle = 1;\r\n        this.isSvgColorsDisplay = false;\r\n        this.effectArray = [];\r\n        this.displayEffects = true;\r\n        this.componentHide = true;\r\n        this.addTransition = 0;\r\n        this.openAccordian = false;\r\n        this.openAccordianEffect = false;\r\n        this.sliderValue = [];\r\n        this.sliderHistory = [];\r\n        this.defaultSliderData = [];\r\n        // Loader\r\n        this.isLeft = false;\r\n        this.isApplyOneFilter = false;\r\n        this.tabsService.registerTabs('image-effects', 'clipart');\r\n        this.tabsService.registerTabs('image-effects', 'image-upload');\r\n        this.getColors();\r\n        this.EffectDataCacheKey = 'imageEffect' + this.mainService.productId + '-' + this.mainService.baseUrl;\r\n    }\r\n    ImageEffectsComponent.prototype.getColors = function () {\r\n        var _this = this;\r\n        if (!this.defaultColor) {\r\n            this.defaultColor = this.mainService.colorData.defaultColor;\r\n            this.colorarr = this.mainService.colorData.color;\r\n        }\r\n        this.eventService.$sub('getColors').subscribe(function (colorData) {\r\n            _this.defaultColor = colorData.defaultColor;\r\n            _this.colorarr = colorData.color;\r\n            if (_this.loaderComponent) {\r\n                _this.loaderComponent.showSubLoader = false;\r\n            }\r\n        }, function (err) { return console.log(err); });\r\n    };\r\n    ImageEffectsComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        var params = {}, url = 'productdesigner/Index/getImageEffects', cacheKey = this.EffectDataCacheKey;\r\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n            _this.cacheService.set(_this.EffectDataCacheKey, data, { maxAge: 15 * 60 });\r\n            _this.imageEffects = data.effects;\r\n            _this.prepareInitialData();\r\n        }).catch(function (err) { return console.log(err); });\r\n        this.subscribeEvents();\r\n    };\r\n    ImageEffectsComponent.prototype.setEffects = function (obj) {\r\n        var _this = this;\r\n        this.effectArray = [];\r\n        obj.filters.filter(function (object) {\r\n            if (object.type == \"HueRotation\") {\r\n                _this.sliderHistory[object.type] = object[\"rotation\"];\r\n            }\r\n            else if (object.type.toLowerCase() != undefined && object.type != \"Pixelate\") {\r\n                _this.sliderHistory[object.type] = object[object.type.toLowerCase()];\r\n            }\r\n            else {\r\n                _this.sliderHistory[object.type] = object[\"blocksize\"];\r\n            }\r\n            if (object.type == \"HueRotation\") {\r\n                _this.effectArray.push('Hue');\r\n                if (_this.sliderValue[\"Hue\"] != undefined && object.sliderValue != null) {\r\n                    _this.sliderValue['Hue'] = object.sliderValue;\r\n                }\r\n                else if (object.sliderValue == null && object.type.toLowerCase() != undefined) {\r\n                    _this.sliderValue[\"Hue\"] = object[\"rotation\"];\r\n                }\r\n            }\r\n            else if (object.type == \"Convolute\") {\r\n                var emboss = [1, 1, 1, 1, 0.7, -1, -1, -1, -1];\r\n                var sharpen = [0, -1, 0, -1, 5, -1, 0, -1, 0];\r\n                if (JSON.stringify(emboss) == JSON.stringify(object.matrix)) {\r\n                    _this.effectArray.push('Emboss');\r\n                }\r\n                if (JSON.stringify(sharpen) == JSON.stringify(object.matrix)) {\r\n                    _this.effectArray.push('Sharpen');\r\n                }\r\n            }\r\n            else {\r\n                _this.effectArray.push(object.type);\r\n                if (_this.sliderValue[object.type] != undefined && object.sliderValue != null) {\r\n                    _this.sliderValue[object.type] = object.sliderValue;\r\n                }\r\n                else if (object.sliderValue == null && object.type.toLowerCase() != undefined) {\r\n                    _this.sliderValue[object.type] = object[object.type.toLowerCase()];\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ImageEffectsComponent.prototype.prepareInitialData = function () {\r\n        var _this = this;\r\n        if (this.imageEffects) {\r\n            this.imageEffects.filter(function (imageEffectObj, i) {\r\n                if (imageEffectObj.slider_value != null) {\r\n                    var val = imageEffectObj.slider_value;\r\n                    var key = imageEffectObj.effect_name;\r\n                    _this.sliderValue[key] = val;\r\n                    _this.defaultSliderData[key] = val;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ImageEffectsComponent.prototype.changeEffect = function (effect, sliderValue, sliderIndex, type) {\r\n        var _this = this;\r\n        if (sliderValue === void 0) { sliderValue = null; }\r\n        if (sliderIndex === void 0) { sliderIndex = null; }\r\n        if (type === void 0) { type = null; }\r\n        var checkObj = this.mainService.canvasService.currentCanvas.getActiveObjects();\r\n        if (checkObj[0].filters.length == 0) {\r\n            if (!this.isApplyOneFilter) {\r\n                this.eventService.$pub('showMainLoader');\r\n            }\r\n        }\r\n        else {\r\n            this.isApplyOneFilter = true;\r\n        }\r\n        var obj = this.canvasService.currentCanvas.getActiveObject();\r\n        var canvas = this.canvasService.currentCanvas;\r\n        this.selectedItem = effect;\r\n        if (sliderValue == null) {\r\n            sliderValue = this.defaultSliderData[effect];\r\n            this.sliderValue[effect] = sliderValue;\r\n            this.sliderHistory[effect] = sliderValue;\r\n            if (this.effectArray.indexOf(effect) < 0) {\r\n                if (type == null) {\r\n                    this.effectArray.push(effect);\r\n                }\r\n            }\r\n            else {\r\n                this.sliderHistory[effect] = null;\r\n                this.effectArray.splice(this.effectArray.indexOf(effect), 1);\r\n            }\r\n        }\r\n        else {\r\n            if (this.effectArray.indexOf(effect) < 0) {\r\n                this.effectArray.push(effect);\r\n            }\r\n            this.sliderHistory[effect] = sliderValue;\r\n        }\r\n        var selectedObjs = this.mainService.canvasService.currentCanvas.getActiveObjects();\r\n        selectedObjs.filter(function (object) {\r\n            var properties = {\r\n                effectArray: _this.effectArray,\r\n                effect: effect,\r\n                imageEffects: _this.imageEffects,\r\n                sliderValue: sliderValue,\r\n                sliderHistory: _this.sliderHistory\r\n            };\r\n            var params = {\r\n                obj: object,\r\n                properties: properties,\r\n                crudServiceString: 'this.imageEffectsService',\r\n            };\r\n            _this.canvasService.objectCRUD(params);\r\n        });\r\n        setTimeout(function () {\r\n            _this.eventService.$pub('hideMainLoader');\r\n        }, 1000);\r\n    };\r\n    ImageEffectsComponent.prototype.resetEffects = function (effect) {\r\n        this.changeEffect(effect, null, null, 'reset');\r\n    };\r\n    ImageEffectsComponent.prototype.ngAfterViewInit = function () {\r\n        if (this.loaderComponent) {\r\n            this.loaderComponent.showSubLoader = true;\r\n        }\r\n        this.cdr.detectChanges();\r\n    };\r\n    ImageEffectsComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this.componentHide = true;\r\n            _this.openAccordian = null;\r\n            _this.openAccordianEffect = null;\r\n        });\r\n        var self = this;\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            _this.enableComponent(obj);\r\n            _this.showHideComponent(obj);\r\n            if (obj.tab == \"clipart\" || obj.tab == \"upload\") {\r\n                _this.openAccordian = true;\r\n            }\r\n            if (_this.isSvgColorsDisplay) {\r\n                _this.colorChange();\r\n            }\r\n            if (obj.type == \"image\") {\r\n                _this.setEffects(obj);\r\n            }\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            _this.enableComponent(obj);\r\n            _this.showHideComponent(obj);\r\n            if (obj.tab == \"clipart\" || obj.tab == \"upload\") {\r\n                _this.openAccordian = true;\r\n            }\r\n            if (_this.isSvgColorsDisplay) {\r\n                _this.colorChange();\r\n            }\r\n            if (obj.type == \"image\") {\r\n                _this.setEffects(obj);\r\n            }\r\n        });\r\n        this.eventService.$sub('objectUpdated', function (obj) {\r\n            _this.enableComponent(obj);\r\n            _this.showHideComponent(obj);\r\n            if (obj.tab == \"clipart\" || obj.tab == \"upload\") {\r\n                _this.openAccordian = true;\r\n            }\r\n            if (_this.isSvgColorsDisplay) {\r\n                _this.colorChange();\r\n            }\r\n            if (obj.type == \"image\") {\r\n                _this.setEffects(obj);\r\n            }\r\n        });\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            _this.sliderHistory = [];\r\n            _this.enableComponent(obj);\r\n            if (obj.tab == \"clipart\" || obj.tab == \"upload\") {\r\n                _this.openAccordian = true;\r\n            }\r\n            if (_this.isSvgColorsDisplay) {\r\n                _this.colorChange();\r\n            }\r\n            if (obj.type == \"image\") {\r\n                _this.setEffects(obj);\r\n            }\r\n            _this.prepareInitialData();\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            _this.componentHide = true;\r\n            _this.openAccordian = null;\r\n            _this.openAccordianEffect = null;\r\n        });\r\n        this.eventService.$sub('closeColorPicker', function () {\r\n            _this.hideColorToggle = 1;\r\n            var rightPanel = document.getElementsByClassName('byi-right-panel');\r\n            if (rightPanel && rightPanel.length > 0) {\r\n                rightPanel[0].classList.remove(\"byi-picker-active\");\r\n            }\r\n        });\r\n    };\r\n    ImageEffectsComponent.prototype.changeSlider = function (effect, value, index) {\r\n        this.changeEffect(effect, value, index);\r\n    };\r\n    ImageEffectsComponent.prototype.showHideComponent = function (obj) {\r\n        if (obj.type == 'activeSelection') {\r\n            var allObj = obj._objects, findNonImageObj = allObj.indexOf(allObj.find(function (currObj) { return (currObj.tab != 'clipart' && currObj.tab != 'upload'); })), show = null;\r\n            if (findNonImageObj == -1) {\r\n                var isAllSvg = allObj.indexOf(allObj.find(function (currObj) { return (currObj.isSvg == false); }));\r\n                if (isAllSvg == -1) {\r\n                    this.isSvgColorsDisplay = true;\r\n                    this.displayEffects = false;\r\n                    show = true;\r\n                }\r\n                else {\r\n                    var findNonSvg = allObj.indexOf(allObj.find(function (currObj) { return (currObj.isSvg == true); }));\r\n                    if (findNonSvg == -1) {\r\n                        this.isSvgColorsDisplay = false;\r\n                        this.displayEffects = true;\r\n                        show = true;\r\n                    }\r\n                }\r\n            }\r\n            this.openAccordian = show;\r\n            this.componentHide = (show == true) ? null : true;\r\n        }\r\n        else if (obj.tab == \"clipart\" || obj.tab == \"upload\") {\r\n            this.openAccordian = true;\r\n        }\r\n    };\r\n    ImageEffectsComponent.prototype.enableComponent = function (obj) {\r\n        if (!Array.isArray(obj)) {\r\n            if (obj.objType == 'image' && obj.isSvg == true) {\r\n                this.componentHide = null;\r\n                this.isSvgColorsDisplay = true;\r\n                this.displayEffects = false;\r\n            }\r\n            else if (obj.objType == 'image' && obj.isSvg == false) {\r\n                this.componentHide = null;\r\n                this.isSvgColorsDisplay = false;\r\n                this.displayEffects = true;\r\n            }\r\n            else {\r\n                this.componentHide = true;\r\n            }\r\n        }\r\n    };\r\n    ImageEffectsComponent.prototype.colorChange = function (changeActiveColor) {\r\n        var _this = this;\r\n        if (changeActiveColor === void 0) { changeActiveColor = true; }\r\n        var selectedObj = this.mainService.canvasService.currentCanvas.getActiveObjects();\r\n        this.isSvgColorsDisplay = true;\r\n        this.svgColorArr = [];\r\n        selectedObj.filter(function (obj) {\r\n            if (obj && obj._objects && obj._objects.length > 0) {\r\n                obj._objects.forEach(function (data) {\r\n                    if (data.fill) {\r\n                        if (_this.svgColorArr.indexOf(data.fill) == -1) {\r\n                            _this.svgColorArr.push(data.fill);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    ImageEffectsComponent.prototype.setFill = function (color) {\r\n        var _this = this;\r\n        this.selectedItem = color;\r\n        var selectedObjs = this.mainService.canvasService.currentCanvas.getActiveObjects();\r\n        var properties = {\r\n            fill: color,\r\n            old_fill: this.fillcolor\r\n        };\r\n        this.fillcolor = color;\r\n        selectedObjs.filter(function (obj) {\r\n            var params = {\r\n                obj: obj,\r\n                properties: properties,\r\n                crudServiceString: 'this.updateObjectService',\r\n                isCenter: false,\r\n                isHistory: true,\r\n                isSvg: true,\r\n            };\r\n            _this.mainService.canvasService.objectCRUD(params);\r\n        });\r\n        this.colorChange(false);\r\n    };\r\n    ImageEffectsComponent.prototype.colorPickerToggle = function (color, event) {\r\n        var rightPanel = document.getElementsByClassName('byi-right-panel');\r\n        if (this.hideColorToggle == 0 && this.selectedItem === color) {\r\n            this.hideColorToggle = 1;\r\n            if (rightPanel && rightPanel.length > 0) {\r\n                rightPanel[0].classList.remove(\"byi-picker-active\");\r\n            }\r\n            return;\r\n        }\r\n        if (rightPanel && rightPanel.length > 0) {\r\n            rightPanel[0].classList.add(\"byi-picker-active\");\r\n        }\r\n        this.hideColorToggle = 0;\r\n        this.fillcolor = color;\r\n        this.selectedItem = color;\r\n        this.cdr.detectChanges();\r\n        // desktop view\r\n        if (!this.mainService.isResponsive) {\r\n            var el = event.srcElement.offsetLeft;\r\n            var elTop = event.srcElement.offsetTop;\r\n            var colorPickerContainerWidth = this.colorPickerContainer.nativeElement.offsetWidth;\r\n            var svgColorContainer = this.colorContainer.nativeElement.offsetWidth + 30;\r\n            // set default place for color picker\r\n            if ((el + colorPickerContainerWidth) < svgColorContainer) {\r\n                this.isLeft = true;\r\n                this.colorPickerContainer.nativeElement.style.left = (el) + 'px';\r\n                this.colorPickerContainer.nativeElement.style.top = (elTop + 50) + 'px';\r\n            }\r\n            else {\r\n                this.isLeft = false;\r\n                this.colorPickerContainer.nativeElement.style.left = (el - 30) + 'px';\r\n                this.colorPickerContainer.nativeElement.style.top = (elTop + 50) + 'px';\r\n            }\r\n            // if scrolled\r\n            var isScrolled = (this.svgColorContainer.nativeElement.scrollTop > 0) ? true : false;\r\n            if (isScrolled) {\r\n                var svgContainer = this.svgColorContainer.nativeElement, currentTop = elTop + 50;\r\n                currentTop -= svgContainer.scrollTop;\r\n                this.colorPickerContainer.nativeElement.style.top = currentTop + 'px';\r\n            }\r\n        }\r\n        // mobile view\r\n        if (this.mainService.isResponsive) {\r\n            var windowWidth = window.outerWidth / 2, selectedElemLeft = event.target.getBoundingClientRect().left, colorPickerWidth = this.colorPickerContainer.nativeElement.offsetWidth;\r\n            selectedElemLeft += 13;\r\n            if (selectedElemLeft > windowWidth && colorPickerWidth < selectedElemLeft) {\r\n                this.isLeft = true;\r\n                this.colorPickerContainer.nativeElement.style.left = (selectedElemLeft) + 'px';\r\n            }\r\n            else {\r\n                this.colorPickerContainer.nativeElement.style.left = (selectedElemLeft - 30) + 'px';\r\n                this.isLeft = false;\r\n            }\r\n        }\r\n    };\r\n    ImageEffectsComponent.prototype.activeEffect = function (newValue) {\r\n        this.selectedResponsiveItem = newValue;\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('colorPickerContainer'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\r\n    ], ImageEffectsComponent.prototype, \"colorPickerContainer\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('loaderComponent'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\r\n    ], ImageEffectsComponent.prototype, \"loaderComponent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('svgColorContainer'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\r\n    ], ImageEffectsComponent.prototype, \"svgColorContainer\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('colorContainer'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\r\n    ], ImageEffectsComponent.prototype, \"colorContainer\", void 0);\r\n    ImageEffectsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: '[image-effects]',\r\n            template: __webpack_require__(/*! ./image-effects.component.html */ \"./src/app/common/components/image-effects/image-effects.component.html\"),\r\n            styles: [__webpack_require__(/*! ./image-effects.component.scss */ \"./src/app/common/components/image-effects/image-effects.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ng2_cache__WEBPACK_IMPORTED_MODULE_7__[\"CacheService\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_8__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"],\r\n            _image_effects_service__WEBPACK_IMPORTED_MODULE_5__[\"ImageEffectsService\"],\r\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__[\"TabsService\"]])\r\n    ], ImageEffectsComponent);\r\n    return ImageEffectsComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/common/components/image-effects/image-effects.service.ts\":\r\n/*!**************************************************************************!*\\\r\n  !*** ./src/app/common/components/image-effects/image-effects.service.ts ***!\r\n  \\**************************************************************************/\r\n/*! exports provided: ImageEffectsService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageEffectsService\", function() { return ImageEffectsService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar ImageEffectsService = /** @class */ (function () {\r\n    function ImageEffectsService() {\r\n        /**\r\n         * Init the service for operation : It initialise the variables\r\n         */\r\n        this.init = function (params) {\r\n            var obj = params.obj, properties = params.properties, canvasService = params.service, eventService = params.eventService;\r\n            // if no object is passed, we will get active object\r\n            if (obj == null)\r\n                obj = canvasService.getActiveObject();\r\n            // if no active object found, return from here\r\n            if (obj == false)\r\n                return;\r\n            var oldProperties = [];\r\n            if (Array.isArray(obj)) {\r\n                oldProperties = obj[0].filters;\r\n            }\r\n            else {\r\n                oldProperties = obj.filters;\r\n            }\r\n            return {\r\n                /**\r\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\r\n                 *\r\n                 */\r\n                exec: function () {\r\n                    // if no active object found, return from here\r\n                    if (obj == false)\r\n                        return;\r\n                    // set properties to current object\r\n                    obj.filters = [];\r\n                    fabric.textureSize = 4096;\r\n                    properties.imageEffects.forEach(function (object, index) {\r\n                        var _a;\r\n                        var name = object.label.toLowerCase();\r\n                        if (properties.effectArray.indexOf(object.effect_name) >= 0) {\r\n                            if (object.effect_name == 'Sharpen') {\r\n                                obj.filters.push(new fabric.Image.filters.Convolute({ matrix: [0, -1, 0, -1, 5, -1, 0, -1, 0] }));\r\n                            }\r\n                            else if (object.effect_name == 'Emboss') {\r\n                                obj.filters.push(new fabric.Image.filters.Convolute({ matrix: [1, 1, 1, 1, 0.7, -1, -1, -1, -1] }));\r\n                            }\r\n                            else if (object.effect_name == 'Hue') {\r\n                                var value = (properties.sliderValue != null) ? parseFloat(properties.sliderValue) : parseFloat(object.value);\r\n                                var objKeys = Object.keys(properties.sliderHistory);\r\n                                var getIndex = objKeys.indexOf(\"HueRotation\");\r\n                                if (getIndex != -1 && object.effect_name != properties.effect) {\r\n                                    value = properties.sliderHistory[objKeys[getIndex]];\r\n                                }\r\n                                var eff = new fabric.Image.filters.HueRotation({ rotation: value });\r\n                                if (object.effect_name == properties.effect) {\r\n                                    eff = Object.assign(eff, { sliderValue: properties.sliderValue });\r\n                                }\r\n                                else {\r\n                                    eff = Object.assign(eff, { sliderValue: properties.sliderHistory[objKeys[getIndex]] });\r\n                                }\r\n                                obj.filters.push(eff);\r\n                            }\r\n                            else {\r\n                                if (object.value != 0) {\r\n                                    var value = (properties.sliderValue != null) ? parseFloat(properties.sliderValue) : parseFloat(object.value);\r\n                                    var objKeys = Object.keys(properties.sliderHistory);\r\n                                    var getIndex = objKeys.indexOf(object.effect_name);\r\n                                    if (getIndex != -1 && object.effect_name != properties.effect) {\r\n                                        value = properties.sliderHistory[objKeys[getIndex]];\r\n                                    }\r\n                                    var eff = new fabric.Image.filters[object.effect_name]((_a = {}, _a[name] = value, _a));\r\n                                    if (object.effect_name == properties.effect) {\r\n                                        eff = Object.assign(eff, { sliderValue: properties.sliderValue });\r\n                                    }\r\n                                    else {\r\n                                        eff = Object.assign(eff, { sliderValue: properties.sliderHistory[objKeys[getIndex]] });\r\n                                    }\r\n                                    obj.filters.push(eff);\r\n                                }\r\n                                else {\r\n                                    obj.filters.push(new fabric.Image.filters[object.effect_name]());\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                    obj.dirty = true;\r\n                    obj.setCoords();\r\n                    obj.applyFilters();\r\n                    // finally update the canvas object\r\n                    canvasService.currentCanvas.calcOffset();\r\n                    setTimeout(function () {\r\n                        canvasService.currentCanvas.renderAll();\r\n                        // Publish an event when new object is updated\r\n                        eventService.$pub('objectUpdated', obj);\r\n                    }, 50);\r\n                },\r\n                /**\r\n                 * This function is used to revert back the last updated object while using undo redo\r\n                 */\r\n                unexec: function () {\r\n                    var canvas = canvasService.currentCanvas;\r\n                    // if no canvas is selected\r\n                    if (!canvas)\r\n                        return;\r\n                    // return of obj is null\r\n                    if (!obj)\r\n                        return;\r\n                    obj.filters = [];\r\n                    oldProperties.forEach(function (prop, index) {\r\n                        obj.filters.push(prop);\r\n                    });\r\n                    obj.applyFilters();\r\n                    // finally update the canvas object\r\n                    canvasService.currentCanvas.renderAll();\r\n                    eventService.$pub('objectUpdated', obj);\r\n                }\r\n            };\r\n        };\r\n    }\r\n    ImageEffectsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], ImageEffectsService);\r\n    return ImageEffectsService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.html\":\r\n/*!*********************************************************************************************************************!*\\\r\n  !*** ./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.html ***!\r\n  \\*********************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byic-color\\\" *ngIf=\\\"isComponentLoad && type == 'simple'\\\">\\n\\t<button class=\\\"byic_color_action\\\" [style.background]=\\\"activeColor\\\" (click)=\\\"colorPickerToggleFont();\\\" title=\\\"{{'Select color'}}\\\"></button>\\n\\t<div class=\\\"byic-colors-select byic-text-colors\\\" [attr.hidden]=\\\"hideColorToggle ? true : null\\\">\\n\\t    <ul>\\n\\t        <li *ngFor=\\\"let color of colorarr\\\" [class.active]=\\\"color.color_code === activeColor\\\" (mousedown)=\\\"changeColor(color.color_code);\\\">\\n\\t            <span [style.background]=\\\"color.color_code\\\" class=\\\"color_picker_item\\\" title=\\\"{{color.color_name}}\\\"></span>\\n\\t        </li>\\n\\t    </ul>\\n\\t</div>\\n</div> \\n<ng-container *ngIf=\\\"isComponentLoad && type == 'background'\\\">\\n\\t<li *ngFor=\\\"let color of colorarr\\\" [class.active]=\\\"color.color_code === activeColor\\\" [style.background-color]=\\\"color.color_code\\\" (click)=\\\"changeBackgroundColor(color)\\\" title=\\\"{{color.color_name}}\\\"></li>\\n\\t<li class=\\\"byi-color-reset\\\" [style.background-color]=\\\"'#fff'\\\" (click)=\\\"resetBackground()\\\" title=\\\"{{'Reset Background'}}\\\"></li>\\n</ng-container>\\n<ul *ngIf=\\\"isComponentLoad && type == 'imageEffect'\\\">\\n\\t<label>{{'Change Color'}}</label>\\n\\t<li [class.active]=\\\"pcolor.color_code === activeColor\\\" *ngFor=\\\"let pcolor of colorarr\\\"\\n\\t(mousedown)=\\\"changeColor(pcolor.color_code)\\\" title=\\\"{{pcolor.color_name}}\\\">\\n\\t\\t<span [style.background]=\\\"pcolor.color_code\\\" class=\\\"color_picker_item\\\"></span>\\n\\t</li>\\n</ul>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.scss\":\r\n/*!*********************************************************************************************************************!*\\\r\n  !*** ./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.scss ***!\r\n  \\*********************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbW1vbi9tb2R1bGVzL2N1c3RvbS1jb2xvci1waWNrZXIvY29tcG9uZW50L2N1c3RvbS1jb2xvci1waWNrZXIvY3VzdG9tLWNvbG9yLXBpY2tlci5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.ts\":\r\n/*!*******************************************************************************************************************!*\\\r\n  !*** ./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.ts ***!\r\n  \\*******************************************************************************************************************/\r\n/*! exports provided: CustomColorPickerComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomColorPickerComponent\", function() { return CustomColorPickerComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\nvar CustomColorPickerComponent = /** @class */ (function () {\r\n    //Constructor\r\n    function CustomColorPickerComponent(mainService, eventService, canvasService) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.colorPickerToggle = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\r\n        this.changeColorEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\r\n        this.resetBackgroundEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\r\n        this.colorarr = [];\r\n        this.isComponentLoad = false;\r\n    }\r\n    //On INIT\r\n    CustomColorPickerComponent.prototype.ngOnInit = function () {\r\n        this.getColors();\r\n    };\r\n    CustomColorPickerComponent.prototype.getColors = function () {\r\n        var _this = this;\r\n        if (this.mainService.colorData.color) {\r\n            this.colorarr = this.mainService.colorData.color;\r\n            this.isComponentLoad = true;\r\n        }\r\n        else {\r\n            this.eventService.$sub('getColors', function (colorData) {\r\n                _this.colorarr = colorData.color;\r\n                _this.mainService.colorData.defaultColor = colorData.defaultColor;\r\n                _this.isComponentLoad = true;\r\n            });\r\n        }\r\n    };\r\n    CustomColorPickerComponent.prototype.colorPickerToggleFont = function () {\r\n        this.colorPickerToggle.next('hideColorToggleFont');\r\n    };\r\n    CustomColorPickerComponent.prototype.changeColor = function (colorCode) {\r\n        this.changeColorEvent.next(colorCode);\r\n    };\r\n    CustomColorPickerComponent.prototype.changeBackgroundColor = function (color) {\r\n        this.changeColorEvent.next(color);\r\n    };\r\n    CustomColorPickerComponent.prototype.resetBackground = function () {\r\n        this.resetBackgroundEvent.next();\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], CustomColorPickerComponent.prototype, \"activeColor\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], CustomColorPickerComponent.prototype, \"type\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], CustomColorPickerComponent.prototype, \"hideColorToggle\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], CustomColorPickerComponent.prototype, \"colorPickerToggle\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], CustomColorPickerComponent.prototype, \"changeColorEvent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], CustomColorPickerComponent.prototype, \"resetBackgroundEvent\", void 0);\r\n    CustomColorPickerComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[custom-color-picker]',\r\n            template: __webpack_require__(/*! ./custom-color-picker.component.html */ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.html\"),\r\n            styles: [__webpack_require__(/*! ./custom-color-picker.component.scss */ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"]])\r\n    ], CustomColorPickerComponent);\r\n    return CustomColorPickerComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/common/modules/custom-color-picker/custom-color-picker.module.ts\":\r\n/*!**********************************************************************************!*\\\r\n  !*** ./src/app/common/modules/custom-color-picker/custom-color-picker.module.ts ***!\r\n  \\**********************************************************************************/\r\n/*! exports provided: CustomColorPickerModule */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomColorPickerModule\", function() { return CustomColorPickerModule; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm5/common.js\");\r\n/* harmony import */ var _component_custom_color_picker_custom_color_picker_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component/custom-color-picker/custom-color-picker.component */ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.ts\");\r\n\r\n\r\n\r\n\r\nvar CustomColorPickerModule = /** @class */ (function () {\r\n    function CustomColorPickerModule() {\r\n    }\r\n    CustomColorPickerModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\r\n            declarations: [_component_custom_color_picker_custom_color_picker_component__WEBPACK_IMPORTED_MODULE_3__[\"CustomColorPickerComponent\"]],\r\n            imports: [\r\n                _angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"]\r\n            ],\r\n            exports: [_component_custom_color_picker_custom_color_picker_component__WEBPACK_IMPORTED_MODULE_3__[\"CustomColorPickerComponent\"]]\r\n        })\r\n    ], CustomColorPickerModule);\r\n    return CustomColorPickerModule;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/demostore/product-demo/product-demo.component.html\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/demostore/product-demo/product-demo.component.html ***!\r\n  \\********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<ng-container *ngIf=\\\"loadContent == 'reqForDemo' && !mainService.isResponsive\\\">\\n  <a class=\\\"byi-btn byi-livechat-btn\\\" href=\\\"javascript:void()\\\" (click)=\\\"showLiveChat()\\\">\\n    <i class=\\\"byi-btn__icon\\\">\\n      <svg class=\\\"icon icon-livechat\\\" viewBox=\\\"0 0 50 50\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-livechat\\\"></use>\\n      </svg>\\n    </i>\\n    <span>Live Chat</span>\\n  </a>\\n</ng-container>\\n\\n<div *ngIf=\\\"loadContent == 'pricePage' && pricePageUrl != '#' && pricePageUrl !== '' && !mainService.isResponsive\\\" class=\\\"byi-pricepage-link\\\">\\n  <div loader #loaderComponent></div>\\n  <a href=\\\"javascript:void(0)\\\" class=\\\"byi-product-demo-btn\\\" id=\\\"demo_personalized\\\" (click)=\\\"productDemoPopupOpen()\\\">\\n    <i class=\\\"byi-btn__icon\\\">\\n      <svg class=\\\"icon icon-support\\\" viewBox=\\\"0 0 50 50\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-support\\\"></use>\\n      </svg>\\n    </i>\\n    <span>{{productDemoButtonText || 'Personalised Demo' | translate}}</span>\\n  </a>\\n  <a [href]=\\\"pricePageUrl\\\" target=\\\"_blank\\\" id=\\\"demo_pricing\\\" >\\n    <i class=\\\"byi-btn__icon\\\">\\n      <svg class=\\\"icon icon-pricing\\\" viewBox=\\\"0 0 50 50\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-pricing\\\"></use>\\n      </svg>\\n    </i>\\n    <span>{{priceButtonText || 'Pricing' | translate}}</span>\\n  </a>\\n</div>\\n<ng-container *ngIf=\\\"loadContent == 'reqForDemo'\\\">\\n  <div class=\\\"byi-fab\\\" [class.byi-fab-active]=\\\"isFabOpen\\\" [attr.hidden]=\\\"(!mainService.isResponsive) ? true : null\\\">\\n    <button class=\\\"byi-fab-action\\\" type=\\\"button\\\" (click)=\\\"openFloatingAction()\\\">\\n      <span></span>\\n    </button>\\n    <div class=\\\"byi-fab-btn-list\\\">\\n      <button class=\\\"byi-fab-btn byi-fab-reqdemo\\\" id=\\\"demo_personalized\\\" (click)=\\\"productDemoPopupOpen()\\\">\\n        <span>{{productDemoButtonText || 'Personalised Demo' | translate}}</span>\\n        <i class=\\\"byi-fab-btn-icon\\\">\\n          <svg class=\\\"icon icon-support\\\" viewBox=\\\"0 0 50 50\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-support\\\"></use>\\n          </svg>\\n        </i>\\n      </button>\\n      <a class=\\\"byi-fab-btn byi-fab-livechat\\\" href=\\\"javascript:void()\\\" (click)=\\\"showLiveChat()\\\">\\n        <span>Live Chat</span>\\n        <i class=\\\"byi-fab-btn-icon\\\">\\n          <svg class=\\\"icon icon-livechat\\\" viewBox=\\\"0 0 50 50\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-livechat\\\"></use>\\n          </svg>\\n        </i>\\n      </a>\\n      <a [href]=\\\"pricePageUrl\\\" id=\\\"demo_pricing\\\" class=\\\"byi-fab-btn byi-fab-pricing\\\" target=\\\"_blank\\\">\\n        <span>{{priceButtonText || 'Pricing' | translate}}</span>\\n        <i class=\\\"byi-fab-btn-icon\\\">\\n          <svg class=\\\"icon icon-pricing\\\" viewBox=\\\"0 0 50 50\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-pricing\\\"></use>\\n          </svg>\\n        </i>\\n      </a>\\n    </div>\\n  </div>\\n</ng-container>\\n\\n<ng-template #requestDemomodel>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">{{'Request Personalized Demo' | translate}}</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closeModel()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div class=\\\"byi-login-tab\\\">\\n      <form [formGroup]=\\\"requestDemoForm\\\" (ngSubmit)=\\\"requestDemoSubmit()\\\">\\n        <div class=\\\"byi-group-element\\\">\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"customerName\\\">{{'Your Name' | translate}} *</label>\\n            <input type=\\\"text\\\" formControlName=\\\"customerName\\\" placeholder=\\\"Enter your name\\\" />\\n            <span class=\\\"byi-error\\\"\\n              *ngIf=\\\"requestDemoForm.get('customerName').value == '' && requestDemoForm.get('customerName').touched\\\">{{'Your name is required' | translate}}</span>\\n          </div>\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"customerEmail\\\">{{'Your Email' | translate}} *</label>\\n            <input type=\\\"text\\\" formControlName=\\\"customerEmail\\\" placeholder=\\\"Enter your email\\\" />\\n            <span class=\\\"byi-error\\\"\\n              *ngIf=\\\"requestDemoForm.get('customerEmail').value == '' && requestDemoForm.get('customerEmail').touched\\\">{{'Your email is required' | translate}}</span>\\n          </div>\\n        </div>\\n        <div class=\\\"byi-group-element\\\">\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"companyName\\\">{{'Your Company Name' | translate}}</label>\\n            <input type=\\\"text\\\" formControlName=\\\"companyName\\\" placeholder=\\\"Enter your company name\\\" />\\n          </div>\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"phoneNumber\\\">{{'Phone Number' | translate}}</label>\\n            <input type=\\\"text\\\" formControlName=\\\"phoneNumber\\\" placeholder=\\\"Enter your phone number\\\" />\\n          </div>\\n        </div>\\n        <div class=\\\"byi-group-element\\\">\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"website\\\">{{'Website' | translate}}</label>\\n            <input type=\\\"text\\\" formControlName=\\\"website\\\" placeholder=\\\"Enter your website\\\" />\\n          </div>\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"technology\\\">{{'Select Technology' | translate}}</label>\\n            <div class=\\\"byi-select\\\">\\n              <select formControlName=\\\"technology\\\" required>\\n                <option selected disabled value=\\\"\\\">Select Technology</option>\\n                <option *ngFor=\\\"let data of technologies\\\" [value]=\\\"data\\\">{{data}}</option>\\n              </select>\\n              <span class=\\\"caret\\\"></span>\\n            </div>\\n            <p *ngIf=\\\"requestDemoForm.get('technology').value == '' && requestDemoForm.get('technology').touched\\\">\\n              {{'Please select technology' | translate}}</p>\\n          </div>\\n        </div>\\n        <div class=\\\"byi-group-element\\\">\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"country\\\">{{'Select Country' | translate}}</label>\\n            <div class=\\\"byi-select\\\">\\n              <select formControlName=\\\"country\\\">\\n                <option selected disabled value=\\\"\\\">Select Country</option>\\n                <option *ngFor=\\\"let countryData of countries\\\" [value]=\\\"countryData.name\\\"\\n                  [selected]=\\\"countryData.id == selectedCountry\\\">\\n                  {{countryData.name}}</option>\\n              </select>\\n              <span class=\\\"caret\\\"></span>\\n            </div>\\n          </div>\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"message\\\">{{\\\"Your message\\\" | translate}}</label>\\n            <textarea class=\\\"byi-input\\\" rows=\\\"3\\\" formControlName=\\\"message\\\" placeholder=\\\"Enter your message\\\"></textarea>\\n          </div>\\n        </div>\\n        <div class=\\\"byi-group-element\\\">\\n          <div class=\\\"byi-float-checkbox\\\">\\n            <label class=\\\"byi-checkbox\\\">\\n              <input type=\\\"checkbox\\\" formControlName=\\\"confirmCheckbox\\\" />\\n              <span></span>\\n              {{'Please click here to confirm that you are happy to share above listed information with us.' | translate}}\\n            </label>\\n            <p class=\\\"byi-error\\\"\\n              *ngIf=\\\"requestDemoForm.get('confirmCheckbox').value == '' && requestDemoForm.get('confirmCheckbox').touched\\\">\\n              {{'Your confirmation is required.' | translate}}</p>\\n          </div>\\n        </div>\\n        <div class=\\\"byi-group-element\\\">\\n          <re-captcha (resolved)=\\\"resolved($event)\\\" [siteKey]=\\\"recaptchaKey\\\"></re-captcha>\\n        </div>\\n        <div class=\\\"byi-form-action\\\">\\n          <button class=\\\"byi-btn\\\" type=\\\"submit\\\" [disabled]=\\\"!isEnable\\\">Submit</button>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/demostore/product-demo/product-demo.component.scss\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/demostore/product-demo/product-demo.component.scss ***!\r\n  \\********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RlbW9zdG9yZS9wcm9kdWN0LWRlbW8vcHJvZHVjdC1kZW1vLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/demostore/product-demo/product-demo.component.ts\":\r\n/*!******************************************************************!*\\\r\n  !*** ./src/app/demostore/product-demo/product-demo.component.ts ***!\r\n  \\******************************************************************/\r\n/*! exports provided: ProductDemoComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductDemoComponent\", function() { return ProductDemoComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\r\n/* harmony import */ var ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-bootstrap/modal */ \"./node_modules/ngx-bootstrap/modal/fesm5/ngx-bootstrap-modal.js\");\r\n/* harmony import */ var _services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_6__);\r\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ProductDemoComponent = /** @class */ (function () {\r\n    function ProductDemoComponent(modalService, formBuilder, mainService, cacheService, cdr) {\r\n        this.modalService = modalService;\r\n        this.formBuilder = formBuilder;\r\n        this.mainService = mainService;\r\n        this.cacheService = cacheService;\r\n        this.cdr = cdr;\r\n        this.modalClass = '';\r\n        this.technologies = [\"Magento\"];\r\n        this.countries = [];\r\n        this.country = \"\";\r\n        this.recaptchaKey = '';\r\n        this.pricePageUrl = '';\r\n        this.priceButtonText = '';\r\n        this.productDemoButtonText = '';\r\n        this.isFabOpen = false;\r\n        this.liveChatStatus = false;\r\n        this.isEnable = false;\r\n    }\r\n    ProductDemoComponent.prototype.ngOnInit = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.getFormData()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.openProductDemoPopup();\r\n                        this.requestDemoForm = this.formBuilder.group({\r\n                            customerName: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__[\"Validators\"].required],\r\n                            customerEmail: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__[\"Validators\"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__[\"Validators\"].pattern(\"[^ @]*@[^ @]*\")]],\r\n                            companyName: [''],\r\n                            phoneNumber: [''],\r\n                            website: [''],\r\n                            technology: [this.technology, _angular_forms__WEBPACK_IMPORTED_MODULE_2__[\"Validators\"].required],\r\n                            country: [''],\r\n                            message: [''],\r\n                            confirmCheckbox: ['']\r\n                        });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ProductDemoComponent.prototype.openProductDemoPopup = function () {\r\n        var url = new URL(window.location.href);\r\n        var paramValue = url.searchParams.get(\"req\");\r\n        if (paramValue) {\r\n            this.params = paramValue;\r\n            var cacheKey = 'reqDemoPopup' + this.mainService.baseUrl;\r\n            var data = '';\r\n            if (!this.cacheService.exists(cacheKey)) {\r\n                var thisVar_1 = this;\r\n                setTimeout(function () {\r\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.fire({\r\n                        title: thisVar_1.reqDemoPopTitle ? thisVar_1.reqDemoPopTitle : 'Request Demo',\r\n                        text: thisVar_1.reqDemoPopText ? thisVar_1.reqDemoPopText : \"How are you liking the demo so far? Hope you are having a good time playing around with our tool. Want to explore more with us? Our executives will help you with a FREE personalized demo. They can help you find the perfect solution for your business challenges.\",\r\n                        type: 'info',\r\n                        showCancelButton: true,\r\n                        confirmButtonText: thisVar_1.productDemoButtonText ? thisVar_1.productDemoButtonText : 'Personalised Product Demo',\r\n                        cancelButtonText: thisVar_1.reqDemoPopCancelbtnText ? thisVar_1.reqDemoPopCancelbtnText : 'Let Me Explore Myself',\r\n                        allowOutsideClick: false\r\n                    }).then(function (data) {\r\n                        if (data.value) {\r\n                            var url_1 = 'productdesigner/index/requestPopUpDemo';\r\n                            var params = {\r\n                                'reqParams': thisVar_1.params\r\n                            };\r\n                            thisVar_1.mainService.post(url_1, params, null).then(function (resp) {\r\n                                sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.fire({\r\n                                    title: 'Alert!',\r\n                                    text: thisVar_1.reqDemoThankyouPopupText ? thisVar_1.reqDemoThankyouPopupText : \"Thank you for request\",\r\n                                    type: 'success',\r\n                                    showCancelButton: false,\r\n                                    confirmButtonText: 'OK',\r\n                                    allowOutsideClick: false\r\n                                });\r\n                            }).catch(function (err) {\r\n                                console.log(err);\r\n                            });\r\n                        }\r\n                    });\r\n                }, 60000);\r\n                thisVar_1.cacheService.set(cacheKey, data, { maxAge: 1000 * 60 });\r\n            }\r\n        }\r\n    };\r\n    ProductDemoComponent.prototype.getFormData = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var cacheKey, data, url, params;\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        cacheKey = 'requestfordemo-' + this.mainService.baseUrl;\r\n                        if (!this.cacheService.exists(cacheKey)) return [3 /*break*/, 1];\r\n                        data = this.cacheService.get(cacheKey);\r\n                        this.recaptchaKey = data.recaptchaKey;\r\n                        this.pricePageUrl = (data.pricingPageUrl == '' || data.pricingPageUrl == undefined || data.pricingPageUrl == null) ? '#' : data.pricingPageUrl;\r\n                        this.priceButtonText = data.priceButtonText;\r\n                        this.productDemoButtonText = data.productDemoButtonText;\r\n                        this.countries = data.countries;\r\n                        this.technologies = data.technologies;\r\n                        this.technology = this.technologies[0];\r\n                        this.reqDemoPopTitle = data.reqDemoPopTitle;\r\n                        this.reqDemoPopText = data.reqDemoPopText;\r\n                        this.reqDemoPopCancelbtnText = data.reqDemoPopCancelbtnText;\r\n                        this.reqDemoThankyouPopupText = data.reqDemoThankyouPopupText;\r\n                        this.cdr.detectChanges();\r\n                        return [3 /*break*/, 3];\r\n                    case 1:\r\n                        url = 'productdesigner/index/getRequestDemoData';\r\n                        params = {};\r\n                        return [4 /*yield*/, this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n                                _this.cacheService.set(cacheKey, data, { maxAge: 15 * 60 });\r\n                                _this.recaptchaKey = data.recaptchaKey;\r\n                                _this.pricePageUrl = (data.pricingPageUrl == '' || data.pricingPageUrl == undefined || data.pricingPageUrl == null) ? '#' : data.pricingPageUrl;\r\n                                _this.priceButtonText = data.priceButtonText;\r\n                                _this.productDemoButtonText = data.productDemoButtonText;\r\n                                _this.countries = data.countries;\r\n                                _this.technologies = data.technologies;\r\n                                _this.technology = _this.technologies[0];\r\n                                _this.reqDemoPopTitle = data.reqDemoPopTitle;\r\n                                _this.reqDemoPopText = data.reqDemoPopText;\r\n                                _this.reqDemoPopCancelbtnText = data.reqDemoPopCancelbtnText;\r\n                                _this.reqDemoThankyouPopupText = data.reqDemoThankyouPopupText;\r\n                                _this.cdr.detectChanges();\r\n                            })];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ProductDemoComponent.prototype.productDemoPopupOpen = function () {\r\n        this.modalRef = this.modalService.show(this.requestDemomodel, Object.assign({}, { class: 'byi-reqdemo-modal' }));\r\n    };\r\n    ProductDemoComponent.prototype.requestDemoSubmit = function () {\r\n        var _this = this;\r\n        if (this.requestDemoForm.valid) {\r\n            this.modalRef.hide();\r\n            this.loaderComponent.showMainLoader = true;\r\n            var url = 'productdesigner/index/requestDemo';\r\n            var param = {\r\n                formData: this.requestDemoForm.value\r\n            };\r\n            this.mainService.post(url, param, null).then(function (resp) {\r\n                _this.requestDemoForm.reset();\r\n                _this.technology = _this.technologies[0];\r\n                _this.country = \"\";\r\n                _this.loaderComponent.showMainLoader = false;\r\n                _this.showSuccessAlert();\r\n            }).catch(function (err) {\r\n                console.log(err);\r\n            });\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n    };\r\n    ProductDemoComponent.prototype.showSuccessAlert = function () {\r\n        sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.fire({\r\n            title: 'Alert!',\r\n            text: this.reqDemoThankyouPopupText ? this.reqDemoThankyouPopupText : \"Thank you for request\",\r\n            type: 'success',\r\n            confirmButtonText: 'OK',\r\n            allowOutsideClick: false\r\n        }).then(function (data) {\r\n            if (data.value) {\r\n            }\r\n        });\r\n    };\r\n    ProductDemoComponent.prototype.resolved = function (event) {\r\n        if (event) {\r\n            this.isEnable = true;\r\n        }\r\n    };\r\n    ProductDemoComponent.prototype.closeModel = function () {\r\n        this.modalRef.hide();\r\n    };\r\n    ProductDemoComponent.prototype.openFloatingAction = function () {\r\n        this.isFabOpen = !this.isFabOpen;\r\n    };\r\n    ProductDemoComponent.prototype.showLiveChat = function () {\r\n        if (Tawk_API.isChatHidden()) {\r\n            Tawk_API.showWidget();\r\n            Tawk_API.maximize();\r\n        }\r\n        else {\r\n            Tawk_API.hideWidget();\r\n        }\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('requestDemomodel'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ProductDemoComponent.prototype, \"requestDemomodel\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('loaderComponent'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_7__[\"LoaderComponent\"])\r\n    ], ProductDemoComponent.prototype, \"loaderComponent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ProductDemoComponent.prototype, \"loadContent\", void 0);\r\n    ProductDemoComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[product-demo]',\r\n            template: __webpack_require__(/*! ./product-demo.component.html */ \"./src/app/demostore/product-demo/product-demo.component.html\"),\r\n            styles: [__webpack_require__(/*! ./product-demo.component.scss */ \"./src/app/demostore/product-demo/product-demo.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_3__[\"BsModalService\"],\r\n            _angular_forms__WEBPACK_IMPORTED_MODULE_2__[\"FormBuilder\"],\r\n            _services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_5__[\"CacheService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"]])\r\n    ], ProductDemoComponent);\r\n    return ProductDemoComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/background-color/background-color.component.html\":\r\n/*!****************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/background-color/background-color.component.html ***!\r\n  \\****************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div loader #loaderComponent></div>\\n<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div *ngIf=\\\"loaderComponent.showSubLoader === false && loadContent\\\" class=\\\"byi-colors-list\\\">\\n    <ul class=\\\"byie-custom-color\\\" *ngIf=\\\"isChildColorComponentLoad\\\" custom-color-picker [type]=\\\"'background'\\\" [activeColor]=\\\"selectedColor\\\" [hideColorToggle]=\\\"hideColorToggleBackground\\\" (colorPickerToggle)=\\\"colorPickerToggleBackground($event)\\\" (changeColorEvent)=\\\"changeBackgroundColor($event)\\\" (resetBackgroundEvent)=\\\"resetBackground()\\\"></ul> \\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/background-color/background-color.component.scss\":\r\n/*!****************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/background-color/background-color.component.scss ***!\r\n  \\****************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9iYWNrZ3JvdW5kLWNvbG9yL2JhY2tncm91bmQtY29sb3IuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/background-color/background-color.component.ts\":\r\n/*!**************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/background-color/background-color.component.ts ***!\r\n  \\**************************************************************************************/\r\n/*! exports provided: BackgroundColorComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackgroundColorComponent\", function() { return BackgroundColorComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar BackgroundColorComponent = /** @class */ (function () {\r\n    function BackgroundColorComponent(mainService, cacheService, pubsub, canvasService) {\r\n        var _this = this;\r\n        this.mainService = mainService;\r\n        this.cacheService = cacheService;\r\n        this.pubsub = pubsub;\r\n        this.canvasService = canvasService;\r\n        this.currentTab = 4;\r\n        this.hideColorToggleBackground = 1;\r\n        this.accordianId = 0;\r\n        this.isChildColorComponentLoad = false;\r\n        this.pubsub.$sub('getSubTabs', function (mainTabId) {\r\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\r\n                _this.getSubTabs(mainTabId);\r\n            }\r\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\r\n        });\r\n        this.pubsub.$sub('canvasBackgroundChange', function () {\r\n            _this.selectedColor = _this.canvasService.currentCanvas.backgroundColor;\r\n        });\r\n    }\r\n    BackgroundColorComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.pubsub.$sub('imageSideChanged', function () {\r\n            _this.selectedColor = '#fffff';\r\n            _this.selectedColor = _this.canvasService.currentCanvas.backgroundColor;\r\n        });\r\n        this.pubsub.$sub('closeColorPicker', function () {\r\n            _this.hideColorToggleBackground = 1;\r\n        });\r\n        this.isChildColorComponentLoad = true;\r\n    };\r\n    BackgroundColorComponent.prototype.closeLoader = function () {\r\n        if (this.loaderComponent && this.loaderComponent.showSubLoader) {\r\n            this.loaderComponent.showSubLoader = false;\r\n        }\r\n    };\r\n    BackgroundColorComponent.prototype.getSubTabs = function (mainTabId) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var data;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                data = this.mainService.tabsFlow[mainTabId];\r\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\r\n                if (this.subTabsData && this.subTabsData.length > 0) {\r\n                    this.accordianId = this.subTabsData[0].id;\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    BackgroundColorComponent.prototype.changeBackgroundColor = function (color) {\r\n        this.selectedColor = color.color_code;\r\n        var params = {\r\n            properties: {\r\n                backgroundColor: color.color_code\r\n            },\r\n            crudServiceString: 'this.canvasUpdateService',\r\n            isHistory: true,\r\n        };\r\n        this.canvasService.objectCRUD(params);\r\n        this.canvasService.usedColorsCounter();\r\n    };\r\n    BackgroundColorComponent.prototype.resetBackground = function () {\r\n        this.selectedColor = null;\r\n        var params = {\r\n            properties: {\r\n                backgroundColor: null\r\n            },\r\n            crudServiceString: 'this.canvasUpdateService',\r\n            isHistory: true,\r\n        };\r\n        this.canvasService.objectCRUD(params);\r\n        this.canvasService.usedColorsCounter();\r\n    };\r\n    BackgroundColorComponent.prototype.colorPickerToggleBackground = function (event) {\r\n        if (this.hideColorToggleBackground == 1) {\r\n            this.hideColorToggleBackground = 0;\r\n        }\r\n        else if (this.hideColorToggleBackground == 0) {\r\n            this.hideColorToggleBackground = 1;\r\n        }\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], BackgroundColorComponent.prototype, \"loadContent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\r\n    ], BackgroundColorComponent.prototype, \"loaderComponent\", void 0);\r\n    BackgroundColorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: '[background-color]',\r\n            template: __webpack_require__(/*! ./background-color.component.html */ \"./src/app/essentials/components/background-color/background-color.component.html\"),\r\n            styles: [__webpack_require__(/*! ./background-color.component.scss */ \"./src/app/essentials/components/background-color/background-color.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_5__[\"CacheService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"]])\r\n    ], BackgroundColorComponent);\r\n    return BackgroundColorComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/cart/cart.component.html\":\r\n/*!****************************************************************!*\\\r\n  !*** ./src/app/essentials/components/cart/cart.component.html ***!\r\n  \\****************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<button *ngIf=\\\"!mainService.isResponsive && mainService.isAdmin == false\\\" type=\\\"button\\\" class=\\\"byi-atc-btn\\\"\\n  (click)=\\\"openModal(template)\\\">{{'Add to\\n  Cart' | translate}}</button>\\n<button *ngIf=\\\"mainService.isResponsive\\\" type=\\\"button\\\" class=\\\"byiu-right-icon\\\" (click)=\\\"openModal(template)\\\">\\n  <svg class=\\\"icon icon-cart\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-cart\\\"></use>\\n  </svg>\\n</button>\\n\\n<ng-template #template>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">{{'Add to Cart' | translate}}</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closeModal()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div class=\\\"byi-addtocart-box \\\">\\n\\n\\n      <!-- Custom Options Section -->\\n      <div class=\\\"byi-cart-custom\\\" custom-options *ngIf=\\\"customOptionsData && customOptionsData.length\\\">\\n      </div>\\n      <form [formGroup]=\\\"customForm\\\" name=\\\"customForm\\\" id=\\\"customForm\\\">\\n        <div printing-methods [parentFormGroup]=\\\"customForm\\\" [isClickedAddtoCart]=\\\"isClickedAddtoCart\\\"></div>\\n      </form>\\n      <!-- END OF Custom Options Section -->\\n\\n      <!-- Simple Product Section -->\\n      <div class=\\\"qty-container\\\" *ngIf=\\\"mainService.productType == 'simple'\\\">\\n        <label>{{'Quantity' | translate}}</label>\\n        <input class=\\\"byi-input size-qty\\\" name=\\\"qty\\\" [(ngModel)]=\\\"qty\\\" type=\\\"text\\\"\\n          (keypress)=\\\"confProductService.keyPress($event)\\\" (input)=\\\"simpleProductQtyUpdated($event.target.value)\\\">\\n        <span *ngIf=\\\"qty <= 0\\\" class=\\\"text-danger\\\">\\n          Invalid Quantity\\n        </span>\\n      </div>\\n      <!-- END OF Simple product section -->\\n\\n\\n      <!-- Product Attribute Selection section -->\\n      <div *ngIf=\\\"showConfigurableOptions()\\\" conf-product-attr [confProductOptionsObject]=\\\"confProductOptionsObject\\\">\\n      </div>\\n      <!-- END OF Product Attribute Selection section -->\\n\\n      <div class=\\\"byi-cart-note\\\">\\n        <label>Add Note</label>\\n        <input class=\\\"byi-input\\\" type=\\\"textarea\\\" name=\\\"note\\\" [(ngModel)]=\\\"addnote\\\">\\n      </div>\\n      <div class=\\\"byi-used-colors\\\" *ngIf=\\\"canvasService.usedColorCounter\\\">\\n        <label>Used Colors <span>{{ '(' + canvasService.usedColorCounter + ')'}}</span></label>\\n      </div>\\n\\n      <!-- Cart Footer Section -->\\n      <div class=\\\"byi-cart-footer\\\">\\n        <div class=\\\"byic-left\\\">\\n          <span class=\\\"byic-price\\\">{{priceService.getPrice()}}</span>\\n          <span *ngIf=\\\"showBothPrices\\\">(Excl. Tax: {{productPriceExclTax}})</span>\\n        </div>\\n        <div class=\\\"byic-right\\\">\\n          <button type=\\\"button\\\" class=\\\"byi-atc-btn\\\" (click)=\\\"validateCartData()\\\">{{'Add to Cart' | translate}}</button>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"tierPriceData && tierPriceData.length > 0\\\" class=\\\"byi-tierprice-info\\\">\\n        <p *ngFor=\\\"let data of tierPriceData\\\">Buy {{data.price_qty}} for {{formatCurrency(data.price_with_Tax)}} <span\\n            *ngIf=\\\"showBothPrices\\\">(Excl. Tax:{{formatCurrency(data.website_price)}})</span> each and save\\n          {{data.percentage_value}}%</p>\\n      </div>\\n      <!-- END OF Cart Footer Section -->\\n\\n    </div>\\n  </div>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/cart/cart.component.scss\":\r\n/*!****************************************************************!*\\\r\n  !*** ./src/app/essentials/components/cart/cart.component.scss ***!\r\n  \\****************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jYXJ0L2NhcnQuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/cart/cart.component.ts\":\r\n/*!**************************************************************!*\\\r\n  !*** ./src/app/essentials/components/cart/cart.component.ts ***!\r\n  \\**************************************************************/\r\n/*! exports provided: CartComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CartComponent\", function() { return CartComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var _custom_options_custom_options_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../custom-options/custom-options.service */ \"./src/app/essentials/components/custom-options/custom-options.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\r\n/* harmony import */ var _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../conf-product-attr/conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_12__);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar CartComponent = /** @class */ (function () {\r\n    function CartComponent(mainService, eventService, designService, confProductService, translate, customOptionsService, canvasService, priceService) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.designService = designService;\r\n        this.confProductService = confProductService;\r\n        this.translate = translate;\r\n        this.customOptionsService = customOptionsService;\r\n        this.canvasService = canvasService;\r\n        this.priceService = priceService;\r\n        this.isLessPrintingMinmumQty = false;\r\n        this.isClickedAddtoCart = false;\r\n        this.lastSavedDesignId = [];\r\n    }\r\n    /**\r\n     * Angular Init function\r\n     */\r\n    CartComponent.prototype.ngOnInit = function () {\r\n        this.customForm = new _angular_forms__WEBPACK_IMPORTED_MODULE_11__[\"FormGroup\"]({\r\n            method: new _angular_forms__WEBPACK_IMPORTED_MODULE_11__[\"FormControl\"]()\r\n        });\r\n        this.init();\r\n    };\r\n    CartComponent.prototype.formatCurrency = function (price) {\r\n        if (price != null) {\r\n            return Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_8__[\"FormatCurrency\"])(price, this.confProductService.priceFormat, '');\r\n        }\r\n    };\r\n    /**\r\n     * Assign default values here\r\n     */\r\n    CartComponent.prototype.init = function () {\r\n        this.qty = 0;\r\n        this.customOptionsData = [];\r\n        this.customOptionsFileData = [];\r\n        this.defaultSelectedAttributes = {};\r\n        this.subscribeEvents();\r\n    };\r\n    /**\r\n     * Subscrine events and perform actions for  the same\r\n     */\r\n    CartComponent.prototype.subscribeEvents = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                /*Get Cart Data From Price Component*/\r\n                this.eventService.$sub('getCartData', function (data) {\r\n                    _this.confProductService.priceFormat = data.priceFormat;\r\n                    _this.confProductService.finalPrice = data.finalPrice;\r\n                    _this.confProductService.cartTotalAmount = Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_8__[\"FormatCurrency\"])(data.finalPrice, data.priceFormat, '');\r\n                    _this.tierPriceData = data.tierPriceData;\r\n                    _this.showBothPrices = data.showBothPrices;\r\n                    _this.productPriceExclTax = data.productPriceExclTax;\r\n                });\r\n                // subscribe event when product options data is fetched\r\n                this.eventService.$sub('productOptionsFetched', function (resp) {\r\n                    _this.confProductOptionsObject = Object.assign({}, resp);\r\n                    // set initial default selected super attributes\r\n                    _this.confProductService.defaultSelectedOptions = Object.assign({}, resp.selectedOptions);\r\n                });\r\n                // when user changes product\r\n                this.eventService.$sub('productChanged', function (resp) {\r\n                    // set new super attributes\r\n                    _this.confProductService.resetMe = true;\r\n                    _this.confProductService.defaultSelectedOptions = Object.assign({}, resp.defaultSelectedOptions);\r\n                    _this.confProductService.defaultSelectedOptionsValues = Object.assign({}, resp.defaultSelectedOptionsValues);\r\n                    _this.confProductService.fixDefaultSelectedOptions = Object.assign({}, resp.defaultSelectedOptionsValues);\r\n                });\r\n                this.eventService.$sub('resetCart', function (removedNameNumberObj) {\r\n                    _this.confProductService.init();\r\n                    if (_this.confProductService.isNameNumber && removedNameNumberObj != null && _this.confProductService.cartData && _this.confProductService.cartData.length > 0) {\r\n                        if (removedNameNumberObj.hasOwnProperty('nameNumberData') && removedNameNumberObj.hasOwnProperty('type'))\r\n                            removedNameNumberObj.nameNumberData.filter(function (removedObj) {\r\n                                _this.confProductService.nameNumberReset(removedObj, removedNameNumberObj.type);\r\n                            });\r\n                        else if (removedNameNumberObj.hasOwnProperty('id')) {\r\n                            _this.confProductService.nameNumberReset(removedNameNumberObj);\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this.confProductService.totalRows = [];\r\n                        _this.confProductService.cartData = [];\r\n                        if (_this.confProductService.nameNumberData.newRow && _this.confProductService.nameNumberData.newRow.length > 0) {\r\n                            // set reset price flag\r\n                            var resetPrice = (removedNameNumberObj && removedNameNumberObj.hasOwnProperty('resetPrice')) ? removedNameNumberObj.resetPrice : false, \r\n                            // set default qty to set based on reset price flag\r\n                            // if reset price flag is true, default qty to sub will be total name number rows - 1\r\n                            defaultQtyToSubtract = (resetPrice) ? _this.confProductService.nameNumberData.newRow.length - 1 : 1;\r\n                            // calc new total qty\r\n                            _this.priceService.totalQty -= (_this.priceService.totalQty > 1) ? defaultQtyToSubtract : 0;\r\n                            // set extra product price\r\n                            _this.priceService.extraPriceToBeAdded.productPrice -= (_this.priceService.extraPriceToBeAdded.productPrice <= 0) ? 0 : (_this.priceService.defaultPrice * (defaultQtyToSubtract));\r\n                            // finally recalculate price\r\n                            _this.priceService.addThisPrice();\r\n                        }\r\n                        else {\r\n                            _this.priceService.totalQty = 1;\r\n                            _this.priceService.extraPriceToBeAdded.productPrice = 0;\r\n                            _this.priceService.addThisPrice();\r\n                        }\r\n                    }\r\n                });\r\n                this.eventService.$sub('objectAdded', function (obj) {\r\n                    obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n                    if (_this.confProductService.isNameNumber && _this.confProductService.cartData && _this.confProductService.cartData.length && _this.confProductService.totalRows && _this.confProductService.totalRows.length && obj.hasOwnProperty('addObj') && (obj.addObj == 'name' || obj.addObj == 'number')) {\r\n                        _this.updateCartObject(obj.addObj, obj.text);\r\n                    }\r\n                });\r\n                this.eventService.$sub('objectUpdated', function (obj) {\r\n                    if (!_this.confProductService.cartData || !_this.confProductService.cartData.length)\r\n                        return;\r\n                    obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n                    if (obj.hasOwnProperty('addObj') && (obj.addObj == 'name' || obj.addObj == 'number')) {\r\n                        var newText = obj.text, oldText = obj._stateProperties.text, type = obj.addObj;\r\n                        if (newText != oldText) {\r\n                            _this.updateCartObject(type, newText);\r\n                        }\r\n                    }\r\n                });\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    CartComponent.prototype.updateCartObject = function (type, newText) {\r\n        var nameNumberId = this.confProductService.nameNumberData.newRow.find(function (nameNumberObj) { return (nameNumberObj[type] == newText); });\r\n        if (nameNumberId) {\r\n            nameNumberId = nameNumberId.id;\r\n            var findCartItem = null, totalCart = this.confProductService.cartData.length, tmpCartItem = void 0, index = void 0;\r\n            for (var i = 0; i < totalCart; i++) {\r\n                tmpCartItem = this.confProductService.cartData[i];\r\n                if (tmpCartItem.hasOwnProperty('additional_options') && tmpCartItem.additional_options.length) {\r\n                    index = tmpCartItem.additional_options.indexOf(tmpCartItem.additional_options.find(function (additionalOpt) { return (additionalOpt.id == nameNumberId); }));\r\n                    if (index >= 0) {\r\n                        findCartItem = tmpCartItem;\r\n                        findCartItem.additional_options[index][type] = newText;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (findCartItem != null) {\r\n                this.confProductService.cartData[this.confProductService.cartData.indexOf(findCartItem)] = findCartItem;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Custom Options File upload process\r\n     * We are returning promise here, as there could be more than one files, add to cart proccess needs to wait till this process is finished\r\n     *\r\n     * @param fileList\r\n     */\r\n    CartComponent.prototype.uploadFilesToServer = function (fileList) {\r\n        var _this = this;\r\n        // declare promise here\r\n        return new Promise(function (resolve, reject) {\r\n            // if no files are found, return from here\r\n            if (!fileList || fileList.length == 0)\r\n                resolve(true);\r\n            // variable declaration\r\n            var formData = new FormData(), url = \"productdesigner/Cart/uploadCustomOptionFile\", totalFiles = fileList.length, totalProccessed = 0, tmpFileObj;\r\n            // travers file object one by one\r\n            fileList.filter(function (file) {\r\n                // initialize fresh form data object\r\n                formData = new FormData();\r\n                // prepare form data\r\n                formData.append('file', file);\r\n                formData.append('allowedExtensions', file.allowedExtensions);\r\n                // send post request with above data\r\n                // as we are not performing any process after file is uploaded successfully\r\n                // we are dealing with finally() directly \r\n                // logic here is, as soon as totalFiles matches with totalProccessed, we will return from here \r\n                _this.mainService.postFile(url, formData)\r\n                    .then(function (resp) {\r\n                    tmpFileObj = {\r\n                        fileName: resp.name,\r\n                        filePath: resp.url\r\n                    };\r\n                    tmpFileObj = Object.assign(tmpFileObj, file.fileInfo);\r\n                    _this.customOptionsFileData.push(tmpFileObj);\r\n                }).finally(function () {\r\n                    formData = null;\r\n                    totalProccessed++;\r\n                    if (totalProccessed == totalFiles)\r\n                        resolve(true);\r\n                });\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Open add to cart popup\r\n     * @param template\r\n     */\r\n    CartComponent.prototype.openModal = function (template) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.canvasService.hasCanvasObjectOrBackgroundAll()) {\r\n                            this.mainService.swal(this.translate.instant('Alert'), this.translate.instant('Please design the product !'), \"warning\");\r\n                            return [2 /*return*/];\r\n                        }\r\n                        return [4 /*yield*/, this.getCustomOptions()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.modalRef = this.mainService.openThisModal(template, 'byi-cart-modal');\r\n                        this.canvasService.deselectAllObjects();\r\n                        this.confProductService.init();\r\n                        //allow add more in add to cart\r\n                        /*let self = this;\r\n                        setTimeout(() => {\r\n                          self.confProductService.displayAddMore = self.allowAddMore;\r\n                        }, 500);*/\r\n                        this.confProductService.displayAddMore = this.allowAddMore;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Get custom options\r\n     */\r\n    CartComponent.prototype.getCustomOptions = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var url, param;\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        url = \"productdesigner/Cart/getCustomOptions\", param = {\r\n                            product_id: this.mainService.productId\r\n                        };\r\n                        // check if item id is present\r\n                        if (this.mainService.itemId)\r\n                            param = Object.assign(param, { itemId: this.mainService.itemId });\r\n                        // get custom option data from here\r\n                        return [4 /*yield*/, this.mainService.getData(url, param, 'cartCustomOptions-' + this.mainService.productId + '-' + this.mainService.itemId, null, true)\r\n                                .then(function (response) {\r\n                                // if no data is returned or error occured, display error message and return from here\r\n                                if ((response && response.status == \"failure\") || !(response && response.custom_options && response.status == \"Success\")) {\r\n                                    var msg = (response && response.log) ? response.log : _this.translate.instant(\"Something went wrong\");\r\n                                    _this.mainService.swal(_this.translate.instant(\"Error\"), _this.translate.instant(msg), \"error\");\r\n                                    return;\r\n                                }\r\n                                _this.allowAddMore = response.allow_add_more;\r\n                                // else store custom options data into variable\r\n                                _this.customOptionsData = [].concat(response.customOptionsData);\r\n                                // set custom options data to custom options component via it's service\r\n                                _this.customOptionsService.setCustomOptionsData(response);\r\n                                // if edit design is set, get qty from response\r\n                                var selectedQty = (response && response.selectedCustomOptions && response.selectedCustomOptions.qty) ? response.selectedCustomOptions.qty : null;\r\n                                // if user has set qty and then hit on Design it button\r\n                                if (selectedQty == null) {\r\n                                    selectedQty = document.getElementsByClassName('qty');\r\n                                    if (selectedQty && selectedQty[0] && selectedQty[0].value) {\r\n                                        selectedQty = selectedQty[0].value;\r\n                                    }\r\n                                    else {\r\n                                        selectedQty = null;\r\n                                    }\r\n                                }\r\n                                // if none of the above, set default qty to 1\r\n                                selectedQty = (selectedQty == null) ? 1 : selectedQty;\r\n                                // set qty for simple product\r\n                                if (_this.mainService.productType == 'simple')\r\n                                    _this.qty = _this.priceService.totalQty > 1 ? _this.priceService.totalQty : selectedQty;\r\n                                // set qty for configurable product\r\n                                else if (_this.mainService.productType == 'configurable')\r\n                                    _this.confProductService.defaultQty = selectedQty;\r\n                                // this.confProductService.qtyUpdated(selectedQty);\r\n                            }).catch(function (err) { return console.log(_this.translate.instant(\"get Custom Options Catch::::\"), err); })];\r\n                    case 1:\r\n                        // get custom option data from here\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * As soon as user clicks on add to cart button this function is triggered,\r\n     * if custom option is detected, we will publish an event that will validate custom options data\r\n     * in custom options component and will return the response for the same\r\n     */\r\n    CartComponent.prototype.validateCartData = function () {\r\n        if (this.customForm) {\r\n            this.isClickedAddtoCart = true;\r\n            if (!this.customForm.valid) {\r\n                this.eventService.$pub('showError', true);\r\n                return;\r\n            }\r\n            else {\r\n                if (parseFloat(this.priceService.printingMethodMinimumQty) > parseFloat(this.priceService.totalQty)) {\r\n                    this.isLessPrintingMinmumQty = true;\r\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_12___default.a.fire({\r\n                        customClass: 'potrait-mode-popup',\r\n                        title: this.translate.instant(\"Error\"),\r\n                        text: this.translate.instant('Minimum quantity required is ' + this.priceService.printingMethodMinimumQty),\r\n                        confirmButtonText: this.translate.instant('OK'),\r\n                        allowOutsideClick: false\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        // set configurable product flag\r\n        this.isProductConf = (this.mainService.productType == 'configurable') ? true : false;\r\n        // if product is configurable, check for it's validation\r\n        if (this.isProductConf) {\r\n            var error = this.confProductService.isConfDataInvalid();\r\n            // if error found, return from here only\r\n            if (error === true)\r\n                return;\r\n        }\r\n        this.isClickedAddtoCart = false;\r\n        this.isLessPrintingMinmumQty = false;\r\n        // if no custom option data is found, call save design and add to cart directly\r\n        if (!this.customOptionsData || this.customOptionsData.length == 0) {\r\n            this.saveDesign();\r\n            return;\r\n        }\r\n        // else validate custom options data and proceed further\r\n        this.validateCustomOptionsData();\r\n    };\r\n    /**\r\n     * Validate custom options data\r\n     */\r\n    CartComponent.prototype.validateCustomOptionsData = function () {\r\n        var _this = this;\r\n        // show main loader\r\n        this.eventService.$pub('showMainLoader');\r\n        // and check for validation process\r\n        var validationResp = this.customOptionsService.validateCustomOptionsData();\r\n        // if validation check returns true, display message accordingly\r\n        if (validationResp.isInvalid == true) {\r\n            setTimeout(function () {\r\n                _this.eventService.$pub('hideMainLoader');\r\n            }, 500);\r\n        }\r\n        // here we will manage file upload\r\n        // if any error occured, will display error for the same here\r\n        else {\r\n            this.uploadFilesToServer(validationResp.files).then(function () {\r\n                _this.saveDesign(validationResp.customOptions);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * This method will save the current design and then add product into cart\r\n     */\r\n    CartComponent.prototype.saveDesign = function (customOptionsData) {\r\n        if (customOptionsData === void 0) { customOptionsData = null; }\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var data, self, msg;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // if product type is simple\r\n                        if (this.isCartInvalid()) {\r\n                            this.eventService.$pub('hideMainLoader');\r\n                            return [2 /*return*/];\r\n                        }\r\n                        ;\r\n                        // if no error found\r\n                        if (this.isProductConf)\r\n                            this.configurableAttributeData = this.confProductService.getCartData();\r\n                        data = {\r\n                            sweetAlert: false\r\n                        };\r\n                        self = this;\r\n                        /**\r\n                         * This method first save all the canvases data url into text file\r\n                         */\r\n                        return [4 /*yield*/, this.designService.saveAllSidesCanvasData().then(function (resp) {\r\n                                data.canvas_dataurl_file = resp.timestamp;\r\n                            }).catch(function (err) { return console.log(err); })];\r\n                    case 1:\r\n                        /**\r\n                         * This method first save all the canvases data url into text file\r\n                         */\r\n                        _a.sent();\r\n                        /**\r\n                         * This method fetch the all canvases json file and save the first image data url\r\n                         */\r\n                        data.cartData = this.configurableAttributeData;\r\n                        this.lastSavedDesignId = [];\r\n                        data.addnote = this.addnote;\r\n                        if (this.customOptionsService.selectedCustomOptionsTotal > 0) {\r\n                            data.customOptionsPrice = this.customOptionsService.selectedCustomOptionsTotal;\r\n                        }\r\n                        if (this.mainService.productType == 'simple') {\r\n                            data.qty = this.qty;\r\n                        }\r\n                        return [4 /*yield*/, this.designService.saveDesignData(data).then(function (resp) {\r\n                                for (var i = 0; i < Object.keys(resp).length; i++) {\r\n                                    var design = resp[i];\r\n                                    if (!design) {\r\n                                        break;\r\n                                    }\r\n                                    self.lastSavedDesignId.push(design.designId);\r\n                                }\r\n                            }).catch(function (err) { return console.log(err); })];\r\n                    case 2:\r\n                        _a.sent();\r\n                        /**\r\n                        * This method add product to cart\r\n                        */\r\n                        if (this.lastSavedDesignId.length > 0) {\r\n                            this.addToCart(customOptionsData);\r\n                        }\r\n                        else {\r\n                            msg = this.translate.instant(\"Something went wrong\");\r\n                            this.mainService.swal(this.translate.instant(\"Error\"), msg, \"error\");\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * This function will validate cart data ie. attributes(in case of configurable), qty etc\r\n     *\r\n     * @param validationInProcess in case of custom option validation, we are showing main loader, so we need to hide the same\r\n     */\r\n    CartComponent.prototype.addToCart = function (customOptionsData) {\r\n        var _this = this;\r\n        if (customOptionsData === void 0) { customOptionsData = null; }\r\n        // process for cart validation\r\n        var url = \"productdesigner/Cart/Save\", params = {\r\n            productId: this.mainService.productId,\r\n            qty: this.qty,\r\n            designId: this.lastSavedDesignId,\r\n            printingMethodId: this.customForm.get('method').value,\r\n        };\r\n        // set custom options into params if available\r\n        if (customOptionsData != null) {\r\n            this.eventService.$pub('hideMainLoader');\r\n            params = Object.assign(params, { customOptions: customOptionsData });\r\n            params = Object.assign(params, { customOptionPrice: this.customOptionsService.selectedCustomOptionsTotal });\r\n        }\r\n        // set additional price if available\r\n        if (this.priceService.additionalPrice && this.priceService.additionalPrice > 0) {\r\n            params = Object.assign(params, { additionalPrice: this.priceService.additionalPrice });\r\n        }\r\n        // set custom options file upload data to params\r\n        if (this.customOptionsFileData && this.customOptionsFileData.length > 0) {\r\n            params = Object.assign(params, { customOptionFile: this.customOptionsFileData });\r\n        }\r\n        // if configurable attribute\r\n        if (this.isProductConf) {\r\n            params = Object.assign(params, { confProductData: this.configurableAttributeData });\r\n        }\r\n        // if item id is present\r\n        params = (this.mainService.itemId) ? Object.assign(params, { itemId: this.mainService.itemId }) : params;\r\n        // add to cart\r\n        this.mainService.post(url, params, true).then(function (resp) {\r\n            if (resp && resp.status == \"success\") {\r\n                window.addEventListener(\"beforeunload\", function (t) {\r\n                });\r\n                // reset custom options file upload data object\r\n                _this.customOptionsFileData = [];\r\n                _this.customOptionsService.selectedCustomOptionsTotal = 0;\r\n                _this.mainService.swal(_this.translate.instant(\"Success\"), _this.translate.instant(\"Product added to cart successfully\"), \"success\").finally(function () {\r\n                    _this.canvasService.disableAddToCartAlert = true;\r\n                    if (window.location != window.parent.location) {\r\n                        window.top.location.href = resp.url;\r\n                    }\r\n                    else {\r\n                        window.location.href = resp.url;\r\n                    }\r\n                });\r\n                return;\r\n            }\r\n            var msg = (resp && resp.message) ? resp.message : _this.translate.instant(\"Something went wrong\");\r\n            _this.mainService.swal(_this.translate.instant(\"Error\"), _this.translate.instant(msg), \"error\");\r\n        }).catch(function (err) { return console.log(_this.translate.instant(\"Error in add to cart: \"), err); });\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    CartComponent.prototype.isCartInvalid = function () {\r\n        if (this.mainService.productType == 'simple' && this.qty <= 0) {\r\n            this.mainService.swal(this.translate.instant(\"Error\"), this.translate.instant(\"Please enter valid quantity first!\"), 'error');\r\n            return true;\r\n        }\r\n    };\r\n    /**\r\n     * return true if product type is configurable and configurable attr obj is ready\r\n     */\r\n    CartComponent.prototype.showConfigurableOptions = function () {\r\n        return (this.mainService.productType == 'configurable' && this.confProductOptionsObject && this.defaultSelectedAttributes);\r\n    };\r\n    /**\r\n     *\r\n     * @param qty\r\n     */\r\n    CartComponent.prototype.simpleProductQtyUpdated = function (qty) {\r\n        if (qty >= 1) {\r\n            var price = this.confProductService.getProductPrice(this.mainService.productId, qty);\r\n            if (price != this.priceService.defaultPrice)\r\n                this.priceService.defaultPrice = price;\r\n            price *= (qty - 1);\r\n            this.priceService.extraPriceToBeAdded.productPrice = price;\r\n            this.priceService.totalQty = parseInt(qty);\r\n            this.priceService.addThisPrice();\r\n            // this.confProductService.qtyUpdated(1, price);\r\n            this.eventService.$pub('priceUpdate');\r\n        }\r\n    };\r\n    /**\r\n     * Close add to cart popup\r\n     */\r\n    CartComponent.prototype.closeModal = function () {\r\n        this.isClickedAddtoCart = false;\r\n        this.isLessPrintingMinmumQty = false;\r\n        this.confProductService.fixDefaultSelectedOptions = {};\r\n        this.modalRef.hide();\r\n    };\r\n    CartComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__[\"Component\"])({\r\n            selector: 'cart',\r\n            template: __webpack_require__(/*! ./cart.component.html */ \"./src/app/essentials/components/cart/cart.component.html\"),\r\n            styles: [__webpack_require__(/*! ./cart.component.scss */ \"./src/app/essentials/components/cart/cart.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\r\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_6__[\"DesignService\"],\r\n            _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_9__[\"ConfProductAttrService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__[\"TranslateService\"],\r\n            _custom_options_custom_options_service__WEBPACK_IMPORTED_MODULE_3__[\"CustomOptionsService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"],\r\n            _price_price_service__WEBPACK_IMPORTED_MODULE_1__[\"PriceService\"]])\r\n    ], CartComponent);\r\n    return CartComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/clipart/clipart.component.html\":\r\n/*!**********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/clipart/clipart.component.html ***!\r\n  \\**********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div loader #subtabLoader></div>\\n<div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent\\\">\\n   <div class=\\\"byi-top-filters\\\">\\n      <ng-container *ngIf=\\\"mainService.isResponsive\\\" [attr.hidden]=\\\"componentHide\\\">\\n         <div class=\\\"byi-fullview-toggle\\\">\\n            <button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts)\\\">\\n               <span></span>\\n               <span></span>\\n               <span></span>\\n            </button>\\n         </div>\\n      </ng-container>\\n      <div class=\\\"byi-dropdown\\\">\\n         <div class=\\\"btn-group\\\" dropdown>\\n            <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n               {{SelectedClipartCat?.name}}<span class=\\\"caret\\\"></span>\\n            </button>\\n            <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n               <li role=\\\"menuitem\\\" *ngFor=\\\"let clipArtCat of clipArtcategories\\\"\\n                  [ngClass]=\\\"clipArtCat.level == 0 ? 'main-product-category' : 'sub-product-category'\\\"\\n                  [class.selected]=\\\"clipArtCat.id === SelectedClipartCat.id\\\" (click)=\\\"changeClipartCat(clipArtCat)\\\">\\n                  <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n                     <span *ngFor=\\\"let i of getNumberArray(clipArtCat.level)\\\">-</span>\\n                     {{clipArtCat.name}}</a>\\n               </li>\\n            </ul>\\n         </div>\\n      </div>\\n\\n      <div class=\\\"byi-search\\\">\\n         <input class=\\\"byi-input\\\" name=\\\"searchText\\\" (input)=\\\"searchCliprt($event)\\\" placeholder=\\\"{{'Search Clipart' | translate}}\\\"\\n            type=\\\"text\\\">\\n         <button class=\\\"byi-search-btn\\\">\\n            <svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n               <use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n            </svg>\\n         </button>\\n      </div>\\n   </div>\\n   <div class=\\\"byi-norecord\\\"\\n      *ngIf=\\\"loaderComponent.showSubLoader === false && clipArtmedia && clipArtmedia.length == 0\\\">\\n      {{'No Cliparts Found' | translate}}\\n   </div>\\n   <div *ngIf=\\\"clipArtmedia.length > 0\\\" #mainSection class=\\\"byi-tab-cats byi-tab-cats-clipart\\\">\\n      <ul infiniteScroll [horizontal]=\\\"true\\\" [infiniteScrollDistance]=\\\"0\\\" [infiniteScrollThrottle]=\\\"1000\\\"\\n         [scrollWindow]=\\\"false\\\" [infiniteScrollDisabled]=\\\"!isEnableloadmore || !allowPlaceholderLoader\\\"\\n         (scrolled)=\\\"loadMoreClipArt()\\\" #scrollToBottom>\\n         <li *ngFor=\\\"let media of clipArtmedia\\\"\\n            [attr.hidden]=\\\"(showPlaceholder && allowPlaceholderLoader) ? true : null\\\">\\n            <a [ngClass]=\\\"{'image-with-text': !media.label && media.price}\\\"\\n               href=\\\"javascript:void(0)\\\" (click)=\\\"addClipartToCanvas(media.medium_url,media.price,{})\\\">\\n               <span><img [src]=\\\"media.image_path\\\" [attr.tab]=\\\"'clipart'\\\" [attr.dragprice]=\\\"media.price\\\" [attr.url]=\\\"media.medium_url\\\" class=\\\"byidraggable\\\"  (error)=\\\"getDefaultImage(media)\\\"></span>\\n               <label *ngIf=\\\"media.label\\\">{{media.label}}</label>\\n               <label class=\\\"byi-cats-price\\\">\\n                  {{(media.price && media.price > 0) ? formatCurrency(media.price) : 'Free'}}\\n               </label>\\n            </a>\\n         </li>\\n         <li [attr.hidden]=\\\"(!showPlaceholder || !allowPlaceholderLoader) ? true : null\\\"\\n            *ngFor=\\\"let temp of mainService.customPlaceholderArr\\\" placeholder-loader [loaderHeight]='84'\\n            [loaderWidth]='84'></li>\\n      </ul>\\n      <div class=\\\"byi-apply-all\\\" apply-images [files]=\\\"clipArtmedia\\\" [byitab]=\\\"'clipart'\\\"></div>\\n      <div\\n         *ngIf=\\\"loadContent && isEnableloadmore && (!mainService.isResponsive || (mainService.isResponsive && showAllFonts))\\\"\\n         class=\\\"loadmore-action\\\">\\n         <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreClipArt()\\\">\\n      </div>\\n   </div>\\n</div>\\n<div loader #loaderComponent></div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/clipart/clipart.component.scss\":\r\n/*!**********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/clipart/clipart.component.scss ***!\r\n  \\**********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jbGlwYXJ0L2NsaXBhcnQuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/clipart/clipart.component.ts\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/clipart/clipart.component.ts ***!\r\n  \\********************************************************************/\r\n/*! exports provided: ClipartComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ClipartComponent\", function() { return ClipartComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\r\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_10__);\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var _placeholder_loader_placholder_loader_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../placeholder-loader/placholder-loader.service */ \"./src/app/essentials/components/placeholder-loader/placholder-loader.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ClipartComponent = /** @class */ (function () {\r\n    function ClipartComponent(cacheService, mainService, pubsub, translate, addImageService, tabsService, canvasService, cdr, placholderLoaderService) {\r\n        this.cacheService = cacheService;\r\n        this.mainService = mainService;\r\n        this.pubsub = pubsub;\r\n        this.translate = translate;\r\n        this.addImageService = addImageService;\r\n        this.tabsService = tabsService;\r\n        this.canvasService = canvasService;\r\n        this.cdr = cdr;\r\n        this.placholderLoaderService = placholderLoaderService;\r\n        this.clipartCategoriesCacheKey = \"\";\r\n        this.clipArtcategories = [];\r\n        this.clipArtmedia = [];\r\n        this.limit = 12;\r\n        this.loadmore = 1;\r\n        this.isEnableloadmore = false;\r\n        this.tempData = [];\r\n        this.finalArray = [];\r\n        this.currentTab = 2;\r\n        this.accordianId = 0;\r\n        this.clipartHtml = \"\";\r\n        this.checkClipartScroll = false;\r\n        this.searchText = \"\";\r\n        this.showAllFonts = false;\r\n        // infinite scroll\r\n        this.customPlaceholderArr = [];\r\n    }\r\n    /**\r\n     *\r\n     * @param mainTabId\r\n     */\r\n    ClipartComponent.prototype.getSubTabs = function (mainTabId) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var data;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                data = this.mainService.tabsFlow[mainTabId];\r\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\r\n                if (this.subTabsData && this.subTabsData.length > 0) {\r\n                    this.accordianId = this.subTabsData[0].id;\r\n                }\r\n                if (this.subtabLoader && this.subtabLoader.showSubLoader)\r\n                    this.subtabLoader.showSubLoader = false;\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    ClipartComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.pubsub.$sub('displayClipartLimitError', function () {\r\n            _this.displayClipartLimitError();\r\n        });\r\n        this.pubsub.$sub('getSubTabs', function (mainTabId) {\r\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\r\n                _this.getSubTabs(mainTabId);\r\n            }\r\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\r\n        });\r\n        this.clipartCategoriesCacheKey = 'clipartCategories-' + this.mainService.productId + '-' + this.mainService.baseUrl;\r\n        this.subscribeEvents();\r\n        if (this.loadContent == true) {\r\n            this.getCliparts();\r\n            if (!this.pubsub.events.addClipartImage) {\r\n                this.pubsub.$sub('addClipartImage', function (data) {\r\n                    _this.addClipartToCanvas(data.img, data.price, data);\r\n                });\r\n            }\r\n        }\r\n        this.pubsub.$sub('closeFullView', function (showAllFonts) {\r\n            _this.showAllFonts = showAllFonts;\r\n            _this.showFonts(_this.showAllFonts);\r\n        });\r\n        this.allowPlaceholderLoader = this.mainService.isResponsive;\r\n        this.mainService.prepareTempArrForPlaceholder(this.limit);\r\n    };\r\n    ClipartComponent.prototype.ngAfterViewInit = function () {\r\n        this.cdr.detectChanges();\r\n        if (!this.loadContent)\r\n            this.subtabLoader.showSubLoader = true;\r\n        if (this.loadContent) {\r\n            this.loaderComponent.showSubLoader = true;\r\n        }\r\n        this.cdr.detectChanges();\r\n    };\r\n    ClipartComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.pubsub.$sub('objectSelectionUpdated', function (obj) {\r\n            if (obj.tab == 'clipart') {\r\n                if (_this.mainService.isResponsive) {\r\n                    _this.pubsub.$pub('getActiveTabId', _this.currentTab);\r\n                    var self_1 = _this;\r\n                    setTimeout(function () {\r\n                        var currentSelectedObj = self_1.canvasService.getActiveObjectFromAllCanvases();\r\n                        if (currentSelectedObj && currentSelectedObj.tab == obj.tab) {\r\n                            self_1.tabsService.showChildTabs('clipart');\r\n                        }\r\n                    }, 100);\r\n                }\r\n                else {\r\n                    _this.pubsub.$pub('getActiveTabId', _this.currentTab);\r\n                }\r\n            }\r\n        });\r\n        this.pubsub.$sub('objectSelectionCreated', function (obj) {\r\n            var showSubChilds = false, childTabs;\r\n            if (obj.type == 'activeSelection') {\r\n                var nonClipartObj = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.tab == 'clipart'; }));\r\n                if (nonClipartObj != -1) {\r\n                    showSubChilds = true;\r\n                    var findNonImgObj = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.objType != 'image'; })) >= 0) ? true : false, findNonSvg = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.isSvg != true; })) >= 0) ? true : false, findNonPng = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.isSvg == true; })) >= 0) ? true : false;\r\n                    if (!findNonImgObj && (findNonSvg && !findNonPng) || (findNonPng && !findNonSvg)) {\r\n                        childTabs = 'clipart';\r\n                    }\r\n                    else {\r\n                        childTabs = 'common';\r\n                    }\r\n                }\r\n            }\r\n            else if (obj.tab == 'clipart') {\r\n                showSubChilds = true;\r\n                childTabs = 'clipart';\r\n            }\r\n            if (_this.mainService.isResponsive && showSubChilds == true) {\r\n                var self_2 = _this;\r\n                setTimeout(function () {\r\n                    var currentSelectedObj = self_2.canvasService.getActiveObjectFromAllCanvases();\r\n                    if (currentSelectedObj && currentSelectedObj.tab == obj.tab) {\r\n                        self_2.tabsService.showChildTabs('clipart');\r\n                    }\r\n                }, 100);\r\n                _this.pubsub.$pub('getActiveTabId', _this.currentTab);\r\n            }\r\n        });\r\n        this.pubsub.$sub('objectRemoved', function (obj) {\r\n            if (obj.tab == 'clipart') {\r\n                _this.pubsub.$pub('getActiveTabId', _this.currentTab);\r\n            }\r\n        });\r\n    };\r\n    ClipartComponent.prototype.scrollToBottom = function () {\r\n        try {\r\n            if (!this.mainService.isResponsive)\r\n                this.ScrollContainer.nativeElement.scrollTop = this.ScrollContainer.nativeElement.scrollHeight;\r\n            else if (this.mainService.isResponsive && !this.allowPlaceholderLoader)\r\n                this.mainSection.nativeElement.scrollTop = this.mainSection.nativeElement.scrollHeight;\r\n            else {\r\n                var scrollWidth = this.ScrollContainer.nativeElement.scrollWidth;\r\n                scrollWidth = scrollWidth - ((scrollWidth * 25) / 100);\r\n                this.ScrollContainer.nativeElement.scrollLeft = scrollWidth;\r\n            }\r\n        }\r\n        catch (err) { }\r\n    };\r\n    /**\r\n     *\r\n     * @param price\r\n     */\r\n    ClipartComponent.prototype.formatCurrency = function (price) {\r\n        if (price != null) {\r\n            return Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_8__[\"FormatCurrency\"])(price, this.priceFormat, '');\r\n        }\r\n    };\r\n    ClipartComponent.prototype.getCliparts = function () {\r\n        var _this = this;\r\n        this.mainService.clipartRequest = false;\r\n        var params = { 'limit': this.limit, 'search': '', 'product_id': this.mainService.productId, 'page': this.loadmore, 'type': 'clipart' }, url = 'productdesigner/cliparts/getClipartCategories', cacheKey = this.clipartCategoriesCacheKey;\r\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n            _this.mainService.clipartRequest = true;\r\n            _this.cacheService.set(_this.clipartCategoriesCacheKey, data, { maxAge: 15 * 60 });\r\n            var defaultCacheData = {\r\n                clipart_images: data.default_clipart_images,\r\n                priceFormat: data.priceFormat,\r\n                loadMoreFlag: data.loadMoreFlag,\r\n                page: 1\r\n            };\r\n            var defaultCategoryCacheKey = \"clipartImages - \" + data.default_category_id + _this.loadmore + _this.limit;\r\n            ;\r\n            _this.cacheService.set(defaultCategoryCacheKey, defaultCacheData, { maxAge: 15 * 60 });\r\n            _this.processClipartsData(data);\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    /**\r\n     *\r\n     * @param value\r\n     */\r\n    ClipartComponent.prototype.getNumberArray = function (value) {\r\n        var items = [];\r\n        for (var i = 1; i <= value; i++) {\r\n            items.push(i);\r\n        }\r\n        return items;\r\n    };\r\n    /**\r\n     *\r\n     * @param data\r\n     */\r\n    ClipartComponent.prototype.processClipartsData = function (data) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                this.priceFormat = data.priceFormat;\r\n                this.clipArtcategories = data.clipArtcategories;\r\n                this.isEnableloadmore = (data.loadMoreFlag == 0) ? false : true;\r\n                this.setImagesData(data.default_clipart_images, true);\r\n                this.currentClipArtId = data.default_category_id;\r\n                this.SelectedClipartCat = {\r\n                    id: data.default_category_id,\r\n                    name: data.default_clipart_label\r\n                };\r\n                this.clipartLimitEnable = data.clipart_limit;\r\n                this.canvasService.objectLimit = Object.assign(this.canvasService.objectLimit, { clipartImageLimit: parseInt(data.clipart_upload_limit) });\r\n                this.clipartAlert = data.clipart_alert;\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     *\r\n     * @param ImgData\r\n     */\r\n    ClipartComponent.prototype.setImagesData = function (ImgData, resetMedia) {\r\n        if (resetMedia === true)\r\n            this.clipArtmedia = [];\r\n        for (var i = 0; i < ImgData.length; i++) {\r\n            this.clipArtmedia.push(ImgData[i]);\r\n        }\r\n        this.pubsub.$pub('fileUploaded');\r\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showSubLoader) {\r\n            this.loaderComponent.showSubLoader = false;\r\n            this.cdr.detectChanges();\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param data\r\n     */\r\n    ClipartComponent.prototype.processClipartsMedia = function (data, resetMedia) {\r\n        this.priceFormat = data.priceFormat;\r\n        this.isEnableloadmore = (data.loadMoreFlag == 0) ? false : true;\r\n        this.setImagesData(data.clipart_images, resetMedia);\r\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showMainLoader)\r\n            this.loaderComponent.showSubLoader = false;\r\n        this.showPlaceholder = false;\r\n        if (this.checkClipartScroll && resetMedia === false) {\r\n            this.cdr.detectChanges();\r\n            this.scrollToBottom();\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param $event\r\n     */\r\n    ClipartComponent.prototype.searchCliprt = function ($event) {\r\n        if (!$event || !$event.target || !$event.target.value) {\r\n            this.loadmore = 1;\r\n        }\r\n        ;\r\n        this.searchText = $event.target.value.toString();\r\n        this.getClipArtImages(this.currentClipArtId, null, this.searchText);\r\n    };\r\n    /**\r\n     * get clipart by category or by search\r\n     *\r\n     * @param clipartId\r\n     * @param cacheKey\r\n     * @param searchText\r\n     */\r\n    ClipartComponent.prototype.getClipArtImages = function (clipartId, cacheKey, searchText, resetMedia) {\r\n        var _this = this;\r\n        if (cacheKey === void 0) { cacheKey = null; }\r\n        if (searchText === void 0) { searchText = \"\"; }\r\n        if (resetMedia === void 0) { resetMedia = true; }\r\n        // show placeholder loader\r\n        if (this.mainService.isResponsive && !this.showAllFonts)\r\n            this.showPlaceholder = true;\r\n        else\r\n            this.loaderComponent.showSubLoader = true;\r\n        this.cdr.detectChanges();\r\n        // prepare params and url\r\n        var params = {\r\n            'clipart_id': clipartId,\r\n            'limit': this.limit,\r\n            'search': searchText,\r\n            'product_id': this.mainService.productId,\r\n            'page': this.loadmore\r\n        }, url = 'productdesigner/cliparts/getClipartImages';\r\n        cacheKey = \"clipartImages - \" + clipartId + searchText + this.loadmore + this.limit;\r\n        // if cahcekey is not null that means user has changed clipart category\t\t\r\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n            _this.cacheService.set(cacheKey, data, { maxAge: 15 * 60 });\r\n            _this.processClipartsMedia(data, resetMedia);\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    /**\r\n     *\r\n     * @param clipArtCat\r\n     */\r\n    ClipartComponent.prototype.changeClipartCat = function (clipArtCat) {\r\n        this.clipArtmedia = [];\r\n        this.loadmore = 1;\r\n        this.clipartHtml = \"\";\r\n        this.SelectedClipartCat = clipArtCat;\r\n        this.currentClipArtId = clipArtCat.id;\r\n        this.clipArtmediaCacheKey = 'clipartMedia' + '-' + clipArtCat.id + '-' + this.loadmore;\r\n        this.getClipArtImages(this.currentClipArtId, this.clipArtmediaCacheKey);\r\n    };\r\n    ClipartComponent.prototype.loadMoreClipArt = function () {\r\n        this.loadmore++;\r\n        this.clipArtmediaCacheKey = 'clipartMedia' + '-' + this.currentClipArtId;\r\n        this.cacheService.set(this.clipArtmediaCacheKey, '');\r\n        this.checkClipartScroll = true;\r\n        this.getClipArtImages(this.currentClipArtId, this.clipArtmediaCacheKey, this.searchText, false);\r\n    };\r\n    /**\r\n     *\r\n     * @param img\r\n     * @param clipartPrice\r\n     */\r\n    ClipartComponent.prototype.addClipartToCanvas = function (img, clipartPrice, data) {\r\n        var getTotalClipart = this.canvasService.getObjectTypeFromAllCanvas('tab', 'clipart');\r\n        if ((this.clipartLimitEnable == 1) && parseInt(getTotalClipart) >= this.canvasService.objectLimit.clipartImageLimit) {\r\n            this.displayClipartLimitError();\r\n        }\r\n        else {\r\n            var properties = { tab: 'clipart', price: clipartPrice };\r\n            if (data.canvas) {\r\n                properties.canvas = data.canvas;\r\n            }\r\n            this.addImageService.addImage(img, properties);\r\n            this.showFonts(true);\r\n        }\r\n    };\r\n    ClipartComponent.prototype.displayClipartLimitError = function () {\r\n        sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\r\n            title: this.translate.instant('Error'),\r\n            text: this.translate.instant(this.clipartAlert),\r\n            type: \"warning\",\r\n            confirmButtonText: this.translate.instant('OK'),\r\n        });\r\n    };\r\n    /**\r\n     *\r\n     * @param showAllFonts\r\n     */\r\n    ClipartComponent.prototype.showFonts = function (showAllFonts) {\r\n        this.showAllFonts = !showAllFonts;\r\n        this.allowPlaceholderLoader = showAllFonts;\r\n        this.pubsub.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Clipart' });\r\n    };\r\n    /**\r\n     *\r\n     * @param currentObj\r\n     */\r\n    ClipartComponent.prototype.getDefaultImage = function (currentObj) {\r\n        var found = this.clipArtmedia.find(function (clipartMediaObj) { return (clipartMediaObj.image_id == currentObj.image_id && clipartMediaObj.clipart_id && currentObj.clipart_id); });\r\n        found.image_path = found.medium_url;\r\n        this.clipArtmedia[this.clipArtmedia.indexOf(found)] = found;\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ClipartComponent.prototype, \"loadContent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('loaderComponent'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\r\n    ], ClipartComponent.prototype, \"loaderComponent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('subtabLoader'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\r\n    ], ClipartComponent.prototype, \"subtabLoader\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('scrollToBottom'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\r\n    ], ClipartComponent.prototype, \"ScrollContainer\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('mainSection'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\r\n    ], ClipartComponent.prototype, \"mainSection\", void 0);\r\n    ClipartComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: '[clipart]',\r\n            template: __webpack_require__(/*! ./clipart.component.html */ \"./src/app/essentials/components/clipart/clipart.component.html\"),\r\n            styles: [__webpack_require__(/*! ./clipart.component.scss */ \"./src/app/essentials/components/clipart/clipart.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ng2_cache__WEBPACK_IMPORTED_MODULE_3__[\"CacheService\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__[\"TranslateService\"],\r\n            src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_7__[\"AddImageService\"],\r\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_9__[\"CanvasService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"],\r\n            _placeholder_loader_placholder_loader_service__WEBPACK_IMPORTED_MODULE_12__[\"PlacholderLoaderService\"]])\r\n    ], ClipartComponent);\r\n    return ClipartComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/common-tabs/common-tabs.component.html\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/common-tabs/common-tabs.component.html ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byip-subTabs\\\">\\n\\t<accordion [closeOthers]=\\\"true\\\" *ngIf=\\\"!mainService.isResponsive\\\" class=\\\"byi-accordion\\\" [isAnimated]=\\\"true\\\">\\n\\t\\t<accordion-group (click)=\\\"setAccordion(subTab.id)\\\" class=\\\"byi-accord byi-tooltip-{{subTab.component}}\\\" *ngFor=\\\"let subTab of subTabsData;\\\" [isOpen]=\\\"activeAccordion == subTab.id\\\">\\n\\t\\t\\t<button class=\\\"byi-accordion-title btn btn-link btn-block clearfix\\\" accordion-heading>\\n\\t\\t\\t\\t<span>{{subTab.label | translate}}</span>\\n\\t\\t\\t</button>\\n\\t\\t\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t\\t\\t<ng-container [ngTemplateOutlet]=\\\"tabs\\\" [ngTemplateOutletContext]=\\\"{subTab:subTab}\\\">\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t</accordion-group>\\n\\t</accordion>\\n\\t<tabset *ngIf=\\\"mainService.isResponsive\\\" [hidden]=\\\"tabsService.showChild\\\">\\n\\t\\t<ng-container *ngFor=\\\"let subTab of subTabsData;\\\">\\n\\t\\t\\t<tab [active]=\\\"subTab.id == activeAccordion\\\" (selectTab)=\\\"selectTab(subTab.id)\\\">\\n\\t\\t\\t\\t<ng-template tabHeading>\\n\\t\\t\\t\\t\\t<span>{{subTab.label}}</span>\\n\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t<ng-container [ngTemplateOutlet]=\\\"tabs\\\" [ngTemplateOutletContext]=\\\"{subTab:subTab}\\\">\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</tab>\\n\\t\\t</ng-container>\\n\\t</tabset>\\n\\t<ng-template #tabs let-subTab='subTab'>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" plain-text *ngIf=\\\"subTab.id == 1\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" clipart *ngIf=\\\"subTab.id == 2\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" image-upload *ngIf=\\\"subTab.id == 3\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" background-color *ngIf=\\\"subTab.id == 4\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" my-designs *ngIf=\\\"subTab.id == 5\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" my-templates *ngIf=\\\"subTab.id == 5\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" name-number *ngIf=\\\"subTab.id == 6\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" design-templates *ngIf=\\\"subTab.id == 7\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" background-patterns *ngIf=\\\"subTab.id == 8\\\" [loadContent]=\\\"true\\\"></div>\\n\\t</ng-template>\\n\\t<tabset *ngIf=\\\"mainService.isResponsive\\\" [hidden]=\\\"!tabsService.showChild\\\">\\n\\t\\t<button type=\\\"button\\\" class=\\\"byi-back-btn\\\" (click)=\\\"tabsService.backTab();cdr.detectChanges();\\\"\\n\\t\\t\\t*ngIf=\\\"!backArrow\\\">\\n\\t\\t\\t<span></span>\\n\\t\\t</button>\\n\\t\\t<button type=\\\"button\\\" class=\\\"byi-close-btn\\\" (click)=\\\"closeFullView(backArrow)\\\" *ngIf=\\\"backArrow\\\">\\n\\t\\t\\t<span></span>\\n\\t\\t</button> \\n\\t\\t<div class=\\\"byie-option-wrap\\\" font></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" stroke></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" drop-shadow></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" image-effects></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" opacity></div>\\n\\t\\t<!-- <div class=\\\"byie-option-wrap\\\" arc></div> -->\\n\\t\\t<div class=\\\"byie-option-wrap\\\" skew></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" object-position></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" background-pattern-controls></div>\\n\\t</tabset>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/common-tabs/common-tabs.component.scss\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/common-tabs/common-tabs.component.scss ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jb21tb24tdGFicy9jb21tb24tdGFicy5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/common-tabs/common-tabs.component.ts\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/common-tabs/common-tabs.component.ts ***!\r\n  \\****************************************************************************/\r\n/*! exports provided: CommonTabsComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CommonTabsComponent\", function() { return CommonTabsComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar CommonTabsComponent = /** @class */ (function () {\r\n    /**\r\n     * dependancy injector\r\n     */\r\n    function CommonTabsComponent(cacheService, mainService, pubsub, tabsService, cdr) {\r\n        this.cacheService = cacheService;\r\n        this.mainService = mainService;\r\n        this.pubsub = pubsub;\r\n        this.tabsService = tabsService;\r\n        this.cdr = cdr;\r\n        this.backArrow = false;\r\n        this.isActiveTabId = false;\r\n    }\r\n    CommonTabsComponent.prototype.setAccordion = function (id) {\r\n        this.activeAccordion = id;\r\n    };\r\n    /**\r\n     * angular lifecycle init function\r\n     */\r\n    CommonTabsComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.init();\r\n        var self = this;\r\n        this.pubsub.$sub('getActiveTabId', function (Id) {\r\n            if (Id != \"\" && Id != 0) {\r\n                self.activeAccordion = Id;\r\n                self.cdr.detectChanges();\r\n                _this.isActiveTabId = true;\r\n            }\r\n        });\r\n        this.pubsub.$sub('getSubTabs', function (Id) {\r\n            if (Id != \"\" && Id != 0 && _this.isActiveTabId == false) {\r\n                self.activeAccordion = Id;\r\n                self.cdr.detectChanges();\r\n            }\r\n            else {\r\n                _this.isActiveTabId = false;\r\n            }\r\n            var index = self.mainService.tabsFlow[Id].filter(function (data) { return data == self.activeAccordion; });\r\n            if (index.length == 0) {\r\n                _this.activeAccordion = Id;\r\n            }\r\n        });\r\n        this.pubsub.$sub('introTabActive', function (Id) {\r\n            if (Id != \"\" && Id != 0) {\r\n                self.activeAccordion = Id;\r\n                self.openIntroAccordian = Id;\r\n            }\r\n        });\r\n        this.pubsub.$sub('activeTabOnLoadDesign', function (Id) {\r\n            var obj = _this.mainService.canvasService.currentCanvas.getActiveObject();\r\n            Id = _this.getSelectedObjTabId(obj);\r\n            if (Id != \"\" && Id != 0) {\r\n                Id = (obj && obj.hasOwnProperty('tab')) ? _this.getSelectedObjTabId(obj) : Id;\r\n                _this.activeAccordion = Id;\r\n            }\r\n        });\r\n        this.pubsub.$sub('showFonts', function (resp) {\r\n            _this.backArrow = resp.showAllFonts;\r\n        });\r\n    };\r\n    CommonTabsComponent.prototype.getSelectedObjTabId = function (obj) {\r\n        if (!obj) {\r\n            return 0;\r\n        }\r\n        var tab = obj.tab, tabId = 0;\r\n        switch (tab) {\r\n            case 'text':\r\n                tabId = 1;\r\n                break;\r\n            case 'clipart':\r\n                tabId = 2;\r\n                break;\r\n            case 'upload':\r\n                tabId = 3;\r\n                break;\r\n            case 'namenumber':\r\n                tabId = 6;\r\n                break;\r\n        }\r\n        return tabId;\r\n    };\r\n    /**\r\n     * show loader on init\r\n     */\r\n    CommonTabsComponent.prototype.init = function () { };\r\n    /**\r\n     * as we have used @Input.. we can only access this variable after ng view content initialization is complete\r\n     * we can insure that response is done on ng after content init function\r\n     *\r\n     * NOTE: Need to handle if no subtabs are recieved\r\n     */\r\n    CommonTabsComponent.prototype.selectTab = function (id) {\r\n        this.activeAccordion = id;\r\n    };\r\n    CommonTabsComponent.prototype.closeFullView = function (backArrow) {\r\n        this.pubsub.$pub('closeFullView', backArrow);\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", String)\r\n    ], CommonTabsComponent.prototype, \"subTabsData\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], CommonTabsComponent.prototype, \"activeAccordion\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\r\n    ], CommonTabsComponent.prototype, \"loaderComponent\", void 0);\r\n    CommonTabsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: 'common-tabs',\r\n            template: __webpack_require__(/*! ./common-tabs.component.html */ \"./src/app/essentials/components/common-tabs/common-tabs.component.html\"),\r\n            styles: [__webpack_require__(/*! ./common-tabs.component.scss */ \"./src/app/essentials/components/common-tabs/common-tabs.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ng2_cache__WEBPACK_IMPORTED_MODULE_3__[\"CacheService\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\r\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"]])\r\n    ], CommonTabsComponent);\r\n    return CommonTabsComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.html\":\r\n/*!******************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/conf-product-attr/conf-product-attr.component.html ***!\r\n  \\******************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byi-attr-tables\\\" *ngIf=\\\"confAttrs\\\">\\n  <div class=\\\"byi-attr-wrapper\\\">\\n\\n    <!-- Name Number -->\\n    <ng-container *ngIf=\\\"confProductService.isNameNumber\\\">\\n      <accordion [closeOthers]=\\\"true\\\" class=\\\"byi-accordion\\\" [isAnimated]=\\\"true\\\">\\n        <accordion-group class=\\\"byi-accord byi-attr-content\\\"\\n          *ngFor=\\\"let nameNumberData of confProductService.cartData;let i = index\\\">\\n          <button class=\\\"byi-accordion-title btn btn-link btn-block clearfix\\\" accordion-heading>\\n            <span\\n              *ngIf=\\\"confProductService.nameNumberData.addName && confProductService.nameNumberData.addNumber\\\">{{nameNumberData?.additional_options[0]?.name + \\\"-\\\" + nameNumberData?.additional_options[0]?.number}}</span>\\n            <span\\n              *ngIf=\\\"confProductService.nameNumberData.addName && !confProductService.nameNumberData.addNumber\\\">{{nameNumberData?.additional_options[0]?.name}}</span>\\n            <span\\n              *ngIf=\\\"!confProductService.nameNumberData.addName && confProductService.nameNumberData.addNumber\\\">{{nameNumberData?.additional_options[0]?.number}}</span>\\n          </button>\\n          <div class=\\\"byi-accord-content\\\">\\n            <ng-container [ngTemplateOutlet]=\\\"confAttributeSelection\\\" [ngTemplateOutletContext]=\\\"{i:i}\\\">\\n            </ng-container>\\n          </div>\\n        </accordion-group>\\n      </accordion>\\n    </ng-container>\\n\\n    <!-- Not Name Number -->\\n    <ng-container *ngIf=\\\"!confProductService.isNameNumber\\\">\\n      <div class=\\\"byi-attr-content\\\" *ngFor=\\\"let row of confProductService.totalRows; let i = index;\\\">\\n        <button class=\\\"byi-attr-delete\\\" *ngIf=\\\"confProductService.totalRows.length > 1\\\" (click)=\\\"removeRow(i)\\\">\\n          <span></span>\\n        </button>\\n        <ng-container [ngTemplateOutlet]=\\\"confAttributeSelection\\\" [ngTemplateOutletContext]=\\\"{i:i}\\\">\\n        </ng-container>\\n      </div>\\n    </ng-container>\\n\\n    <!-- Conf Product Attr Selection -->\\n    <ng-template #confAttributeSelection let-i=\\\"i\\\">\\n      <!-- swatch section -->\\n      <div class=\\\"byi-swatch-container\\\" *ngIf=\\\"hasSwatch\\\">\\n        <div class=\\\"byi-swatch-item\\\" *ngFor=\\\"let confAttrObj of confAttrs; let j = index\\\">\\n          <label>{{'Select ' + filterLabel(confAttrObj.label) + ' Value' | translate}}</label>\\n          <div class=\\\"byi-colors-list\\\">\\n            <ul>\\n              <ng-container *ngFor=\\\"let optionValueObj of confAttrObj.values\\\">\\n                <li class=\\\"byi-swatch\\\"\\n                  [ngClass]=\\\"{'active': confProductService.cartData[i].super_attribute[confAttrObj.id] == optionValueObj.value_index, disabled: disableMe(optionValueObj.value_index, i, j)}\\\"\\n                  (click)=\\\"setSelectedOptions(optionValueObj.value_index, confAttrObj.id, i, j)\\\">\\n                  <span *ngIf=\\\"optionValueObj.type == 'color'\\\" class=\\\"swatch-color\\\"\\n                    [style.background]=\\\"optionValueObj.value\\\"></span>\\n                  <img *ngIf=\\\"optionValueObj.type == 'image'\\\" class=\\\"swatch-image\\\" [src]=\\\"optionValueObj.value\\\">\\n                </li>\\n              </ng-container>\\n            </ul>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <!-- Swatch is false -->\\n      <div class=\\\"byi-attr-row\\\" *ngIf=\\\"!hasSwatch\\\">\\n        <div class=\\\"byi-attr-item\\\" *ngFor=\\\"let confAttrObj of confAttrs; let j = index\\\">\\n          <label>{{'Select ' + filterLabel(confAttrObj.label) + ' Value' | translate}}</label>\\n          <div class=\\\"byi-select\\\">\\n            <select name=\\\"brand\\\" [(ngModel)]=\\\"confProductService.cartData[i].super_attribute[confAttrObj.id]\\\"\\n              (change)=\\\"setSelectedOptions($event.target.value, confAttrObj.id, i, j)\\\"\\n              [id]=\\\"'dropdown_' + i + '_' + confAttrObj.id\\\">\\n              <option *ngFor=\\\"let optionValueObj of confAttrObj.values\\\" [value]=\\\"optionValueObj.value_index\\\"\\n                [disabled]=\\\"disableMe(optionValueObj.value_index, i, j)\\\">\\n                {{optionValueObj.label | translate}}\\n              </option>\\n            </select>\\n            <span class=\\\"caret\\\"></span>\\n          </div>\\n          <!-- error for specific attribute dropdown -->\\n          <span class=\\\"text-danger\\\" *ngIf=\\\"confProductService.isSubmitted && getCartObj(i, confAttrObj.id) == 'null'\\\">\\n            {{'This Attribute is required' | translate}}\\n          </span>\\n        </div>\\n      </div>\\n\\n      <!-- QTY Container -->\\n      <div class=\\\"qty-container\\\">\\n        <label>{{'Quantity' | translate}}</label>\\n        <input class=\\\"byi-input size-qty\\\" type=\\\"text\\\" [(ngModel)]=\\\"confProductService.cartData[i].qty\\\"\\n          (keypress)=\\\"confProductService.keyPress($event)\\\" (input)=\\\"qtyUpdated($event.target.value)\\\"\\n          [attr.data-productid]=\\\"confProductService.cartData[i].productId\\\">\\n\\n        <!-- error for qty -->\\n        <span class=\\\"text-danger\\\" *ngIf=\\\"confProductService.isSubmitted && confProductService.cartData[i].qty <= 0\\\">\\n          {{'Invalid Qty' | translate}}\\n        </span>\\n        <button class=\\\"btn-add-more\\\"\\n          *ngIf=\\\"i == confProductService.totalRows.length - 1 && confProductService.displayAddMore && !confProductService.isNameNumber\\\"\\n          (click)=\\\"addRow()\\\">\\n          <span class=\\\"icon icon-plus\\\"></span>\\n          <span>{{'Add More' | translate}}</span>\\n        </button>\\n      </div>\\n      <!-- End of qty container -->\\n    </ng-template>\\n  </div>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.scss\":\r\n/*!******************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/conf-product-attr/conf-product-attr.component.scss ***!\r\n  \\******************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jb25mLXByb2R1Y3QtYXR0ci9jb25mLXByb2R1Y3QtYXR0ci5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.ts\":\r\n/*!****************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/conf-product-attr/conf-product-attr.component.ts ***!\r\n  \\****************************************************************************************/\r\n/*! exports provided: ConfProductAttrComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfProductAttrComponent\", function() { return ConfProductAttrComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\r\n/* harmony import */ var _custom_options_custom_options_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../custom-options/custom-options.service */ \"./src/app/essentials/components/custom-options/custom-options.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _conf_product_attr_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ConfProductAttrComponent = /** @class */ (function () {\r\n    /**\r\n     * Dependancy Injection\r\n     */\r\n    function ConfProductAttrComponent(confProductService, eventService, cdr, customOptionService, priceService) {\r\n        var _this = this;\r\n        this.confProductService = confProductService;\r\n        this.eventService = eventService;\r\n        this.cdr = cdr;\r\n        this.customOptionService = customOptionService;\r\n        this.priceService = priceService;\r\n        // this will indicate how many rows to add initially\r\n        this.numberOfTimes = 0;\r\n        this.eventService.$sub('productChanged', function () {\r\n            _this.eventService.$pub('resetCart');\r\n        });\r\n    }\r\n    /**\r\n     * Angular Init Function\r\n     */\r\n    ConfProductAttrComponent.prototype.ngOnInit = function () {\r\n        this.subscribeEvents();\r\n        this.reset();\r\n    };\r\n    /**\r\n     * Assign Default Values\r\n     */\r\n    ConfProductAttrComponent.prototype.reset = function () {\r\n        this.confProductService.totalRows = (this.confProductService.totalRows && this.confProductService.totalRows.length > 0 && this.confProductService.resetMe == false) ? this.confProductService.totalRows : [];\r\n        this.confProductService.cartData = (this.confProductService.cartData && this.confProductService.cartData.length > 0) ? this.confProductService.cartData : [];\r\n        this.confProductService.selectedOptionString = (this.confProductService.selectedOptionString && this.confProductService.selectedOptionString.length > 0) ? this.confProductService.selectedOptionString : [];\r\n    };\r\n    /**\r\n     * Subscribe Events\r\n     */\r\n    ConfProductAttrComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('qtyUpdated', function () {\r\n            _this.qtyUpdated();\r\n        });\r\n    };\r\n    /**\r\n     * Access @Input Values here\r\n    */\r\n    ConfProductAttrComponent.prototype.ngAfterViewInit = function () {\r\n        this.init();\r\n        if (this.confProductService.totalRows.length == 0 && !this.confProductService.isNameNumber)\r\n            this.addRow();\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    ConfProductAttrComponent.prototype.init = function () {\r\n        // if no prod options is not found in response object, return\r\n        if (!this.confProductOptionsObject || !this.confProductOptionsObject.productOptions || !this.confProductOptionsObject.productsCombination)\r\n            return;\r\n        // else set data\r\n        this.confAttrs = Object.assign([], this.confProductOptionsObject.productOptions);\r\n        this.hasSwatch = (this.confAttrs.indexOf(this.confAttrs.find(function (confAttrObj) { return confAttrObj.hasSwatch === 0; })) >= 0) ? false : true;\r\n        this.confProductService.productsCombination = Object.assign({}, this.confProductOptionsObject.productsCombination);\r\n        // \r\n        if (this.confProductService.totalRows && this.confProductService.totalRows.length <= 0 && (this.confProductService.resetMe == true || this.confProductService.resetMe == null)) {\r\n            this.confProductService.resetMe = false;\r\n        }\r\n        // in case of name number \r\n        if (this.confProductService.isNameNumber) {\r\n            // check if any new row is added in name number\r\n            var totalNameNumbers = this.confProductService.nameNumberData.newRow.length, totalCartItems = this.confProductService.cartData.length;\r\n            // if not added, create newly added name/number rows in cart\r\n            if (totalNameNumbers != totalCartItems) {\r\n                // find the difference\r\n                this.numberOfTimes = totalNameNumbers - totalCartItems;\r\n                // add name number one by one\r\n                for (var i = 0; i < this.numberOfTimes; i++) {\r\n                    this.addRow();\r\n                }\r\n            }\r\n        }\r\n        // this.customOptionService.calcPrice();\r\n    };\r\n    /**\r\n     * Add new row on init/each time user clicks on add row button\r\n     */\r\n    ConfProductAttrComponent.prototype.addRow = function () {\r\n        if (this.confProductService.cartData && this.confProductService.isConfDataInvalid())\r\n            return;\r\n        var rowIndex = this.confProductService.totalRows.length;\r\n        this.confProductService.totalRows.push(1);\r\n        this.confProductService.selectedOptionString[rowIndex] = {};\r\n        this.confProductService.initCartObject(rowIndex, this.confAttrs);\r\n        this.initSelectionValues(rowIndex);\r\n        this.qtyUpdated();\r\n    };\r\n    /**\r\n     * this variables will keep track of selected attribute values\r\n     */\r\n    ConfProductAttrComponent.prototype.initSelectionValues = function (index) {\r\n        this.confProductService.selectedOptionString[index] = Object.values(this.confProductService.fixDefaultSelectedOptions).join(\"_\");\r\n    };\r\n    /**\r\n     * remove specified row\r\n     *\r\n     * @param rowIndex row number\r\n     */\r\n    ConfProductAttrComponent.prototype.removeRow = function (rowIndex) {\r\n        // then remove that row from html\r\n        this.confProductService.totalRows.splice(rowIndex, 1);\r\n        // remove cart data first\r\n        this.confProductService.removeRow(rowIndex);\r\n        // \r\n        this.confProductService.selectedOptionString.splice(rowIndex, 1);\r\n        this.qtyUpdated();\r\n    };\r\n    /**\r\n     * to save complexity in html, we will be preparing cart object from service and return the same\r\n     *\r\n     * @param rowIndex current row index\r\n     * @param id conf attr id\r\n     */\r\n    ConfProductAttrComponent.prototype.getCartObj = function (rowIndex, id) {\r\n        return this.confProductService.cartData[rowIndex].super_attribute[id];\r\n    };\r\n    /**\r\n     * When user changes attribute selection, we will call this function and will update selectionsoptions object\r\n     *\r\n     * @param value value_index of selected attribute\r\n     * @param attId attribute id(eg. id of color, size)\r\n     * @param rowIndex current row number\r\n     */\r\n    ConfProductAttrComponent.prototype.setSelectedOptions = function (value, attId, rowIndex, attrIndex) {\r\n        // if swatch is enabled, we need to manually add selected data to our cart object\r\n        if (this.hasSwatch) {\r\n            this.confProductService.cartData[rowIndex].super_attribute[attId] = value;\r\n        }\r\n        // we will created fresh new array of selected options    \r\n        var selectedOptions = this.confProductService.selectedOptionString[rowIndex].split(\"_\");\r\n        selectedOptions[attrIndex] = value;\r\n        this.confProductService.selectedOptionString[rowIndex] = Object.values(selectedOptions).join(\"_\");\r\n        // check for duplicate selection\r\n        // if (this.confProductService.totalRows.length > 1) this.checkForDuplicateSelection();\r\n        // this object will keep the track of current selected super attributes \r\n        // in array format\r\n        // this is been used for fetching product id based on current selected super attributes\r\n        this.confProductService.allDefaultSelectedAttrs[rowIndex][attrIndex] = value;\r\n        // fetch and set product id for current selected super attributes\r\n        if (this.confProductService.cartData[rowIndex] && this.confProductService.cartData[rowIndex].productId) {\r\n            // fetch new product id, and store old product id into local variable\r\n            var productId = this.confProductService.getProductId(rowIndex), oldProductId = this.confProductService.cartData[rowIndex].productId;\r\n            // if old and new id's don't match\r\n            // update new product id in cart and recalculate price\r\n            if (oldProductId != productId) {\r\n                this.confProductService.cartData[rowIndex].productId = productId;\r\n                this.qtyUpdated();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * as per html default behavior, even if ngModel has different value, html by default takes previous dropdown value\r\n     * so we manually need to reselect values after removing duplicate dropdown section\r\n     *\r\n     * @param rowIndex index been removed\r\n     */\r\n    ConfProductAttrComponent.prototype.setSelection = function (rowIndex) {\r\n        if (!this.confProductService || !this.confProductService.cartData || !this.confProductService.cartData[rowIndex] || !this.confProductService.cartData[rowIndex].super_attribute)\r\n            return;\r\n        var keys = Object.keys(this.confAttrs), totalAttr = keys.length, i, dropDownIdLabel, domElement, selectedVal, superAttrObj = this.confProductService.cartData[rowIndex].super_attribute;\r\n        for (i = 0; i < totalAttr; i++) {\r\n            dropDownIdLabel = 'dropdown_' + rowIndex + '_' + this.confAttrs[i].id;\r\n            domElement = document.getElementById(dropDownIdLabel);\r\n            selectedVal = superAttrObj[this.confAttrs[i].id];\r\n            domElement.selectedIndex = this.confAttrs[i].values.find(function (optionValueObj) { return optionValueObj.value_index == selectedVal; });\r\n        }\r\n    };\r\n    /**\r\n     * this function is called each time for assigning disable class/attribute to respective dom element\r\n     *\r\n     * @param currentValue current value index\r\n     * @param rowIndex row index\r\n     * @param optionIndex option index\r\n     */\r\n    ConfProductAttrComponent.prototype.disableMe = function (currentValue, rowIndex, optionIndex) {\r\n        if (!this.confProductService.selectedOptionString || !this.confProductService.selectedOptionString[rowIndex] || Object.keys(this.confProductService.selectedOptionString[rowIndex]).length == 0)\r\n            return false;\r\n        // get current row selected attributes\r\n        var selectedOptions = this.confProductService.selectedOptionString[rowIndex].split(\"_\");\r\n        // set current specifed value index to our confProductService.selectedOptionString array\r\n        selectedOptions[optionIndex] = currentValue;\r\n        // rejoin the same by '_'\r\n        var currentOption = selectedOptions.join(\"_\");\r\n        // returns true if current specifed pair does not exist in product combination object\r\n        var combination = Object.values(this.confProductService.productsCombination);\r\n        if (combination.indexOf(currentOption) == -1) {\r\n            return true;\r\n        }\r\n        // false if combination found\r\n        return false;\r\n    };\r\n    /**\r\n     * for configurable product we need to pass total number of qty\r\n     */\r\n    ConfProductAttrComponent.prototype.qtyUpdated = function (qty) {\r\n        var _this = this;\r\n        if (qty === void 0) { qty = null; }\r\n        // if qty is invalid of 0, return\r\n        if (qty != null && qty < 1)\r\n            return;\r\n        // variable delcaration\r\n        var finalPrice = 0, foundPrice;\r\n        // traverse through cart array\r\n        this.confProductService.cartData.filter(function (cartItem) {\r\n            // get product price by product id\r\n            // here we are passign qty as well in case of tier price\r\n            foundPrice = _this.confProductService.getProductPrice(cartItem.productId, cartItem.qty);\r\n            // calculate final price by multiplying it with qty\r\n            finalPrice += (foundPrice * parseInt(cartItem.qty));\r\n        });\r\n        // set total qty\r\n        this.priceService.totalQty = this.getTotalQty();\r\n        // in case of configurable product\r\n        // if qty is 1, set latest price as default price\r\n        if (this.priceService.totalQty == 1) {\r\n            this.priceService.defaultPrice = finalPrice;\r\n        }\r\n        // in case of configurable,\r\n        // when user clicks on add more button, all the selected product's prices\r\n        // are added in different variable\r\n        if (finalPrice >= this.priceService.defaultPrice) {\r\n            this.priceService.extraPriceToBeAdded.productPrice = finalPrice - this.priceService.defaultPrice;\r\n        }\r\n        // finally go for calculation\r\n        this.priceService.addThisPrice();\r\n        // publish event that price has been updated\r\n        this.eventService.$pub('priceUpdate');\r\n    };\r\n    /**\r\n     * calculate total price\r\n     */\r\n    ConfProductAttrComponent.prototype.getTotalQty = function () {\r\n        // variable declaration\r\n        var qty = 0;\r\n        // calculate qty\r\n        this.confProductService.cartData.filter(function (cartObj) {\r\n            qty += parseInt(cartObj.qty);\r\n        });\r\n        qty = (qty <= 0) ? 1 : qty;\r\n        // return qty\r\n        return parseInt(qty);\r\n    };\r\n    /**\r\n     * Replace '_' with white space in label and\r\n     * also make uppercase to each first character of the same\r\n     *\r\n     * @param label\r\n     */\r\n    ConfProductAttrComponent.prototype.filterLabel = function (label) {\r\n        // replace underscore with white space\r\n        label = label.replace(\"_\", \" \");\r\n        // uppercase each first character of string\r\n        label = label.toLowerCase().replace(/\\b[a-z]/g, function (letter) {\r\n            return letter.toUpperCase();\r\n        });\r\n        // return final o/p\r\n        return label;\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Input\"])('confProductOptionsObject'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ConfProductAttrComponent.prototype, \"confProductOptionsObject\", void 0);\r\n    ConfProductAttrComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\r\n            selector: '[conf-product-attr]',\r\n            template: __webpack_require__(/*! ./conf-product-attr.component.html */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.html\"),\r\n            styles: [__webpack_require__(/*! ./conf-product-attr.component.scss */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_5__[\"ConfProductAttrService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ChangeDetectorRef\"],\r\n            _custom_options_custom_options_service__WEBPACK_IMPORTED_MODULE_2__[\"CustomOptionsService\"],\r\n            _price_price_service__WEBPACK_IMPORTED_MODULE_1__[\"PriceService\"]])\r\n    ], ConfProductAttrComponent);\r\n    return ConfProductAttrComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\":\r\n/*!**************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts ***!\r\n  \\**************************************************************************************/\r\n/*! exports provided: ConfProductAttrService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfProductAttrService\", function() { return ConfProductAttrService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ConfProductAttrService = /** @class */ (function () {\r\n    /**\r\n     * Dependancy injection\r\n     */\r\n    function ConfProductAttrService(mainService, eventService, priceService) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.priceService = priceService;\r\n        this.isSubmitted = false;\r\n        this.defaultQty = 1;\r\n        this.allDefaultSelectedAttrs = [];\r\n        // flag that will force cart to reset\r\n        this.resetMe = null;\r\n        this.displayAddMore = false;\r\n        this.nameNumberData = {};\r\n        this.subscribeEvents();\r\n    }\r\n    ConfProductAttrService.prototype.init = function () {\r\n        // this.isNameNumber = (this.nameNumberService.addName || this.nameNumberService.addNumber) ? true : false;\r\n    };\r\n    ConfProductAttrService.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('addCustomPriceToTotal', function () {\r\n            _this.qtyUpdated(1);\r\n        });\r\n        this.eventService.$sub('nameNumberDisabled', function () {\r\n            _this.isNameNumber = false;\r\n        });\r\n        this.eventService.$sub('nameNumberEnabled', function (nameNumberData) {\r\n            _this.isNameNumber = true;\r\n            _this.nameNumberData = nameNumberData;\r\n        });\r\n    };\r\n    /**\r\n     * Initialize cart object to null for each attribute index\r\n     *\r\n     * @param rowIndex Row Index\r\n     * @param confAttrs configurable attributes array\r\n     */\r\n    ConfProductAttrService.prototype.initCartObject = function (rowIndex, confAttrs) {\r\n        var _this = this;\r\n        // as default options values changes each time,\r\n        // we will be storing it's values for the first time in our variable\r\n        // this variable will be used each time when new row needs to be added\r\n        if (!this.fixDefaultSelectedOptions ||\r\n            Object.keys(this.fixDefaultSelectedOptions).length == 0)\r\n            this.fixDefaultSelectedOptions = Object.assign({}, this.defaultSelectedOptionsValues);\r\n        // reset isSubmitted flag to false each time new row is added\r\n        this.isSubmitted = false;\r\n        // initialize cart data object for current row index\r\n        this.cartData[rowIndex] = { super_attribute: {} };\r\n        // if name number\r\n        if (this.isNameNumber) {\r\n            // initialize empty name number object\r\n            var additional_options = [{}];\r\n            // set id first\r\n            additional_options[0] = Object.assign(additional_options[0], { id: this.nameNumberData.newRow[rowIndex].id });\r\n            // check if name exists\r\n            if (this.nameNumberData.addName)\r\n                additional_options[0] = Object.assign(additional_options[0], { name: this.nameNumberData.newRow[rowIndex].name });\r\n            // check if number exists\r\n            if (this.nameNumberData.addNumber)\r\n                additional_options[0] = Object.assign(additional_options[0], { number: this.nameNumberData.newRow[rowIndex].number });\r\n            // finally add this object to cartData object\r\n            this.cartData[rowIndex] = Object.assign(this.cartData[rowIndex], { additional_options: additional_options });\r\n        }\r\n        // store fix default options into tmp variable\r\n        var tmpSelectedValues = Object.assign({}, this.fixDefaultSelectedOptions);\r\n        // filter conf attr array to get attr id\r\n        confAttrs.filter(function (confAttrArr, index) {\r\n            _this.cartData[rowIndex].super_attribute[confAttrArr.id] = tmpSelectedValues[index];\r\n        });\r\n        // store selected values to all default selected \r\n        this.allDefaultSelectedAttrs[rowIndex] = Object.assign({}, tmpSelectedValues);\r\n        // delete tmpSelectedValues;\r\n        var productId = this.getProductId(rowIndex);\r\n        this.cartData[rowIndex] = Object.assign(this.cartData[rowIndex], { productId: productId });\r\n        // finally assign qty object to cart data object\r\n        this.cartData[rowIndex] = Object.assign(this.cartData[rowIndex], { qty: this.defaultQty });\r\n    };\r\n    /**\r\n     * This function is triggered when name/number row is removed\r\n     * Here we will remove that row too from cart item\r\n     * and subtract the price of the same\r\n     *\r\n     * @param removedNameNumberObj\r\n     */\r\n    ConfProductAttrService.prototype.nameNumberReset = function (removedNameNumberObj, selectedKey) {\r\n        if (selectedKey === void 0) { selectedKey = null; }\r\n        // if no cart data found, return\r\n        if (!this.cartData || !this.cartData.length)\r\n            return;\r\n        // when key is not specified\r\n        // we will manually determine the key\r\n        if (selectedKey == null) {\r\n            // if both name and number selected\r\n            if (this.nameNumberData.addName && this.nameNumberData.addNumber) {\r\n                selectedKey = 'both';\r\n            }\r\n            // if only name is selected\r\n            else if (this.nameNumberData.addName && !this.nameNumberData.addNumber) {\r\n                selectedKey = 'name';\r\n            }\r\n            // if only number is selected\r\n            else if (!this.nameNumberData.addName && this.nameNumberData.addNumber) {\r\n                selectedKey = 'number';\r\n            }\r\n        }\r\n        // if key is specified(eg. name)\r\n        else {\r\n            // determine the other key(eg. number)\r\n            var otherKey = (selectedKey == 'addName') ? 'addNumber' : 'addName';\r\n            // check if other key is enabled\r\n            // eg if user had selected both name and number and then he deselects name\r\n            // in this case this function will also been triggered\r\n            // so we are checking if number is still checked, skip the process\r\n            if (this.nameNumberData[otherKey] == true) {\r\n                selectedKey = null;\r\n            }\r\n            // if selected key is not null\r\n            // determine the key value\r\n            selectedKey = (selectedKey != null && selectedKey == 'addName') ? 'name' : 'number';\r\n        }\r\n        // if key is null, return\r\n        if (selectedKey == null)\r\n            return;\r\n        // variable declaration    \r\n        var additionalOptions, foundCartItem = null, totalCartItems = this.cartData.length, cartItem;\r\n        // loop traversal\r\n        for (var i = 0; i < totalCartItems && foundCartItem == null; i++) {\r\n            // store cart data to custom var\r\n            cartItem = this.cartData[i];\r\n            // get addition option object\r\n            additionalOptions = cartItem.additional_options[0];\r\n            // check if removed name number id matches to current name number id\r\n            if (removedNameNumberObj.id == additionalOptions.id) {\r\n                // check key value for both name and number selection\r\n                if (selectedKey == 'both' && (removedNameNumberObj.name == additionalOptions.name && removedNameNumberObj.number == additionalOptions.number)) {\r\n                    foundCartItem = cartItem;\r\n                }\r\n                // else check with specific key\r\n                else if ((removedNameNumberObj[selectedKey] == additionalOptions[selectedKey])) {\r\n                    foundCartItem = cartItem;\r\n                }\r\n            }\r\n        }\r\n        // if found cart item is not null\r\n        // remove that item from cart\r\n        // subtract price of that item as well\r\n        if (foundCartItem != null) {\r\n            this.totalRows.splice(this.cartData.indexOf(foundCartItem), 1);\r\n            this.cartData.splice(this.cartData.indexOf(foundCartItem), 1);\r\n            this.eventService.$pub('qtyUpdated');\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param superAttribute\r\n     */\r\n    ConfProductAttrService.prototype.getProductId = function (rowIndex) {\r\n        var superAttribute = this.allDefaultSelectedAttrs[rowIndex], selectedAttrs = Object.values(superAttribute).join('_'), productIds = Object.keys(this.productsCombination), productAttrs = Object.values(this.productsCombination), index;\r\n        index = productAttrs.indexOf(selectedAttrs);\r\n        return productIds[index];\r\n    };\r\n    /**\r\n     * remove cart object on click on remove icon\r\n     *\r\n     * @param rowIndex\r\n     */\r\n    ConfProductAttrService.prototype.removeRow = function (rowIndex, cartData) {\r\n        if (cartData === void 0) { cartData = null; }\r\n        if (cartData != null) {\r\n            if (cartData && cartData[rowIndex])\r\n                cartData.splice(rowIndex, 1);\r\n        }\r\n        else {\r\n            if (this.cartData && this.cartData[rowIndex])\r\n                this.cartData.splice(rowIndex, 1);\r\n        }\r\n    };\r\n    /**\r\n     * cart data validation\r\n     *\r\n     * @return boolean value(true if cart is )\r\n     */\r\n    ConfProductAttrService.prototype.isConfDataInvalid = function () {\r\n        // set is submitted flag to true to display error messages\r\n        this.isSubmitted = true;\r\n        // variable declaration\r\n        var i, error = false, totalCartData = this.cartData.length, cartObj, superAttribute;\r\n        // as we need to stop iteration as soon as we found error in any of the validation,\r\n        // we are using for loop here\r\n        for (i = 0; i < totalCartData && error === false; i++) {\r\n            // store current cart data object to local variable      \r\n            cartObj = this.cartData[i];\r\n            // if cart data obj is not initialized,\r\n            // or qty is not initialized\r\n            // or qty is <= 0\r\n            // or super attribute object is not assigned, set error to true and break loop\r\n            if (!cartObj || !cartObj.qty || cartObj.qty <= 0 || !cartObj.super_attribute) {\r\n                error = true;\r\n                break;\r\n            }\r\n            // store super attribute to local variable\r\n            superAttribute = cartObj.super_attribute;\r\n            // traverse each super attribute one by one\r\n            for (var key in superAttribute) {\r\n                // check if any of the attribute has null value,\r\n                // if yes, then set error to true and stop iteration\r\n                if (superAttribute.hasOwnProperty(key) && superAttribute[key] == \"null\") {\r\n                    error = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // return true/false based on above actions\r\n        return error;\r\n    };\r\n    /**\r\n     * simply just set method to return cart data object\r\n     */\r\n    ConfProductAttrService.prototype.getCartData = function () {\r\n        var customCartData = [];\r\n        this.cartData.filter(function (cartItem) {\r\n            customCartData.push(JSON.parse(JSON.stringify(cartItem)));\r\n        });\r\n        if (this.isNameNumber)\r\n            customCartData = this.addQtyToAdditionalOptions(customCartData);\r\n        customCartData = this.checkForDuplicateSelection(customCartData);\r\n        return customCartData;\r\n    };\r\n    ConfProductAttrService.prototype.addQtyToAdditionalOptions = function (customCartData) {\r\n        var qtyToBeAssigned, additionalOptions;\r\n        customCartData.filter(function (cartItemObj) {\r\n            qtyToBeAssigned = parseInt(cartItemObj.qty);\r\n            if (cartItemObj.hasOwnProperty('additional_options')) {\r\n                additionalOptions = cartItemObj.additional_options[0];\r\n                additionalOptions = Object.assign(additionalOptions, { qty: qtyToBeAssigned });\r\n                cartItemObj.additional_options[0] = additionalOptions;\r\n            }\r\n        });\r\n        return customCartData;\r\n    };\r\n    /**\r\n     * check for duplicate selected pairs and remove duplicate one and add it's qty to matching pair\r\n     */\r\n    ConfProductAttrService.prototype.checkForDuplicateSelection = function (customCartData) {\r\n        var i, j, totalCartData = customCartData.length, tmp = [], removedItemQty;\r\n        for (i = 0; i < totalCartData; i++) {\r\n            removedItemQty = 0;\r\n            for (j = 1; j < totalCartData; j++) {\r\n                if (i === j)\r\n                    continue;\r\n                if (this.isCommon(customCartData[i].super_attribute, customCartData[j].super_attribute)) {\r\n                    removedItemQty = parseInt(customCartData[j].qty);\r\n                    customCartData[i].qty = parseInt(customCartData[i].qty) + removedItemQty;\r\n                    if (customCartData[i].hasOwnProperty('additional_options')) {\r\n                        customCartData[i].additional_options = customCartData[i].additional_options.concat(customCartData[j].additional_options);\r\n                    }\r\n                    this.removeRow(j, customCartData);\r\n                    totalCartData--;\r\n                    j--;\r\n                }\r\n            }\r\n        }\r\n        // customCartData.filter(cartItem => {\r\n        //   cartItem.additional_options = JSON.stringify(cartItem.additional_options);\r\n        // });\r\n        return customCartData;\r\n    };\r\n    /**\r\n     * Check both objects for matching values\r\n     *\r\n     * @param obj1\r\n     * @param obj2\r\n     */\r\n    ConfProductAttrService.prototype.isCommon = function (obj1, obj2) {\r\n        obj1 = Object.values(obj1);\r\n        obj2 = Object.values(obj2);\r\n        var totalValues = obj1.length, matchCounter = 0, i = 0;\r\n        for (i = 0; i < totalValues; i++) {\r\n            if (obj1[i] == obj2[i])\r\n                matchCounter++;\r\n        }\r\n        return (matchCounter == totalValues) ? true : false;\r\n    };\r\n    /**\r\n     * prevent user from entering invalid keys in qty input\r\n     *\r\n     * @param event\r\n     */\r\n    ConfProductAttrService.prototype.keyPress = function (event) {\r\n        var pattern = /[0-9\\+\\-\\ ]/;\r\n        var inputChar = String.fromCharCode(event.charCode);\r\n        if (event.keyCode != 8 && !pattern.test(inputChar)) {\r\n            event.preventDefault();\r\n        }\r\n    };\r\n    ConfProductAttrService.prototype.qtyUpdated = function (qtyVal, priceToBeCount) {\r\n        if (priceToBeCount === void 0) { priceToBeCount = 0; }\r\n        if (qtyVal <= 0)\r\n            qtyVal = 1;\r\n        var finalPrice = (priceToBeCount > 0) ? (priceToBeCount) : this.mainService.calcFinalPrice(qtyVal);\r\n        this.cartTotalAmount = Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_3__[\"FormatCurrency\"])(finalPrice, this.priceFormat, '');\r\n        this.eventService.$pub('setPrice', finalPrice);\r\n    };\r\n    /**\r\n     * get product price based on product id\r\n     * if tier price is set, same will be return, product price will be returned otherwise\r\n     *\r\n     * @param productId\r\n     * @param qty\r\n     */\r\n    ConfProductAttrService.prototype.getProductPrice = function (productId, qty) {\r\n        var keys, values, price = null;\r\n        if (this.tierPrice && Object.keys(this.tierPrice).length > 0) {\r\n            keys = Object.keys(this.tierPrice);\r\n            values = Object.values(this.tierPrice);\r\n            price = values[keys.indexOf(productId)];\r\n            // if tier price found\r\n            if (price && price.length > 0) {\r\n                var found_1;\r\n                price.filter(function (tierPriceObj) {\r\n                    if (parseInt(qty) >= parseInt(tierPriceObj.price_qty))\r\n                        found_1 = tierPriceObj;\r\n                });\r\n                price = ((found_1 && found_1.price)) ? found_1.price : null;\r\n            }\r\n            else {\r\n                price = null;\r\n            }\r\n        }\r\n        // if tier price not found\r\n        if (price == null) {\r\n            keys = Object.keys(this.productPrice);\r\n            values = Object.values(this.productPrice);\r\n            price = values[keys.indexOf(productId)];\r\n        }\r\n        // remove tax from price\r\n        if (this.priceService.tax > 0) {\r\n            price = (parseInt(price) / (100 + parseInt(this.priceService.tax))) * 100;\r\n        }\r\n        return price;\r\n    };\r\n    ConfProductAttrService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\r\n            _price_price_service__WEBPACK_IMPORTED_MODULE_5__[\"PriceService\"]])\r\n    ], ConfProductAttrService);\r\n    return ConfProductAttrService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/context-menu/context-menu.component.html\":\r\n/*!********************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/context-menu/context-menu.component.html ***!\r\n  \\********************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"context-menu\\\" style=\\\"position:absolute;z-index:9999;display: block;width: 20px\\\">\\n\\t<ul class=\\\"context-menu-list context-menu-root\\\" [attr.hidden]=\\\"hideContextMenu\\\">\\n\\t\\t<li class=\\\"context-menu-item labels context-menu-visible\\\" (click)=\\\"canvasService.Flip('horizontal')\\\">\\n\\t\\t\\t<label title=\\\"{{'Horizantal Flip' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-flip-v\\\" viewBox=\\\"0 0 30 30\\\" title=\\\"{{'Vertical Flip' | translate}}\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-flip-v\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t\\t<li class=\\\"context-menu-item labels\\\" (click)=\\\"canvasService.Flip('vertical')\\\">\\n\\t\\t\\t<label title=\\\"{{'Vertical Flip' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-flip-h\\\" viewBox=\\\"0 0 30 30\\\" title=\\\"{{'Horizantal Flip' | translate}}\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-flip-h\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t\\t<li class=\\\"context-menu-item labels\\\" (click)=\\\"canvasService.ObjectLayer('forward')\\\"\\n\\t\\t\\t[ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('bringToFront') != -1}\\\">\\n\\t\\t\\t<label title=\\\"{{'Front' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-layer-top\\\" viewBox=\\\"0 0 30 30\\\" title=\\\"{{'Front' | translate}}\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-layer-top\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t\\t<li class=\\\"context-menu-item labels\\\" (click)=\\\"canvasService.ObjectLayer('backward')\\\"\\n\\t\\t[ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('sendToBack') != -1}\\\">\\n\\t\\t\\t<label title=\\\"{{'Back' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-layer-bottom\\\" viewBox=\\\"0 0 30 30\\\" title=\\\"{{'Back' | translate}}\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-layer-bottom\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t\\t<li class=\\\"context-menu-item labels\\\" (click)=\\\"canvasService.deleteObject()\\\">\\n\\t\\t\\t<label title=\\\"{{'Delete' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 30\\\" title=\\\"{{'Delete' | translate}}\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t</ul>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/context-menu/context-menu.component.scss\":\r\n/*!********************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/context-menu/context-menu.component.scss ***!\r\n  \\********************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jb250ZXh0LW1lbnUvY29udGV4dC1tZW51LmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/context-menu/context-menu.component.ts\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/context-menu/context-menu.component.ts ***!\r\n  \\******************************************************************************/\r\n/*! exports provided: ContextMenuComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ContextMenuComponent\", function() { return ContextMenuComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var _right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../right-panel/right-panel.service */ \"./src/app/essentials/components/right-panel/right-panel.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\nvar ContextMenuComponent = /** @class */ (function () {\r\n    function ContextMenuComponent(eventService, canvasService, rightPanelService) {\r\n        var _this = this;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.rightPanelService = rightPanelService;\r\n        this.hideContextMenu = true;\r\n        this.eventService.$sub('updateContextMenu', function (obj) {\r\n            _this.hideContextMenu = (_this.hideContextMenu == true) ? null : true;\r\n            if (_this.hideContextMenu) {\r\n                if (document.getElementsByClassName(\"total-sides\").length > 0) {\r\n                    document.getElementsByClassName(\"total-sides\")[0].classList.remove(\"context-menu-open\");\r\n                }\r\n            }\r\n            else {\r\n                if (document.getElementsByClassName(\"total-sides\").length > 0) {\r\n                    document.getElementsByClassName(\"total-sides\")[0].classList.add(\"context-menu-open\");\r\n                }\r\n            }\r\n            _this.updateContextMenu(obj);\r\n        });\r\n        this.eventService.$sub('objectUpdated', function (obj) {\r\n            if (obj.length > 0) {\r\n                _this.updateContextMenu(obj[0]);\r\n            }\r\n            else {\r\n                _this.updateContextMenu(obj);\r\n            }\r\n        });\r\n        this.eventService.$sub('canvasObjectMoving', function (obj) {\r\n            _this.removeContextMenu();\r\n        });\r\n        this.eventService.$sub('objectRemoved', function () {\r\n            _this.removeContextMenu();\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this.removeContextMenu();\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function () {\r\n            _this.removeContextMenu();\r\n        });\r\n        this.eventService.$sub('imageSideChanged', function () {\r\n            if (_this.canvasService && _this.canvasService.currentCanvas) {\r\n                var obj = _this.canvasService.currentCanvas.getActiveObject();\r\n                if (!obj) {\r\n                    _this.removeContextMenu();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    ContextMenuComponent.prototype.ngOnInit = function () {\r\n    };\r\n    ContextMenuComponent.prototype.removeContextMenu = function () {\r\n        this.hideContextMenu = true;\r\n        if (document.getElementsByClassName(\"total-sides\").length > 0) {\r\n            document.getElementsByClassName(\"total-sides\")[0].classList.remove(\"context-menu-open\");\r\n        }\r\n    };\r\n    ContextMenuComponent.prototype.updateContextMenu = function (obj) {\r\n        this.rightPanelService.enableForMultipleObject();\r\n        this.rightPanelService.manageFlagForEnableDisable();\r\n        if (!obj)\r\n            return;\r\n        var contextMenu = document.querySelector(\".context-menu\");\r\n        var element = document.querySelector(\".product-designer-main-content.active\");\r\n        var dim = this.canvasService.currentCanvas.dim;\r\n        var left = element.offsetLeft + ((parseFloat(dim.x1) - this.canvasService.clipX[dim.designareaId] / 2) / this.canvasService.scaleFactor);\r\n        var top = element.offsetTop + ((parseFloat(dim.y1) - this.canvasService.clipY[dim.designareaId] / 2) / this.canvasService.scaleFactor);\r\n        var matrix = obj.calcTransformMatrix();\r\n        var absCoords = {\r\n            left: matrix[4],\r\n            top: obj.top + (obj.height * obj.scaleY)\r\n        };\r\n        if (obj.angle) {\r\n            absCoords.left = obj.oCoords.mb.x,\r\n                absCoords.top = obj.oCoords.mb.y;\r\n        }\r\n        contextMenu.style.left = (left + absCoords.left - 10) + 'px';\r\n        contextMenu.style.top = (top + absCoords.top) + 'px';\r\n    };\r\n    ContextMenuComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: 'context-menu',\r\n            template: __webpack_require__(/*! ./context-menu.component.html */ \"./src/app/essentials/components/context-menu/context-menu.component.html\"),\r\n            styles: [__webpack_require__(/*! ./context-menu.component.scss */ \"./src/app/essentials/components/context-menu/context-menu.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            _right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__[\"RightPanelService\"]])\r\n    ], ContextMenuComponent);\r\n    return ContextMenuComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/cropper/cropper-update.service.ts\":\r\n/*!*************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/cropper/cropper-update.service.ts ***!\r\n  \\*************************************************************************/\r\n/*! exports provided: CropperUpdateService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CropperUpdateService\", function() { return CropperUpdateService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar CropperUpdateService = /** @class */ (function () {\r\n    function CropperUpdateService() {\r\n        /**\r\n         * Init the service for operation : It initialise the variables\r\n         */\r\n        this.init = function (params) {\r\n            var obj = params.obj, newSrc = params.newSrc, canvasService = params.service, eventService = params.eventService;\r\n            // if no object is passed, we will get active object\r\n            if (obj == null)\r\n                obj = canvasService.getActiveObject();\r\n            // if no active object found, return from here\r\n            if (obj == false)\r\n                return;\r\n            // if (isCenter === true) obj.center();\r\n            // fetch object's current property in array\r\n            var oldSrc = obj.getSrc();\r\n            return {\r\n                /**\r\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\r\n                 *\r\n                 */\r\n                exec: function () {\r\n                    // if no active object found, return from here\r\n                    if (obj == false)\r\n                        return;\r\n                    obj.setSrc(newSrc, function () {\r\n                        canvasService.currentCanvas.renderAll();\r\n                        eventService.$pub('imageCropped');\r\n                    });\r\n                },\r\n                /**\r\n                 * This function is used to revert back the last updated object while using undo redo\r\n                 */\r\n                unexec: function () {\r\n                    var canvas = canvasService.currentCanvas;\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    // return of obj is null\r\n                    if (!obj)\r\n                        return;\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    obj.setSrc(oldSrc, function () {\r\n                        canvasService.currentCanvas.renderAll();\r\n                        eventService.$pub('objectUpdated', obj);\r\n                    });\r\n                }\r\n            };\r\n        };\r\n    }\r\n    CropperUpdateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], CropperUpdateService);\r\n    return CropperUpdateService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/cropper/cropper.component.html\":\r\n/*!**********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/cropper/cropper.component.html ***!\r\n  \\**********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<ng-template #cropperModal>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">{{'Crop Image' | translate}}</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div class=\\\"byi-img-crop\\\">\\n      <img [src]=\\\"currentImage\\\" #currentCanvasImage id=\\\"currentCanvasImage\\\" class=\\\"cropper-image\\\" height=\\\"auto\\\" width=\\\"auto\\\"\\n      crossOrigin=\\\"Anonymous\\\">\\n    </div>\\n    <div class=\\\"byi-ic-action\\\">\\n      <button class=\\\"byi-btn\\\" (click)=\\\"saveCroppedImage()\\\">{{'Apply Crop' | translate}}</button>\\n    </div>\\n  </div>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/cropper/cropper.component.scss\":\r\n/*!**********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/cropper/cropper.component.scss ***!\r\n  \\**********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jcm9wcGVyL2Nyb3BwZXIuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/cropper/cropper.component.ts\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/cropper/cropper.component.ts ***!\r\n  \\********************************************************************/\r\n/*! exports provided: CropperComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CropperComponent\", function() { return CropperComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var cropperjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cropperjs */ \"./node_modules/cropperjs/dist/cropper.js\");\r\n/* harmony import */ var cropperjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cropperjs__WEBPACK_IMPORTED_MODULE_5__);\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar CropperComponent = /** @class */ (function () {\r\n    function CropperComponent(addImageService, mainService, cdr, canvasSevice, translate) {\r\n        this.addImageService = addImageService;\r\n        this.mainService = mainService;\r\n        this.cdr = cdr;\r\n        this.canvasSevice = canvasSevice;\r\n        this.translate = translate;\r\n    }\r\n    CropperComponent.prototype.ngOnInit = function () {\r\n        this.initData();\r\n    };\r\n    CropperComponent.prototype.initData = function () {\r\n        var _this = this;\r\n        this.cropperSettings = {\r\n            checkCrossOrigin: false,\r\n            viewMode: 2,\r\n            background: false,\r\n            zoomOnWheel: false,\r\n            minContainerWidth: 100,\r\n            minContainerHeight: 150,\r\n            ready: function () {\r\n                _this.applyCustomClassesToCropper();\r\n            }\r\n        };\r\n    };\r\n    CropperComponent.prototype.cropImage = function (imageUrl) {\r\n        // this.cropperModal.show();\r\n        var obj = this.canvasSevice.getActiveObject();\r\n        this.currentImage = obj.getSrc();\r\n        this.modalRef = this.mainService.openThisModal(this.cropperModal, 'byi-img-crop-popup');\r\n        this.setCropper();\r\n    };\r\n    CropperComponent.prototype.setCropper = function () {\r\n        var _this = this;\r\n        var self = this;\r\n        setTimeout(function () {\r\n            var img = document.getElementById('currentCanvasImage');\r\n            var image = new Image();\r\n            image.src = img.src;\r\n            image.crossOrigin = 'Anonymous';\r\n            image.onload = function () {\r\n                self.cropper = new cropperjs__WEBPACK_IMPORTED_MODULE_5___default.a(img, _this.cropperSettings);\r\n                self.cdr.detectChanges();\r\n            };\r\n        }, 100);\r\n    };\r\n    CropperComponent.prototype.saveCroppedImage = function () {\r\n        var _this = this;\r\n        this.canvasSevice.eventService.$pub('showMainLoader');\r\n        this.croppedImage = this.cropper.getCroppedCanvas().toDataURL();\r\n        var params = {\r\n            imageData: this.croppedImage\r\n        }, url = \"productdesigner/index/saveCroppedImage\", self = this;\r\n        this.mainService.post(url, params).then(function (resp) {\r\n            self.addCroppedImageToCanvas(resp.outputImage);\r\n        }).catch(function (err) {\r\n            console.log(_this.translate.instant(\"Error in save cropped image: \"), err);\r\n        }).finally(function () {\r\n            _this.canvasSevice.eventService.$pub('hideMainLoader');\r\n        });\r\n    };\r\n    CropperComponent.prototype.addCroppedImageToCanvas = function (croppedImage) {\r\n        var img = croppedImage;\r\n        // let img = \"assets/img/15559082051519329576.png\";\r\n        this.addImageService.updateImage(img);\r\n        this.modalRef.hide();\r\n    };\r\n    CropperComponent.prototype.applyCustomClassesToCropper = function () {\r\n        var cropperModal = document.getElementsByClassName('cropper-modal'), cropperImg = document.getElementsByClassName('cropper-hide');\r\n        if (cropperModal && cropperModal[0] && cropperModal[0].classList) {\r\n            cropperModal[0].setAttribute('style', 'background: #ccc');\r\n        }\r\n        if (cropperImg && cropperImg[0] && cropperImg[0].classList) {\r\n            cropperImg[0].setAttribute('style', 'border: dotted 1px #f00');\r\n        }\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('cropperModal'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], CropperComponent.prototype, \"cropperModal\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('currentCanvasImage'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], CropperComponent.prototype, \"image\", void 0);\r\n    CropperComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\r\n            selector: 'cropper',\r\n            template: __webpack_require__(/*! ./cropper.component.html */ \"./src/app/essentials/components/cropper/cropper.component.html\"),\r\n            styles: [__webpack_require__(/*! ./cropper.component.scss */ \"./src/app/essentials/components/cropper/cropper.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_2__[\"AddImageService\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ChangeDetectorRef\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_1__[\"CanvasService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__[\"TranslateService\"]])\r\n    ], CropperComponent);\r\n    return CropperComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/custom-options/custom-options.component.html\":\r\n/*!************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/custom-options/custom-options.component.html ***!\r\n  \\************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<!-- check if form group object is ready -->\\n<ng-container *ngIf=\\\"customOptionsService.customOptionFormGroup\\\"\\n  [formGroup]=\\\"customOptionsService.customOptionFormGroup\\\">\\n\\n  <!-- Traversal -->\\n  <ng-container *ngFor=\\\"let customOptionObj of customOptionsService.customOptionsData; let i = index\\\">\\n\\n    <!-- This section will display input type fields like text, date, datetime, time, file -->\\n    <div *ngIf=\\\"customOptionsService.typeCheck(customOptionObj.type, 'input')\\\" class=\\\"byi-cart-option byi-float-label\\\">\\n      <label>{{customOptionObj.title | translate}}{{(customOptionObj.isRequire) ? '*' : ''}}</label>\\n      <input [type]=\\\"customOptionsService.getInputType(customOptionObj.type)\\\" [id]=\\\"customOptionObj.id\\\"\\n        [formControlName]=\\\"customOptionsService.getControlName(customOptionObj)\\\"\\n        (input)=\\\"customOptionsService.calcPrice()\\\">\\n      <span class=\\\"text-danger\\\" *ngIf=\\\"isError(customOptionObj)\\\">{{'This field is\\n        required' | translate}}</span>\\n    </div>\\n\\n    <!-- As input type file field requires addition operations and validation we need to specify it here -->\\n    <div *ngIf=\\\"customOptionObj.type == 'file'\\\" class=\\\"byi-cart-option byi-float-label\\\">\\n      <label>{{customOptionObj.title | translate}}{{(customOptionObj.isRequire) ? '*' : ''}}</label>\\n      <input type=\\\"file\\\" [id]=\\\"customOptionObj.title + '_' + customOptionObj.id\\\"\\n        (change)=\\\"handleFileUpload(customOptionObj, $event)\\\">\\n      <span *ngIf=\\\"customOptionObj.fileTypeError\\\" class=\\\"text-danger\\\">{{'Invalid File' | translate}}</span>\\n    </div>\\n\\n    <!-- This section will display select fields like dropdown, multiple dropdown -->\\n    <div *ngIf=\\\"customOptionObj.type == 'drop_down'\\\" class=\\\"byi-cart-option\\\">\\n      <label>{{customOptionObj.title | translate}}{{(customOptionObj.isRequire) ? '*' : ''}}</label>\\n      <div class=\\\"byi-select\\\">\\n        <select [id]=\\\"customOptionObj.id\\\" [formControlName]=\\\"customOptionsService.getControlName(customOptionObj)\\\"\\n          (change)=\\\"customOptionsService.calcPrice()\\\">\\n          <option value=\\\"\\\">{{'None' | translate}}</option>\\n          <option *ngFor=\\\"let dropdownObj of customOptionObj.options_values\\\" [value]=\\\"dropdownObj.optionTypeId\\\">\\n            {{dropdownObj.valueTitle}}</option>\\n        </select>\\n        <span class=\\\"caret\\\"></span>\\n      </div>\\n      <span class=\\\"byi-error\\\" *ngIf=\\\"isError(customOptionObj)\\\">{{'This field is\\n        required' | translate}}</span>\\n    </div>\\n\\n    <!-- This section will display select fields like dropdown, multiple dropdown -->\\n    <div *ngIf=\\\"customOptionObj.type == 'multiple'\\\" class=\\\"byi-cart-option\\\">\\n      <label>{{customOptionObj.title | translate}}{{(customOptionObj.isRequire) ? '*' : ''}}</label>\\n      <div class=\\\"byi-select\\\">\\n        <select [id]=\\\"customOptionObj.id\\\" [formControlName]=\\\"customOptionsService.getControlName(customOptionObj)\\\"\\n          multiple (change)=\\\"checkForDropdownValues(customOptionObj, $event)\\\">\\n          <option value=\\\"\\\">{{'None' | translate}}</option>\\n          <option *ngFor=\\\"let dropdownObj of customOptionObj.options_values\\\"\\n            [id]=\\\"customOptionObj.id + '_' + dropdownObj.optionTypeId\\\">\\n            {{dropdownObj.valueTitle}}</option>\\n        </select>\\n      </div>\\n      <!-- Error -->\\n      <span class=\\\"byi-error\\\" *ngIf=\\\"isError(customOptionObj)\\\">{{'This field is\\n        required' | translate}}</span>\\n    </div>\\n\\n    <!-- This section will display selection boxes like radio button and checkbox -->\\n    <div *ngIf=\\\"customOptionsService.typeCheck(customOptionObj.type, 'selectionBox')\\\"\\n      class=\\\"byi-cart-option byi-float-checkbox\\\">      \\n      <label>{{'Select ' + customOptionObj.title | translate}}{{(customOptionObj.isRequire) ? '*' : ''}}</label>\\n      <ng-container *ngFor=\\\"let selectionOptionObj of customOptionObj.options_values\\\">\\n        <div class=\\\"byi-cr-option\\\">\\n          <label class=\\\"byi-checkbox\\\">\\n            <input [type]='customOptionObj.type' [id]='selectionOptionObj.optionTypeId'\\n              [attr.value]='selectionOptionObj.optionTypeId'\\n              [name]=\\\"customOptionsService.getControlName(customOptionObj)\\\"\\n              [formControlName]=\\\"customOptionsService.getControlName(customOptionObj)\\\"\\n              (change)=\\\"setSelectionBoxVal(customOptionObj, $event.target.checked, selectionOptionObj.optionTypeId)\\\"\\n              >\\n            <span></span>{{selectionOptionObj.valueTitle}}\\n          </label>\\n        </div>\\n      </ng-container>\\n\\n      <!-- Error -->\\n      <span class=\\\"byi-error\\\" *ngIf=\\\"isError(customOptionObj)\\\">{{'This field is\\n        required' | translate}}</span>\\n    </div>\\n  </ng-container>\\n</ng-container>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/custom-options/custom-options.component.scss\":\r\n/*!************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/custom-options/custom-options.component.scss ***!\r\n  \\************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \".byi-float-label input[type='file'] {\\n  width: 100%;\\n  height: 35px;\\n  padding: 4px;\\n  box-shadow: none;\\n  border-radius: 4px;\\n  font-size: 13px;\\n  border: 1px solid #cccccc; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2h0bWwvUmVzdHJ1Y3R1cmVWMi9tYWdlbnRvMjI4VjIvYW5ndWxhci9zcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jdXN0b20tb3B0aW9ucy9jdXN0b20tb3B0aW9ucy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQVc7RUFDWCxZQUFZO0VBQ1osWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLHlCQUF5QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvZXNzZW50aWFscy9jb21wb25lbnRzL2N1c3RvbS1vcHRpb25zL2N1c3RvbS1vcHRpb25zLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJ5aS1mbG9hdC1sYWJlbCBpbnB1dFt0eXBlPSdmaWxlJ10ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMzVweDtcbiAgICBwYWRkaW5nOiA0cHg7XG4gICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2NjY2M7XG59Il19 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/custom-options/custom-options.component.ts\":\r\n/*!**********************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/custom-options/custom-options.component.ts ***!\r\n  \\**********************************************************************************/\r\n/*! exports provided: CustomOptionsComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomOptionsComponent\", function() { return CustomOptionsComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _custom_options_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./custom-options.service */ \"./src/app/essentials/components/custom-options/custom-options.service.ts\");\r\n\r\n\r\n\r\n\r\nvar CustomOptionsComponent = /** @class */ (function () {\r\n    function CustomOptionsComponent(cdr, customOptionsService, eventService) {\r\n        this.cdr = cdr;\r\n        this.customOptionsService = customOptionsService;\r\n        this.eventService = eventService;\r\n    }\r\n    /**\r\n     * Angular lifecycle init function\r\n     */\r\n    CustomOptionsComponent.prototype.ngOnInit = function () {\r\n        this.customOptionsService.init();\r\n        this.customOptionsService.prepareFormGroup();\r\n        // if error occured, scroll to top\r\n        this.eventService.$sub('validationError', function () {\r\n            var elem = document.getElementsByClassName('byi-cart-custom');\r\n            elem = (elem && elem[0]) ? elem[0] : null;\r\n            if (elem)\r\n                setTimeout(function () {\r\n                    elem.scrollIntoView({ behavior: \"smooth\" });\r\n                }, 500);\r\n        });\r\n    };\r\n    /**\r\n     * When component is getting closd, reset data\r\n     */\r\n    CustomOptionsComponent.prototype.ngOnDestroy = function () {\r\n        this.customOptionsService.init();\r\n    };\r\n    /**\r\n     * this function is triggered as soon as user selects any file\r\n     *\r\n     * @param customOptionObj current option object\r\n     * @param eve event\r\n     */\r\n    CustomOptionsComponent.prototype.handleFileUpload = function (customOptionObj, eve) {\r\n        // if event object does not contain file, return\r\n        if (!eve || !eve.target || !eve.target.files || !eve.target.files[0])\r\n            return;\r\n        // get file object from eve\r\n        var file = eve.target.files[0];\r\n        // check for file validation\r\n        // here we are checking for file extensions\r\n        // if any error occured, will return false, array of allowed exntesions otherwise\r\n        var checkedValidationResponse = this.checkForImageValidation(customOptionObj, file);\r\n        // if error occured, assign fileTypeError property to show error\r\n        if (checkedValidationResponse == false) {\r\n            customOptionObj = Object.assign(customOptionObj, { fileTypeError: true });\r\n            return;\r\n        }\r\n        // if no errors found, assign allowedExtensions flag value to file object to send it in request param\r\n        file = Object.assign(file, { allowedExtensions: checkedValidationResponse });\r\n        // assign other important info\r\n        file = Object.assign(file, {\r\n            fileInfo: {\r\n                optionId: customOptionObj.id,\r\n                optiontitle: customOptionObj.title\r\n            }\r\n        });\r\n        // push current file object to our fileList object(for final operation)\r\n        this.customOptionsService.fileList.push(file);\r\n        // if current object contains fileTypeError property, remove the same\r\n        if (customOptionObj && customOptionObj.fileTypeError)\r\n            delete customOptionObj.fileTypeError;\r\n        // set price for the same\r\n        this.customOptionsService.calcPrice();\r\n    };\r\n    /**\r\n     * Check if current uploaded file has any errors\r\n     * we are just checking for file extensions\r\n     *\r\n     * @param customOptionObj\r\n     * @param file\r\n     */\r\n    CustomOptionsComponent.prototype.checkForImageValidation = function (customOptionObj, file) {\r\n        // determine file type by file's extension\r\n        var fileType = (file && file.type) ? file.name.substr(file.name.lastIndexOf('.') + 1) : '', \r\n        // prepare array of allowedExtensions string\r\n        allowedExtensions = (customOptionObj && customOptionObj.file_extension) ? customOptionObj.file_extension.replace(/ /g, \"\").split(\",\") : [];\r\n        // if file type is not found, return false(assuming invalid file)\r\n        if (!fileType || fileType == '')\r\n            return false;\r\n        // check whether current file type is present in allowedExtensions,\r\n        // if no, return false\r\n        if (allowedExtensions &&\r\n            allowedExtensions.length &&\r\n            allowedExtensions.indexOf(fileType) < 0)\r\n            return false;\r\n        // else return allowedExtensions\r\n        return allowedExtensions;\r\n    };\r\n    /**\r\n     * as in case of multiple dropdown, form control failes to validate the same\r\n     * so we need to validate it by our end\r\n     *\r\n     * @param customOptionObj current custom option object\r\n     * @param eve event\r\n     */\r\n    CustomOptionsComponent.prototype.checkForDropdownValues = function (customOptionObj, eve) {\r\n        // determine the value object\r\n        var val = (eve && eve.target && eve.target.value) ? eve.target.value : [], \r\n        // get control name\r\n        controlName = this.customOptionsService.getControlName(customOptionObj);\r\n        // find value in custom option object and store response in temp object\r\n        var temp = customOptionObj.options_values.find(function (customOptionChildObj) { return customOptionChildObj.valueTitle == val; });\r\n        // if temp object is undefined, set error for the same\r\n        if (!temp)\r\n            this.cf[controlName].setErrors({ required: true });\r\n        // set price for the same\r\n        this.customOptionsService.calcPrice();\r\n    };\r\n    /**\r\n     * This function is called when radio button/checkbox is selected\r\n     * as in form control sometimes it does not detect values automatically, so we are doing it manually here\r\n     *\r\n     * @param customOptionObj current custom option object\r\n     * @param isChecked boolean value whether is checked or not\r\n     * @param val value of selected checkbox/radio button\r\n     */\r\n    CustomOptionsComponent.prototype.setSelectionBoxVal = function (customOptionObj, isChecked, val) {\r\n        // store selected value to temp var\r\n        var selectedVal = val;\r\n        // determine the value, if isChecked is false we need to declare val as empty\r\n        val = (isChecked === true) ? val : '';\r\n        // get control name by current object\r\n        var controlName = this.customOptionsService.getControlName(customOptionObj);\r\n        // check if it's checkbox\r\n        if (customOptionObj.type == 'checkbox') {\r\n            var formControlValue = (this.cf[controlName].value) ? this.cf[controlName].value : [];\r\n            if (formControlValue && formControlValue.indexOf(',') >= 0) {\r\n                formControlValue = formControlValue.split(\",\");\r\n            }\r\n            var tmp = [].concat(formControlValue);\r\n            if (isChecked && tmp.indexOf(val) == -1)\r\n                tmp.push(val);\r\n            else if (!isChecked)\r\n                tmp.splice(tmp.indexOf(selectedVal), 1);\r\n            val = [].concat(tmp);\r\n        }\r\n        // assign value to form control object\r\n        // this.cf[controlName].setValue(val);\r\n        this.cf[controlName].setValue([].concat(val));\r\n        // set price for the same\r\n        this.customOptionsService.calcPrice();\r\n    };\r\n    /**\r\n      * this function will check for error for current object and will return true if found any\r\n      *\r\n      * @param customOptionObj object of custom options\r\n      */\r\n    CustomOptionsComponent.prototype.isError = function (customOptionObj) {\r\n        return customOptionObj.type != 'file' && this.customOptionsService.isSubmitted === true && this.cf[this.customOptionsService.getControlName(customOptionObj)].errors && this.cf[this.customOptionsService.getControlName(customOptionObj)].errors.required;\r\n    };\r\n    /**\r\n     * checks radio buttons and checkboxes\r\n     */\r\n    CustomOptionsComponent.prototype.isChecked = function (customOptionObj, val) {\r\n        var formValue = this.cf[this.customOptionsService.getControlName(customOptionObj)].value;\r\n        if (customOptionObj.type == 'radio')\r\n            return formValue == val;\r\n        else if (customOptionObj.type == 'checkbox')\r\n            return formValue.indexOf(val) >= 0;\r\n    };\r\n    Object.defineProperty(CustomOptionsComponent.prototype, \"cf\", {\r\n        // instance to use for current form control\r\n        get: function () { return this.customOptionsService.cf; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CustomOptionsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: '[custom-options]',\r\n            template: __webpack_require__(/*! ./custom-options.component.html */ \"./src/app/essentials/components/custom-options/custom-options.component.html\"),\r\n            styles: [__webpack_require__(/*! ./custom-options.component.scss */ \"./src/app/essentials/components/custom-options/custom-options.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"],\r\n            _custom_options_service__WEBPACK_IMPORTED_MODULE_3__[\"CustomOptionsService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"]])\r\n    ], CustomOptionsComponent);\r\n    return CustomOptionsComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/custom-options/custom-options.service.ts\":\r\n/*!********************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/custom-options/custom-options.service.ts ***!\r\n  \\********************************************************************************/\r\n/*! exports provided: CustomOptionsService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomOptionsService\", function() { return CustomOptionsService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\r\n/* harmony import */ var _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../conf-product-attr/conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar CustomOptionsService = /** @class */ (function () {\r\n    /**\r\n     *\r\n     */\r\n    function CustomOptionsService(eventService, confProductService, priceService) {\r\n        this.eventService = eventService;\r\n        this.confProductService = confProductService;\r\n        this.priceService = priceService;\r\n        // Declaration\r\n        this.fileList = [];\r\n        // selected custom options\r\n        this.selectedCustomOptions = {};\r\n        // selected custom options total\r\n        this.selectedCustomOptionsTotal = 0;\r\n        // in case of configurable product, we will keep total qty here for final calculations\r\n        // for simple product, qty is already been assigned in price service\r\n        this.qtyToBeUsed = 1;\r\n    }\r\n    /**\r\n      * Assign default values here\r\n      */\r\n    CustomOptionsService.prototype.init = function () {\r\n        this.isSubmitted = false;\r\n        this.fileList = (this.fileList && this.fileList.length > 0) ? this.fileList : [];\r\n        this.initTypeCheckObject();\r\n    };\r\n    /**\r\n      * Initialize typecheck object\r\n      */\r\n    CustomOptionsService.prototype.initTypeCheckObject = function () {\r\n        if (this.typeCheckValues && this.typeCheckValues.length > 0)\r\n            return;\r\n        this.typeCheckValues = {\r\n            input: ['field', 'date', 'date_time', 'time'],\r\n            selectionBox: ['checkbox', 'radio'],\r\n            dropDown: ['drop_down', 'multiple']\r\n        };\r\n    };\r\n    /**\r\n     * Prepare custom form group\r\n     */\r\n    CustomOptionsService.prototype.prepareFormGroup = function () {\r\n        var _this = this;\r\n        if (this.customOptionFormGroup && this.customOptionFormGroup.controls)\r\n            return;\r\n        var group = {}, formControlName, isRequire;\r\n        this.customOptionsData.filter(function (customOptionObj) {\r\n            formControlName = _this.getControlName(customOptionObj);\r\n            isRequire = (customOptionObj.type == 'file') ? false : customOptionObj.isRequire;\r\n            group[formControlName] = _this.generateFormControl(isRequire, customOptionObj.type);\r\n        });\r\n        this.customOptionFormGroup = new _angular_forms__WEBPACK_IMPORTED_MODULE_4__[\"FormGroup\"](group);\r\n        (this.selectedCustomOptions) ? this.setSelectedCustomOptionsData() : this.checkForExistingOptions();\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    CustomOptionsService.prototype.setSelectedCustomOptionsData = function () {\r\n        var _this = this;\r\n        var selectedCustomOptions = this.selectedCustomOptions, objKeys = Object.keys(selectedCustomOptions), currentOptionObjVal, foundObj;\r\n        objKeys.filter(function (key) {\r\n            if (key != 'qty') {\r\n                currentOptionObjVal = selectedCustomOptions[key];\r\n                foundObj = _this.customOptionsData.find(function (customOptionObj) { return customOptionObj.id == key; });\r\n                // if datetime, check if value is null, if so, skip\r\n                if (foundObj.type == \"date\" || foundObj.type == \"time\" || foundObj.type == \"date_time\") {\r\n                    if (currentOptionObjVal.date_internal)\r\n                        delete currentOptionObjVal.date_internal;\r\n                    if (Object.values(currentOptionObjVal).indexOf(null) >= 0)\r\n                        currentOptionObjVal = false;\r\n                }\r\n                if (currentOptionObjVal != false)\r\n                    _this.setSelectedCustomOptionValue(foundObj, currentOptionObjVal);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Custom selected options\r\n    */\r\n    CustomOptionsService.prototype.checkForExistingOptions = function () {\r\n        var customOptionsData = document.getElementsByClassName(\"options\"), val, foundObj, super_attribute;\r\n        // traverse through array\r\n        for (var i = 0; i < customOptionsData.length; i++) {\r\n            // fetch instance one by one\r\n            super_attribute = customOptionsData[i];\r\n            // check if value exists, return if not\r\n            if (!super_attribute.value || super_attribute.value == '')\r\n                continue;\r\n            // search and return custom option object by id\r\n            foundObj = this.customOptionsData.find(function (customOptionObj) { return customOptionObj.id == super_attribute.dataset.attrId; });\r\n            val = super_attribute.value;\r\n            if (foundObj.type == 'date') {\r\n                val = val.split(\",\");\r\n                val = {\r\n                    day: val[1],\r\n                    month: val[0],\r\n                    year: val[2]\r\n                };\r\n            }\r\n            else if (foundObj.type == \"time\") {\r\n                val = val.split(\",\");\r\n                val = {\r\n                    hour: val[0],\r\n                    minute: val[1],\r\n                    dayPart: val[2]\r\n                };\r\n            }\r\n            else if (foundObj.type == \"date_time\") {\r\n                val = val.split(\",\");\r\n                val = {\r\n                    day: val[1],\r\n                    month: val[0],\r\n                    year: val[2],\r\n                    hour: val[3],\r\n                    minute: val[4],\r\n                    dayPart: val[5] || '',\r\n                };\r\n            }\r\n            // \r\n            this.setSelectedCustomOptionValue(foundObj, val);\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param foundObj\r\n     * @param selectedVal\r\n     */\r\n    CustomOptionsService.prototype.setSelectedCustomOptionValue = function (foundObj, selectedVal) {\r\n        var val, typeArrayObj = ['multiple', 'date', 'time', 'date_time'];\r\n        // set value, if type is dropdown, value should be in array format, original otherwise\r\n        val = (foundObj.type == 'drop_down') ? [].concat(selectedVal) : selectedVal;\r\n        // convert comma separated values into array\r\n        val = (val && val.constructor == String && val.indexOf(\",\") >= 0) ? val.split(\",\") : val;\r\n        // if type is multiple and only one value is assigned, change it to array\r\n        val = (foundObj.type == 'multiple' && Array.isArray(val) === false) ? [].concat(val) : val;\r\n        // few types like datetime or multiple consist array of values\r\n        // so before procceeding ahead we will check if it's not an empty array\r\n        if (typeArrayObj.indexOf(foundObj.type) >= 0) {\r\n            // if object type is multiple, fetch value title and set selected to respective element\r\n            if (foundObj.type == 'multiple') {\r\n                // declare variables\r\n                var tmpVal_1 = [], tmp_1, elem_1 = [];\r\n                // as our value will be an array,\r\n                // traverse one by one\r\n                val.filter(function (v) {\r\n                    // get obj having same id as val\r\n                    tmp_1 = foundObj.options_values.find(function (optionValObj) { return optionValObj.optionTypeId == v; });\r\n                    // if found, push it to elem array for further use\r\n                    // and save value title to local variable which will be then replace val object\r\n                    if (tmp_1) {\r\n                        elem_1.push(foundObj.id + '_' + tmp_1.optionTypeId);\r\n                        tmpVal_1.push(tmp_1.valueTitle);\r\n                    }\r\n                });\r\n                // replace tmp val object with val\r\n                val = tmpVal_1;\r\n                // as popup takes some time to load, we need to set it after 0.5 sec\r\n                setTimeout(function () {\r\n                    elem_1.filter(function (ele) { return document.getElementById(ele).setAttribute('selected', 'true'); });\r\n                }, 500);\r\n            }\r\n            // if type is date\r\n            else if (foundObj.type == \"date\") {\r\n                var yyyy = void 0, MM = void 0, dd = void 0;\r\n                yyyy = val.year;\r\n                MM = val.month;\r\n                MM = (MM < 10) ? \"0\" + MM : MM;\r\n                dd = val.day;\r\n                dd = (dd < 10) ? \"0\" + dd : dd;\r\n                val = yyyy + \"-\" + MM + \"-\" + dd;\r\n            }\r\n            // if type is time\r\n            else if (foundObj.type == \"time\") {\r\n                var hr = parseInt(val.hour), min = parseInt(val.minute);\r\n                hr = (hr < 10) ? \"0\" + hr : hr;\r\n                hr = (hr == 12 && val.dayPart == 'am') ? \"00\" : hr;\r\n                min = (min < 10) ? \"0\" + min : min;\r\n                val = hr + \":\" + min;\r\n            }\r\n            // if type is dateTime\r\n            else if (foundObj.type == \"date_time\") {\r\n                var yyyy = void 0, MM = void 0, dd = void 0;\r\n                yyyy = val.year;\r\n                MM = val.month;\r\n                MM = (MM < 10) ? \"0\" + MM : MM;\r\n                dd = val.day;\r\n                dd = (dd < 10) ? \"0\" + dd : dd;\r\n                var date = yyyy + \"-\" + MM + \"-\" + dd + \"T\", hr = parseInt(val.hour), min = parseInt(val.minute);\r\n                hr = (hr < 10) ? \"0\" + hr : hr;\r\n                hr = (hr == 12 && val.dayPart == 'am') ? \"00\" : hr;\r\n                min = (min < 10) ? \"0\" + min : min;\r\n                val = date + hr + \":\" + min;\r\n            }\r\n        }\r\n        // finally assign these values to each form controller object\r\n        this.cf[this.getControlName(foundObj)].setValue(val);\r\n        this.calculateCustomOptionPrice(foundObj, val);\r\n        if (foundObj.type == 'checkbox') {\r\n            val = val.join(',');\r\n            this.cf[this.getControlName(foundObj)].setValue(val);\r\n        }\r\n    };\r\n    /**\r\n     * parepre/get controller name based on object\r\n     * we are using title and id of the object to prepare control name\r\n     *\r\n     * @param customOptionObj object of custom form\r\n     */\r\n    CustomOptionsService.prototype.getControlName = function (customOptionObj) {\r\n        var formControlName = (customOptionObj.title + '_' + customOptionObj.id).split(\" \").join(\"_\");\r\n        return formControlName;\r\n    };\r\n    /**\r\n    * This function will generate and return form control object\r\n    *\r\n    * @param isRequired flag value that indicates whether or not required validation is required to add or not\r\n    */\r\n    CustomOptionsService.prototype.generateFormControl = function (isRequired, customOptionObjType) {\r\n        var validationRule = (isRequired == true) ? _angular_forms__WEBPACK_IMPORTED_MODULE_4__[\"Validators\"].required : '', formControlDefaultVal = '';\r\n        if (customOptionObjType == 'multiple' || customOptionObjType == 'checkbox')\r\n            formControlDefaultVal = [];\r\n        return new _angular_forms__WEBPACK_IMPORTED_MODULE_4__[\"FormControl\"](formControlDefaultVal, validationRule);\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    CustomOptionsService.prototype.validateCustomOptionsData = function () {\r\n        var self = this, eventResponse = {\r\n            isInvalid: self.isCustomFormHasErrors(),\r\n            files: this.fileList\r\n        };\r\n        if (self.isCustomFormHasErrors() == false)\r\n            eventResponse = Object.assign(eventResponse, {\r\n                customOptions: this.prepareCustomOptions()\r\n            });\r\n        return eventResponse;\r\n    };\r\n    /**\r\n    * this function performs following actions:\r\n    * i. set isSubmitted flag to true(to display error messages)\r\n    * ii. check for uploaded file errors\r\n    */\r\n    CustomOptionsService.prototype.isCustomFormHasErrors = function () {\r\n        // IF ON LOAD CHECK IS DONE\r\n        if (!this.customOptionFormGroup)\r\n            return true;\r\n        // set submit flag to true that will show errors\r\n        this.isSubmitted = true;\r\n        // here we will check if uploaded file has any errors    \r\n        var uploadedFileError = this.getUploadedFileError();\r\n        // store error flag to local variable\r\n        var isError = (this.customOptionFormGroup && this.customOptionFormGroup.invalid) || uploadedFileError;\r\n        // if error occured, publish an event for the same\r\n        if (isError)\r\n            this.eventService.$pub('validationError');\r\n        // finally return boolean value(true if error found)\r\n        return isError;\r\n    };\r\n    /**\r\n     * check for uploaded file errors\r\n     * if any file upload dom element has errors, we have assigned fileTypeError object to custom option object variable\r\n     */\r\n    CustomOptionsService.prototype.getUploadedFileError = function () {\r\n        // variable declaration\r\n        var totalData = this.customOptionsData.length, foundError = false, i;\r\n        // traverse through all custom options variable\r\n        for (i = 0; i < totalData && foundError == false; i++) {\r\n            // if obj type is not file, skip\r\n            if (this.customOptionsData[i].type != 'file')\r\n                continue;\r\n            // check if object has fileTypeError property set, change flag value and break the loop\r\n            if (this.customOptionsData[i] && this.customOptionsData[i].fileTypeError) {\r\n                foundError = true;\r\n                break;\r\n            }\r\n        }\r\n        // return true if errors found \r\n        return foundError;\r\n    };\r\n    /**\r\n      * Prepare custom options payload\r\n      */\r\n    CustomOptionsService.prototype.prepareCustomOptions = function () {\r\n        var _this = this;\r\n        // set default values\r\n        this.selectedCustomOptions = 0;\r\n        this.selectedCustomOptionsTotal = 0;\r\n        var formControlObj, customOptionsData = {}, val, tmp, dateArr = [\"date\", \"date_time\", \"time\"];\r\n        // traversal\r\n        this.customOptionsData.filter(function (customOptionsObj) {\r\n            // as we are not checking file\r\n            if (customOptionsObj.type != 'file') {\r\n                // \r\n                formControlObj = Object.assign(_this.cf[_this.getControlName(customOptionsObj)]);\r\n                // when the input type is text or date\r\n                val = formControlObj.value;\r\n                if (val != \"\" || dateArr.indexOf(customOptionsObj.type) >= 0) {\r\n                    // when element is select\r\n                    if (customOptionsObj.type == 'multiple') {\r\n                        tmp = [];\r\n                        val.filter(function (v) {\r\n                            var tt = customOptionsObj.options_values.find(function (customOptionsObj) { return customOptionsObj.valueTitle == v; });\r\n                            if (tt)\r\n                                tmp.push(tt.optionTypeId);\r\n                        });\r\n                        val = tmp;\r\n                    }\r\n                    // when element if date\r\n                    if (customOptionsObj.type == 'date') {\r\n                        var date = new Date(val);\r\n                        val = {\r\n                            month: (date && date.getMonth()) ? date.getMonth() + 1 : null,\r\n                            day: (date && date.getDate()) ? date.getDate() : null,\r\n                            year: (date && date.getFullYear()) ? date.getFullYear() : null\r\n                        };\r\n                    }\r\n                    // when element is dateTime\r\n                    if (customOptionsObj.type == 'date_time') {\r\n                        var date = _this.parseDateString(val), hour = (date && date.getHours()) ? date.getHours() : null, dayPart = 'am';\r\n                        if (hour != null && hour >= 12) {\r\n                            hour -= 12;\r\n                            dayPart = 'pm';\r\n                        }\r\n                        ;\r\n                        val = {\r\n                            month: (date && date.getMonth()) ? date.getMonth() + 1 : null,\r\n                            day: (date && date.getDate()) ? date.getDate() : null,\r\n                            year: (date && date.getFullYear()) ? date.getFullYear() : null,\r\n                            hour: hour,\r\n                            minute: (date && date.getMinutes()) ? date.getMinutes() : null,\r\n                            day_part: dayPart\r\n                        };\r\n                    }\r\n                    // when element is time\r\n                    if (customOptionsObj.type == 'time') {\r\n                        if (!val) {\r\n                            val = {\r\n                                hour: null,\r\n                                minute: null,\r\n                                day_part: null\r\n                            };\r\n                        }\r\n                        else {\r\n                            var time = (val && val.indexOf(\":\") > 0) ? val.split(\":\") : val, hour = (time && time[0]) ? time[0] : null, min = (time && time[1]) ? time[1] : null, dayPart = 'am';\r\n                            dayPart = (hour >= 12) ? 'pm' : 'am';\r\n                            hour = (hour > 12) ? hour - 12 : hour;\r\n                            val = {\r\n                                hour: hour,\r\n                                minute: min,\r\n                                day_part: dayPart\r\n                            };\r\n                        }\r\n                    }\r\n                    // store value to custom options data object\r\n                    if (val) {\r\n                        if (dateArr.indexOf(customOptionsObj.type) >= 0) {\r\n                            var values = void 0, found = void 0;\r\n                            values = Object.values(val);\r\n                            found = values.indexOf(null);\r\n                            if (found == -1) {\r\n                                _this.calculateCustomOptionPrice(customOptionsObj, val);\r\n                            }\r\n                        }\r\n                        else {\r\n                            _this.calculateCustomOptionPrice(customOptionsObj, val);\r\n                        }\r\n                        customOptionsData[customOptionsObj.id] = val;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        return customOptionsData;\r\n    };\r\n    /**\r\n     *\r\n     * @param customOptionObj\r\n     * @param selectedVal\r\n     */\r\n    CustomOptionsService.prototype.calculateCustomOptionPrice = function (customOptionObj, selectedVal) {\r\n        var _this = this;\r\n        var price;\r\n        if (customOptionObj && customOptionObj.price) {\r\n            price = customOptionObj.price;\r\n            price = (price.indexOf(\"$\") >= 0) ? parseFloat(price.substr(1)) : parseFloat(price);\r\n            if (price > 0)\r\n                this.selectedCustomOptionsTotal += price;\r\n        }\r\n        else if (customOptionObj && customOptionObj.options_values) {\r\n            var tmp_2;\r\n            if (Array.isArray(selectedVal)) {\r\n                selectedVal.filter(function (val) {\r\n                    tmp_2 = customOptionObj.options_values.find(function (optionValObj) { return optionValObj.optionTypeId == val; });\r\n                    if (tmp_2 && tmp_2.price) {\r\n                        price = tmp_2.price;\r\n                        price = (price.indexOf(\"$\") >= 0) ? parseFloat(price.substr(1)) : parseFloat(price);\r\n                        if (price > 0)\r\n                            _this.selectedCustomOptionsTotal += price;\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                tmp_2 = customOptionObj.options_values.find(function (optionValObj) { return optionValObj.optionTypeId == selectedVal; });\r\n                if (tmp_2 && tmp_2.price) {\r\n                    price = tmp_2.price;\r\n                    price = (price.indexOf(\"$\") >= 0) ? parseFloat(price.substr(1)) : parseFloat(price);\r\n                    if (price > 0)\r\n                        this.selectedCustomOptionsTotal += price;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param date\r\n     */\r\n    CustomOptionsService.prototype.parseDateString = function (date) {\r\n        if (date.indexOf('T') < 0)\r\n            return null;\r\n        date = date.replace('T', '-');\r\n        var parts = date.split('-');\r\n        var timeParts = parts[3].split(':');\r\n        // new Date(year, month [, day [, hours[, minutes[, seconds[, ms]]]]])\r\n        return new Date(parts[0], parts[1] - 1, parts[2], timeParts[0], timeParts[1]); // Note: months are 0-based\r\n    };\r\n    /**\r\n     * as backend does'nt provide exact input type field, we need to manupulate the type\r\n     * this function checks the type and return the input type for the same\r\n     *\r\n     * @param customOptionObjType custom options object\r\n     */\r\n    CustomOptionsService.prototype.getInputType = function (customOptionObjType) {\r\n        return (customOptionObjType == 'field') ? 'text' : ((customOptionObjType == 'date_time') ? 'datetime-local' : customOptionObjType);\r\n    };\r\n    /**\r\n     * this function is helpful to decide what dom element to use(eg. input, select)\r\n     *\r\n     * @param customOptionObjType current object type(field, drop_down, date_time etc)\r\n     * @param typeCheckVal typecheck val category(input, dropDown, selectionBox)\r\n     */\r\n    CustomOptionsService.prototype.typeCheck = function (customOptionObjType, typeCheckVal) {\r\n        return (this.typeCheckValues[typeCheckVal] && this.typeCheckValues[typeCheckVal].indexOf(customOptionObjType) >= 0);\r\n    };\r\n    Object.defineProperty(CustomOptionsService.prototype, \"cf\", {\r\n        // instance to use for current form control\r\n        get: function () { return this.customOptionFormGroup.controls; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * set customOptionsData\r\n     *\r\n     * @param customOptionsData customOptionsData\r\n     */\r\n    CustomOptionsService.prototype.setCustomOptionsData = function (customOptionsDataResp) {\r\n        this.customOptionsData = customOptionsDataResp.custom_options;\r\n        this.selectedCustomOptions = (customOptionsDataResp.selectedCustomOptions) ? Object.assign({}, customOptionsDataResp.selectedCustomOptions) : false;\r\n    };\r\n    /**\r\n     * here we will calculate custom options price each time user makes changes to custom options elements\r\n     * finally we will call qtyUpdated function that will calculate final price by adding custom options price\r\n     */\r\n    CustomOptionsService.prototype.calcPrice = function () {\r\n        this.prepareCustomOptions();\r\n        this.priceService.extraPriceToBeAdded.customOptionsPrice = this.selectedCustomOptionsTotal;\r\n        this.priceService.addThisPrice();\r\n        this.eventService.$pub('priceUpdate');\r\n    };\r\n    CustomOptionsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\r\n            _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_2__[\"ConfProductAttrService\"],\r\n            _price_price_service__WEBPACK_IMPORTED_MODULE_1__[\"PriceService\"]])\r\n    ], CustomOptionsService);\r\n    return CustomOptionsService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/design-area/design-area.component.html\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/design-area/design-area.component.html ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byi-output\\\">\\n\\t<div class=\\\"byi-design\\\">\\n\\t\\t<div class=\\\"print-area-warning\\\" [hidden]=\\\"mainService.nameNumber || mainService.isGenerateSVGDesign\\\" [class.show]=\\\"displayWarning\\\" *ngIf=\\\"displayWarning\\\">\\n\\t\\t\\t<span>{{print_warning | translate}}</span>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"low-resolution-warning\\\" [hidden]=\\\"mainService.nameNumber || mainService.isGenerateSVGDesign\\\" [class.show]=\\\"lowresolution\\\" *ngIf=\\\"lowresolution\\\">\\n\\t\\t\\t<span>{{resolution_warning | translate}}</span>\\n\\t\\t</div>\\n\\t\\t<layer-management [hidden]=\\\"mainService.nameNumber || mainService.isGenerateSVGDesign\\\"></layer-management>\\t\\t\\n\\t\\t<product-options [hidden]=\\\"mainService.nameNumber || mainService.isGenerateSVGDesign\\\" *ngIf=\\\"productType == 'configurable'\\\" [selected_super_attributes]=\\\"selected_super_attributes\\\">\\n\\t\\t</product-options>\\n\\t\\t<ng-container *ngIf=\\\"allImageDimensions != undefined\\\">\\n\\t\\t\\t<div class=\\\"byi-svg-editor-box\\\"\\n\\t\\t\\t\\t[ngStyle]=\\\"{'height':calCulateDragContainer('height')+'px','width':calCulateDragContainer('width')+'px'}\\\"\\n\\t\\t\\t\\t[ngClass]=\\\"{'dragscroll': activeDrag }\\\">\\n\\t\\t\\t\\t<ng-container *ngFor=\\\"let currentImageDimensions of allImageDimensions\\\">\\n\\t\\t\\t\\t\\t<div id=\\\"productdesigner-image-{{currentImageDimensions.image_id}}\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"product-designer-main-content\\\"\\n\\t\\t\\t\\t\\t\\t[ngStyle]=\\\"{'background': 'url(' + currentImageDimensions.url + ') center center / 100% no-repeat','height':calCulateImageHeightWidth(currentImageDimensions,'height')+'px','width':calCulateImageHeightWidth(currentImageDimensions,'width')+'px'}\\\"\\n\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{active: currentImageDimensions.image_id === activeImageId}\\\">\\n\\n\\t\\t\\t\\t\\t\\t<div class=\\\"design-container\\\" id=\\\"designArea-{{dim.designareaId}}\\\"\\n\\t\\t\\t\\t\\t\\t\\tattr.selection_area=\\\"@{{dim.image_id}}&{{dim.designareaId}}\\\"\\n\\t\\t\\t\\t\\t\\t\\tattr.designareaid=\\\"{{dim.designareaId}}\\\" *ngFor=\\\"let dim of currentImageDimensions.dim\\\"\\n\\t\\t\\t\\t\\t\\t\\t[ngStyle]=\\\"{'height':calCulateDimWithCanvasRatio(dim,'height')+ 'px','width':calCulateDimWithCanvasRatio(dim,'width')+ 'px','margin-left':calCulateDimWithCanvasRatio(dim,'left')+ 'px','margin-top':calCulateDimWithCanvasRatio(dim,'top')+ 'px','position':'absolute'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t(click)=\\\"setActiveCanvas(dim.image_id , dim.designareaId)\\\">\\n\\t\\t\\t\\t\\t\\t\\t<canvas id=\\\"canvas-{{dim.designareaId}}\\\" style=\\\"z-index: 9999\\\"></canvas>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t<context-menu></context-menu>\\n\\t\\t\\t\\t<div drag-drop></div>\\n\\t\\t\\t</div>\\n\\t\\t</ng-container>\\n\\t</div>\\n\\t<image-sides *ngIf=\\\"allImageIds != undefined\\\" [activeImageId]=\\\"activeImageId\\\">\\n\\t</image-sides>\\n</div>\\n<div object-alignment-position></div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/design-area/design-area.component.scss\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/design-area/design-area.component.scss ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9kZXNpZ24tYXJlYS9kZXNpZ24tYXJlYS5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/design-area/design-area.component.ts\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/design-area/design-area.component.ts ***!\r\n  \\****************************************************************************/\r\n/*! exports provided: DesignAreaComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignAreaComponent\", function() { return DesignAreaComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../conf-product-attr/conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/fabric.js\");\r\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_7__);\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DesignAreaComponent = /** @class */ (function () {\r\n    function DesignAreaComponent(mainService, canvasService, cacheService, eventService, confProductService, designService) {\r\n        var _this = this;\r\n        this.mainService = mainService;\r\n        this.canvasService = canvasService;\r\n        this.cacheService = cacheService;\r\n        this.eventService = eventService;\r\n        this.confProductService = confProductService;\r\n        this.designService = designService;\r\n        this.allImageDimensions = [];\r\n        this.allProductsData = [];\r\n        this.allImageIds = [];\r\n        this.activeDrag = true;\r\n        this.clipX = {};\r\n        this.clipY = {};\r\n        this.selected_super_attributes = {};\r\n        this.lowresolution = false;\r\n        this.displayWarning = false;\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            _this.activeDrag = false;\r\n            setTimeout(function () {\r\n                dragscroll.reset();\r\n            }, 100);\r\n        });\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            _this.activeDrag = false;\r\n            setTimeout(function () {\r\n                dragscroll.reset();\r\n            }, 100);\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function (obj) {\r\n            _this.activeDrag = true;\r\n            setTimeout(function () {\r\n                dragscroll.reset();\r\n            }, 100);\r\n        });\r\n    }\r\n    DesignAreaComponent.prototype.ngOnInit = function () {\r\n        this.getProductParams();\r\n        this.loadProduct(this.selected_super_attributes);\r\n        this.subscribeEvents();\r\n        this.getConfiguration();\r\n    };\r\n    DesignAreaComponent.prototype.ngAfterViewInit = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('designLoaded', function (data) {\r\n            if (_this.mainService.isGenerateSVGDesign) {\r\n                for (var _i = 0, _a = Object.keys(_this.canvasService.containerCanvases); _i < _a.length; _i++) {\r\n                    var key = _a[_i];\r\n                    var canvas = _this.canvasService.containerCanvases[key];\r\n                    var obj = void 0, canvasObjects = _this.canvasService.getObjects(canvas);\r\n                    for (var _b = 0, canvasObjects_1 = canvasObjects; _b < canvasObjects_1.length; _b++) {\r\n                        obj = canvasObjects_1[_b];\r\n                        var properties = { selectable: false };\r\n                        _this.canvasService.deselectAllObjects();\r\n                        if (obj) {\r\n                            var params = {\r\n                                obj: obj,\r\n                                properties: properties,\r\n                                crudServiceString: 'this.updateObjectService',\r\n                                canvas: canvas\r\n                            };\r\n                            _this.canvasService.objectCRUD(params);\r\n                        }\r\n                    }\r\n                }\r\n                var designArea = document.getElementsByClassName('design-container');\r\n                for (var i = 0; i < designArea.length; i++) {\r\n                    designArea[i].children[1].innerHTML = '<style></style>';\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * fetch Product's options\r\n     * @return Object\r\n     */\r\n    DesignAreaComponent.prototype.getProductParams = function () {\r\n        var super_attributes = document.getElementsByClassName(\"super_attribute\");\r\n        for (var i = 0; i < super_attributes.length; i++) {\r\n            var super_attribute = super_attributes[i];\r\n            if (super_attribute.value) {\r\n                this.selected_super_attributes[super_attribute.dataset.attrId] = super_attribute.value;\r\n            }\r\n        }\r\n        return this.selected_super_attributes;\r\n    };\r\n    /**\r\n    * Events are been published from several components\r\n    * Whichever events are required to be subscribed in this component, this method will handle it\r\n    */\r\n    DesignAreaComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        // For Low resolution Warning\r\n        var self = this;\r\n        this.eventService.$sub('canvasObjectScaled', function (obj) {\r\n            _this.lowresolution = _this.canvasService.calculateLowResolutionWarning();\r\n        });\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            _this.lowresolution = _this.canvasService.calculateLowResolutionWarning();\r\n        });\r\n        this.eventService.$sub('objectUpdated', function (obj) {\r\n            _this.lowresolution = _this.canvasService.calculateLowResolutionWarning();\r\n            _this.objOutsideDesignArea();\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            _this.lowresolution = _this.canvasService.calculateLowResolutionWarning();\r\n            _this.displayWarning = false;\r\n        });\r\n        // Subscribe Image Side change event to set current image id\r\n        this.eventService.$sub('imageSideChangeBefore', function (data) {\r\n            // this.canvasService.deselectAllObjects();\r\n            if (typeof data == 'object' && data.hasOwnProperty('image_id')) {\r\n                _this.setCurrentImageId(data.image_id, data.design_area_id);\r\n            }\r\n            else {\r\n                _this.setCurrentImageId(data);\r\n            }\r\n        });\r\n        // Subscribe product change event to load associated product\r\n        this.eventService.$sub('productChanged', function (selectedOption) {\r\n            _this.eventService.$pub('showMainLoader');\r\n            _this.loadSelectedAssociatedProduct(selectedOption);\r\n        });\r\n        // Subscribe product zoom\r\n        this.eventService.$sub('zoomCanvas', function (zoom) {\r\n            _this.reGenerateCanvas(zoom);\r\n        });\r\n        // Subscribe product zoom\r\n        this.eventService.$sub('windowResize', function () {\r\n            /**\r\n             * This method will update canvas based on window size\r\n             */\r\n            _this.reGenerateCanvas(_this.canvasService.zoom);\r\n        });\r\n        this.eventService.$sub('canvasObjectModified', function (obj) {\r\n            _this.lowresolution = _this.canvasService.calculateLowResolutionWarning();\r\n            _this.objOutsideDesignArea();\r\n        });\r\n    };\r\n    /**\r\n    * [Load Product Images, Dimensions and image sides]\r\n    */\r\n    DesignAreaComponent.prototype.loadProduct = function (selectedOptions) {\r\n        var _this = this;\r\n        var selectedOptionsString = '';\r\n        if (selectedOptions) {\r\n            selectedOptionsString = this.mainService.joinObject(selectedOptions);\r\n        }\r\n        var designId = (this.designService.designId) ? this.designService.designId : '';\r\n        /**\r\n         * Dynamic Key\r\n         */\r\n        var optionCacheKey = '';\r\n        for (var _i = 0, _a = this.mainService.otherOptions; _i < _a.length; _i++) {\r\n            var option = _a[_i];\r\n            var key = Object.keys(option)[0];\r\n            var value = Object.values(option)[0];\r\n            optionCacheKey += key + '_' + value;\r\n        }\r\n        var params = {\r\n            'product_id': this.mainService.productId,\r\n            'selectedOptions': selectedOptions,\r\n            'otherOptions': this.mainService.otherOptions,\r\n            'optionCacheKey': optionCacheKey\r\n        }, url = 'productdesigner/index/loadProduct', cacheKey = 'loadProduct' + this.mainService.productId + '-' + this.mainService.baseUrl + selectedOptionsString + designId + optionCacheKey;\r\n        params = (this.designService.designId) ? Object.assign(params, { designId: this.designService.designId }) : params;\r\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n            if (data && data.productType)\r\n                _this.mainService.productType = data.productType;\r\n            if (data && data.associatedProductId)\r\n                _this.canvasService.associatedProductId = data.associatedProductId;\r\n            _this.confProductService.defaultSelectedOptionsValues = data.selectedOptionsValues;\r\n            _this.processLoadProduct(data);\r\n            _this.mainService.loadedProductData = data;\r\n            _this.eventService.$pub('loadProduct', data);\r\n            if (data.productType == \"simple\") {\r\n                _this.cacheService.set(\"product-tooltip-data\", false, { maxAge: 0 });\r\n            }\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    /**\r\n    Get Configuration\r\n    **/\r\n    DesignAreaComponent.prototype.getConfiguration = function () {\r\n        var _this = this;\r\n        var configPaths = [\r\n            'productdesigner/dynamic_message/print_area_warning',\r\n            'productdesigner/dynamic_message/low_resolution_warning'\r\n        ];\r\n        var params = { configPaths: configPaths, key: 'warning-messages' }, url = 'productdesigner/index/getConfiguration', cacheKey = 'configuration-warning-messages' + this.mainService.baseUrl;\r\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n            _this.print_warning = (data[0] != null) ? data[0] : 'Some objects are outside the printing area and should be adjusted';\r\n            _this.resolution_warning = (data[1] != null) ? data[1] : 'Low Resolution Warning';\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    /**\r\n    * [Process response data of load Product request]\r\n    * @param {object} data [product image, dimesions, image sides data]\r\n    */\r\n    DesignAreaComponent.prototype.processLoadProduct = function (data) {\r\n        this.productType = data.productType;\r\n        if (data.dimensions.length > 0) {\r\n            this.mainService.loadedProductData = data;\r\n            this.canvasService.allImages = this.allImageDimensions = data.dimensions;\r\n            this.mainService.associatedProductId = data.associatedProductId;\r\n            this.selectedOptionsString = this.mainService.joinObject(data.selectedOptions);\r\n            this.mainService.selectedProductOptions = data.selectedOptions;\r\n            this.allProductsData[this.selectedOptionsString] = data;\r\n            /**\r\n             * [activeImageId set active image side]\r\n             */\r\n            this.canvasService.firstImageId = this.canvasService.activeImageId = this.activeImageId = data.dimensions[0].image_id;\r\n            this.canvasRatio = data.canvasRatio;\r\n            var self_1 = this;\r\n            setTimeout(function () {\r\n                self_1.createCanvas(data);\r\n            }, 100);\r\n        }\r\n        this.eventService.$pub('processLoadProduct');\r\n    };\r\n    /**\r\n    * [Create canvas based on load product data]\r\n    * @param  data [dimension data]\r\n    */\r\n    DesignAreaComponent.prototype.createCanvas = function (data) {\r\n        var _this = this;\r\n        /**\r\n         * [All images dimesions]\r\n         */\r\n        this.allImageIds = [];\r\n        this.canvasService.containerCanvases = [];\r\n        this.canvasService.allImagesWithIds = {};\r\n        for (var key in this.allImageDimensions) {\r\n            var currentImage = this.allImageDimensions[key];\r\n            this.allImageIds.push(currentImage.image_id);\r\n            this.canvasService.allImagesWithIds[currentImage.image_id] = currentImage;\r\n            var counter = 0;\r\n            for (var key_1 in currentImage.dim) {\r\n                var dim = currentImage.dim[key_1];\r\n                this.initCanvasRatio(dim, currentImage);\r\n                var canvas = new fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Canvas('canvas-' + dim.designareaId, {\r\n                    selection: this.mainService.enableMultipleSelection\r\n                });\r\n                canvas.setHeight(this.calCulateDimWithCanvasRatio(dim, 'height'));\r\n                canvas.setWidth(this.calCulateDimWithCanvasRatio(dim, 'width'));\r\n                canvas.renderAll();\r\n                this.setCanvasProperties(canvas, dim, currentImage);\r\n                this.clipCanvas(canvas, dim);\r\n                if (dim.mask) {\r\n                    this.applyMakig(canvas, dim);\r\n                }\r\n                this.eventService.$pub('canvasCreated', canvas);\r\n                /**\r\n                 * [All dimensions of single image]\r\n                 */\r\n                this.canvasService.containerCanvases['@' + currentImage.image_id + '&' + dim.designareaId] = canvas;\r\n                /**\r\n                 * Set design area black border\r\n                 */\r\n                this.setDesignAreaBorder(dim, '');\r\n                /**\r\n                 * [if image id is active image side and first dimension]\r\n                 */\r\n                if (currentImage.image_id == this.activeImageId && counter == 0) {\r\n                    this.canvasService.currentCanvas = canvas;\r\n                    this.activeDesignAreaId = dim.designareaId;\r\n                    this.setDesignAreaBorderCurrentCanvas(dim.designareaId);\r\n                }\r\n                counter++;\r\n            }\r\n        }\r\n        this.eventService.$pub('allcanvasCreated', this.allImageIds);\r\n        setTimeout(function () {\r\n            _this.eventService.$pub('hideMainLoader');\r\n        }, 300);\r\n    };\r\n    /**\r\n    * [set properites of canvas]\r\n    * @param  canvas       [current canvas]\r\n    * @param  dim          [current dimension]\r\n    * @param  currentImage [current image data]\r\n    */\r\n    DesignAreaComponent.prototype.setCanvasProperties = function (canvas, dim, currentImage) {\r\n        canvas.controlsAboveOverlay = true;\r\n        canvas.preserveObjectStacking = true;\r\n        canvas.stateful = true;\r\n        canvas.designarea_id = dim.designareaId;\r\n        canvas.image_id = dim.image_id;\r\n        canvas.image_side = currentImage.image_side;\r\n        canvas.dim = dim;\r\n        canvas.size = currentImage.size;\r\n        canvas.url = currentImage.url;\r\n        fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Object.NUM_FRACTION_DIGITS = 17;\r\n    };\r\n    /**\r\n    * [Clip canvas based on clip value]\r\n    * @param  canvas [current canvas]\r\n    * @param  dim    [dimension]\r\n    */\r\n    DesignAreaComponent.prototype.clipCanvas = function (canvas, dim) {\r\n        //if(!(this.canvasService.clipX[dim.designareaId] == 0 && this.canvasService.clipY[dim.designareaId] == 0)){\r\n        var position = this.calCulateBorderPosition(dim);\r\n        var rect = new fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Rect({\r\n            left: position['left'],\r\n            top: position['top'],\r\n            width: parseFloat(dim.width) / this.canvasService.scaleFactor,\r\n            height: parseFloat(dim.height) / this.canvasService.scaleFactor,\r\n            fill: 'transparent',\r\n            objectCaching: false,\r\n            selectable: false,\r\n            originX: 'left',\r\n            originY: 'top',\r\n        });\r\n        /*canvas.clipTo = function (ctx) {\r\n            ctx.save();\r\n            ctx.transform(canvas.getZoom(), 0, 0, canvas.getZoom(), 0, 0);\r\n            rect.render(ctx);\r\n            ctx.restore();\r\n        };*/\r\n        canvas.clipPath = rect;\r\n    };\r\n    DesignAreaComponent.prototype.applyMakig = function (canvas, dim) {\r\n        var _this = this;\r\n        var self = this;\r\n        if (!dim.pathMasking && dim.mask) {\r\n            fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].loadSVGFromURL(dim.mask, function (svgImgObject, options) {\r\n                var imgObj = fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].util.groupSVGElements(svgImgObject, options);\r\n                var weight = canvas.width - _this.clipX[dim.designareaId];\r\n                var height = canvas.height - _this.clipY[dim.designareaId];\r\n                imgObj.left = _this.clipX[dim.designareaId] / 2;\r\n                imgObj.top = _this.clipY[dim.designareaId] / 2;\r\n                imgObj.fill = 'transparent';\r\n                imgObj.objectCaching = false;\r\n                imgObj.scaleY = (height) / imgObj.height;\r\n                imgObj.scaleX = (weight) / imgObj.width;\r\n                /*canvas.clipTo = function (ctx) {\r\n                    ctx.save();\r\n                    ctx.transform(canvas.getZoom(), 0, 0, canvas.getZoom(), 0, 0);\r\n                    imgObj.render(ctx);\r\n                    ctx.restore();\r\n                };*/\r\n                canvas.clipPath = imgObj;\r\n                canvas.renderAll();\r\n            });\r\n        }\r\n    };\r\n    /**\r\n    * [initiate canvasRatio value based on product dimension]\r\n    * @param  dim          [dimension]\r\n    * @param  currentImage [current image data]\r\n    */\r\n    DesignAreaComponent.prototype.initCanvasRatio = function (dim, currentImage) {\r\n        if (currentImage.enable_handles == true) {\r\n            if (parseFloat(dim.width) + parseFloat(this.canvasRatio) > currentImage.width) {\r\n                this.canvasService.clipX[dim.designareaId] = this.clipX[dim.designareaId] = currentImage.width / parseFloat(dim.width);\r\n            }\r\n            else {\r\n                this.canvasService.clipX[dim.designareaId] = this.clipX[dim.designareaId] = parseFloat(this.canvasRatio);\r\n            }\r\n            if (parseFloat(dim.height) + parseFloat(this.canvasRatio) > currentImage.height) {\r\n                this.canvasService.clipY[dim.designareaId] = this.clipY[dim.designareaId] = currentImage.height / parseFloat(dim.height);\r\n            }\r\n            else {\r\n                this.canvasService.clipY[dim.designareaId] = this.clipY[dim.designareaId] = parseFloat(this.canvasRatio);\r\n            }\r\n        }\r\n        else {\r\n            this.canvasService.clipX[dim.designareaId] = this.clipX[dim.designareaId] = 0;\r\n            this.canvasService.clipY[dim.designareaId] = this.clipY[dim.designareaId] = 0;\r\n        }\r\n    };\r\n    /**\r\n    * [Set black dashed border to all canvases]\r\n    * @param {object} dim [dimension of processed canvas]\r\n    */\r\n    DesignAreaComponent.prototype.setDesignAreaBorder = function (dim, action) {\r\n        var designArea = document.getElementById('designArea-' + dim.designareaId);\r\n        if (!designArea) {\r\n            return;\r\n        }\r\n        var position = this.calCulateBorderPosition(dim);\r\n        var html = '#designArea-' + dim.designareaId + ':after{height:' + (parseFloat(dim.height) / this.canvasService.scaleFactor + 2) + 'px;width:' + (parseFloat(dim.width) / this.canvasService.scaleFactor + 2) + 'px;border:1px dashed black;position: absolute;left:' + position['left'] + 'px;top:' + position['top'] + 'px;float: left;content:\"\"}';\r\n        if (action == 'update') {\r\n            designArea.children[1].innerHTML = html;\r\n        }\r\n        else {\r\n            var style = document.createElement('style');\r\n            style.type = 'text/css';\r\n            style.innerHTML = html;\r\n            designArea.appendChild(style);\r\n        }\r\n    };\r\n    DesignAreaComponent.prototype.calCulateBorderPosition = function (dim) {\r\n        var position = [];\r\n        position['left'] = ((parseFloat(dim.width) + this.clipX[dim.designareaId] - parseFloat(dim.width)) / 2) / this.canvasService.scaleFactor;\r\n        position['top'] = ((parseFloat(dim.height) + this.clipY[dim.designareaId] - parseFloat(dim.height)) / 2) / this.canvasService.scaleFactor;\r\n        return position;\r\n    };\r\n    /**\r\n    * [change canvas on click]\r\n    * @param  imageId      [image id of current side]\r\n    * @param  designAreaId [designAreaId of clicked canvas]\r\n    */\r\n    DesignAreaComponent.prototype.setActiveCanvas = function (imageId, designAreaId) {\r\n        if (imageId == this.activeImageId && designAreaId == this.activeDesignAreaId)\r\n            return;\r\n        if (designAreaId == '') {\r\n            var designarea = document.querySelectorAll('#productdesigner-image-' + imageId + ' .design-container');\r\n            designAreaId = designarea[0].getAttribute('designareaid');\r\n        }\r\n        this.removeOtherActiveCanvases();\r\n        this.setDesignAreaBorderCurrentCanvas(designAreaId);\r\n        this.changeActiveCanvas(imageId, designAreaId);\r\n        //setTimeout(() => {\r\n        this.eventService.$pub('imageSideChanged', { imageId: imageId, designAreaId: designAreaId });\r\n        //}, 200);\r\n    };\r\n    /**\r\n    * [Change global var current canvas value and published event]\r\n    * @param  imageId      [current image id]\r\n    * @param  designAreaId [current designAreaId]\r\n    */\r\n    DesignAreaComponent.prototype.changeActiveCanvas = function (imageId, designAreaId) {\r\n        this.activeDesignAreaId = designAreaId;\r\n        this.canvasService.currentCanvas = this.canvasService.containerCanvases['@' + imageId + '&' + designAreaId];\r\n        var id = '@' + imageId + '&' + designAreaId;\r\n        var oldActive = this.canvasService.currentCanvas.getActiveObject();\r\n        for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            this.canvasService.containerCanvases[key].discardActiveObject().renderAll();\r\n        }\r\n        this.canvasService.currentCanvas.setActiveObject(oldActive).renderAll();\r\n    };\r\n    /**\r\n    * [Change red border to black of all canvases on click of canvas]\r\n    */\r\n    DesignAreaComponent.prototype.removeOtherActiveCanvases = function () {\r\n        var designAreas = document.getElementsByClassName('design-container');\r\n        for (var i = 0; i < designAreas.length; i++) {\r\n            var designArea = designAreas[i];\r\n            if (designArea.children[1]) {\r\n                var html = designArea.children[1].innerHTML.replace(\"red\", \"black\");\r\n                designArea.children[1].innerHTML = html;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * [Set red border of design area ::after element]\r\n    * @param  designAreaId [designAreaId of clicked canvas]\r\n    */\r\n    DesignAreaComponent.prototype.setDesignAreaBorderCurrentCanvas = function (designAreaId) {\r\n        var designArea = document.getElementById('designArea-' + designAreaId);\r\n        var html = designArea.children[1].innerHTML.replace(\"black\", \"red\");\r\n        designArea.children[1].innerHTML = html;\r\n    };\r\n    /**\r\n    * [Set current Image id clicked through side changed]\r\n    * @param  image_id [image id of clicked side]\r\n    */\r\n    DesignAreaComponent.prototype.setCurrentImageId = function (image_id, designAreaId) {\r\n        if (designAreaId === void 0) { designAreaId = ''; }\r\n        this.canvasService.activeImageId = this.activeImageId = image_id;\r\n        this.setActiveCanvas(image_id, designAreaId);\r\n    };\r\n    /**\r\n    * [Calculate canvas height, width, left, top with canvasRatio]\r\n    * @param {any}    dim  [dimension value]\r\n    * @param  type [width/height/left/top]\r\n    */\r\n    DesignAreaComponent.prototype.calCulateDimWithCanvasRatio = function (dim, type) {\r\n        if (dim && this.clipX && this.clipY) {\r\n            if (type == 'width') {\r\n                var width = (parseFloat(dim.width) + this.clipX[dim.designareaId]) / this.canvasService.scaleFactor;\r\n                return parseFloat(width);\r\n            }\r\n            else if (type == 'height') {\r\n                var height = (parseFloat(dim.height) + this.clipY[dim.designareaId]) / this.canvasService.scaleFactor;\r\n                return parseFloat(height);\r\n            }\r\n            else if (type == 'left') {\r\n                return (dim.x1 - ((parseFloat(dim.width) + this.clipX[dim.designareaId] - parseFloat(dim.width)) / 2)) / this.canvasService.scaleFactor;\r\n            }\r\n            else if (type == 'top') {\r\n                return (dim.y1 - ((parseFloat(dim.height) + this.clipY[dim.designareaId] - parseFloat(dim.height)) / 2)) / this.canvasService.scaleFactor;\r\n            }\r\n        }\r\n    };\r\n    DesignAreaComponent.prototype.calCulateImageHeightWidth = function (imageData, type) {\r\n        if (type == 'width') {\r\n            var width = parseFloat(imageData.width) / this.canvasService.scaleFactor;\r\n            return parseFloat(width);\r\n        }\r\n        else if (type == 'height') {\r\n            var height = parseFloat(imageData.height) / this.canvasService.scaleFactor;\r\n            return parseFloat(height);\r\n        }\r\n    };\r\n    /**\r\n    * [load Associated Product combination as per selected options]\r\n    * @param  selectedOptions [Options which are selected from proudct option component]\r\n    */\r\n    DesignAreaComponent.prototype.loadSelectedAssociatedProduct = function (selectedOptions) {\r\n        selectedOptions = (selectedOptions.defaultSelectedOptions) ? selectedOptions.defaultSelectedOptions : selectedOptions;\r\n        var selectedOptionsString = this.mainService.joinObject(selectedOptions);\r\n        if (selectedOptionsString != this.selectedOptionsString) {\r\n            if (!this.allProductsData[selectedOptionsString]) {\r\n                this.loadProduct(selectedOptions);\r\n            }\r\n            else {\r\n                this.processLoadProduct(this.allProductsData[selectedOptionsString]);\r\n            }\r\n        }\r\n        else {\r\n            this.eventService.$pub(\"hideMainLoader\");\r\n        }\r\n    };\r\n    /**\r\n    * [Modify current canvas properties as per zoom value]\r\n    * @param  zoom [zoom value]\r\n    */\r\n    DesignAreaComponent.prototype.reGenerateCanvas = function (zoom) {\r\n        this.canvasService.zoom = zoom;\r\n        this.canvasService.scaleFactor = this.canvasService.initScaleFactor();\r\n        this.updateCanvasSize();\r\n    };\r\n    /**\r\n * [Update canvas size with scaleFactor]\r\n */\r\n    DesignAreaComponent.prototype.updateCanvasSize = function () {\r\n        for (var key in this.canvasService.containerCanvases) {\r\n            var canvas = this.canvasService.containerCanvases[key];\r\n            canvas.setHeight(this.calCulateDimWithCanvasRatio(canvas.dim, 'height'));\r\n            canvas.setWidth(this.calCulateDimWithCanvasRatio(canvas.dim, 'width'));\r\n            this.setDesignAreaBorder(canvas.dim, 'update');\r\n            if (this.canvasService.currentCanvas == canvas) {\r\n                this.setDesignAreaBorderCurrentCanvas(canvas.dim.designareaId);\r\n            }\r\n            this.clipCanvas(canvas, canvas.dim);\r\n            if (canvas.dim.mask) {\r\n                this.applyMakig(canvas, canvas.dim);\r\n            }\r\n            this.canvasService.resizeCanvasObjects(canvas);\r\n            canvas.renderAll();\r\n            // Timeout due to delay while updating variables\r\n            var self_2 = this;\r\n            //setTimeout(function () {\r\n            self_2.eventService.$pub('zoomCanvasUpdated', canvas);\r\n            //}, 50);\r\n        }\r\n    };\r\n    /**\r\n    * [calculate width of drag container]\r\n    * @return\r\n    */\r\n    DesignAreaComponent.prototype.calCulateDragContainer = function (type) {\r\n        if (!this.activeDrag) {\r\n            return null;\r\n        }\r\n        var element = document.querySelector(\".byi-output\");\r\n        if (type == 'width') {\r\n            return element.clientWidth;\r\n        }\r\n        else if (type == 'height') {\r\n            return element.clientHeight - 45;\r\n        }\r\n    };\r\n    DesignAreaComponent.prototype.objOutsideDesignArea = function () {\r\n        var n = 0;\r\n        var self = this;\r\n        self.canvasService.currentCanvas.forEachObject(function (o) {\r\n            if (o.group) {\r\n                o = o.group;\r\n            }\r\n            var l = o.getBoundingRect().left;\r\n            var t = o.getBoundingRect().top;\r\n            /*var w = (o.getBoundingRect().width < o.width) ? o.getBoundingRect().width : o.width;\r\n            var h = (o.getBoundingRect().height < o.height) ? o.getBoundingRect().height : o.height;*/\r\n            var w = o.width * o.scaleX;\r\n            var h = o.height * o.scaleY;\r\n            var f = false;\r\n            if (l < ((o.canvas.width - (o.canvas.width - self.canvasService.clipX[o.canvas.designarea_id])) / 2))\r\n                f = true;\r\n            if (t < ((o.canvas.height - (o.canvas.height - self.canvasService.clipY[o.canvas.designarea_id])) / 2))\r\n                f = true;\r\n            if (parseFloat(t) + parseFloat(h) > (o.canvas.height - (self.canvasService.clipY[o.canvas.designarea_id] / 2)))\r\n                f = true;\r\n            if (parseFloat(l) + parseFloat(w) > (o.canvas.width - (self.canvasService.clipX[o.canvas.designarea_id] / 2)))\r\n                f = true;\r\n            if (f) {\r\n                n++;\r\n            }\r\n            if (n > 0) {\r\n                self.displayWarning = true;\r\n            }\r\n            else {\r\n                self.displayWarning = false;\r\n            }\r\n        });\r\n    };\r\n    DesignAreaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: 'design-area',\r\n            template: __webpack_require__(/*! ./design-area.component.html */ \"./src/app/essentials/components/design-area/design-area.component.html\"),\r\n            styles: [__webpack_require__(/*! ./design-area.component.scss */ \"./src/app/essentials/components/design-area/design-area.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_6__[\"CacheService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_8__[\"PubSubService\"],\r\n            _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_1__[\"ConfProductAttrService\"],\r\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__[\"DesignService\"]])\r\n    ], DesignAreaComponent);\r\n    return DesignAreaComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.html\":\r\n/*!**********************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/designarea-controls/designarea-controls.component.html ***!\r\n  \\**********************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<ul class=\\\"byig-control\\\">\\n\\t<li [ngClass]=\\\"{'disabled': disableUndo == true}\\\">\\n\\t\\t<a href=\\\"javascript:void(0)\\\" (click)=\\\"undo()\\\" tooltip=\\\"{{'Undo' | translate}}\\\">\\n\\t\\t\\t<svg class=\\\"icon icon-undo\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-undo\\\"></use>\\n\\t\\t\\t</svg> \\n\\t\\t</a>\\n\\t</li>\\n\\t<li [ngClass]=\\\"{'disabled': disableRedo == true}\\\">\\n\\t\\t<a href=\\\"javascript:void(0)\\\" (click)=\\\"redo()\\\" tooltip=\\\"{{'Redo' | translate}}\\\">\\n\\t\\t\\t<svg class=\\\"icon icon-redo\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-redo\\\"></use>\\n\\t\\t\\t</svg>\\n\\t\\t</a>\\n\\t</li>\\n\\t<li>\\n\\t\\t<span dropdown>\\n\\t\\t\\t<a href=\\\"javascript:void(0)\\\" dropdownToggle (click)=\\\"false\\\" tooltip=\\\"{{'Zoom' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-zoom\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-zoom\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</a>\\n\\t\\t\\t<div *dropdownMenu class=\\\"dropdown-menu zoom-control\\\">\\n\\t\\t\\t\\t<label class=\\\"zoom-counter\\\">{{ canvasService.zoom }}</label>\\n\\t\\t\\t\\t<input type=\\\"range\\\" [(ngModel)]=\\\"canvasService.zoom\\\" (input)=\\\"changeZoom()\\\" step=\\\"0.1\\\" min=\\\"-0.5\\\" max=\\\"0.5\\\"  class=\\\"slider\\\">\\n\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" class=\\\"byi-reset-zoom\\\" (click)=\\\"changeZoom(true)\\\" title=\\\"{{'Reset Zoom' | translate}}\\\">\\n\\t\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</div>\\n\\t\\t</span>\\n\\t</li>\\n\\t<li>\\n\\t\\t<a href=\\\"javascript:void(0)\\\" (click)=\\\"resetDesign()\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t</svg>\\n\\t\\t</a>\\n\\t</li>\\n</ul>\\n<div *ngIf=\\\"mainService.isResponsive\\\" class=\\\"byi-mob-output-action\\\" [class.open]=\\\"isToggle\\\">\\n\\t<a class=\\\"byi-more-btn\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"hideFab(); isToggle = !isToggle\\\">\\n\\t\\t<svg class=\\\"icon icon-more-btn\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-more-btn\\\"></use>\\n\\t\\t</svg>\\n\\t</a>\\n\\t<ul class=\\\"bta-link\\\">\\n\\t\\t<li preview></li>\\n\\t\\t<li social-media-sharing></li>\\n\\t\\t<li *ngIf=\\\"mainService.isAdmin == false\\\" save-design></li>\\n\\t\\t<li design-templates [loadContent]=\\\"'header'\\\"></li>\\n\\t\\t<li download></li>\\n\\t</ul>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.scss\":\r\n/*!**********************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/designarea-controls/designarea-controls.component.scss ***!\r\n  \\**********************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9kZXNpZ25hcmVhLWNvbnRyb2xzL2Rlc2lnbmFyZWEtY29udHJvbHMuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.ts\":\r\n/*!********************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/designarea-controls/designarea-controls.component.ts ***!\r\n  \\********************************************************************************************/\r\n/*! exports provided: DesignareaControlsComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignareaControlsComponent\", function() { return DesignareaControlsComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_history_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/history.service */ \"./src/app/services/history.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_6__);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DesignareaControlsComponent = /** @class */ (function () {\r\n    function DesignareaControlsComponent(mainService, eventService, historyService, canvasService) {\r\n        var _this = this;\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.historyService = historyService;\r\n        this.canvasService = canvasService;\r\n        this.disableUndo = true;\r\n        this.disableRedo = true;\r\n        this.isToggle = false;\r\n        this.eventService.$sub('closeHeaderIcon', function () {\r\n            _this.isToggle = false;\r\n        });\r\n        this.eventService.$sub('undoRedo', function () {\r\n            _this.toggleUndoRedo();\r\n        });\r\n        this.eventService.$sub('imageSideChanged', function () {\r\n            _this.toggleUndoRedo();\r\n        });\r\n    }\r\n    DesignareaControlsComponent.prototype.toggleUndoRedo = function () {\r\n        var designarea_id = this.canvasService.currentCanvas.designarea_id;\r\n        if (this.historyService.undoStack[designarea_id] && this.historyService.undoStack[designarea_id].length > 0) {\r\n            this.disableUndo = false;\r\n        }\r\n        else {\r\n            this.disableUndo = true;\r\n        }\r\n        if (this.historyService.redoStack[designarea_id] && this.historyService.redoStack[designarea_id].length > 0) {\r\n            this.disableRedo = false;\r\n        }\r\n        else {\r\n            this.disableRedo = true;\r\n        }\r\n    };\r\n    DesignareaControlsComponent.prototype.ngOnInit = function () { };\r\n    DesignareaControlsComponent.prototype.changeZoom = function (reset) {\r\n        if (reset) {\r\n            this.canvasService.zoom = 0;\r\n        }\r\n        this.eventService.$pub('zoomCanvas', this.canvasService.zoom);\r\n    };\r\n    DesignareaControlsComponent.prototype.resetDesign = function () {\r\n        var _this = this;\r\n        sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.fire({\r\n            title: 'Are you sure to reset?',\r\n            text: \"It will remove the unsaved designs from the design area.\",\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Yes',\r\n            allowOutsideClick: false\r\n        }).then(function (resetDesign) {\r\n            if (resetDesign.value) {\r\n                _this.canvasService.clearCanvas(null);\r\n                if (Object.keys(_this.mainService.lastSavedData).length > 0) {\r\n                    _this.canvasService.loadDesign(_this.mainService.lastSavedData);\r\n                }\r\n                _this.canvasService.clearHistory();\r\n                _this.toggleUndoRedo();\r\n            }\r\n        });\r\n    };\r\n    DesignareaControlsComponent.prototype.undo = function () {\r\n        this.historyService.undo();\r\n        this.toggleUndoRedo();\r\n    };\r\n    DesignareaControlsComponent.prototype.redo = function () {\r\n        this.historyService.redo();\r\n        this.toggleUndoRedo();\r\n    };\r\n    DesignareaControlsComponent.prototype.hideFab = function () {\r\n        document.querySelector('.byi-fab').classList.toggle(\"hide\");\r\n    };\r\n    DesignareaControlsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: 'designarea-controls',\r\n            template: __webpack_require__(/*! ./designarea-controls.component.html */ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.html\"),\r\n            styles: [__webpack_require__(/*! ./designarea-controls.component.scss */ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\r\n            src_app_services_history_service__WEBPACK_IMPORTED_MODULE_3__[\"HistoryService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"]])\r\n    ], DesignareaControlsComponent);\r\n    return DesignareaControlsComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/download/download.component.html\":\r\n/*!************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/download/download.component.html ***!\r\n  \\************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div [attr.hidden]=\\\"(mainService.displayDownload) ? null : true\\\">\\n\\t<a href=\\\"javascript:void(0)\\\" tooltip=\\\"{{'Download' | translate}}\\\">\\n\\t\\t<svg class=\\\"icon icon-download\\\" viewBox=\\\"0 0 30 30\\\" (click)=\\\"onDownloadClick()\\\">\\n\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-download\\\"></use>\\n\\t\\t</svg>\\n\\t</a>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/download/download.component.scss\":\r\n/*!************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/download/download.component.scss ***!\r\n  \\************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9kb3dubG9hZC9kb3dubG9hZC5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/download/download.component.ts\":\r\n/*!**********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/download/download.component.ts ***!\r\n  \\**********************************************************************/\r\n/*! exports provided: DownloadComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DownloadComponent\", function() { return DownloadComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser */ \"./node_modules/@angular/platform-browser/fesm5/platform-browser.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_8__);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DownloadComponent = /** @class */ (function () {\r\n    // CONSTRUCTOR\r\n    function DownloadComponent(canvasService, mainService, eventService, translate, sanitizer) {\r\n        this.canvasService = canvasService;\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.translate = translate;\r\n        this.sanitizer = sanitizer;\r\n        this.downloadLinks = \"javascript:void(0)\";\r\n        this.doenload = false;\r\n        this.enableDownload = 0;\r\n        this.initEvents();\r\n        this.downloadConfiguration();\r\n    }\r\n    DownloadComponent.prototype.downloadConfiguration = function () {\r\n        var _this = this;\r\n        var params = {}, url = 'productdesigner/index/downloadConfiguration', cacheKey = 'downloadConfiguration' + this.mainService.baseUrl;\r\n        this.mainService.getData(url, params, cacheKey).then(function (downloadData) {\r\n            _this.enableDownload = downloadData.enableDownload;\r\n            if (_this.enableDownload == 1) {\r\n                _this.mainService.displayDownload = true;\r\n            }\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    DownloadComponent.prototype.initEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('allcanvasCreated', function (allImageIds) {\r\n            _this.allImageIds = allImageIds;\r\n            _this.activeImageId = allImageIds[0];\r\n        });\r\n    };\r\n    DownloadComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('getCartData', function (data) {\r\n            _this.productName = data.productName;\r\n        });\r\n    };\r\n    DownloadComponent.prototype.onDownloadClick = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var url, currentImgUrl, extension, getImgName;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.canvasService.hasCanvasObjectOrBackground(this.canvasService.currentCanvas)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.mainService.getCanvasDataUrl(true, \"\")];\r\n                    case 1:\r\n                        url = _a.sent();\r\n                        currentImgUrl = this.canvasService.allImagesWithIds[this.canvasService.activeImageId]['url'];\r\n                        extension = \"\";\r\n                        if (currentImgUrl) {\r\n                            getImgName = currentImgUrl.split('/');\r\n                            extension = getImgName[getImgName.length - 1].split('.').pop();\r\n                        }\r\n                        this.mainService.downloadFiles(url, extension);\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        sweetalert2__WEBPACK_IMPORTED_MODULE_8___default.a.fire({\r\n                            title: this.translate.instant('Alert'),\r\n                            text: this.translate.instant('Please design the product in order to download !'),\r\n                            type: \"warning\",\r\n                            confirmButtonText: this.translate.instant('OK'),\r\n                            allowOutsideClick: false\r\n                        });\r\n                        _a.label = 3;\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('downloadLink'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\r\n    ], DownloadComponent.prototype, \"downloadLink\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('loaderComponent'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\r\n    ], DownloadComponent.prototype, \"loaderComponent\", void 0);\r\n    DownloadComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: '[download]',\r\n            template: __webpack_require__(/*! ./download.component.html */ \"./src/app/essentials/components/download/download.component.html\"),\r\n            styles: [__webpack_require__(/*! ./download.component.scss */ \"./src/app/essentials/components/download/download.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__[\"TranslateService\"],\r\n            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__[\"DomSanitizer\"]])\r\n    ], DownloadComponent);\r\n    return DownloadComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.html\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/drop-shadow/drop-shadow.component.html ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [hidden]=\\\"componentHide\\\">\\n\\t<button class=\\\"byi-accordion-title\\\" accordion-heading>\\n\\t\\t<span>{{'Drop Shadow' | translate}}</span>\\n\\t</button>\\n\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t<ng-container [ngTemplateOutlet]=\\\"dropShadow\\\"></ng-container>\\n\\t</div>\\n</accordion-group>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('drop-shadow')\\\" [attr.hidden]=\\\"componentHide\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n\\t<ng-template tabHeading>\\n\\t\\t<span>{{'Drop Shadow' | translate}}</span>\\n\\t</ng-template>\\n\\t<ng-container [ngTemplateOutlet]=\\\"dropShadow\\\"></ng-container>\\n</tab>\\n<ng-template #dropShadow>\\n\\t<div class=\\\"byie-option\\\">\\n\\t\\t<div class=\\\"byi-global-reset\\\">\\n\\t\\t\\t<div class=\\\"byie-custom-color\\\">\\n\\t\\t\\t\\t<div *ngIf=\\\"selectedColor\\\" [type]=\\\"'simple'\\\" custom-color-picker [activeColor]=\\\"selectedColor\\\"\\n\\t\\t\\t\\t\\t[hideColorToggle]=\\\"hideColorToggleShadow\\\" (colorPickerToggle)=\\\"colorPickerToggleShadow($event)\\\"\\n\\t\\t\\t\\t\\t(changeColorEvent)=\\\"changeColorShadow($event)\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<button class=\\\"byi-range-reset-link\\\" (click)=\\\"resetShadow()\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t<label>{{'X-offset' | translate}}</label>\\n\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{offsetX}}</span>\\n\\t\\t\\t\\t<input type=\\\"range\\\" [(ngModel)]=\\\"offsetX\\\" min=\\\"-25\\\" max=\\\"25\\\" step=\\\"1\\\" value='0' (input)=\\\"changeShadow()\\\"\\n\\t\\t\\t\\t\\t(mousedown)=\\\"setPrevValue('offsetX', offsetX)\\\" class=\\\"slider\\\" (change)=\\\"stackToUndo('offsetX')\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t<label>{{'Y-offset' | translate}}</label>\\n\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{offsetY}}</span>\\n\\t\\t\\t\\t<input type=\\\"range\\\" [(ngModel)]=\\\"offsetY\\\" min=\\\"-25\\\" max=\\\"25\\\" step=\\\"1\\\" value='0'\\n\\t\\t\\t\\t\\t(input)=\\\"changeShadow(true)\\\" (mousedown)=\\\"setPrevValue('offsetY', offsetY)\\\" class=\\\"slider\\\"\\n\\t\\t\\t\\t\\t(change)=\\\"stackToUndo('offsetY')\\\" class=\\\"slider\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.scss\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/drop-shadow/drop-shadow.component.scss ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9kcm9wLXNoYWRvdy9kcm9wLXNoYWRvdy5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.ts\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/drop-shadow/drop-shadow.component.ts ***!\r\n  \\****************************************************************************/\r\n/*! exports provided: DropShadowComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DropShadowComponent\", function() { return DropShadowComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DropShadowComponent = /** @class */ (function () {\r\n    function DropShadowComponent(canvasService, eventService, mainService, tabsService) {\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.mainService = mainService;\r\n        this.tabsService = tabsService;\r\n        this.hideColorToggleShadow = 1;\r\n        this.componentHide = true;\r\n        // undo redo\r\n        this.prevShadow = {};\r\n        this.tabsService.registerTabs('drop-shadow', 'plain-text');\r\n        this.tabsService.registerTabs('drop-shadow', 'name-number');\r\n    }\r\n    DropShadowComponent.prototype.ngOnInit = function () {\r\n        this.initData();\r\n        this.offsetX = '0';\r\n        this.offsetY = '0';\r\n        this.blur = '0';\r\n        this.subscribeEvents();\r\n    };\r\n    DropShadowComponent.prototype.initData = function () {\r\n        if (this.mainService.colorData.defaultColor) {\r\n            this.selectedColor = Object.assign({}, this.mainService.colorData.defaultColor);\r\n        }\r\n        var shadow = this.canvasService.getActiveObjectValue('text', 'shadow');\r\n        this.offsetX = (shadow && shadow.offsetX) ? shadow.offsetX : '0';\r\n        this.offsetY = (shadow && shadow.offsetY) ? shadow.offsetY : '0';\r\n    };\r\n    DropShadowComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        var self = this;\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            self.componentHide = true;\r\n        });\r\n        this.eventService.$sub('objectUpdated', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.updateShadow(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            if (obj.type == 'activeSelection') {\r\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\r\n                if (isObjText == -1) {\r\n                    self.componentHide = null;\r\n                }\r\n                else {\r\n                    self.componentHide = true;\r\n                }\r\n            }\r\n            else {\r\n                self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n            }\r\n            _this.updateShadow(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n            if (obj.type == 'activeSelection') {\r\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\r\n                if (isObjText == -1) {\r\n                    self.componentHide = null;\r\n                }\r\n                else {\r\n                    self.componentHide = true;\r\n                }\r\n            }\r\n            else {\r\n                _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n            }\r\n            _this.updateShadow(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this.componentHide = true;\r\n            _this.blur = '0';\r\n            if (_this.mainService.colorData.defaultColor) {\r\n                _this.selectedColor = Object.assign({}, _this.mainService.colorData.defaultColor);\r\n            }\r\n            _this.initData();\r\n        });\r\n        this.eventService.$sub('imageSideChanged', function () {\r\n            _this.initData();\r\n        });\r\n        this.eventService.$sub('closeColorPicker', function () {\r\n            _this.hideColorToggleShadow = 1;\r\n        });\r\n    };\r\n    DropShadowComponent.prototype.changeShadow = function (changeShadowY) {\r\n        var _this = this;\r\n        if (changeShadowY === void 0) { changeShadowY = false; }\r\n        var selectedObjects = this.canvasService.currentCanvas.getActiveObjects();\r\n        if (selectedObjects.length > 0) {\r\n            var shadow = {\r\n                offsetX: this.offsetX,\r\n                offsetY: this.offsetY,\r\n                blur: this.blur,\r\n                color: this.selectedColor,\r\n            };\r\n            var properties_1 = {\r\n                shadow: shadow\r\n            };\r\n            selectedObjects.filter(function (obj) {\r\n                obj = Object.assign(obj, properties_1);\r\n                _this.canvasService.currentCanvas.renderAll();\r\n            });\r\n        }\r\n    };\r\n    DropShadowComponent.prototype.setPrevValue = function (key, value) {\r\n        if (!this.prevShadow || this.prevShadow[key] == null) {\r\n            this.prevShadow[key] = value;\r\n        }\r\n    };\r\n    DropShadowComponent.prototype.stackToUndo = function (key) {\r\n        // Init empty shadow object here\r\n        var properties = { shadow: {} };\r\n        // set selecte shadow value(eg. offsetX, offsetY)\r\n        properties.shadow = Object.assign(properties.shadow, this.prevShadow);\r\n        // determine other shadow key(eg. offsetX, offsetY)\r\n        var otherKey = (key == 'offsetX') ? 'offsetY' : 'offsetX', \r\n        // determine other shadow value\r\n        otherKeyVal = (otherKey == 'offsetX') ? this.offsetX : this.offsetY;\r\n        // check if otherKyeVal is null, set it to 0\r\n        // this will only occur on first time\r\n        otherKeyVal = (!otherKeyVal) ? 0 : otherKeyVal;\r\n        // set other shadow property to properties object\r\n        properties.shadow[otherKey] = otherKeyVal;\r\n        // finally pass the property object to rangeSliderUndoRedo\r\n        this.canvasService.rangeSliderUndoRedo(properties);\r\n        // set selected shadow to null\r\n        this.prevShadow[key] = null;\r\n    };\r\n    DropShadowComponent.prototype.updateShadow = function (obj) {\r\n        if (obj.length > 0) {\r\n            if (obj[0]) {\r\n                this.offsetX = (obj[0].shadow && obj[0].shadow.offsetX != undefined) ? obj[0].shadow.offsetX : 0;\r\n                this.offsetY = (obj[0].shadow && obj[0].shadow.offsetY != undefined) ? obj[0].shadow.offsetY : 0;\r\n                this.blur = (obj[0].shadow && obj[0].shadow.blur != undefined) ? obj[0].shadow.blur : 0;\r\n                this.selectedColor = (obj[0].shadow && obj[0].shadow.color != undefined) ? obj[0].shadow.color : this.mainService.colorData.defaultColor.color_code;\r\n                [0];\r\n            }\r\n            [0];\r\n        }\r\n        else {\r\n            this.offsetX = (obj.shadow && obj.shadow.offsetX != undefined) ? obj.shadow.offsetX : 0;\r\n            this.offsetY = (obj.shadow && obj.shadow.offsetY != undefined) ? obj.shadow.offsetY : 0;\r\n            this.blur = (obj.shadow && obj.shadow.blur != undefined) ? obj.shadow.blur : 0;\r\n            this.selectedColor = (obj.shadow && obj.shadow.color != undefined) ? obj.shadow.color : this.mainService.colorData.defaultColor.color_code;\r\n        }\r\n    };\r\n    DropShadowComponent.prototype.resetShadow = function () {\r\n        var _this = this;\r\n        if (!this.canvasService.currentCanvas)\r\n            return;\r\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects();\r\n        selectedObjs.filter(function (obj) {\r\n            _this.offsetX = '0';\r\n            _this.offsetY = '0';\r\n            _this.blur = '0';\r\n            if (obj) {\r\n                var shadow = {\r\n                    offsetX: 0,\r\n                    offsetY: 0,\r\n                    blur: 0,\r\n                    color: _this.mainService.colorData.defaultColor.color_code,\r\n                };\r\n                var properties = {\r\n                    shadow: shadow\r\n                };\r\n                if (_this.mainService.colorData.defaultColor) {\r\n                    _this.selectedColor = Object.assign({}, _this.mainService.colorData.defaultColor.color_code);\r\n                }\r\n                var params = {\r\n                    obj: obj,\r\n                    properties: properties,\r\n                    crudServiceString: 'this.updateObjectService',\r\n                };\r\n                _this.canvasService.objectCRUD(params);\r\n            }\r\n        });\r\n    };\r\n    DropShadowComponent.prototype.colorPickerToggleShadow = function () {\r\n        if (this.hideColorToggleShadow == 1) {\r\n            this.hideColorToggleShadow = 0;\r\n        }\r\n        else if (this.hideColorToggleShadow == 0) {\r\n            this.hideColorToggleShadow = 1;\r\n        }\r\n    };\r\n    DropShadowComponent.prototype.changeColorShadow = function (shadowColor) {\r\n        if (!this.canvasService.currentCanvas)\r\n            return;\r\n        this.selectedColor = shadowColor;\r\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects();\r\n        var shadow = {\r\n            offsetX: this.offsetX,\r\n            offsetY: this.offsetY,\r\n            blur: this.blur,\r\n            color: shadowColor\r\n        };\r\n        var properties = {\r\n            shadow: shadow\r\n        };\r\n        this.mainService.updateObjectProperties(selectedObjs, properties);\r\n    };\r\n    DropShadowComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[drop-shadow]',\r\n            template: __webpack_require__(/*! ./drop-shadow.component.html */ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.html\"),\r\n            styles: [__webpack_require__(/*! ./drop-shadow.component.scss */ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"], src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"]])\r\n    ], DropShadowComponent);\r\n    return DropShadowComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/font/font.component.html\":\r\n/*!****************************************************************!*\\\r\n  !*** ./src/app/essentials/components/font/font.component.html ***!\r\n  \\****************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<ul class=\\\"hide-fonts\\\">\\n    <li *ngFor=\\\"let object of fontService.fontarr\\\">\\n        <span [style.font-family]=\\\"object.font_label\\\"> </span>\\n    </li>\\n</ul>\\n\\n<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [isOpen]=\\\"openAccordian\\\" [hidden]=\\\"componentHide\\\">\\n    <button class=\\\"byi-accordion-title btn btn-link btn-block clearfix\\\" accordion-heading>\\n        <span>{{'Font' | translate}}</span>\\n    </button>\\n    <div class=\\\"byi-accord-content byi-tooltip-font\\\">\\n        <div class=\\\"byie-option byie-font-dropdown\\\">\\n            <div class=\\\"byi-fonts\\\" [class.open]=\\\"isToggle\\\">\\n                <button  type=\\\"button\\\" class=\\\"byi-button\\\" (click)=\\\"isToggleOpen()\\\"\\n                    tooltip=\\\"{{'Select Font' | translate}}\\\"> <span [style.font-family]=\\\"fontService.activeFontFamily?.font_label\\\">{{fontService.activeFontFamily?.font_label}}</span><span\\n                        class=\\\"caret\\\" ></span></button>\\n                <ng-container [ngTemplateOutlet]=\\\"fontFamily\\\"></ng-container>\\n            </div>\\n            <ng-container [ngTemplateOutlet]=\\\"colors\\\"></ng-container>\\n        </div>\\n        <ng-container [ngTemplateOutlet]=\\\"fonts\\\"></ng-container>\\n\\n    </div>\\n</accordion-group>\\n\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('font')\\\" [attr.hidden]=\\\"componentHide\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n    <ng-template tabHeading>\\n        <span>{{'Font' | translate}}</span>\\n    </ng-template>\\n    <ng-container [ngTemplateOutlet]=\\\"fonts\\\"></ng-container>\\n    <ng-container [ngTemplateOutlet]=\\\"colors\\\"></ng-container>\\n</tab>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('font')\\\" [attr.hidden]=\\\"componentHide\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n    <ng-template tabHeading>\\n        <span>{{'Font Family' | translate}}</span>\\n    </ng-template>\\n    <ng-container [ngTemplateOutlet]=\\\"fontFamily\\\"></ng-container>\\n</tab>\\n<ng-template #fontFamily>\\n    <ng-container *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('font')\\\"\\n        [attr.hidden]=\\\"componentHide\\\">\\n        <div class=\\\"byi-fullview-toggle\\\">\\n            <button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts,backArrow)\\\">\\n                <span></span>\\n                <span></span>\\n                <span></span>\\n            </button>\\n        </div>\\n    </ng-container>\\n    <div class=\\\"byi-fonts-wrap\\\" [class.byi-fonts-wrap-mob]=\\\"mainService.isResponsive\\\">\\n        <ul #scrollToBottom *ngIf=\\\"!mainService.isResponsive\\\">\\n            <li tooltip=\\\"{{object.font_label}}\\\" role=\\\"menuitem\\\" *ngFor=\\\"let object of fontService.fontarr\\\"\\n                (click)=\\\"changeFontFamily(object)\\\"\\n                [ngClass]=\\\"{'selected': fontService.activeFontFamily.font_label == object.font_label }\\\"\\n                class=\\\"font-item\\\">\\n                <span *ngIf=\\\"!object.font_image\\\" [style.font-family]=\\\"object.font_label\\\">{{object.font_label}}</span>\\n                <img [src]=\\\"object.font_image\\\" *ngIf=\\\"object.font_image\\\" />\\n            </li>\\n            <div *ngIf=\\\"isEnableloadmore && !mainService.isResponsive\\\" class=\\\"loadmore-action font-loadMore\\\">\\n                <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreFont()\\\">\\n            </div>\\n        </ul>\\n        <ul #scrollToBottom *ngIf=\\\"mainService.isResponsive\\\" infiniteScroll [horizontal]=\\\"true\\\"\\n            [infiniteScrollDistance]=\\\"0\\\" [infiniteScrollThrottle]=\\\"1000\\\" [scrollWindow]=\\\"false\\\"\\n            (scrolled)=\\\"loadMoreFont()\\\" #scrollToBottom\\n            [infiniteScrollDisabled]=\\\"!isEnableloadmore || !allowPlaceholderLoader\\\">\\n            <li tooltip=\\\"{{object.font_label}}\\\" role=\\\"menuitem\\\" *ngFor=\\\"let object of fontService.fontarr\\\"\\n                (click)=\\\"changeFontFamily(object)\\\"\\n                [ngClass]=\\\"{'selected': fontService.activeFontFamily.font_label == object.font_label }\\\"\\n                class=\\\"font-item mobile\\\">\\n                <span *ngIf=\\\"!object.font_image\\\" [style.font-family]=\\\"object.font_label\\\">{{object.font_label}}</span>\\n                <img [src]=\\\"object.font_image\\\" *ngIf=\\\"object.font_image\\\" />\\n            </li>\\n            <li [attr.hidden]=\\\"(!showPlaceholder) ? true : null\\\" *ngFor=\\\"let temp of mainService.customPlaceholderArr\\\"\\n                placeholder-loader [loaderHeight]='25' [loaderWidth]='100'></li>\\n            <div *ngIf=\\\"isEnableloadmore && mainService.isResponsive && showAllFonts\\\"\\n                class=\\\"loadmore-action font-loadMore\\\">\\n                <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreFont()\\\">\\n            </div>\\n        </ul>\\n    </div>\\n    <div *ngIf=\\\"isEnableloadmore && !mainService.isResponsive && showAllFonts\\\" class=\\\"loadmore-action font-loadMore\\\">\\n        <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreFont()\\\">\\n    </div>\\n</ng-template>\\n<ng-template #colors>\\n    <div class=\\\"byie-custom-color\\\">\\n        <div custom-color-picker [type]=\\\"'simple'\\\" [activeColor]=\\\"selectedColor\\\" [hideColorToggle]=\\\"hideColorToggleFont\\\"\\n            (colorPickerToggle)=\\\"colorPickerToggleFont($event)\\\" (changeColorEvent)=\\\"changeFontColor($event)\\\"></div>\\n    </div>\\n</ng-template>\\n<ng-template #fonts>\\n    <div class=\\\"byie-option byie-font-size\\\">\\n        <label>{{'Size' | translate}}</label>\\n        <div class=\\\"byi-range-box byie-count-wrap\\\">\\n            <div class=\\\"byi-rb-input\\\">\\n                <span class=\\\"byie-count\\\">{{fontSize}}</span>\\n                <input type=\\\"range\\\" [(ngModel)]=\\\"fontSize\\\" (input)=\\\"changeFontSize()\\\"\\n                    (mousedown)=\\\"setPrevValue($event.target.value)\\\" (change)=\\\"stackToUndo()\\\" step=\\\"1\\\" min=\\\"12\\\" max=\\\"60\\\"\\n                    class=\\\"slider\\\">\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"byie-option byie-font-style\\\">\\n        <ul class=\\\"byie-deco\\\">\\n            <li>\\n                <button class=\\\"byi-i byi-b\\\" (click)=\\\"changeFontStyle('bold')\\\"\\n                    [ngClass]=\\\"{'selected': fontStyleArr.indexOf('bold') >= 0}\\\" tooltip=\\\"{{'Bold' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-bold\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-bold\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n            <li>\\n                <button class=\\\"byi-i byi-it\\\" (click)=\\\"changeFontStyle('italic')\\\"\\n                    [ngClass]=\\\"{'selected': fontStyleArr.indexOf('italic') >= 0}\\\" tooltip=\\\"{{'Italic' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-italic\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-italic\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n            <li>\\n                <button class=\\\"byi-i byi-u\\\" (click)=\\\"changeFontStyle('underline')\\\"\\n                    [ngClass]=\\\"{'selected': fontStyleArr.indexOf('underline') >= 0}\\\"\\n                    tooltip=\\\"{{'Underline' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-underline\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-underline\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n        </ul>\\n        <ul class=\\\"byie-deco byie-text-align\\\">\\n            <li>\\n                <button [class.disabled]=\\\"enableForMultiLine\\\" class=\\\"byi-i byi-al\\\"\\n                    [ngClass]=\\\"{'selected': textAlign == 'left' }\\\" (click)=\\\"setTextAlign('left')\\\"\\n                    tooltip=\\\"{{'Left' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-aleft\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-aleft\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n            <li>\\n                <button class=\\\"byi-i byi-ac\\\" [ngClass]=\\\"{'selected': textAlign == 'center' }\\\"\\n                    (click)=\\\"setTextAlign('center')\\\" [class.disabled]=\\\"enableForMultiLine\\\"\\n                    tooltip=\\\"{{'Center' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-acenter\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-acenter\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n            <li>\\n                <button class=\\\"byi-i byi-ar\\\" [ngClass]=\\\"{'selected': textAlign == 'right' }\\\"\\n                    (click)=\\\"setTextAlign('right')\\\" [class.disabled]=\\\"enableForMultiLine\\\"\\n                    tooltip=\\\"{{'Right' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-aright\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-aright\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n            <li>\\n                <button class=\\\"byi-i byi-aj\\\" [ngClass]=\\\"{'selected': textAlign == 'justify' }\\\"\\n                    (click)=\\\"setTextAlign('justify')\\\" [class.disabled]=\\\"enableForMultiLine\\\"\\n                    tooltip=\\\"{{'Justify' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-ajustify\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-ajustify\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n        </ul>\\n    </div>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/font/font.component.scss\":\r\n/*!****************************************************************!*\\\r\n  !*** ./src/app/essentials/components/font/font.component.scss ***!\r\n  \\****************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9mb250L2ZvbnQuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/font/font.component.ts\":\r\n/*!**************************************************************!*\\\r\n  !*** ./src/app/essentials/components/font/font.component.ts ***!\r\n  \\**************************************************************/\r\n/*! exports provided: FontComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FontComponent\", function() { return FontComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _font_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./font.service */ \"./src/app/essentials/components/font/font.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var _placeholder_loader_placholder_loader_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../placeholder-loader/placholder-loader.service */ \"./src/app/essentials/components/placeholder-loader/placholder-loader.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar FontComponent = /** @class */ (function () {\r\n    function FontComponent(canvasService, eventService, mainService, tabsService, fontService, cdr, placholderLoaderService) {\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.mainService = mainService;\r\n        this.tabsService = tabsService;\r\n        this.fontService = fontService;\r\n        this.cdr = cdr;\r\n        this.placholderLoaderService = placholderLoaderService;\r\n        this.fontFamily = 'select font style';\r\n        this.isDisplay = false;\r\n        this.fontSizeArray = ['12', '14', '16', '18', '20', '22'];\r\n        this.fontStyleArr = [];\r\n        this.colorarr = [];\r\n        this.hideColorToggleFont = 1;\r\n        this.componentHide = true;\r\n        // Resolve sync issue for load fonts and load colors\r\n        this.isColorLoaded = false;\r\n        this.isToggle = false;\r\n        this.fontImg = [];\r\n        this.imageExists = true;\r\n        this.notImg = false;\r\n        this.showAllFonts = false;\r\n        this.backArrow = false;\r\n        this.loadPlaintext = false;\r\n        this.openAccordian = false;\r\n        this.loadmore = 0;\r\n        this.isEnableloadmore = false;\r\n        this.checkFontScroll = false;\r\n        // infinite scroll\r\n        this.customPlaceholderArr = [];\r\n        this.tabsService.registerTabs('font', 'plain-text');\r\n        this.tabsService.registerTabs('font', 'name-number');\r\n        this.enableDisableAlignment();\r\n    }\r\n    FontComponent.prototype.enableDisableAlignment = function () {\r\n        this.enableForMultiLine = this.enableForMultipleObject();\r\n    };\r\n    FontComponent.prototype.enableForSingleObj = function () {\r\n        var obj = this.canvasService.getActiveObject();\r\n        if (obj == false)\r\n            return false;\r\n        return true;\r\n    };\r\n    FontComponent.prototype.enableForMultipleObject = function () {\r\n        var totalAddedObjects = (this.canvasService.currentCanvas && this.canvasService.currentCanvas.getActiveObject() && this.canvasService.currentCanvas.getActiveObject().type == \"text\") ? this.canvasService.currentCanvas.getActiveObject()._textLines.length : 0;\r\n        if (this.enableForSingleObj() === true && totalAddedObjects > 1)\r\n            return null;\r\n        return true;\r\n    };\r\n    FontComponent.prototype.ngOnInit = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                this.allowPlaceholderLoader = this.mainService.isResponsive;\r\n                this.loadMoreFont(true);\r\n                this.subscribeEvents();\r\n                this.eventService.$sub('closeFullView', function (backArrow) {\r\n                    _this.showAllFonts = backArrow;\r\n                    _this.showFonts(_this.showAllFonts);\r\n                });\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    FontComponent.prototype.ngAfterViewChecked = function () {\r\n        try {\r\n            if (this.checkFontScroll) {\r\n                this.scrollToBottom();\r\n                this.checkFontScroll = false;\r\n            }\r\n        }\r\n        catch (err) { }\r\n    };\r\n    FontComponent.prototype.scrollToBottom = function () {\r\n        try {\r\n            if (!this.mainService.isResponsive)\r\n                this.ScrollContainer.nativeElement.scrollTop = this.ScrollContainer.nativeElement.scrollHeight;\r\n        }\r\n        catch (err) { }\r\n    };\r\n    FontComponent.prototype.updateProperties = function () {\r\n        var _this = this;\r\n        if (!this.canvasService.currentCanvas)\r\n            return;\r\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects();\r\n        this.isEnableloadmore = this.fontService.isEnableloadmore;\r\n        selectedObjs.filter(function (obj) {\r\n            if (obj.type != \"text\") {\r\n                _this.resetFontProperties();\r\n                return;\r\n            }\r\n            ;\r\n            if (_this.fontService.isFontLoaded === true) {\r\n                if (obj.fontFamily && _this.fontService.activeFontFamily.font_label != obj.fontFamily) {\r\n                    _this.fontService.activeFontFamily.font_label = obj.fontFamily;\r\n                }\r\n                if (obj.fontSize && _this.fontSize != obj.fontSize) {\r\n                    _this.fontSize = obj.fontSize;\r\n                }\r\n            }\r\n            if (obj.textAlign && _this.textAlign != obj.textAlign) {\r\n                _this.textAlign = obj.textAlign;\r\n            }\r\n            _this.fontStyleArr = [];\r\n            if (obj.fontWeight == 'bold') {\r\n                _this.fontStyleArr.push('bold');\r\n            }\r\n            if (obj.fontStyle == 'italic') {\r\n                _this.fontStyleArr.push('italic');\r\n            }\r\n            if (obj.underline == true) {\r\n                _this.fontStyleArr.push('underline');\r\n            }\r\n            if (obj) {\r\n                _this.selectedColor = obj.fill;\r\n                obj.dirty = true;\r\n            }\r\n            // sort and set selected font as first in the list\r\n            if (!_this.isToggle && !_this.mainService.isResponsive)\r\n                _this.sortFontFamilyList();\r\n        });\r\n    };\r\n    FontComponent.prototype.sortFontFamilyList = function (obj) {\r\n        if (obj === void 0) { obj = null; }\r\n        obj = (obj == null) ? this.canvasService.getActiveObject() : obj;\r\n        if (!obj)\r\n            return;\r\n        var originalIndex = this.fontService.fontarr.findIndex(function (data) { return data.font_label === obj.fontFamily; });\r\n        if (originalIndex != -1) {\r\n            var tmp = this.fontService.fontarr[0];\r\n            this.fontService.fontarr[0] = this.fontService.fontarr[originalIndex];\r\n            this.fontService.fontarr[originalIndex] = tmp;\r\n        }\r\n    };\r\n    FontComponent.prototype.resetFontProperties = function () {\r\n        if (this.mainService.colorData.defaultColor && this.mainService.colorData.defaultColor.color_code) {\r\n            this.eventService.$pub('changedColor', this.mainService.colorData.defaultColor.color_code);\r\n            this.selectedColor = this.mainService.colorData.defaultColor.color_code;\r\n        }\r\n    };\r\n    FontComponent.prototype.loadMoreFont = function (resetArr) {\r\n        if (resetArr === void 0) { resetArr = false; }\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.showPlaceholder = true;\r\n                        this.loadmore++;\r\n                        if (!!this.fontService.fontLoadRequested) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.fontService.getFonts(this.loadmore, resetArr)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        if (this.fontService.fontarr && this.fontService.fontarr.length) {\r\n                            this.updateProperties();\r\n                            this.loadFonts();\r\n                            this.checkFontScroll = true;\r\n                            this.showPlaceholder = false;\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FontComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        var self = this;\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n            self.openAccordian = (obj.type == \"text\") ? true : null;\r\n            _this.cdr.detectChanges();\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            if (obj && (obj.type == \"text\" || Array.isArray(obj) && obj[0] && obj[0].type == 'text')) {\r\n                _this.resetFontProperties();\r\n                self.openAccordian = null;\r\n                self.componentHide = true;\r\n            }\r\n        });\r\n        this.eventService.$sub('objectUpdated', function (obj) {\r\n            _this.enableDisableAlignment();\r\n            _this.updateProperties();\r\n        });\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            _this.enableDisableAlignment();\r\n            /*if(self.canvasService.getObjectType(obj,\"text\") && !Array.isArray(obj)){*/\r\n            if (obj.type == 'activeSelection') {\r\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\r\n                if (isObjText == -1) {\r\n                    self.componentHide = null;\r\n                    self.openAccordian = true;\r\n                }\r\n                else {\r\n                    self.componentHide = true;\r\n                    self.openAccordian = null;\r\n                }\r\n            }\r\n            else {\r\n                self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n                self.openAccordian = (obj.type == \"text\") ? true : null;\r\n            }\r\n            if (self.componentHide == null) {\r\n                _this.sortFontFamilyList();\r\n            }\r\n            _this.cdr.detectChanges();\r\n            _this.updateProperties();\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            _this.enableDisableAlignment();\r\n            if (obj.type == 'activeSelection') {\r\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\r\n                if (isObjText == -1) {\r\n                    self.componentHide = null;\r\n                    self.openAccordian = true;\r\n                }\r\n                else {\r\n                    self.componentHide = true;\r\n                    self.openAccordian = null;\r\n                }\r\n            }\r\n            else {\r\n                _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n                self.openAccordian = (obj.type == \"text\") ? true : null;\r\n            }\r\n            _this.updateProperties();\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this.enableDisableAlignment();\r\n            _this.componentHide = true;\r\n            _this.openAccordian = null;\r\n            _this.updateProperties();\r\n        });\r\n        this.eventService.$sub('imageSideChanged', function () {\r\n            _this.updateProperties();\r\n        });\r\n        this.eventService.$sub('canvasObjectScaled', function () {\r\n            _this.changeFontScale();\r\n        });\r\n        this.eventService.$sub('closeColorPicker', function () {\r\n            _this.hideColorToggleFont = 1;\r\n        });\r\n        this.eventService.$sub('canvasObjectModified', function (obj) {\r\n            _this.enableDisableAlignment();\r\n            _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n            self.openAccordian = (obj.type == \"text\") ? true : null;\r\n            _this.updateProperties();\r\n        });\r\n        this.eventService.$sub('closeFontWrapper', function () {\r\n            _this.isToggle = false;\r\n        });\r\n        this.eventService.$sub('loadTheseFonts', function (jsonObjects) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                this.fetchFontListFromJsonObjects(jsonObjects);\r\n                return [2 /*return*/];\r\n            });\r\n        }); });\r\n    };\r\n    FontComponent.prototype.fetchFontListFromJsonObjects = function (jsonObjects) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var fontList, canvasKey, selectedObj_1;\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        fontList = [];\r\n                        for (canvasKey in jsonObjects) {\r\n                            if (jsonObjects[canvasKey] && jsonObjects[canvasKey].hasOwnProperty('objects') && jsonObjects[canvasKey].objects.length) {\r\n                                jsonObjects[canvasKey].objects.filter(function (obj) {\r\n                                    if (obj.type == 'text' && obj.hasOwnProperty('fontFamily') && obj.fontFamily) {\r\n                                        fontList.push(obj.fontFamily);\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                        if (!fontList.length) return [3 /*break*/, 2];\r\n                        this.fontService.loadTheseFonts = fontList;\r\n                        return [4 /*yield*/, this.fontService.getFonts(this.loadmore, true)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        selectedObj_1 = this.canvasService.getActiveObject();\r\n                        this.canvasService.deselectAllObjects();\r\n                        this.loadFonts();\r\n                        setTimeout(function () {\r\n                            if (selectedObj_1)\r\n                                _this.applyFonts(selectedObj_1);\r\n                        }, 200);\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FontComponent.prototype.loadFonts = function () {\r\n        //to load fontfile \r\n        var fonts = this.fontService.fontarr;\r\n        if (fonts) {\r\n            var style_1 = document.createElement('style');\r\n            style_1.type = 'text/css';\r\n            var fontFamily_1 = '';\r\n            fonts.filter(function (fontObj) {\r\n                fontFamily_1 = fontObj.font_file;\r\n                var css = \" @font-face{ font-family:'\" + fontObj.font_label + \"'; src:url('\" + fontFamily_1 + \"'); }\";\r\n                var length = document.getElementsByTagName('style').length - 1;\r\n                if (document.getElementsByTagName('style')[length].getAttribute(\"class\") == \"font-css\") {\r\n                    style_1.innerHTML += css;\r\n                }\r\n                else {\r\n                    style_1.setAttribute(\"class\", \"font-css\");\r\n                    style_1.innerHTML += css;\r\n                }\r\n            });\r\n            document.getElementsByTagName('head')[0].appendChild(style_1);\r\n        }\r\n    };\r\n    FontComponent.prototype.applyFonts = function (selectedObj) {\r\n        var _this = this;\r\n        var allObj = this.canvasService.getObjects();\r\n        allObj.filter(function (obj) {\r\n            _this.canvasService.currentCanvas.setActiveObject(obj).renderAll();\r\n        });\r\n        this.canvasService.currentCanvas.setActiveObject(selectedObj).renderAll();\r\n    };\r\n    FontComponent.prototype.changeFontFamily = function (object) {\r\n        this.fontService.activeFontFamily = Object.assign({}, object);\r\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\r\n        properties.fontFamily = this.fontService.activeFontFamily.font_label;\r\n        properties.font_file = this.fontService.activeFontFamily.font_file;\r\n        properties.dirty = true;\r\n        this.mainService.updateObjectProperties(selectedObjs, properties);\r\n        this.showFonts(true);\r\n    };\r\n    FontComponent.prototype.changeFontSize = function () {\r\n        var _this = this;\r\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\r\n        selectedObjs.filter(function (currObj) {\r\n            currObj.fontSize = _this.fontSize;\r\n        });\r\n        this.canvasService.currentCanvas.renderAll();\r\n        // properties.fontSize = this.fontSize;\r\n        // this.mainService.updateObjectProperties(selectedObjs, properties);\r\n    };\r\n    FontComponent.prototype.setPrevValue = function (val) {\r\n        if (this.prevFontSize == null)\r\n            this.prevFontSize = val;\r\n    };\r\n    FontComponent.prototype.stackToUndo = function () {\r\n        this.canvasService.rangeSliderUndoRedo({ 'fontSize': this.prevFontSize });\r\n        this.prevFontSize = null;\r\n    };\r\n    FontComponent.prototype.changeFontStyle = function (fontStyle) {\r\n        // variable declaration\r\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects(), found = this.fontStyleArr.indexOf(fontStyle);\r\n        // if obj is found and specified font style exists in our stored fontStyleArr obj\r\n        // remove the same from object, else push it into the object\r\n        if (selectedObjs && found >= 0) {\r\n            this.fontStyleArr.splice(found, 1);\r\n        }\r\n        else {\r\n            this.fontStyleArr.push(fontStyle);\r\n        }\r\n        // style variable here works as a flag variable\r\n        // that will toggle the font style,(apply/remove based on found variable)\r\n        var style = (found >= 0) ? 'normal' : fontStyle, properties = {};\r\n        // set property object\r\n        switch (fontStyle) {\r\n            case \"bold\":\r\n                properties.fontWeight = style;\r\n                break;\r\n            case \"italic\":\r\n                properties.fontStyle = style;\r\n                break;\r\n            case \"underline\":\r\n                properties.underline = (style == 'normal') ? false : true;\r\n                break;\r\n        }\r\n        // For underline\r\n        properties.dirty = true;\r\n        // Update canvas text object with new properties\r\n        this.mainService.updateObjectProperties(selectedObjs, properties);\r\n    };\r\n    FontComponent.prototype.setTextAlign = function (align) {\r\n        var obj = this.canvasService.getActiveObject(), properties = {};\r\n        if (obj) {\r\n            properties.textAlign = align;\r\n            this.textAlign = align;\r\n            var params = {\r\n                obj: obj,\r\n                properties: properties,\r\n                crudServiceString: 'this.updateObjectService',\r\n            };\r\n            this.canvasService.objectCRUD(params);\r\n        }\r\n    };\r\n    FontComponent.prototype.colorPickerToggleFont = function (event) {\r\n        if (this.hideColorToggleFont == 1) {\r\n            this.hideColorToggleFont = 0;\r\n        }\r\n        else if (this.hideColorToggleFont == 0) {\r\n            this.hideColorToggleFont = 1;\r\n        }\r\n    };\r\n    FontComponent.prototype.changeFontColor = function (color) {\r\n        this.selectedColor = color;\r\n        this.eventService.$pub('changedColor', color);\r\n        var obj = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\r\n        if (obj) {\r\n            properties.fill = color;\r\n            properties.dirty = true;\r\n            this.mainService.updateObjectProperties(obj, properties);\r\n        }\r\n    };\r\n    FontComponent.prototype.changeFontScale = function () {\r\n        var obj = this.canvasService.currentCanvas.getActiveObjects();\r\n        if (obj && obj.length > 0) {\r\n            obj = obj[0];\r\n        }\r\n        if (obj && obj.type != \"text\") {\r\n            return;\r\n        }\r\n        var scaleY = obj.scaleY, properties = {}, newfontsize = (obj.fontSize * obj.scaleX);\r\n        properties.fontSize = parseInt(newfontsize, 10);\r\n        this.fontSize = parseInt(newfontsize, 10);\r\n        properties.scaleX = 1;\r\n        properties.scaleY = 1;\r\n        obj.set(properties);\r\n        this.canvasService.currentCanvas.renderAll();\r\n    };\r\n    FontComponent.prototype.isToggleOpen = function () {\r\n        var _this = this;\r\n        this.isToggle = !this.isToggle;\r\n        if (!this.isToggle) {\r\n            setTimeout(function () {\r\n                _this.sortFontFamilyList();\r\n            }, 200);\r\n        }\r\n    };\r\n    FontComponent.prototype.showFonts = function (showAllFonts) {\r\n        this.showAllFonts = !showAllFonts;\r\n        this.eventService.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Change Font Family' });\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_7__[\"LoaderComponent\"])\r\n    ], FontComponent.prototype, \"loaderComponent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('scrollToBottom'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\r\n    ], FontComponent.prototype, \"ScrollContainer\", void 0);\r\n    FontComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: '[font]',\r\n            template: __webpack_require__(/*! ./font.component.html */ \"./src/app/essentials/components/font/font.component.html\"),\r\n            styles: [__webpack_require__(/*! ./font.component.scss */ \"./src/app/essentials/components/font/font.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__[\"MainService\"],\r\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__[\"TabsService\"],\r\n            _font_service__WEBPACK_IMPORTED_MODULE_1__[\"FontService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"],\r\n            _placeholder_loader_placholder_loader_service__WEBPACK_IMPORTED_MODULE_8__[\"PlacholderLoaderService\"]])\r\n    ], FontComponent);\r\n    return FontComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/font/font.service.ts\":\r\n/*!************************************************************!*\\\r\n  !*** ./src/app/essentials/components/font/font.service.ts ***!\r\n  \\************************************************************/\r\n/*! exports provided: FontService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FontService\", function() { return FontService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\n\r\n\r\nvar FontService = /** @class */ (function () {\r\n    function FontService(mainService, eventService) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.fontarr = [];\r\n        this.defaultFontFamily = [];\r\n        this.isFontLoaded = false;\r\n        this.isEnableloadmore = false;\r\n        // if call is already made, \r\n        // don't repeat again,\r\n        this.fontLoadRequested = false;\r\n        // force load these fonts\r\n        this.loadTheseFonts = [];\r\n    }\r\n    FontService.prototype.getFonts = function (page, resetArr) {\r\n        if (page === void 0) { page = 1; }\r\n        if (resetArr === void 0) { resetArr = false; }\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var params, url, cacheKey;\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.fontLoadRequested = true;\r\n                        if (resetArr === true)\r\n                            this.fontarr = [];\r\n                        params = { page: page }, url = 'productdesigner/text/getFonts', cacheKey = 'getFonts' + this.mainService.baseUrl + page;\r\n                        if (this.loadTheseFonts.length) {\r\n                            this.mainService.cacheService.remove(cacheKey);\r\n                            params = Object.assign(params, { fontList: this.loadTheseFonts });\r\n                        }\r\n                        return [4 /*yield*/, this.mainService.getData(url, params, cacheKey).then(function (fontData) {\r\n                                _this.fontLoadRequested = false;\r\n                                _this.isEnableloadmore = fontData.loadMoreFlag;\r\n                                _this.fontarr = _this.fontarr.concat(fontData.fonts);\r\n                                _this.defaultFontFamily = _this.activeFontFamily = fontData.defaultFontFamily;\r\n                                _this.defaultFontSize = fontData.defaultFontSize;\r\n                                _this.isFontLoaded = true;\r\n                                _this.textLimitEnable = fontData.textLimitEnable;\r\n                                _this.textLimitCounter = fontData.textLimitCounter;\r\n                                _this.limitAlert = fontData.limitAlert;\r\n                                _this.loadTheseFonts = [];\r\n                            }).catch(function (err) { return console.log(err); })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FontService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"]])\r\n    ], FontService);\r\n    return FontService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/footer/footer.component.html\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/footer/footer.component.html ***!\r\n  \\********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byi-footer\\\">\\n  <div class=\\\"design-area-footer\\\">\\n    <designarea-controls></designarea-controls>\\n  </div>\\n  <div class=\\\"byif-right\\\">\\n    <div class=\\\"byi-cart-wrap\\\">\\n      <price></price>\\n      <div class=\\\"byi-cart-action\\\">\\n        <cart></cart>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"byi-footer-cta\\\" product-demo [loadContent]=\\\"'reqForDemo'\\\"></div>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/footer/footer.component.scss\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/footer/footer.component.scss ***!\r\n  \\********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9mb290ZXIvZm9vdGVyLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/footer/footer.component.ts\":\r\n/*!******************************************************************!*\\\r\n  !*** ./src/app/essentials/components/footer/footer.component.ts ***!\r\n  \\******************************************************************/\r\n/*! exports provided: FooterComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FooterComponent\", function() { return FooterComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\nvar FooterComponent = /** @class */ (function () {\r\n    function FooterComponent(eventService) {\r\n        this.eventService = eventService;\r\n    }\r\n    FooterComponent.prototype.ngOnInit = function () {\r\n    };\r\n    FooterComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: 'footer',\r\n            template: __webpack_require__(/*! ./footer.component.html */ \"./src/app/essentials/components/footer/footer.component.html\"),\r\n            styles: [__webpack_require__(/*! ./footer.component.scss */ \"./src/app/essentials/components/footer/footer.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"]])\r\n    ], FooterComponent);\r\n    return FooterComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/header/header.component.html\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/header/header.component.html ***!\r\n  \\********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div *ngIf=\\\"!mainService.isResponsive\\\" class=\\\"byi-header\\\">\\n\\t<div class=\\\"byii-left\\\">\\n\\t\\t<div class=\\\"byi-brand\\\">\\n\\t\\t\\t<h1>\\n\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" (click)=\\\"redirectHomePage(homePageLink)\\\">\\n\\t\\t\\t\\t\\t<img src=\\\"{{logoSrc}}\\\" alt=\\\"{{logoAlt}}\\\" tooltip=\\\"{{logoAlt}}\\\">\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</h1>\\n\\t\\t</div>\\n\\t\\t<div products class=\\\"byi-products\\\"></div>\\n\\t</div>\\n\\t<div class=\\\"byi-output-action\\\">\\n\\t\\t<ul class=\\\"bta-link\\\">\\t\\t\\t\\n\\t\\t\\t<li preview></li>\\n\\t\\t\\t<li social-media-sharing></li>\\n\\t\\t\\t<li *ngIf=\\\"mainService.isAdmin == false\\\" save-design></li>\\n\\t\\t\\t<li design-templates [loadContent]=\\\"'header'\\\"></li>\\n\\t\\t\\t<li download [attr.hidden]=\\\"(mainService.displayDownload) ? null : true\\\"></li>\\n\\t\\t</ul>\\n\\t</div>\\n\\t<div class=\\\"byia-right\\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li product-demo [loadContent]=\\\"'pricePage'\\\"></li>\\n\\t\\t\\t<li class=\\\"byi-product-intro\\\" intro></li>\\n\\t\\t\\t<li class=\\\"byi-customer-info\\\" customer-login></li>\\n\\t\\t</ul>\\n\\t</div>\\n</div>\\n\\n<div *ngIf=\\\"mainService.isResponsive\\\" class=\\\"byi-header-mob\\\">\\n\\t<div class=\\\"byih-left\\\">\\n\\t\\t<div class=\\\"byi-brand\\\">\\n\\t\\t\\t<h1>\\n\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" (click)=\\\"redirectHomePage(homePageLink)\\\">\\n\\t\\t\\t\\t\\t<img src=\\\"{{logoSrc}}\\\" alt=\\\"{{logoAlt}}\\\" title=\\\"{{logoAlt}}\\\">\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</h1>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"byi-products-mob\\\">\\n\\t\\t<div products class=\\\"byi-products-list\\\"></div>\\n\\t</div>\\n\\t<div class=\\\"byih-right\\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li class=\\\"byi-customer-info\\\" customer-login></li>\\n\\t\\t\\t<li class=\\\"byi-top-cart\\\">\\n\\t\\t\\t\\t<cart></cart>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t</div>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/header/header.component.scss\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/header/header.component.scss ***!\r\n  \\********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/header/header.component.ts\":\r\n/*!******************************************************************!*\\\r\n  !*** ./src/app/essentials/components/header/header.component.ts ***!\r\n  \\******************************************************************/\r\n/*! exports provided: HeaderComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HeaderComponent\", function() { return HeaderComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n\r\n\r\n\r\n\r\nvar HeaderComponent = /** @class */ (function () {\r\n    function HeaderComponent(mainService, eventService) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        var logoUrl = this.mainService.baseUrl;\r\n        if (this.mainService.isAdmin) {\r\n            var elem = document.getElementsByName('redirectBackUrl');\r\n            if (elem && elem[0] && elem[0].value) {\r\n                logoUrl = elem[0].value;\r\n            }\r\n        }\r\n        this.homePageLink = logoUrl;\r\n    }\r\n    HeaderComponent.prototype.getPageConfiguration = function () {\r\n        var _this = this;\r\n        var params = {}, url = 'productdesigner/index/getPageConfiguration', cacheKey = 'getPageConfiguration' + this.mainService.baseUrl;\r\n        this.mainService.getData(url, params, cacheKey).then(function (pageData) {\r\n            _this.logoSrc = pageData.logo_src;\r\n            _this.logoAlt = pageData.logo_alt;\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    HeaderComponent.prototype.redirectHomePage = function (homePageLink) {\r\n        if (window.location != window.parent.location) {\r\n            window.top.location.href = homePageLink;\r\n        }\r\n        else {\r\n            window.location.href = homePageLink;\r\n        }\r\n    };\r\n    HeaderComponent.prototype.ngOnInit = function () {\r\n        this.getPageConfiguration();\r\n    };\r\n    HeaderComponent.prototype.openLoginModal = function () {\r\n        this.eventService.$pub('openLoginModal');\r\n    };\r\n    HeaderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: 'header',\r\n            template: __webpack_require__(/*! ./header.component.html */ \"./src/app/essentials/components/header/header.component.html\"),\r\n            styles: [__webpack_require__(/*! ./header.component.scss */ \"./src/app/essentials/components/header/header.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"]])\r\n    ], HeaderComponent);\r\n    return HeaderComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/image-sides/image-sides.component.html\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/image-sides/image-sides.component.html ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byi-image-sides\\\"  *ngIf=\\\"mainService.loadedProductData && mainService.loadedProductData.isImageThumnailEnable  && canvasService.allImages.length > 1\\\">\\n\\t<div image-slider [canvasImages]=\\\"canvasService.allImages\\\" [activeSlide]=\\\"activeImageId\\\" (changeSlider)=\\\"changeImageSider($event)\\\"></div>\\n</div>\\n<div class=\\\"total-sides\\\"  *ngIf=\\\"mainService.loadedProductData && !mainService.loadedProductData.isImageThumnailEnable && canvasService.allImages.length > 1\\\">\\n\\t<div class=\\\"total-sides-mob\\\">\\n\\t\\t<button container=\\\"body\\\" class=\\\"byi-side-btn byi-prev-side\\\" *ngIf=\\\"enablePrev\\\" (click)=\\\"changeNextPrevSide('prev')\\\" tooltip=\\\"{{'Previous Side' | translate}}\\\">\\n\\t\\t\\t<span>\\n\\t\\t\\t\\t<svg class=\\\"icon icon-side-prev\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-side-prev\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</span>\\n\\t\\t</button>\\n\\t\\t<ul>\\n\\t\\t\\t<li *ngFor=\\\"let image of canvasService.allImages;let i=index;\\\" [ngClass]=\\\"{active: activeImageId == image.image_id}\\\" id=\\\"side_{{i+1}}\\\"\\n\\t\\t\\t(click)=\\\"changeImageSide(image.image_id,i)\\\"><span></span></li>\\n\\t\\t</ul>\\n\\t\\t<button container=\\\"body\\\" class=\\\"byi-side-btn byi-next-side\\\" *ngIf=\\\"enableNext\\\" (click)=\\\"changeNextPrevSide('next')\\\" tooltip=\\\"{{'Next Side' | translate}}\\\">\\n\\t\\t\\t<span>\\n\\t\\t\\t\\t<svg class=\\\"icon icon-side-next\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-side-next\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</span>\\n\\t\\t</button>\\n\\t</div>\\n</div>\\n\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/image-sides/image-sides.component.scss\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/image-sides/image-sides.component.scss ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9pbWFnZS1zaWRlcy9pbWFnZS1zaWRlcy5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/image-sides/image-sides.component.ts\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/image-sides/image-sides.component.ts ***!\r\n  \\****************************************************************************/\r\n/*! exports provided: ImageSidesComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageSidesComponent\", function() { return ImageSidesComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\nvar ImageSidesComponent = /** @class */ (function () {\r\n    function ImageSidesComponent(eventService, canvasService, mainService) {\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.mainService = mainService;\r\n        this.enableNext = true;\r\n        this.pointerCount = 1;\r\n    }\r\n    ImageSidesComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('changeImageSide', function (data) {\r\n            if (data && data.hasOwnProperty('canvas')) {\r\n                var index = data.hasOwnProperty('index') ? data.hasOwnProperty('index') : null;\r\n                _this.changeImageSide(data.canvas['image_id'], index, data.canvas['designarea_id']);\r\n            }\r\n        });\r\n        this.eventService.$sub('changeSide', function (changeSideObj) {\r\n            _this.changeImageSide(changeSideObj.image_id, changeSideObj.index);\r\n        });\r\n    };\r\n    ImageSidesComponent.prototype.ngAfterViewInit = function () {\r\n        this.imagesLength = (this.canvasService.allImages.length > 5) ? 5 : this.canvasService.allImages.length;\r\n    };\r\n    ImageSidesComponent.prototype.changeImageSider = function (event) {\r\n        this.changeImageSide(event.image_id, event.slide);\r\n    };\r\n    /**\r\n     * [changeImageSide Change image side]\r\n     * @param  image_id [image id of desired side]\r\n     */\r\n    ImageSidesComponent.prototype.changeImageSide = function (image_id, index, designAreaId) {\r\n        if (designAreaId === void 0) { designAreaId = null; }\r\n        if (index != null) {\r\n            this.indexOfActiveImage = index;\r\n            this.updateNextPrev();\r\n        }\r\n        var eventData = (designAreaId == null) ? image_id : { image_id: image_id, design_area_id: designAreaId };\r\n        this.eventService.$pub('imageSideChangeBefore', eventData);\r\n    };\r\n    ImageSidesComponent.prototype.changeNextPrevSide = function (type) {\r\n        var self = this;\r\n        this.indexOfActiveImage = this.canvasService.allImages.indexOf(this.canvasService.allImages.find(function (obj) { return (obj.image_id == self.activeImageId); }));\r\n        var index;\r\n        if (type == 'prev') {\r\n            index = this.indexOfActiveImage - this.pointerCount;\r\n        }\r\n        else if (type == 'next') {\r\n            index = this.indexOfActiveImage + this.pointerCount;\r\n        }\r\n        var updatedImageId = this.canvasService.allImages.find(function (x, i) {\r\n            return i == index;\r\n        }).image_id;\r\n        if (updatedImageId) {\r\n            this.changeImageSide(updatedImageId, index);\r\n        }\r\n    };\r\n    ImageSidesComponent.prototype.updateNextPrev = function () {\r\n        var self = this;\r\n        if (!this.canvasService.allImages.length)\r\n            return;\r\n        var prevImage = this.canvasService.allImages.find(function (x, i) {\r\n            return i == self.indexOfActiveImage - self.pointerCount;\r\n        });\r\n        var nextImage = this.canvasService.allImages.find(function (x, i) {\r\n            return i == self.indexOfActiveImage + self.pointerCount;\r\n        });\r\n        if (prevImage) {\r\n            this.enablePrev = 1;\r\n        }\r\n        else {\r\n            this.enablePrev = 0;\r\n        }\r\n        if (nextImage) {\r\n            this.enableNext = 1;\r\n        }\r\n        else {\r\n            this.enableNext = 0;\r\n        }\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ImageSidesComponent.prototype, \"activeImageId\", void 0);\r\n    ImageSidesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: 'image-sides',\r\n            template: __webpack_require__(/*! ./image-sides.component.html */ \"./src/app/essentials/components/image-sides/image-sides.component.html\"),\r\n            styles: [__webpack_require__(/*! ./image-sides.component.scss */ \"./src/app/essentials/components/image-sides/image-sides.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"]])\r\n    ], ImageSidesComponent);\r\n    return ImageSidesComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/image-upload/image-upload.component.html\":\r\n/*!********************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/image-upload/image-upload.component.html ***!\r\n  \\********************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div loader #subtabLoader></div>\\n\\n\\n<div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent\\\">\\n\\t<div class=\\\"byi-top-filters\\\" *ngIf=\\\"uploadFile && uploadFile.length > 0\\\">\\n\\t\\t<ng-container *ngIf=\\\"mainService.isResponsive\\\">\\n\\t\\t\\t<div class=\\\"byi-fullview-toggle\\\">\\n\\t\\t\\t\\t<button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts)\\\">\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t</ng-container>\\n\\t</div>\\n\\t<div class=\\\"byi-img-upload-wrap\\\">\\n\\t\\t<div id=\\\"upload_agreement_box\\\" [ngClass]=\\\"confimationclass ? 'focused' : ''\\\" class=\\\"upload-agreement-box\\\"\\n\\t\\t\\t*ngIf=\\\"confirmImageUpload\\\" [hidden]=\\\"showAllFonts\\\" (change)=\\\"changeconfimationvalue()\\\">\\n\\t\\t\\t<label class=\\\"byi-checkbox\\\">\\n\\t\\t\\t\\t<input id=\\\"upload_agreement\\\" type=\\\"checkbox\\\"> {{confirmImageText}}\\n\\t\\t\\t\\t<span></span>\\n\\t\\t\\t</label>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-img-upload\\\" [class.byi-img-upload-mob]=\\\"mainService.isResponsive\\\">\\n\\t\\t\\t<div class=\\\"byi-uploader\\\">\\n\\t\\t\\t\\t<div class=\\\"byi-file-upload\\\" *ngIf=\\\"!mainService.isResponsive\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"upload-icon\\\">\\n\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-upload\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-upload\\\"></use>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>{{'Choose a file or drag it here.' | translate}}</span>\\n\\t\\t\\t\\t\\t<ng-container [ngTemplateOutlet]=\\\"uploader\\\"></ng-container>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<ng-container *ngIf=\\\"mainService.isResponsive && !showAllFonts\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"upload-icon\\\">\\n\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-upload-mob\\\" viewBox=\\\"0 0 40 40\\\">\\n\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-upload-mob\\\"></use>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<ng-container [ngTemplateOutlet]=\\\"uploader\\\"></ng-container>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-social-media-import\\\" social-media-import [hidden]=\\\"showAllFonts\\\"></div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-social-media-listing\\\" social-media-listing></div>\\n\\t\\t<div class=\\\"byi-upload-list\\\" *ngIf=\\\"uploadFile && uploadFile.length > 0\\\">\\n\\t\\t\\t<ul>\\n\\t\\t\\t\\t<li *ngFor=\\\"let imgData of uploadFile; let i = index\\\">\\n\\t\\t\\t\\t\\t<span>\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" (click)=\\\"deleteImg(imgData.url, imgData.id,i)\\\" class=\\\"byi-icon-delete\\\">\\n\\t\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 38\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n\\t\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t<img draggable=\\\"true\\\" [src]=\\\"imgData.url\\\" [attr.url]=\\\"imgData.medium_url\\\" class=\\\"byidraggable\\\" [attr.tab]=\\\"'upload'\\\" [attr.drop]=\\\"imgData.drop\\\"  (click)=\\\"addImageToCanvas(imgData.medium_url,{})\\\"\\n\\t\\t\\t\\t\\t\\t\\t(error)=\\\"getDefaultImage(imgData)\\\" alt=\\\"\\\">\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"loadmore-action\\\" *ngIf=\\\"mainService.isResponsive && isEnableloadmore\\\">\\n\\t\\t\\t<input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreDesigns()\\\">\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-list-loader\\\" loader #loaderComponent></div>\\n\\t\\t<div class=\\\"loadmore-action\\\" *ngIf=\\\"!mainService.isResponsive && isEnableloadmore\\\">\\n\\t\\t\\t<input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreImages()\\\">\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-info-note\\\" *ngIf=\\\"showInstruction && !showAllFonts\\\">\\n\\t\\t\\t<p>{{instructionText}}</p>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-customer-login\\\" *ngIf=\\\"!mainService.userLoggedIn && mainService.isAdmin == false\\\"\\n\\t\\t\\t[hidden]=\\\"showAllFonts\\\">\\n\\t\\t\\t<button (click)=\\\"login()\\\" class=\\\"byi-btn byi-btn-xs\\\"\\n\\t\\t\\t\\ttype=\\\"button\\\">{{'Get your saved images' | translate}}</button>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-apply-all\\\" apply-images [files]=\\\"uploadFile\\\" [byitab]=\\\"'upload'\\\"></div>\\n\\t</div>\\n</div>\\n<ng-template #uploader>\\n\\t<form enctype=\\\"multipart/form-data\\\">\\n\\t\\t<input #myInput type=\\\"file\\\" accept=\\\"image/*\\\" (click)=\\\"checkConfirmation()\\\" (change)=\\\"drop($event,false)\\\" multiple>\\n\\t</form>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/image-upload/image-upload.component.scss\":\r\n/*!********************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/image-upload/image-upload.component.scss ***!\r\n  \\********************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9pbWFnZS11cGxvYWQvaW1hZ2UtdXBsb2FkLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/image-upload/image-upload.component.ts\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/image-upload/image-upload.component.ts ***!\r\n  \\******************************************************************************/\r\n/*! exports provided: ImageUploadComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageUploadComponent\", function() { return ImageUploadComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common/http */ \"./node_modules/@angular/common/fesm5/http.js\");\r\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_10__);\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ImageUploadComponent = /** @class */ (function () {\r\n    function ImageUploadComponent(http, mainService, canvasService, cacheService, pubsub, addImageService, translate, tabsService, cdr) {\r\n        this.http = http;\r\n        this.mainService = mainService;\r\n        this.canvasService = canvasService;\r\n        this.cacheService = cacheService;\r\n        this.pubsub = pubsub;\r\n        this.addImageService = addImageService;\r\n        this.translate = translate;\r\n        this.tabsService = tabsService;\r\n        this.cdr = cdr;\r\n        this.currentTab = 3;\r\n        this.accordianId = 0;\r\n        this.uploadFile = [];\r\n        this.uploadedImages = 0;\r\n        this.imagUrls = [];\r\n        this.imageData = {};\r\n        this.checkConfimation = 0;\r\n        this.totalpages = 0;\r\n        this.page = 1;\r\n        this.isEnableloadmore = false;\r\n        this.imageLimit = 12;\r\n        this.showAllFonts = false;\r\n        this.ImageDataCacheKey = 'ImageData - ' + this.mainService.baseUrl;\r\n    }\r\n    ImageUploadComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.pubsub.$sub('displayUploadImageLimitError', function () {\r\n            _this.displayUploadImageLimitError();\r\n        });\r\n        this.pubsub.$sub('getSubTabs', function (mainTabId) {\r\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\r\n                _this.getSubTabs(mainTabId);\r\n            }\r\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\r\n        });\r\n        if (this.loadContent && this.mainService.userLoggedIn) {\r\n            this.getUserImages();\r\n        }\r\n        if (!this.pubsub.events.customerLoggedIn) {\r\n            this.pubsub.$sub('customerLoggedIn', function () {\r\n                _this.cdr.detectChanges();\r\n                _this.getUserImages();\r\n            });\r\n        }\r\n        this.pubsub.$sub('objectSelectionUpdated', function (obj) {\r\n            if (obj.tab == 'upload') {\r\n                if (_this.mainService.isResponsive) {\r\n                    var self_1 = _this;\r\n                    _this.pubsub.$pub('getActiveTabId', _this.currentTab);\r\n                    setTimeout(function () {\r\n                        var currentSelectedObj = self_1.canvasService.getActiveObjectFromAllCanvases();\r\n                        if (currentSelectedObj && currentSelectedObj.tab == obj.tab) {\r\n                            self_1.tabsService.showChildTabs('image-upload');\r\n                        }\r\n                    }, 100);\r\n                }\r\n                else {\r\n                    _this.pubsub.$pub('getActiveTabId', _this.currentTab);\r\n                }\r\n            }\r\n        });\r\n        this.pubsub.$sub('objectSelectionCreated', function (obj) {\r\n            var showSubChilds = false, childTabs;\r\n            if (obj.type == 'activeSelection') {\r\n                var anyUploadImgObj = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.tab == 'upload'; }));\r\n                if (anyUploadImgObj != -1) {\r\n                    showSubChilds = true;\r\n                    var findNonImgObj = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.objType != 'image'; })) >= 0) ? true : false, findNonSvg = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.isSvg != true; })) >= 0) ? true : false, findNonPng = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.isSvg == true; })) >= 0) ? true : false;\r\n                    if (!findNonImgObj && (findNonSvg && !findNonPng) || (findNonPng && !findNonSvg)) {\r\n                        childTabs = 'image-upload';\r\n                    }\r\n                    else {\r\n                        childTabs = 'common';\r\n                    }\r\n                }\r\n            }\r\n            else if (obj.tab == 'upload') {\r\n                showSubChilds = true;\r\n                childTabs = 'image-upload';\r\n            }\r\n            if (_this.mainService.isResponsive && showSubChilds == true) {\r\n                var self_2 = _this;\r\n                setTimeout(function () {\r\n                    var currentSelectedObj = self_2.canvasService.getActiveObjectFromAllCanvases();\r\n                    if (currentSelectedObj && currentSelectedObj.tab == obj.tab) {\r\n                        self_2.tabsService.showChildTabs('image-upload');\r\n                    }\r\n                }, 100);\r\n                _this.pubsub.$pub('getActiveTabId', _this.currentTab);\r\n            }\r\n        });\r\n        this.pubsub.$sub('objectRemoved', function (obj) {\r\n            if (obj.tab == 'upload') {\r\n                _this.pubsub.$pub('getActiveTabId', _this.currentTab);\r\n            }\r\n        });\r\n        this.pubsub.$sub('objectAdded', function (obj) {\r\n            if (obj.tab == 'upload') {\r\n                _this.showFonts(true);\r\n            }\r\n        });\r\n        if (!this.pubsub.events.addUploadImage) {\r\n            this.pubsub.$sub('addUploadImage', function (data) {\r\n                _this.addImageToCanvas(data.img, data);\r\n            });\r\n        }\r\n        this.pubsub.$sub('UploadDropImage', function (event) {\r\n            _this.checkConfirmation();\r\n            _this.drop(event, true);\r\n        });\r\n    };\r\n    ImageUploadComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.subscribeEvents();\r\n        if (this.mainService.imageConfigRequest == true) {\r\n            this.mainService.imageConfigRequest = false;\r\n            var params = { 'product_id': this.mainService.productId }, url = 'productdesigner/ImageUpload/getImageConfiguration', cacheKey = this.ImageDataCacheKey;\r\n            this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n                _this.mainService.imageConfigRequest = true;\r\n                _this.setUploadData(data);\r\n                _this.cacheService.set(_this.ImageDataCacheKey, data, { maxAge: 15 * 60 });\r\n            }).catch(function (err) { return console.log(err); });\r\n        }\r\n        this.pubsub.$sub('closeFullView', function (showAllFonts) {\r\n            _this.showAllFonts = showAllFonts;\r\n            _this.showFonts(showAllFonts);\r\n        });\r\n    };\r\n    ImageUploadComponent.prototype.ngAfterViewInit = function () {\r\n        this.cdr.detectChanges();\r\n    };\r\n    ImageUploadComponent.prototype.getUserImages = function () {\r\n        var _this = this;\r\n        var url = 'productdesigner/Customer/getCustomerImages', params = { 'page': this.page, 'limit': this.imageLimit };\r\n        var cacheKey = null;\r\n        this.mainService.getData(url, params, cacheKey).then(function (customerImages) {\r\n            _this.userImages = customerImages.images;\r\n            _this.isEnableloadmore = (customerImages.loadMore == 0) ? false : true;\r\n            if (_this.mainService.userLoggedIn && _this.userImages) {\r\n                for (var i = 0; i < _this.userImages.length; i++) {\r\n                    _this.imageData = {};\r\n                    _this.imageData.url = _this.userImages[i].url;\r\n                    _this.imageData.medium_url = _this.userImages[i].medium_url;\r\n                    _this.imageData.id = _this.userImages[i].id;\r\n                    _this.uploadFile.push(_this.imageData);\r\n                }\r\n                _this.pubsub.$pub('fileUploaded');\r\n            }\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    ImageUploadComponent.prototype.loadMoreDesigns = function () {\r\n        this.page = this.page + 1;\r\n        this.getUserImages();\r\n    };\r\n    ImageUploadComponent.prototype.getSubTabs = function (mainTabId) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var data;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                data = this.mainService.tabsFlow[mainTabId];\r\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\r\n                if (this.subTabsData && this.subTabsData.length > 0) {\r\n                    this.accordianId = this.subTabsData[0].id;\r\n                }\r\n                if (this.subtabLoader && this.subtabLoader.showSubLoader)\r\n                    this.subtabLoader.showSubLoader = false;\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    ImageUploadComponent.prototype.loadMoreImages = function () {\r\n        this.page++;\r\n        this.getUserImages();\r\n        if (this.page == this.totalpages)\r\n            this.isEnableloadmore = false;\r\n    };\r\n    ImageUploadComponent.prototype.setUploadData = function (data) {\r\n        this.showInstruction = data.showInstruction;\r\n        this.instructionText = data.instructionText;\r\n        this.uploadLimitEnable = data.uploadLimitEnable;\r\n        this.canvasService.objectLimit = Object.assign(this.canvasService.objectLimit, { uploadImageLimit: parseInt(data.uploadImageLimit) });\r\n        this.limitAlert = data.limitAlert;\r\n        this.minImageSize = data.minImageSize;\r\n        this.maxImageSize = data.maxImageSize;\r\n        this.confirmImageUpload = parseInt(data.confirmImageUpload);\r\n        this.confirmImageText = data.confirmImageText;\r\n    };\r\n    ImageUploadComponent.prototype.changeconfimationvalue = function () {\r\n        if (this.checkConfimation == 0) {\r\n            this.checkConfimation = 1;\r\n            this.confimationclass = \"\";\r\n        }\r\n        else {\r\n            this.checkConfimation = 0;\r\n        }\r\n    };\r\n    ImageUploadComponent.prototype.checkConfirmation = function () {\r\n        if (this.confirmImageUpload == 1) {\r\n            if (this.checkConfimation == 0) {\r\n                var input = document.getElementById(\"upload_agreement\");\r\n                if (input) {\r\n                    input.focus();\r\n                }\r\n                this.confimationclass = \"focused\";\r\n                if (this.myInputVariable) {\r\n                    this.myInputVariable.nativeElement.value = \"\";\r\n                }\r\n                return false;\r\n            }\r\n            else {\r\n                this.confimationclass = \"\";\r\n                return true;\r\n            }\r\n        }\r\n        else if (this.confirmImageUpload == 0) {\r\n            this.confimationclass = \"\";\r\n            return true;\r\n        }\r\n        this.confimationclass = \"focused\";\r\n        return false;\r\n    };\r\n    ImageUploadComponent.prototype.login = function () {\r\n        this.pubsub.$pub('openLoginModal', false);\r\n    };\r\n    ImageUploadComponent.prototype.drop = function (event, drop) {\r\n        var _this = this;\r\n        var file_data;\r\n        if (!drop) {\r\n            file_data = event.target.files;\r\n        }\r\n        else {\r\n            file_data = event.dataTransfer.files;\r\n        }\r\n        var img_form_data = new FormData();\r\n        var supportedExt = [\"jpg\", \"jpeg\", \"svg\", \"png\", \"JPG\", \"JPEG\", \"SVG\", \"PNG\"];\r\n        var counter = 0, totalFiles = file_data.length;\r\n        if (!this.checkConfirmation()) {\r\n            return false;\r\n        }\r\n        else {\r\n            for (var j = 0; j < totalFiles; j++) {\r\n                var imageExt = file_data[j].name.split('.').pop();\r\n                var size = file_data[j].size;\r\n                if (supportedExt.indexOf(imageExt) == -1) {\r\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\r\n                        title: this.translate.instant('Error'),\r\n                        text: this.translate.instant('Please upload valid file.'),\r\n                        type: \"warning\",\r\n                        confirmButtonText: this.translate.instant('OK'),\r\n                        allowOutsideClick: false\r\n                    });\r\n                    counter++;\r\n                }\r\n                else if (this.maxImageSize != \"\" && size > parseInt(this.maxImageSize) * 1024 * 1024 && this.maxImageSize != 0) {\r\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\r\n                        title: this.translate.instant('Error'),\r\n                        text: this.translate.instant(\"Please upload  maximum \") + parseInt(this.maxImageSize) + this.translate.instant(\" MB size !\"),\r\n                        type: \"warning\",\r\n                        confirmButtonText: this.translate.instant('OK'),\r\n                        allowOutsideClick: false\r\n                    });\r\n                    counter++;\r\n                }\r\n                else if (this.minImageSize != \"\" && size < parseInt(this.minImageSize) * 1024 * 1024 && this.minImageSize != 0) {\r\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\r\n                        title: this.translate.instant('Error'),\r\n                        text: this.translate.instant('File is too small'),\r\n                        type: \"warning\",\r\n                        confirmButtonText: this.translate.instant('OK'),\r\n                        allowOutsideClick: false\r\n                    });\r\n                    counter++;\r\n                }\r\n                else {\r\n                    if (this.loaderComponent) {\r\n                        this.loaderComponent.showSubLoader = true;\r\n                    }\r\n                    img_form_data.append(\"file\", file_data[j]);\r\n                    img_form_data.append(\"product_id\", this.mainService.productId);\r\n                    // set headers\r\n                    var HttpUploadOptions = new _angular_common_http__WEBPACK_IMPORTED_MODULE_6__[\"HttpHeaders\"]();\r\n                    HttpUploadOptions = HttpUploadOptions.append(\"Accept\", \"application/json\");\r\n                    HttpUploadOptions = HttpUploadOptions.append(\"X-Requested-With\", \"XMLHttpRequest\");\r\n                    // send request\r\n                    this.mainService.post('productdesigner/Index/upload', img_form_data, false, HttpUploadOptions)\r\n                        .then(function (data) {\r\n                        counter++;\r\n                        if (data && data.status == true) {\r\n                            if (drop) {\r\n                                data.drop = true;\r\n                            }\r\n                            _this.uploadFile.push(data);\r\n                            _this.pubsub.$pub('fileUploaded');\r\n                        }\r\n                        else {\r\n                            _this.mainService.swal('Error', (data && data.msg) ? data.msg : 'Something went wrong', 'error');\r\n                        }\r\n                    }).catch(function (err) {\r\n                        var errMessage = (err && err.error && err.error.message) ? err.error.message : \"Something went wrong\";\r\n                        sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\r\n                            title: _this.translate.instant('Error'),\r\n                            text: errMessage,\r\n                            type: \"warning\",\r\n                            confirmButtonText: _this.translate.instant('OK'),\r\n                        });\r\n                        console.log(err);\r\n                        counter++;\r\n                    }).finally(function () {\r\n                        if (counter >= totalFiles) {\r\n                            if (_this.loaderComponent) {\r\n                                _this.loaderComponent.showSubLoader = false;\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        if (this.myInputVariable) {\r\n            this.myInputVariable.nativeElement.value = \"\";\r\n        }\r\n    };\r\n    ImageUploadComponent.prototype.deleteImg = function (url, id, index) {\r\n        var _this = this;\r\n        sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\r\n            title: this.translate.instant('Alert'),\r\n            text: this.translate.instant(\"Are you sure you want to delete this image !\"),\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: this.translate.instant('Yes'),\r\n            cancelButtonText: this.translate.instant('No'),\r\n            allowOutsideClick: false\r\n        }).then(function (result) {\r\n            if (result.value) {\r\n                _this.uploadFile.splice(index, 1);\r\n                var params = { 'action': 'delete', 'url': url, 'id': id };\r\n                // set headers\r\n                var HttpUploadOptions = new _angular_common_http__WEBPACK_IMPORTED_MODULE_6__[\"HttpHeaders\"]();\r\n                HttpUploadOptions = HttpUploadOptions.append(\"Accept\", \"application/json\");\r\n                HttpUploadOptions = HttpUploadOptions.append(\"X-Requested-With\", \"XMLHttpRequest\");\r\n                return _this.mainService.post('productdesigner/Index/upload', params, false, HttpUploadOptions)\r\n                    .then(function (res) { return res; });\r\n            }\r\n        });\r\n    };\r\n    ImageUploadComponent.prototype.getImgdata = function (img_form_data, HttpUploadOptions) {\r\n        return this.mainService.post(this.mainService.baseUrl + 'productdesigner/Index/upload', img_form_data, false, HttpUploadOptions);\r\n    };\r\n    ImageUploadComponent.prototype.addImageToCanvas = function (img, data) {\r\n        var getTotalClipart = this.canvasService.getObjectTypeFromAllCanvas('tab', 'upload');\r\n        if ((this.uploadLimitEnable == 1) && parseInt(getTotalClipart) >= parseInt(this.canvasService.objectLimit.uploadImageLimit)) {\r\n            this.displayUploadImageLimitError();\r\n        }\r\n        else {\r\n            var properties = { tab: 'upload' };\r\n            if (data.canvas) {\r\n                properties.canvas = data.canvas;\r\n            }\r\n            this.addImageService.addImage(img, properties);\r\n        }\r\n    };\r\n    ImageUploadComponent.prototype.displayUploadImageLimitError = function () {\r\n        sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\r\n            title: this.translate.instant('Error'),\r\n            text: this.translate.instant(this.limitAlert),\r\n            type: \"warning\",\r\n            confirmButtonText: this.translate.instant('OK'),\r\n        });\r\n    };\r\n    ImageUploadComponent.prototype.getDefaultImage = function (obj) {\r\n        var found = this.uploadFile.find(function (uploadFileObj) { return uploadFileObj.uniqueId == obj.uniqueId; });\r\n        found.url = this.mainService.defaultPlaceholderImage;\r\n        this.uploadFile[this.uploadFile.indexOf(found)] = found;\r\n    };\r\n    ImageUploadComponent.prototype.showFonts = function (showAllFonts) {\r\n        this.showAllFonts = !showAllFonts;\r\n        this.pubsub.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Show all images' });\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ImageUploadComponent.prototype, \"loadContent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('myInput'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\r\n    ], ImageUploadComponent.prototype, \"myInputVariable\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\r\n    ], ImageUploadComponent.prototype, \"loaderComponent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"subtabLoader\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\r\n    ], ImageUploadComponent.prototype, \"subtabLoader\", void 0);\r\n    ImageUploadComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: '[image-upload]',\r\n            template: __webpack_require__(/*! ./image-upload.component.html */ \"./src/app/essentials/components/image-upload/image-upload.component.html\"),\r\n            styles: [__webpack_require__(/*! ./image-upload.component.scss */ \"./src/app/essentials/components/image-upload/image-upload.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_angular_common_http__WEBPACK_IMPORTED_MODULE_6__[\"HttpClient\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_8__[\"CanvasService\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_4__[\"CacheService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\r\n            src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_7__[\"AddImageService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__[\"TranslateService\"],\r\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_9__[\"TabsService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"]])\r\n    ], ImageUploadComponent);\r\n    return ImageUploadComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/layer-management/layer-management.component.html\":\r\n/*!****************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/layer-management/layer-management.component.html ***!\r\n  \\****************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div *ngIf=\\\"isEnableLayer\\\" class=\\\"byi-layer\\\" id=\\\"layers_manager\\\">\\n  <button class=\\\"byi-btn-layer\\\" (click)=\\\"showLayers()\\\" tooltip=\\\"{{'Layer' | translate}}\\\" [placement]=\\\"left\\\">\\n    <svg class=\\\"icon icon-layer\\\" viewBox=\\\"0 0 50 50\\\">\\n      <use xlink:href=\\\"assets/img/sprite.svg#icon-layer\\\"></use>\\n    </svg>\\n  </button>\\n  <div id=\\\"layers_ul\\\" class=\\\"byi-layer-box\\\" [ngClass]=\\\"showLayer ? 'open' : ''\\\">\\n    <div class=\\\"byilb-head\\\">\\n      <label class=\\\"\\\">{{'Layer' | translate}}</label>\\n      <label class=\\\"byilb-l-view\\\">{{'View' | translate}}</label>\\n      <label class=\\\"byilb-l-back\\\">{{'Back' | translate}}</label>\\n      <label class=\\\"byilb-l-front\\\">{{'Front' | translate}}</label>\\n      <label class=\\\"byilb-l-lock\\\">{{'Lock' | translate}}</label>\\n      <label class=\\\"byilb-l-delete\\\">{{'Delete' | translate}}</label>\\n    </div>\\n    <ul [class.byi-layer-noscroll]=\\\"layerArray.length == 1\\\">\\n      <li *ngFor=\\\"let object of layerArray; let first = first\\\"\\n        [ngClass]=\\\"((object.id == currentObjId) ? ((object.ultimatelock == true) ? 'active disabled' : 'active') : ((object.ultimatelock == true) ? 'disabled' : '') )\\\">\\n        <label class=\\\"layer outsideclick\\\" id=\\\"layer\\\" (click)=\\\"selectThisObject(object)\\\"\\n          tooltip=\\\"{{'Select Object' | translate}}\\\" placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\">\\n          <img *ngIf=\\\"object.type != 'text'\\\" [src]=\\\"object.src\\\" width=\\\"30\\\" id=\\\"layer\\\" class=\\\"layer\\\">\\n          <svg *ngIf=\\\"object.type == 'text'\\\" viewBox=\\\"0 0 50 50\\\" class=\\\"icon icon-textComponent outsideclick\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-textComponent\\\"></use>\\n          </svg>\\n        </label>\\n        <label class=\\\"byilb-l-view outsideclick\\\" [ngClass]=\\\"object.opacity == 0 ? 'active' : ''\\\"\\n          (click)=\\\"hideShow(object)\\\" tooltip=\\\"{{object.opacity == 0 ? 'Show Object' : 'Hide Object' | translate}}\\\"\\n          placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\">\\n          <svg class=\\\"icon icon-view-alt outsideclick\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-view-alt\\\"></use>\\n          </svg>\\n        </label>\\n        <label class=\\\"byilb-l-back outsideclick\\\" id=\\\"back\\\" (click)=\\\"canvasService.ObjectLayer('backward',object)\\\"\\n          tooltip=\\\"{{'Send Backward' | translate}}\\\" placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\"\\n          [ngClass]=\\\"{'disabled': object.disableSendToBack}\\\">\\n          <svg class=\\\"icon icon-layer-down outsideclick\\\" id=\\\"front\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-bottom\\\" id=\\\"front\\\"></use>\\n          </svg>\\n        </label>\\n        <label class=\\\"byilb-l-front outsideclick\\\" id=\\\"front\\\" (click)=\\\"canvasService.ObjectLayer('forward',object)\\\"\\n          tooltip=\\\"{{'Bring Forward' | translate}}\\\" placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\"\\n          [ngClass]=\\\"{'disabled': object.disableBringToFront}\\\">\\n          <svg class=\\\"icon icon-layer-top outsideclick\\\" id=\\\"back\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-top\\\" id=\\\"back\\\"></use>\\n          </svg>\\n        </label>\\n        <label class=\\\"byilb-l-lock outsideclick\\\" [ngClass]=\\\"(object.selectable == false) ? 'active' : ''\\\" id=\\\"lock\\\"\\n          (click)=\\\"lockObject(object)\\\" placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\"\\n          tooltip=\\\"{{(object.selectable == false) ? 'Unlock Object' : 'Lock Object' | translate}}\\\">\\n          <svg class=\\\"icon icon-t-lock outsideclick\\\" id=\\\"lock\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-t-lock\\\" id=\\\"lock\\\"></use>\\n          </svg>\\n        </label>\\n        <label class=\\\"byilb-l-delete outsideclick\\\" id=\\\"delete\\\" (click)=\\\"deleteObj(object)\\\"\\n          tooltip=\\\"{{'Delete Object' | translate}}\\\" placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\">\\n          <svg class=\\\"icon icon-t-delete outsideclick\\\" id=\\\"delete\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\" id=\\\"delete\\\"></use>\\n          </svg>\\n        </label>\\n      </li>\\n    </ul>\\n  </div>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/layer-management/layer-management.component.scss\":\r\n/*!****************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/layer-management/layer-management.component.scss ***!\r\n  \\****************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9sYXllci1tYW5hZ2VtZW50L2xheWVyLW1hbmFnZW1lbnQuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/layer-management/layer-management.component.ts\":\r\n/*!**************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/layer-management/layer-management.component.ts ***!\r\n  \\**************************************************************************************/\r\n/*! exports provided: LayerManagementComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LayerManagementComponent\", function() { return LayerManagementComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var _right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../right-panel/right-panel.service */ \"./src/app/essentials/components/right-panel/right-panel.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\nvar LayerManagementComponent = /** @class */ (function () {\r\n    function LayerManagementComponent(canvasService, eventService, rightPanelService) {\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.rightPanelService = rightPanelService;\r\n        this.isEnableLayer = false;\r\n        this.layerArray = [];\r\n        this.objCounter = 0;\r\n        this.showLayer = false;\r\n        this.hideShowClass = false;\r\n        this.isImageSideChange = false;\r\n        this.uniqueObj = [];\r\n    }\r\n    LayerManagementComponent.prototype.ngOnInit = function () {\r\n        this.subscribeEvents();\r\n    };\r\n    LayerManagementComponent.prototype.initData = function () {\r\n        this.rightPanelService.enableForMultipleObject();\r\n        this.checkForLayers();\r\n    };\r\n    LayerManagementComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('objectAdded', function (object) {\r\n            _this.initData();\r\n            _this.updateLayers();\r\n        });\r\n        this.eventService.$sub('objectSelectionCreated', function (object) {\r\n            _this.initData();\r\n            _this.currentObjId = object.id;\r\n        });\r\n        this.eventService.$sub('objectUpdated', function () {\r\n            _this.initData();\r\n        });\r\n        this.eventService.$sub('canvasObjectModified', function () {\r\n            _this.initData();\r\n        });\r\n        this.eventService.$sub('imageSideChanged', function () {\r\n            _this.initData();\r\n        });\r\n        this.eventService.$sub('allcanvasCreated', function (object) {\r\n            _this.updateLayers();\r\n        });\r\n        this.eventService.$sub('imageSideChangeBefore', function (object) {\r\n            _this.isImageSideChange = true;\r\n            _this.updateLayers();\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (object) {\r\n            _this.currentObjId = object.id;\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this.currentObjId = '';\r\n            _this.showLayer = false;\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (removedObject) {\r\n            _this.updateLayers();\r\n        });\r\n        this.eventService.$sub('closeLayer', function () {\r\n            _this.showLayer = false;\r\n        });\r\n    };\r\n    LayerManagementComponent.prototype.updateLayers = function () {\r\n        var _this = this;\r\n        this.layerArray = [];\r\n        for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var canvas = this.canvasService.containerCanvases[key];\r\n            if (canvas != undefined) {\r\n                var getObjs = this.canvasService.getObjects(canvas);\r\n                if (getObjs.length > 0) {\r\n                    getObjs.filter(function (object) {\r\n                        object = (object.imageSrc) ? Object.assign(object, { src: object.imageSrc }) : object;\r\n                        _this.layerArray.push(object);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        this.isEnableLayer = (this.layerArray.length > 0) ? true : false;\r\n        this.showLayer = (this.isEnableLayer == false) ? false : '';\r\n        this.layerArray = (this.isEnableLayer == false) ? [] : this.layerArray;\r\n        this.checkForLayers();\r\n    };\r\n    LayerManagementComponent.prototype.checkSelectable = function (obj) {\r\n        return (obj.selectable) ? true : false;\r\n    };\r\n    LayerManagementComponent.prototype.hideShow = function (obj) {\r\n        var properties = {};\r\n        if (obj.opacity == 0 || obj.opacity == undefined) {\r\n            this.hideShowClass = false;\r\n            properties = { opacity: 1, hasControls: true, hasBorders: true };\r\n        }\r\n        else {\r\n            this.hideShowClass = true;\r\n            properties = { opacity: 0, hasControls: false, hasBorders: false };\r\n        }\r\n        var params = {\r\n            obj: obj,\r\n            properties: properties,\r\n            crudServiceString: 'this.updateObjectService',\r\n        };\r\n        var allObj = this.canvasService.getObjects();\r\n        var found = allObj.indexOf(allObj.find(function (currObj) { return (currObj == obj); }));\r\n        if (found == -1) {\r\n            params = Object.assign(params, { setActive: false });\r\n        }\r\n        this.canvasService.objectCRUD(params);\r\n    };\r\n    LayerManagementComponent.prototype.lockObject = function (obj) {\r\n        var properties = {};\r\n        if (obj.selectable == false) {\r\n            properties = { selectable: true };\r\n        }\r\n        else {\r\n            properties = { selectable: false };\r\n            this.canvasService.deselectAllObjects();\r\n        }\r\n        if (obj) {\r\n            var params = {\r\n                obj: obj,\r\n                properties: properties,\r\n                crudServiceString: 'this.updateObjectService',\r\n            };\r\n            var allObj = this.canvasService.getObjects();\r\n            var found = allObj.indexOf(allObj.find(function (currObj) { return (currObj == obj); }));\r\n            if (found == -1) {\r\n                params = Object.assign(params, { setActive: false });\r\n            }\r\n            this.canvasService.objectCRUD(params);\r\n        }\r\n    };\r\n    LayerManagementComponent.prototype.showLayers = function () {\r\n        if (this.showLayer == false) {\r\n            this.showLayer = true;\r\n        }\r\n        else {\r\n            this.showLayer = false;\r\n        }\r\n    };\r\n    LayerManagementComponent.prototype.deleteObj = function (object) {\r\n        var self = this;\r\n        var _loop_1 = function (key) {\r\n            var canvas = this_1.canvasService.containerCanvases[key];\r\n            if (canvas != undefined) {\r\n                var objs = this_1.canvasService.getObjects(canvas);\r\n                objs.forEach(function (obj, index) {\r\n                    if (object.id == obj.id) {\r\n                        var params = {\r\n                            obj: object,\r\n                            canvas: canvas,\r\n                            properties: null,\r\n                            crudServiceString: 'this.removeObjectService',\r\n                        };\r\n                        self.canvasService.objectCRUD(params);\r\n                        self.canvasService.currentCanvas.discardActiveObject();\r\n                        self.canvasService.currentCanvas.requestRenderAll();\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            _loop_1(key);\r\n        }\r\n    };\r\n    LayerManagementComponent.prototype.selectThisObject = function (object) {\r\n        // if selected object is not present in current canvas\r\n        // we will find that canvas and update the same\r\n        if (object.selectable == true) {\r\n            if (this.canvasService.getObjects().indexOf(object) == -1) {\r\n                // local vars\r\n                var allCanvas = this.canvasService.containerCanvases, allObj = void 0, found = void 0, canvas = void 0, index = 0;\r\n                // traversal\r\n                for (var key in allCanvas) {\r\n                    allObj = allCanvas[key].getObjects();\r\n                    found = allObj.indexOf(object);\r\n                    if (found >= 0) {\r\n                        canvas = allCanvas[key]; //Object.assign({}, allCanvas[key]);\r\n                        break;\r\n                    }\r\n                    index++;\r\n                }\r\n                // if we found image id and index after traversal finished,\r\n                // proceed to change side\r\n                if (found >= 0) {\r\n                    this.eventService.$pub('changeImageSide', { canvas: canvas, index: index });\r\n                    canvas.setActiveObject(object).renderAll();\r\n                }\r\n                // otherwise select object in current canvas\r\n            }\r\n            else {\r\n                this.canvasService.currentCanvas.setActiveObject(object).renderAll();\r\n            }\r\n        }\r\n    };\r\n    LayerManagementComponent.prototype.checkForLayers = function () {\r\n        var allObj = this.canvasService.getObjects(), index, isCurrentCanvasObj;\r\n        this.layerArray.filter(function (obj) {\r\n            index = allObj.indexOf(obj);\r\n            if (index == -1 || allObj.length == 1) {\r\n                obj.disableSendToBack = true;\r\n                obj.disableBringToFront = true;\r\n            }\r\n            else if (index == 0) {\r\n                obj.disableSendToBack = true;\r\n                if (obj.hasOwnProperty('disableBringToFront'))\r\n                    delete obj.disableBringToFront;\r\n            }\r\n            else if (index == allObj.length - 1) {\r\n                obj.disableBringToFront = true;\r\n                if (obj.hasOwnProperty('disableSendToBack'))\r\n                    delete obj.disableSendToBack;\r\n            }\r\n            else {\r\n                if (obj.hasOwnProperty('disableBringToFront'))\r\n                    delete obj.disableBringToFront;\r\n                if (obj.hasOwnProperty('disableSendToBack'))\r\n                    delete obj.disableSendToBack;\r\n            }\r\n        });\r\n    };\r\n    LayerManagementComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: 'layer-management',\r\n            template: __webpack_require__(/*! ./layer-management.component.html */ \"./src/app/essentials/components/layer-management/layer-management.component.html\"),\r\n            styles: [__webpack_require__(/*! ./layer-management.component.scss */ \"./src/app/essentials/components/layer-management/layer-management.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\r\n            _right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__[\"RightPanelService\"]])\r\n    ], LayerManagementComponent);\r\n    return LayerManagementComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/loader/loader.component.html\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/loader/loader.component.html ***!\r\n  \\********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div *ngIf=\\\"showMainLoader\\\" class=\\\"site-loader-box\\\">\\n  <svg class=\\\"sk-spinner\\\" viewBox=\\\"0 0 50 50\\\">\\n    <circle class=\\\"path\\\" cx=\\\"25\\\" cy=\\\"25\\\" r=\\\"20\\\" fill=\\\"none\\\" stroke-width=\\\"5\\\"></circle>\\n  </svg>\\n</div>\\n<div *ngIf=\\\"showSubLoader\\\" class=\\\"byi-tab-cats-loader text-center\\\">\\n  <div class=\\\"byi-spinner\\\">\\n    <div class=\\\"rect1\\\"></div>\\n    <div class=\\\"rect2\\\"></div>\\n    <div class=\\\"rect3\\\"></div>\\n    <div class=\\\"rect4\\\"></div>\\n    <div class=\\\"rect5\\\"></div>\\n  </div>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/loader/loader.component.scss\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/loader/loader.component.scss ***!\r\n  \\********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9sb2FkZXIvbG9hZGVyLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/loader/loader.component.ts\":\r\n/*!******************************************************************!*\\\r\n  !*** ./src/app/essentials/components/loader/loader.component.ts ***!\r\n  \\******************************************************************/\r\n/*! exports provided: LoaderComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoaderComponent\", function() { return LoaderComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar LoaderComponent = /** @class */ (function () {\r\n    function LoaderComponent() {\r\n        // main loader show hide flag\r\n        this.showMainLoader = false;\r\n        // sub  loader show hide flag\r\n        this.showSubLoader = false;\r\n    }\r\n    LoaderComponent.prototype.ngOnInit = function () {\r\n    };\r\n    LoaderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[loader]',\r\n            template: __webpack_require__(/*! ./loader.component.html */ \"./src/app/essentials/components/loader/loader.component.html\"),\r\n            styles: [__webpack_require__(/*! ./loader.component.scss */ \"./src/app/essentials/components/loader/loader.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], LoaderComponent);\r\n    return LoaderComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/my-designs/my-designs.component.html\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/my-designs/my-designs.component.html ***!\r\n  \\****************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div loader #subtabLoader></div>\\n<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent\\\">\\n\\t<div class=\\\"byi-top-filters\\\" *ngIf=\\\"mainService.userLoggedIn\\\">\\n\\t\\t<ng-container *ngIf=\\\"mainService.isResponsive\\\" [attr.hidden]=\\\"componentHide\\\">\\n\\t\\t\\t<div class=\\\"byi-fullview-toggle\\\">\\n\\t\\t\\t\\t<button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts)\\\">\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t</ng-container>\\n\\t\\t<div class=\\\"byi-search\\\">\\n\\t\\t\\t<input class=\\\"byi-input\\\" name=\\\"searchText\\\" placeholder=\\\"{{'Search by Name' | translate}}\\\" type=\\\"text\\\"\\n\\t\\t\\t\\t[(ngModel)]='searchText' (keyup)=\\\"searchDesigns()\\\">\\n\\t\\t\\t<button class=\\\"byi-search-btn\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"byi-norecord\\\"\\n\\t\\t*ngIf=\\\"mainService.userLoggedIn && !loaderComponent.showSubLoade && !customerDesigns.length && !showPlaceholder\\\">\\n\\t\\t{{'No Designs Found' | translate}}\\n\\t</div>\\n\\n\\t<div class=\\\"byi-customer-login\\\" *ngIf=\\\"!mainService.userLoggedIn\\\">\\n\\t\\t<button (click)=\\\"login()\\\" class=\\\"byi-btn byi-btn-xs\\\"\\n\\t\\t\\ttype=\\\"button\\\">{{'Get your saved designs' | translate}}</button>\\n\\t</div>\\n\\n\\t<div class=\\\"byi-tab-cats byi-mydesign-list\\\">\\n\\t\\t<ul infiniteScroll [horizontal]=\\\"true\\\" [infiniteScrollDistance]=\\\"0\\\" [infiniteScrollThrottle]=\\\"1000\\\"\\n\\t\\t\\t[scrollWindow]=\\\"false\\\" [infiniteScrollDisabled]=\\\"!isEnableloadmore\\\" (scrolled)=\\\"loadMoreDesigns()\\\"\\n\\t\\t\\t#scrollToBottom>\\n\\t\\t\\t<li *ngFor=\\\"let object of customerDesigns; let i = index\\\"\\n\\t\\t\\t\\t[attr.hidden]=\\\"(showPlaceholder && mainService.isResponsive) ? true : null\\\">\\n\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" [class.image-only]=\\\"!object.title\\\">\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" (click)=\\\"deleteDesign(object.id,i)\\\" class=\\\"byi-icon-delete\\\">\\n\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 38\\\">\\n\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<span (click)=\\\"loadDesign(object.id)\\\">\\n\\t\\t\\t\\t\\t\\t<img [src]=\\\"object.path\\\" (error)=\\\"getDefaultImage(object)\\\">\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<label *ngIf=\\\"object.title\\\" (click)=\\\"loadDesign(object.id)\\\">{{object.title}}</label>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li [attr.hidden]=\\\"(!showPlaceholder || !mainService.isResponsive) ? true : null\\\"\\n\\t\\t\\t\\t*ngFor=\\\"let temp of mainService.customPlaceholderArr\\\" placeholder-loader [loaderHeight]='84'\\n\\t\\t\\t\\t[loaderWidth]='84'></li>\\n\\t\\t</ul>\\n\\t</div>\\n\\t<div loader #loaderComponent></div>\\n\\t<div class=\\\"loadmore-action\\\" *ngIf=\\\"!mainService.isResponsive && isEnableloadmore\\\">\\n\\t\\t<input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreDesigns()\\\">\\n\\t</div>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/my-designs/my-designs.component.scss\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/my-designs/my-designs.component.scss ***!\r\n  \\****************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9teS1kZXNpZ25zL215LWRlc2lnbnMuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/my-designs/my-designs.component.ts\":\r\n/*!**************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/my-designs/my-designs.component.ts ***!\r\n  \\**************************************************************************/\r\n/*! exports provided: MyDesignsComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MyDesignsComponent\", function() { return MyDesignsComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_7__);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar MyDesignsComponent = /** @class */ (function () {\r\n    /**\r\n     *\r\n     * @param mainService\r\n     * @param designService\r\n     * @param pubsub\r\n     * @param cdr\r\n     * @param cacheService\r\n     */\r\n    function MyDesignsComponent(mainService, designService, pubsub, cdr, cacheService) {\r\n        var _this = this;\r\n        this.mainService = mainService;\r\n        this.designService = designService;\r\n        this.pubsub = pubsub;\r\n        this.cdr = cdr;\r\n        this.cacheService = cacheService;\r\n        this.currentTab = 5;\r\n        this.customerDesigns = [];\r\n        this.searchText = '';\r\n        this.page = '1';\r\n        this.componentHide = true;\r\n        this.isEnableloadmore = false;\r\n        this.accordianId = 0;\r\n        this.checkDesignScroll = false;\r\n        this.limit = 12;\r\n        this.getDesignResponse = true;\r\n        this.showAllFonts = false;\r\n        this.pubsub.$sub('getSubTabs', function (mainTabId) {\r\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\r\n                _this.getSubTabs(mainTabId);\r\n            }\r\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\r\n        });\r\n    }\r\n    MyDesignsComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.initValues();\r\n        if (this.loadContent && this.loadContent == true) {\r\n            this.subscribeEvents();\r\n        }\r\n        this.mainService.prepareTempArrForPlaceholder(this.limit);\r\n        this.pubsub.$sub('closeFullView', function (showAllFonts) {\r\n            _this.showAllFonts = showAllFonts;\r\n            _this.showFonts(showAllFonts);\r\n        });\r\n    };\r\n    MyDesignsComponent.prototype.ngAfterViewInit = function () {\r\n        this.mainService.showHideSubLoader(this.subtabLoader, true);\r\n        this.showPlaceholder = this.mainService.showHidePlaceholder(this.showPlaceholder);\r\n        this.cdr.detectChanges();\r\n        if (this.mainService.userLoggedIn != true) {\r\n            this.mainService.showHideSubLoader(this.subtabLoader, true);\r\n            this.showPlaceholder = this.mainService.showHidePlaceholder(this.showPlaceholder);\r\n        }\r\n    };\r\n    MyDesignsComponent.prototype.initValues = function () {\r\n        this.customerId = null;\r\n        this.customerDesigns = [];\r\n        this.isEnableloadmore = false;\r\n        this.totalpages = 0;\r\n        this.checkDesignScroll = false;\r\n    };\r\n    MyDesignsComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        var self = this;\r\n        this.pubsub.$sub('designSaved', function (design) {\r\n            if (!_this.mainService.userLoggedIn)\r\n                return;\r\n            if (design && design.hasOwnProperty('clearCache') && design.clearCache == true) {\r\n                _this.cacheService.remove(_this.cacheKey);\r\n                _this.cdr.detectChanges();\r\n                _this.getDesigns();\r\n            }\r\n            var data = [];\r\n            data['id'] = design[0].designId;\r\n            data['product_id'] = design[0].product_id;\r\n            data['path'] = design[0].images.base.url;\r\n            data['title'] = design[0].title;\r\n            self.customerDesigns.push(data);\r\n        });\r\n        this.pubsub.$sub('customerLoggedIn', function () {\r\n            _this.cdr.detectChanges();\r\n            _this.getDesigns(true, true, true);\r\n        });\r\n        this.pubsub.$sub('customerLoggedOut', function () {\r\n            _this.initValues();\r\n        });\r\n    };\r\n    /**\r\n     *\r\n     * @param resetDesign\r\n     */\r\n    MyDesignsComponent.prototype.getDesigns = function (resetDesign, initLoad, waitForResponse) {\r\n        var _this = this;\r\n        if (resetDesign === void 0) { resetDesign = true; }\r\n        if (initLoad === void 0) { initLoad = false; }\r\n        if (waitForResponse === void 0) { waitForResponse = false; }\r\n        if (this.loadContent) {\r\n            this.mainService.showHideSubLoader(this.loaderComponent, true);\r\n            this.showPlaceholder = this.mainService.showHidePlaceholder(false);\r\n        }\r\n        var params = {\r\n            'product_id': this.mainService.productId,\r\n            'searchText': this.searchText,\r\n            'page': this.page,\r\n            'limit': this.limit\r\n        }, url = 'productdesigner/designs/getdesigns';\r\n        this.cacheKey = 'getDesigns' + this.searchText + this.page + this.mainService.baseUrl + this.mainService.loggedInUserId;\r\n        if (waitForResponse == true) {\r\n            this.cacheKey = null;\r\n        }\r\n        this.mainService.getData(url, params, this.cacheKey).then(function (designData) {\r\n            if (resetDesign)\r\n                _this.customerDesigns = [];\r\n            _this.customerId = designData.customer_id;\r\n            _this.customerDesigns = _this.customerDesigns.concat(designData.getMyDesigns);\r\n            _this.isEnableloadmore = (designData.loadMoreFlag == 0) ? false : true;\r\n            _this.totalpages = designData.totalpages;\r\n            _this.checkDesignScroll = true;\r\n        }).catch(function (err) { return console.log(err); })\r\n            .finally(function () {\r\n            if (_this.subtabLoader.showSubLoader)\r\n                _this.subtabLoader.showSubLoader = false;\r\n            if (_this.loaderComponent.showSubLoader)\r\n                _this.loaderComponent.showSubLoader = false;\r\n            _this.showPlaceholder = false;\r\n            _this.cdr.detectChanges();\r\n            if (resetDesign === false)\r\n                _this.scrollToBottom();\r\n        });\r\n    };\r\n    MyDesignsComponent.prototype.scrollToBottom = function () {\r\n        try {\r\n            if (!this.mainService.isResponsive)\r\n                this.ScrollContainer.nativeElement.scrollTop = this.ScrollContainer.nativeElement.scrollHeight;\r\n            else\r\n                this.ScrollContainer.nativeElement.scrollLeft = (this.ScrollContainer.nativeElement.scrollWidth - 300);\r\n        }\r\n        catch (err) { }\r\n    };\r\n    /**\r\n     *\r\n     * @param mainTabId\r\n     */\r\n    MyDesignsComponent.prototype.getSubTabs = function (mainTabId) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var data;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                data = this.mainService.tabsFlow[mainTabId];\r\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\r\n                if (this.subTabsData && this.subTabsData.length > 0) {\r\n                    this.accordianId = this.subTabsData[0].id;\r\n                }\r\n                if (this.subtabLoader && this.subtabLoader.showSubLoader)\r\n                    this.subtabLoader.showSubLoader = false;\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     *\r\n     * @param id\r\n     * @param index\r\n     */\r\n    MyDesignsComponent.prototype.deleteDesign = function (id, index) {\r\n        var _this = this;\r\n        sweetalert2__WEBPACK_IMPORTED_MODULE_7___default.a.fire({\r\n            title: 'Are you sure?',\r\n            text: \"Your design will be deleted permanently!\",\r\n            type: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Yes, delete it!',\r\n            allowOutsideClick: false\r\n        }).then(function (result) {\r\n            if (result.value) {\r\n                _this.customerDesigns.splice(index, 1);\r\n                var params = { 'design_id': id }, url = 'productdesigner/designs/deletedesign';\r\n                _this.mainService.post(url, params, true).then(function (designData) {\r\n                    _this.cacheService.remove(_this.cacheKey);\r\n                }).catch(function (err) { return console.log(err); });\r\n            }\r\n        });\r\n    };\r\n    MyDesignsComponent.prototype.loadMoreDesigns = function () {\r\n        this.page++;\r\n        this.getDesigns(false);\r\n        if (this.page == this.totalpages)\r\n            this.isEnableloadmore = false;\r\n    };\r\n    MyDesignsComponent.prototype.searchDesigns = function () {\r\n        if (!this.mainService.userLoggedIn)\r\n            return;\r\n        this.customerDesigns = [];\r\n        this.page = 1;\r\n        this.getDesigns();\r\n    };\r\n    MyDesignsComponent.prototype.loadDesign = function (designId) {\r\n        this.designService.loadDesign(btoa(designId));\r\n    };\r\n    MyDesignsComponent.prototype.login = function () {\r\n        this.pubsub.$pub('openLoginModal', false);\r\n    };\r\n    MyDesignsComponent.prototype.getDefaultImage = function (currentObj) {\r\n        var found = this.customerDesigns.find(function (customDesignObj) { return (customDesignObj.id == currentObj.id && customDesignObj.product_id && currentObj.product_id); });\r\n        found.path = this.mainService.defaultPlaceholderImage;\r\n        this.customerDesigns[this.customerDesigns.indexOf(found)] = found;\r\n    };\r\n    MyDesignsComponent.prototype.showFonts = function (showAllFonts) {\r\n        this.showAllFonts = !showAllFonts;\r\n        this.pubsub.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Show all Designs' });\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('loaderComponent'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__[\"LoaderComponent\"])\r\n    ], MyDesignsComponent.prototype, \"loaderComponent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('subtabLoader'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__[\"LoaderComponent\"])\r\n    ], MyDesignsComponent.prototype, \"subtabLoader\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('scrollToBottom'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ElementRef\"])\r\n    ], MyDesignsComponent.prototype, \"ScrollContainer\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], MyDesignsComponent.prototype, \"loadContent\", void 0);\r\n    MyDesignsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\r\n            selector: '[my-designs]',\r\n            template: __webpack_require__(/*! ./my-designs.component.html */ \"./src/app/essentials/components/my-designs/my-designs.component.html\"),\r\n            styles: [__webpack_require__(/*! ./my-designs.component.scss */ \"./src/app/essentials/components/my-designs/my-designs.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__[\"DesignService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ChangeDetectorRef\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_1__[\"CacheService\"]])\r\n    ], MyDesignsComponent);\r\n    return MyDesignsComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/object-position/object-position.component.html\":\r\n/*!**************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/object-position/object-position.component.html ***!\r\n  \\**************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\"  [hidden]=\\\"componentHide\\\">\\n\\t<button class=\\\"byi-accordion-title\\\" accordion-heading>\\n\\t\\t<span>{{'Object Position' | translate}}</span>\\n\\t</button>\\n\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t<ng-container [ngTemplateOutlet]=\\\"objectPosition\\\"></ng-container>\\n\\t</div>\\n</accordion-group>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('object-position')\\\"  [attr.hidden]=\\\"componentHide\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n\\t<ng-template tabHeading>\\n\\t\\t<span>{{'Object Position' | translate}}</span>\\n\\t</ng-template>\\n\\t<ng-container [ngTemplateOutlet]=\\\"objectPosition\\\"></ng-container>\\n</tab>\\n<ng-template #objectPosition>\\n\\t<div class=\\\"byie-option\\\">\\n\\t\\t<div class=\\\"byi-inline-box\\\">\\n\\t\\t\\t<div class=\\\"byi-inline-item\\\">\\n\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t<span>{{'X' | translate}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" (mousedown)=\\\"setPrevValue('left', positionX)\\\" [(ngModel)]=\\\"positionX\\\" [min]=\\\"minX\\\" [max]=\\\"maxX\\\" step=\\\"0.1\\\" (input)=\\\"changePositionX()\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\" (change)=\\\"stackToUndo('left')\\\">\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-inline-item\\\">\\n\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t<span>{{'Y' | translate}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" (mousedown)=\\\"setPrevValue('top', positionY)\\\" [(ngModel)]=\\\"positionY\\\" [min]=\\\"minY\\\" [max]=\\\"maxY\\\" step=\\\"0.1\\\" (input)=\\\"changePositionY()\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\" (change)=\\\"stackToUndo('top')\\\">\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<button (click)=\\\"clear()\\\" class=\\\"byi-range-reset-link\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/object-position/object-position.component.scss\":\r\n/*!**************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/object-position/object-position.component.scss ***!\r\n  \\**************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9vYmplY3QtcG9zaXRpb24vb2JqZWN0LXBvc2l0aW9uLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/object-position/object-position.component.ts\":\r\n/*!************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/object-position/object-position.component.ts ***!\r\n  \\************************************************************************************/\r\n/*! exports provided: ObjectPositionComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectPositionComponent\", function() { return ObjectPositionComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ObjectPositionComponent = /** @class */ (function () {\r\n    function ObjectPositionComponent(mainService, cacheService, canvasService, pubsub, tabsService) {\r\n        this.mainService = mainService;\r\n        this.cacheService = cacheService;\r\n        this.canvasService = canvasService;\r\n        this.pubsub = pubsub;\r\n        this.tabsService = tabsService;\r\n        this.enable = 0;\r\n        this.componentHide = true;\r\n        this.minX = 0;\r\n        this.minY = 0;\r\n        // for undo redo\r\n        this.preObjPositionValues = {};\r\n        this.tabsService.registerTabs('object-position', 'plain-text');\r\n        this.tabsService.registerTabs('object-position', 'clipart');\r\n        this.tabsService.registerTabs('object-position', 'image-upload');\r\n        this.tabsService.registerTabs('object-position', 'name-number');\r\n        this.tabsService.registerTabs('object-position', 'common');\r\n    }\r\n    ObjectPositionComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.maxX = 100;\r\n        this.maxY = 100;\r\n        this.pubsub.$sub('objectAdded', function (obj) {\r\n            _this.setXYPostion(obj);\r\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\r\n        });\r\n        this.pubsub.$sub('objectUpdated', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.setXYPostion(obj);\r\n        });\r\n        this.pubsub.$sub('canvasObjectModified', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.setXYPostion(obj);\r\n        });\r\n        this.pubsub.$sub('canvasObjectScaled', function (obj) {\r\n            _this.setXYPostion(obj);\r\n        });\r\n        this.pubsub.$sub('objectSelectionUpdated', function (obj) {\r\n            _this.setXYPostion(obj);\r\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\r\n        });\r\n        this.pubsub.$sub('objectSelectionCreated', function (obj) {\r\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\r\n            _this.setXYPostion(obj);\r\n        });\r\n        this.pubsub.$sub('objectSelectionCleared', function () {\r\n            _this.componentHide = (_this.canvasService.getActiveObject()) ? null : true;\r\n        });\r\n        this.pubsub.$sub('objectRemoved', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.setXYPostion(obj);\r\n            _this.componentHide = (_this.canvasService.getActiveObject()) ? null : true;\r\n        });\r\n        this.pubsub.$sub('alignment', function (data) {\r\n            if (data.option == 'right' || data.option == 'left' || data.option == 'alignHorizontalCenter')\r\n                _this.posleft = data.newVal;\r\n            else\r\n                _this.postop = data.newVal;\r\n            console.log(_this.posleft);\r\n        });\r\n    };\r\n    ObjectPositionComponent.prototype.setPrevValue = function (key, value) {\r\n        if (!this.preObjPositionValues || this.preObjPositionValues[key] == null) {\r\n            this.preObjPositionValues[key] = value;\r\n        }\r\n    };\r\n    ObjectPositionComponent.prototype.stackToUndo = function (key) {\r\n        // Init empty shadow object here\r\n        var properties = {};\r\n        // set selecte shadow value(eg. offsetX, offsetY)\r\n        properties = Object.assign({}, this.preObjPositionValues);\r\n        // determine other shadow key(eg. offsetX, offsetY)\r\n        var otherKey = (key == 'left') ? 'top' : 'left', \r\n        // determine other shadow value\r\n        otherKeyVal = (otherKey == 'left') ? this.positionX : this.positionY;\r\n        // check if otherKyeVal is null, set it to 0\r\n        // this will only occur on first time\r\n        otherKeyVal = (!otherKeyVal) ? 0 : otherKeyVal;\r\n        // set other shadow property to properties object\r\n        properties[otherKey] = otherKeyVal;\r\n        // finally pass the property object to rangeSliderUndoRedo\r\n        this.canvasService.rangeSliderUndoRedo(properties);\r\n        // set selected shadow to null\r\n        this.preObjPositionValues[key] = null;\r\n    };\r\n    ObjectPositionComponent.prototype.setXYPostion = function (obj) {\r\n        this.setMaxLeftTop(obj);\r\n        if (obj.originY == 'center') {\r\n            this.positionX = obj.left - obj.width / 2;\r\n        }\r\n        else {\r\n            this.positionX = obj.left;\r\n        }\r\n        if (obj.originY == 'center') {\r\n            this.positionY = obj.top - obj.height / 2;\r\n        }\r\n        else {\r\n            this.positionY = obj.top;\r\n        }\r\n    };\r\n    ObjectPositionComponent.prototype.setMaxLeftTop = function (obj) {\r\n        var clipX = this.canvasService.clipX[this.canvasService.currentCanvas.dim.designareaId] / 2, clipY = this.canvasService.clipY[this.canvasService.currentCanvas.dim.designareaId] / 2;\r\n        this.minX = clipX;\r\n        this.minY = clipY;\r\n        this.maxX = this.canvasService.currentCanvas.width - (obj.width * obj.scaleX) - clipX;\r\n        this.maxY = this.canvasService.currentCanvas.height - (obj.height * obj.scaleY) - clipX;\r\n    };\r\n    ObjectPositionComponent.prototype.changePositionY = function () {\r\n        var _this = this;\r\n        var selectedObj = this.canvasService.currentCanvas.getActiveObjects(), position = null;\r\n        selectedObj.filter(function (currObj) {\r\n            position = _this.positionY;\r\n            if (currObj.originY == 'center') {\r\n                position = _this.positionY + currObj.height / 2;\r\n            }\r\n            currObj.top = position;\r\n        });\r\n        this.canvasService.currentCanvas.renderAll();\r\n    };\r\n    ObjectPositionComponent.prototype.changePositionX = function () {\r\n        var _this = this;\r\n        var selectedObj = this.canvasService.currentCanvas.getActiveObjects(), position = null;\r\n        selectedObj.filter(function (currObj) {\r\n            position = _this.positionX;\r\n            if (currObj.originX == 'center') {\r\n                position = _this.positionX + currObj.height / 2;\r\n            }\r\n            currObj.left = position;\r\n        });\r\n        this.canvasService.currentCanvas.renderAll();\r\n    };\r\n    ObjectPositionComponent.prototype.clear = function () {\r\n        var canvas = this.canvasService.currentCanvas;\r\n        var canvasService = this.canvasService;\r\n        var obj = canvas.getActiveObject();\r\n        var posmiddle = (canvas.height / 2) - (obj.height * obj.scaleY / 2);\r\n        var poscenter = (canvas.width / 2) - (obj.width * obj.scaleX / 2);\r\n        var properties = {};\r\n        if (obj) {\r\n            if (obj.originX == 'center') {\r\n                poscenter = canvas.width / 2;\r\n            }\r\n            if (obj.originY == 'center') {\r\n                posmiddle = canvas.height / 2;\r\n            }\r\n            properties = { top: posmiddle, left: poscenter };\r\n        }\r\n        this.positionX = '';\r\n        this.positionY = '';\r\n        obj.setCoords();\r\n        canvas.setActiveObject(obj);\r\n        var params = {\r\n            obj: obj,\r\n            properties: properties,\r\n            crudServiceString: 'this.updateObjectService',\r\n        };\r\n        canvasService.objectCRUD(params);\r\n    };\r\n    ObjectPositionComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[object-position]',\r\n            template: __webpack_require__(/*! ./object-position.component.html */ \"./src/app/essentials/components/object-position/object-position.component.html\"),\r\n            styles: [__webpack_require__(/*! ./object-position.component.scss */ \"./src/app/essentials/components/object-position/object-position.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_3__[\"CacheService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"], src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"]])\r\n    ], ObjectPositionComponent);\r\n    return ObjectPositionComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.html\":\r\n/*!********************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/placeholder-loader/placeholder-loader.component.html ***!\r\n  \\********************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"linear-background\\\" [style.height.px]='loaderHeight' [style.width.px]='loaderWidth'></div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.scss\":\r\n/*!********************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/placeholder-loader/placeholder-loader.component.scss ***!\r\n  \\********************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"@-webkit-keyframes placeHolderShimmer {\\n  0% {\\n    background-position: -468px 0; }\\n  100% {\\n    background-position: 468px 0; } }\\n\\n@keyframes placeHolderShimmer {\\n  0% {\\n    background-position: -468px 0; }\\n  100% {\\n    background-position: 468px 0; } }\\n\\n.linear-background {\\n  -webkit-animation-duration: 1s;\\n          animation-duration: 1s;\\n  -webkit-animation-fill-mode: forwards;\\n          animation-fill-mode: forwards;\\n  -webkit-animation-iteration-count: infinite;\\n          animation-iteration-count: infinite;\\n  -webkit-animation-name: placeHolderShimmer;\\n          animation-name: placeHolderShimmer;\\n  -webkit-animation-timing-function: linear;\\n          animation-timing-function: linear;\\n  background: #f6f7f8;\\n  background: linear-gradient(to right, #eeeeee 8%, #dddddd 18%, #eeeeee 33%);\\n  background-size: 1000px 104px;\\n  position: relative;\\n  overflow: hidden;\\n  height: 80px;\\n  border-radius: 5px; }\\n\\n.inter-draw {\\n  background: #FFF;\\n  width: 100%;\\n  height: 100px;\\n  position: absolute;\\n  top: 100px; }\\n\\n.inter-right--top {\\n  background: #FFF;\\n  width: 100%;\\n  height: 20px;\\n  position: absolute;\\n  top: 20px;\\n  left: 100px; }\\n\\n.inter-right--bottom {\\n  background: #FFF;\\n  width: 100%;\\n  height: 50px;\\n  position: absolute;\\n  top: 60px;\\n  left: 100px; }\\n\\n.inter-crop {\\n  background: #FFF;\\n  width: 20px;\\n  height: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 100px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2h0bWwvUmVzdHJ1Y3R1cmVWMi9tYWdlbnRvMjI4VjIvYW5ndWxhci9zcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wbGFjZWhvbGRlci1sb2FkZXIvcGxhY2Vob2xkZXItbG9hZGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0k7SUFDSSw2QkFDSixFQUFBO0VBRUE7SUFDSSw0QkFDSixFQUFBLEVBQUE7O0FBUEo7RUFDSTtJQUNJLDZCQUNKLEVBQUE7RUFFQTtJQUNJLDRCQUNKLEVBQUEsRUFBQTs7QUFHSjtFQUNJLDhCQUFzQjtVQUF0QixzQkFBc0I7RUFDdEIscUNBQTZCO1VBQTdCLDZCQUE2QjtFQUM3QiwyQ0FBbUM7VUFBbkMsbUNBQW1DO0VBQ25DLDBDQUFrQztVQUFsQyxrQ0FBa0M7RUFDbEMseUNBQWlDO1VBQWpDLGlDQUFpQztFQUNqQyxtQkFBbUI7RUFDbkIsMkVBQTJFO0VBQzNFLDZCQUE2QjtFQUM3QixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLFlBQVk7RUFDWixrQkFBa0IsRUFBQTs7QUFHdEI7RUFDSSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIsVUFBVSxFQUFBOztBQUdkO0VBQ0ksZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxXQUFXLEVBQUE7O0FBR2Y7RUFDSSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsU0FBUztFQUNULFdBQVcsRUFBQTs7QUFHZjtFQUNJLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sV0FBVyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvZXNzZW50aWFscy9jb21wb25lbnRzL3BsYWNlaG9sZGVyLWxvYWRlci9wbGFjZWhvbGRlci1sb2FkZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAa2V5ZnJhbWVzIHBsYWNlSG9sZGVyU2hpbW1lciB7XG4gICAgMCUge1xuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDY4cHggMFxuICAgIH1cblxuICAgIDEwMCUge1xuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA0NjhweCAwXG4gICAgfVxufVxuXG4ubGluZWFyLWJhY2tncm91bmQge1xuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMXM7XG4gICAgYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7XG4gICAgYW5pbWF0aW9uLW5hbWU6IHBsYWNlSG9sZGVyU2hpbW1lcjtcbiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBsaW5lYXI7XG4gICAgYmFja2dyb3VuZDogI2Y2ZjdmODtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICNlZWVlZWUgOCUsICNkZGRkZGQgMTglLCAjZWVlZWVlIDMzJSk7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMDAwcHggMTA0cHg7ICAgIFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGhlaWdodDogODBweDsgICAgXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4uaW50ZXItZHJhdyB7XG4gICAgYmFja2dyb3VuZDogI0ZGRjtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDEwMHB4O1xufVxuXG4uaW50ZXItcmlnaHQtLXRvcCB7XG4gICAgYmFja2dyb3VuZDogI0ZGRjtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMjBweDtcbiAgICBsZWZ0OiAxMDBweDtcbn1cblxuLmludGVyLXJpZ2h0LS1ib3R0b20ge1xuICAgIGJhY2tncm91bmQ6ICNGRkY7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA1MHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDYwcHg7XG4gICAgbGVmdDogMTAwcHg7XG59XG5cbi5pbnRlci1jcm9wIHtcbiAgICBiYWNrZ3JvdW5kOiAjRkZGO1xuICAgIHdpZHRoOiAyMHB4O1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDEwMHB4O1xufSJdfQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.ts\":\r\n/*!******************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/placeholder-loader/placeholder-loader.component.ts ***!\r\n  \\******************************************************************************************/\r\n/*! exports provided: PlaceholderLoaderComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlaceholderLoaderComponent\", function() { return PlaceholderLoaderComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _placholder_loader_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./placholder-loader.service */ \"./src/app/essentials/components/placeholder-loader/placholder-loader.service.ts\");\r\n\r\n\r\n\r\nvar PlaceholderLoaderComponent = /** @class */ (function () {\r\n    function PlaceholderLoaderComponent(placholderLoaderService) {\r\n        this.placholderLoaderService = placholderLoaderService;\r\n    }\r\n    PlaceholderLoaderComponent.prototype.ngOnInit = function () {\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])('loaderHeight'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], PlaceholderLoaderComponent.prototype, \"loaderHeight\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])('loaderWidth'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], PlaceholderLoaderComponent.prototype, \"loaderWidth\", void 0);\r\n    PlaceholderLoaderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[placeholder-loader]',\r\n            template: __webpack_require__(/*! ./placeholder-loader.component.html */ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.html\"),\r\n            styles: [__webpack_require__(/*! ./placeholder-loader.component.scss */ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_placholder_loader_service__WEBPACK_IMPORTED_MODULE_2__[\"PlacholderLoaderService\"]])\r\n    ], PlaceholderLoaderComponent);\r\n    return PlaceholderLoaderComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/placeholder-loader/placholder-loader.service.ts\":\r\n/*!***************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/placeholder-loader/placholder-loader.service.ts ***!\r\n  \\***************************************************************************************/\r\n/*! exports provided: PlacholderLoaderService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlacholderLoaderService\", function() { return PlacholderLoaderService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar PlacholderLoaderService = /** @class */ (function () {\r\n    function PlacholderLoaderService() {\r\n        this.placholderWidth = 100;\r\n        this.placholderHeight = 20;\r\n    }\r\n    PlacholderLoaderService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], PlacholderLoaderService);\r\n    return PlacholderLoaderService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/plain-text/plain-text.component.html\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/plain-text/plain-text.component.html ***!\r\n  \\****************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div loader #loaderComponent></div>\\n<div class=\\\"byi-accord-content\\\" [class.byi-mob-text]=\\\"mainService.isResponsive\\\"\\n\\t*ngIf=\\\"loaderComponent.showSubLoader === false && loadContent\\\">\\n\\t<textarea class=\\\"byi-input noDeleteObject\\\" placeholder=\\\"{{'Enter Text' | translate}}\\\" [(ngModel)]=\\\"canvasText\\\" (keyup)=\\\"addText()\\\" id=\\\"textInput\\\" autofocus></textarea>\\n\\t<button class=\\\"byi-add-btn\\\" *ngIf=\\\"showGreenTick && loadContent && mainService.isResponsive && canvasText && canvasText.length > 0\\\" (click)=\\\"showChild()\\\"></button>\\n</div>\\n\\n<common-tabs #commonTabs *ngIf=\\\"!loadContent\\\" [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\"></common-tabs>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/plain-text/plain-text.component.scss\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/plain-text/plain-text.component.scss ***!\r\n  \\****************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wbGFpbi10ZXh0L3BsYWluLXRleHQuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/plain-text/plain-text.component.ts\":\r\n/*!**************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/plain-text/plain-text.component.ts ***!\r\n  \\**************************************************************************/\r\n/*! exports provided: PlainTextComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlainTextComponent\", function() { return PlainTextComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _font_font_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../font/font.service */ \"./src/app/essentials/components/font/font.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_7__);\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar PlainTextComponent = /** @class */ (function () {\r\n    function PlainTextComponent(mainService, fontService, canvasService, eventService, translate, tabsService, cdr) {\r\n        var _this = this;\r\n        this.mainService = mainService;\r\n        this.fontService = fontService;\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.translate = translate;\r\n        this.tabsService = tabsService;\r\n        this.cdr = cdr;\r\n        this.currentTab = 1;\r\n        this.accordianId = 0;\r\n        this.eventService.$sub('getSubTabs', function (mainTabId) {\r\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\r\n                _this.getSubTabs(mainTabId);\r\n            }\r\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\r\n        });\r\n    }\r\n    PlainTextComponent.prototype.ngOnInit = function () {\r\n        if (this.loadContent && this.loadContent == true) {\r\n            this.loaderComponent.showSubLoader = false;\r\n            this.init();\r\n        }\r\n        else {\r\n            this.loaderComponent.showSubLoader = true;\r\n            this.cdr.detectChanges();\r\n        }\r\n    };\r\n    PlainTextComponent.prototype.init = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.subscribeEvents();\r\n                        if (!(!this.fontService.fontarr || this.fontService.fontarr.length <= 0)) return [3 /*break*/, 2];\r\n                        this.loaderComponent.showSubLoader = true;\r\n                        this.cdr.detectChanges();\r\n                        if (!!this.fontService.fontLoadRequested) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.fontService.getFonts(1, true)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        if (this.fontService.fontarr && this.fontService.fontarr.length > 0) {\r\n                            if (this.loaderComponent.showSubLoader === true)\r\n                                this.loaderComponent.showSubLoader = false;\r\n                            this.prepareFontValues();\r\n                        }\r\n                        this.getColors();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    PlainTextComponent.prototype.ngAfterViewChecked = function () {\r\n        if (this.mainService.hideMe === true || this.fontService.fontarr) {\r\n            this.loaderComponent.showSubLoader = false;\r\n            this.defaultFontFamily = this.fontService.defaultFontFamily;\r\n        }\r\n    };\r\n    PlainTextComponent.prototype.ngAfterViewInit = function () {\r\n        var ele = document.getElementById('textInput');\r\n        if (ele && ele.id)\r\n            this.textInput = ele;\r\n    };\r\n    PlainTextComponent.prototype.prepareFontValues = function () {\r\n        this.defaultFontFamily = this.fontService.defaultFontFamily;\r\n        this.defaultFontSize = this.fontService.defaultFontSize;\r\n        this.textLimitEnable = this.fontService.textLimitEnable;\r\n        this.canvasService.objectLimit = Object.assign(this.canvasService.objectLimit, { textLimitCounter: parseInt(this.fontService.textLimitCounter) });\r\n        this.limitAlert = this.fontService.limitAlert;\r\n        this.initData();\r\n    };\r\n    PlainTextComponent.prototype.getColors = function () {\r\n        var _this = this;\r\n        if (!this.defaultColor) {\r\n            this.defaultColor = this.mainService.colorData.defaultColor;\r\n        }\r\n        this.eventService.$sub('getColors').subscribe(function (colorData) {\r\n            _this.defaultColor = colorData.defaultColor;\r\n        }, function (err) { return console.log(err); });\r\n    };\r\n    PlainTextComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('displayTextLimitError', function () {\r\n            _this.displayTextLimitError();\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this.initData();\r\n        });\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            // for mobile\r\n            var selectedObjs = _this.mainService.canvasService.currentCanvas.getActiveObjects(), self = _this;\r\n            if (selectedObjs.length > 1 && _this.mainService.isResponsive) {\r\n                var anyTextObj = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type == 'text'; })) >= 0) ? true : false, nonTextObj = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; })) >= 0) ? true : false;\r\n                if (anyTextObj) {\r\n                    var tabName_1 = (nonTextObj) ? 'common' : 'plain-text';\r\n                    setTimeout(function () {\r\n                        self.showChild(tabName_1);\r\n                    }, 100);\r\n                    _this.eventService.$pub('getActiveTabId', _this.currentTab);\r\n                }\r\n            }\r\n            else {\r\n                if (obj.tab == 'text') {\r\n                    _this.canvasText = obj.text;\r\n                    if (_this.mainService.isResponsive) {\r\n                        _this.tabsService.backTab();\r\n                        _this.eventService.$pub('getActiveTabId', _this.currentTab);\r\n                        _this.showGreenTick = (obj.type == \"text\" && obj.ultimatelock == true) ? null : true;\r\n                    }\r\n                    else {\r\n                        if (_this.textInput)\r\n                            _this.textInput.focus();\r\n                        _this.eventService.$pub('getActiveTabId', _this.currentTab);\r\n                    }\r\n                }\r\n                else {\r\n                    _this.canvasText = '';\r\n                }\r\n            }\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            if (obj.tab == 'text') {\r\n                _this.canvasText = obj.text;\r\n                if (_this.mainService.isResponsive) {\r\n                    _this.tabsService.backTab();\r\n                    _this.eventService.$pub('getActiveTabId', _this.currentTab);\r\n                    _this.showGreenTick = (obj.type == \"text\" && obj.ultimatelock == true) ? null : true;\r\n                }\r\n                else {\r\n                    if (_this.textInput)\r\n                        _this.textInput.focus();\r\n                    _this.eventService.$pub('getActiveTabId', _this.currentTab);\r\n                }\r\n            }\r\n            else {\r\n                _this.canvasText = '';\r\n            }\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            if (obj.tab == 'text') {\r\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\r\n            }\r\n        });\r\n        this.eventService.$sub('imageSideChanged', function () {\r\n            _this.initData();\r\n        });\r\n    };\r\n    PlainTextComponent.prototype.initData = function () {\r\n        this.canvasText = (this.canvasService.getActiveObjectValue('text', 'text') != false) ? this.canvasService.getActiveObjectValue('text', 'text') : '';\r\n    };\r\n    PlainTextComponent.prototype.getSubTabs = function (mainTabId) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var data;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                data = this.mainService.tabsFlow[mainTabId];\r\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\r\n                if (this.subTabsData && this.subTabsData.length > 0) {\r\n                    this.accordianId = this.subTabsData[0].id;\r\n                }\r\n                if (this.loaderComponent && this.loaderComponent.showSubLoader)\r\n                    this.loaderComponent.showSubLoader = false;\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    PlainTextComponent.prototype.addText = function () {\r\n        var obj = this.canvasService.getActiveObject(), properties = {};\r\n        if ((this.canvasText.length == 0 && !obj) || obj.text == this.canvasText) {\r\n            return;\r\n        }\r\n        if (this.canvasText.length == 0 && obj) {\r\n            var params = {\r\n                obj: obj,\r\n                properties: properties,\r\n                crudServiceString: 'this.removeObjectService',\r\n            };\r\n            this.canvasService.objectCRUD(params);\r\n            return;\r\n        }\r\n        if (obj && obj.tab == 'text') {\r\n            properties.text = this.canvasText;\r\n            var params = {\r\n                obj: obj,\r\n                properties: properties,\r\n                crudServiceString: 'this.updateObjectService',\r\n            };\r\n            this.canvasService.objectCRUD(params);\r\n        }\r\n        else {\r\n            if (this.textLimitEnable == 1) {\r\n                var objCount = this.canvasService.getObjectTypeFromAllCanvas('tab', 'text');\r\n                if (!obj) {\r\n                    objCount = (objCount) ? objCount : 0;\r\n                }\r\n                if (objCount >= this.canvasService.objectLimit.textLimitCounter) {\r\n                    this.displayTextLimitError();\r\n                    this.canvasText = '';\r\n                    return;\r\n                }\r\n            }\r\n            var fontColor_1 = (this.defaultColor.color_code) ? this.defaultColor.color_code : null;\r\n            this.eventService.$sub('changedColor', function (data) {\r\n                fontColor_1 = data ? data : fontColor_1;\r\n            });\r\n            var fontFamily = (this.defaultFontFamily.font_label) ? this.defaultFontFamily.font_label : null;\r\n            var font_file = (this.defaultFontFamily.font_file) ? this.defaultFontFamily.font_file : null;\r\n            var properties_1 = {\r\n                left: 10,\r\n                top: 20,\r\n                opacity: 1,\r\n                fontSize: (this.defaultFontSize) ? parseInt(this.defaultFontSize) : 16,\r\n                objType: 'text',\r\n                strokeWidth: 0,\r\n                tab: \"text\"\r\n            };\r\n            if (fontColor_1 && fontColor_1 != null)\r\n                properties_1.fill = fontColor_1;\r\n            if (fontFamily && fontFamily != null)\r\n                properties_1.fontFamily = fontFamily;\r\n            if (font_file && font_file != null)\r\n                properties_1.font_file = font_file;\r\n            var textObj = new fabric.Text(this.canvasText);\r\n            var params = {\r\n                obj: textObj,\r\n                properties: properties_1,\r\n                crudServiceString: 'this.insertObjectService',\r\n                isCenter: true,\r\n            };\r\n            this.canvasService.objectCRUD(params);\r\n        }\r\n    };\r\n    PlainTextComponent.prototype.displayTextLimitError = function () {\r\n        sweetalert2__WEBPACK_IMPORTED_MODULE_7___default.a.fire({\r\n            title: this.translate.instant('Alert'),\r\n            text: this.limitAlert,\r\n            type: \"warning\",\r\n            confirmButtonText: this.translate.instant('OK'),\r\n        });\r\n    };\r\n    PlainTextComponent.prototype.showChild = function (childTabs) {\r\n        if (childTabs === void 0) { childTabs = 'plain-text'; }\r\n        this.tabsService.showChildTabs(childTabs);\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], PlainTextComponent.prototype, \"loadContent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_9__[\"LoaderComponent\"])\r\n    ], PlainTextComponent.prototype, \"loaderComponent\", void 0);\r\n    PlainTextComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: '[plain-text]',\r\n            template: __webpack_require__(/*! ./plain-text.component.html */ \"./src/app/essentials/components/plain-text/plain-text.component.html\"),\r\n            styles: [__webpack_require__(/*! ./plain-text.component.scss */ \"./src/app/essentials/components/plain-text/plain-text.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            _font_font_service__WEBPACK_IMPORTED_MODULE_1__[\"FontService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__[\"TranslateService\"],\r\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"]])\r\n    ], PlainTextComponent);\r\n    return PlainTextComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/preview/preview.component.html\":\r\n/*!**********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/preview/preview.component.html ***!\r\n  \\**********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<a href=\\\"javascript:void(0)\\\" id='preview_btn' (click)=\\\"createPreview(template)\\\" attr.disabled=\\\"disabled\\\"\\n\\ttooltip=\\\"{{'Preview' | translate}}\\\">\\n\\t<svg class=\\\"icon icon-view\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-view\\\"></use>\\n\\t</svg>\\n\\t<div loader #loaderComponent></div>\\n</a>\\n\\n\\n<ng-template #template>\\n\\t<div class=\\\"modal-header\\\">\\n\\t\\t<h4 class=\\\"modal-title pull-left\\\">{{'Preview' | translate}}</h4>\\n\\t\\t<button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n\\t\\t\\t<span aria-hidden=\\\"true\\\">&times;</span>\\n\\t\\t</button>\\n\\t</div>\\n\\t<div class=\\\"modal-body\\\">\\n\\t\\t<div class=\\\"product-zoom-container\\\">\\n\\t\\t\\t<div class=\\\"preview-image\\\">\\n\\t\\t\\t\\t<img src=\\\"{{previewImages[activeImageId]}}\\\" />\\n\\t\\t\\t\\t<button *ngIf=\\\"mainService.displayDownload\\\" class=\\\"byi-btn byi-btn-download\\\" (click)=\\\"downloadFunction()\\\"\\n\\t\\t\\t\\t\\ttooltip=\\\"{{'Download Design' | translate}}\\\">\\n\\t\\t\\t\\t\\t<svg class=\\\"icon icon-download\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-download\\\"></use>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t<span>Download</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"total-sides\\\" *ngIf=\\\"allImageIds && allImageIds.length > 1\\\">\\n\\t\\t\\t\\t<div class=\\\"total-sides-mob\\\">\\n\\t\\t\\t\\t\\t<button container=\\\"body\\\" class=\\\"byi-side-btn byi-prev-side\\\" *ngIf=\\\"enablePrev\\\"\\n\\t\\t\\t\\t\\t\\t(click)=\\\"changeNextPrevPreviewSide('prev')\\\" tooltip=\\\"{{'Previous Side' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t<span>\\n\\t\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-side-prev\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-side-prev\\\"></use>\\n\\t\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t<li *ngFor=\\\"let image_id of allImageIds;let i=index;\\\"\\n\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{active: activeImageId == image_id}\\\" (click)=\\\"changePreviewSide(image_id,true)\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t<button container=\\\"body\\\" class=\\\"byi-side-btn byi-next-side\\\" *ngIf=\\\"enableNext\\\"\\n\\t\\t\\t\\t\\t\\t(click)=\\\"changeNextPrevPreviewSide('next')\\\" tooltip=\\\"{{'Next Side' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t<span>\\n\\t\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-side-next\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-side-next\\\"></use>\\n\\t\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/preview/preview.component.scss\":\r\n/*!**********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/preview/preview.component.scss ***!\r\n  \\**********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wcmV2aWV3L3ByZXZpZXcuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/preview/preview.component.ts\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/preview/preview.component.ts ***!\r\n  \\********************************************************************/\r\n/*! exports provided: PreviewComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PreviewComponent\", function() { return PreviewComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar PreviewComponent = /** @class */ (function () {\r\n    function PreviewComponent(mainService, eventService, canvasService, translate) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.translate = translate;\r\n        this.previewImages = {};\r\n        this.zipfile = [];\r\n        this.firstTimeNext = true;\r\n        // call to method that will create initial events\r\n        this.initiateEvents();\r\n    }\r\n    PreviewComponent.prototype.ngOnInit = function () {\r\n    };\r\n    PreviewComponent.prototype.initiateEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('allcanvasCreated', function (allImageIds) {\r\n            _this.allImageIds = allImageIds;\r\n            _this.changePreviewSide(allImageIds[0], false);\r\n        });\r\n        this.eventService.$sub('objectUpdated', function () {\r\n            _this.mainService.objectModification = true;\r\n        });\r\n        this.eventService.$sub('objectRemoved', function () {\r\n            _this.mainService.objectModification = true;\r\n            _this.previewImages[_this.canvasService.activeImageId] = '';\r\n            _this.mainService.generatedImage[_this.canvasService.activeImageId] = '';\r\n        });\r\n        this.eventService.$sub('objectAdded', function () {\r\n            _this.mainService.objectModification = true;\r\n        });\r\n        this.eventService.$sub('canvasBackgroungChange', function () {\r\n            _this.mainService.objectModification = true;\r\n        });\r\n    };\r\n    PreviewComponent.prototype.createPreview = function (template) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.loaderComponent.showMainLoader = true;\r\n                        return [4 /*yield*/, this.getCanvasDataUrl(true, '')];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.loaderComponent.showMainLoader = false;\r\n                        this.modalRef = this.mainService.openThisModal(template, 'byi-preview-modal modal-lg');\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    PreviewComponent.prototype.changePreviewSide = function (image_id, generatePreview) {\r\n        this.activeImageId = image_id;\r\n        this.indexOfActiveImage = this.allImageIds.indexOf(image_id);\r\n        this.updateNextPrev();\r\n        if (generatePreview) {\r\n            this.getCanvasDataUrl(false, image_id);\r\n        }\r\n    };\r\n    PreviewComponent.prototype.changeNextPrevPreviewSide = function (type) {\r\n        if (this.mainService.objectModification == true || this.firstTimeNext == true) {\r\n            this.mainService.objectModification = true;\r\n            this.firstTimeNext = false;\r\n        }\r\n        this.indexOfActiveImage = this.allImageIds.indexOf(this.activeImageId);\r\n        var updatedImageId;\r\n        if (type == 'prev') {\r\n            updatedImageId = this.allImageIds[this.indexOfActiveImage - 1];\r\n        }\r\n        else if (type == 'next') {\r\n            updatedImageId = this.allImageIds[this.indexOfActiveImage + 1];\r\n        }\r\n        if (updatedImageId) {\r\n            this.changePreviewSide(updatedImageId, true);\r\n        }\r\n    };\r\n    PreviewComponent.prototype.updateNextPrev = function () {\r\n        if (this.allImageIds[this.indexOfActiveImage - 1]) {\r\n            this.enablePrev = 1;\r\n        }\r\n        else {\r\n            this.enablePrev = 0;\r\n        }\r\n        if (this.allImageIds[this.indexOfActiveImage + 1]) {\r\n            this.enableNext = 1;\r\n        }\r\n        else {\r\n            this.enableNext = 0;\r\n        }\r\n    };\r\n    PreviewComponent.prototype.getCanvasDataUrl = function (isFirst, currentImageId) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var response;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (isFirst) {\r\n                            currentImageId = this.canvasService.activeImageId;\r\n                        }\r\n                        if (!(!this.previewImages[currentImageId] || this.previewImages[currentImageId] == '' || this.mainService.objectModification == true)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.mainService.getCanvasDataUrl(isFirst, currentImageId, false)];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        response = this.mainService.generatedImage[currentImageId];\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        this.previewImages[currentImageId] = response.base.url;\r\n                        this.changePreviewSide(currentImageId, false);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    PreviewComponent.prototype.downloadFunction = function () {\r\n        var _this = this;\r\n        var imageIds = this.canvasService.allImagesWithIds;\r\n        var images = [];\r\n        for (var id in imageIds) {\r\n            images.push(this.canvasService.getCanvasDataUrl(id));\r\n        }\r\n        var params = {\r\n            'dataUrl': images,\r\n            'product_image_data': this.canvasService.allImagesWithIds,\r\n            'previewImages': 1\r\n        };\r\n        this.mainService.post('productdesigner/index/download', params).then(function (data) {\r\n            _this.zipfile = data.zipfile;\r\n            _this.mainService.downloadFiles(_this.zipfile, 'zip');\r\n        }).catch(function (err) {\r\n            console.log(_this.translate.instant(\"Error in loading download\"), err);\r\n        });\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('loaderComponent'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_6__[\"LoaderComponent\"])\r\n    ], PreviewComponent.prototype, \"loaderComponent\", void 0);\r\n    PreviewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[preview]',\r\n            template: __webpack_require__(/*! ./preview.component.html */ \"./src/app/essentials/components/preview/preview.component.html\"),\r\n            styles: [__webpack_require__(/*! ./preview.component.scss */ \"./src/app/essentials/components/preview/preview.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateService\"]])\r\n    ], PreviewComponent);\r\n    return PreviewComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/price/price.component.html\":\r\n/*!******************************************************************!*\\\r\n  !*** ./src/app/essentials/components/price/price.component.html ***!\r\n  \\******************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byi-cart-price\\\" *ngIf=\\\"mainService.isAdmin == false\\\">\\n\\t<label *ngIf=\\\"priceService.totalQty > 1\\\">{{'Total' | translate}} ({{priceService.totalQty}})</label>\\n\\t<span class=\\\"cart-amt\\\">{{priceService.getPrice()}}</span>\\n\\t<span price-info></span>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/price/price.component.scss\":\r\n/*!******************************************************************!*\\\r\n  !*** ./src/app/essentials/components/price/price.component.scss ***!\r\n  \\******************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wcmljZS9wcmljZS5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/price/price.component.ts\":\r\n/*!****************************************************************!*\\\r\n  !*** ./src/app/essentials/components/price/price.component.ts ***!\r\n  \\****************************************************************/\r\n/*! exports provided: PriceComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PriceComponent\", function() { return PriceComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _price_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./price.service */ \"./src/app/essentials/components/price/price.service.ts\");\r\n/* harmony import */ var _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../conf-product-attr/conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar PriceComponent = /** @class */ (function () {\r\n    function PriceComponent(mainService, eventService, canvasService, confProductService, priceService, translate) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.confProductService = confProductService;\r\n        this.priceService = priceService;\r\n        this.translate = translate;\r\n        this.data = [];\r\n        this.isDisplayPriceInfo = false;\r\n        this.showPriceInfo = false;\r\n        this.priceInfoData = [];\r\n        this.currentProductOtion = \"\";\r\n        this.subscribeEvents();\r\n    }\r\n    PriceComponent.prototype.getPrice = function () {\r\n        var _this = this;\r\n        var params = {\r\n            'product_id': this.mainService.productId,\r\n            'associated_id': this.mainService.associatedProductId\r\n        }, url = 'productdesigner/index/loadPrice', cacheKey = 'getPrice' + this.mainService.productId + '-' + this.mainService.associatedProductId + '-' + this.mainService.baseUrl;\r\n        this.mainService.getData(url, params, cacheKey).then(function (priceData) {\r\n            _this.priceService.priceAllData = JSON.parse(JSON.stringify(priceData.data));\r\n            _this.confProductService.productPrice = Object.assign({}, _this.priceService.priceAllData.productPrice);\r\n            _this.confProductService.tierPrice = Object.assign({}, _this.priceService.priceAllData.tierPrice);\r\n            _this.fixedPrice = _this.priceService.priceAllData.additionalFixedPrice ? _this.priceService.priceAllData.additionalFixedPrice : 0;\r\n            _this.calculatePrice();\r\n            _this.eventService.$pub('priceUpdate');\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    PriceComponent.prototype.ngOnInit = function () {\r\n        this.loadedDesignPrice = 0;\r\n        this.loadedDesignQty = 1;\r\n    };\r\n    PriceComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.calcAllObjPrice();\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.calcAllObjPrice();\r\n        });\r\n        this.eventService.$sub('processLoadProduct', function () {\r\n            _this.getPrice();\r\n        });\r\n        this.eventService.$sub('backgroundPatternsApplied', function () {\r\n            _this.calcAllObjPrice();\r\n        });\r\n    };\r\n    /* For Price Management*/\r\n    PriceComponent.prototype.calculatePrice = function () {\r\n        this.priceFormat = this.priceService.priceAllData.priceFormat;\r\n        var prices = {\r\n            textPrice: this.priceService.priceAllData.addedTextPrice,\r\n            addImagePrice: this.priceService.priceAllData.addedImagePrice,\r\n            uploadPrice: this.priceService.priceAllData.customAddedImagePrice,\r\n            tax: this.priceService.priceAllData.tax,\r\n            addTax: (this.priceService.priceAllData.showIncludeTax || this.priceService.priceAllData.showBothPrices)\r\n        };\r\n        var ObjPrice = this.canvasService.fetchAllObjectPrices(prices);\r\n        var OriginalProductPrice;\r\n        var taxPrice = 0;\r\n        this.productPrice = this.priceService.priceAllData.priceExclTax;\r\n        if (this.priceService.priceAllData.productPrice && Object.keys(this.priceService.priceAllData.productPrice).length && this.mainService.associatedProductId && this.priceService.priceAllData.productPrice[this.mainService.associatedProductId])\r\n            this.productPrice = this.priceService.priceAllData.productPrice[this.mainService.associatedProductId];\r\n        if (this.priceService.priceAllData.showIncludeTax) {\r\n            OriginalProductPrice = this.priceService.priceAllData.priceInclTax;\r\n            taxPrice = (parseFloat(this.priceService.priceAllData.priceExclTax) * parseFloat(this.priceService.priceAllData.tax)) / 100;\r\n            this.productPrice = (parseFloat(this.data.priceInclTax) / (100 + parseFloat(this.data.tax))) * 100;\r\n        }\r\n        else if (this.priceService.priceAllData.showExcludeTax) {\r\n            OriginalProductPrice = this.priceService.priceAllData.priceInclTax;\r\n            this.productPrice = this.priceService.priceAllData.priceExclTax;\r\n        }\r\n        else {\r\n            this.productPrice = this.priceService.priceAllData.productPrice[this.mainService.associatedProductId];\r\n        }\r\n        if (this.priceService.priceAllData.showBothPrices) {\r\n            taxPrice = (parseFloat(this.priceService.priceAllData.priceExclTax) * parseFloat(this.priceService.priceAllData.tax)) / 100;\r\n            OriginalProductPrice = parseFloat(this.priceService.priceAllData.priceInclTax);\r\n            var forBothPrice = parseFloat(this.priceService.priceAllData.priceExclTax) + parseFloat(this.fixedPrice) + parseFloat(ObjPrice.totalTextExcluTaxPrice) + parseFloat(ObjPrice.totalClipartImgExcluTaxPrice) + parseFloat(ObjPrice.totalUploadImgExcluTaxPrice);\r\n            this.productPriceExclTax = Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_7__[\"FormatCurrency\"])(forBothPrice, this.priceFormat, '');\r\n        }\r\n        this.priceService.tax = (parseFloat(this.priceService.priceAllData.tax) > 0 && (this.priceService.priceAllData.showIncludeTax || this.priceService.priceAllData.showBothPrices)) ? parseInt(this.priceService.priceAllData.tax) : null;\r\n        this.mainService.productPrice = parseFloat(this.productPrice);\r\n        this.mainService.otherPrices = parseFloat(this.fixedPrice);\r\n        // in case of configurable product, when user changes qty or \r\n        // attributes in add to cart popup, we find different prices based on input\r\n        // so we need to add fixed price to the new price\r\n        // hence we are saving fixed price in service\r\n        this.priceService.fixedPrice = parseFloat(this.fixedPrice);\r\n        this.calcAllObjPrice();\r\n        var finalPrice;\r\n        var tierPriceData;\r\n        tierPriceData = this.priceService.priceAllData.tierPrice[this.mainService.associatedProductId];\r\n        if (tierPriceData != undefined) {\r\n            tierPriceData.filter(function (obj) {\r\n                if (OriginalProductPrice <= obj.website_price) {\r\n                    tierPriceData = [];\r\n                }\r\n            });\r\n        }\r\n        finalPrice = this.mainService.calcFinalPrice(1);\r\n        this.productName = this.priceService.priceAllData.productName;\r\n        var cartData = {\r\n            productName: this.priceService.priceAllData.productName,\r\n            totalAmount: this.mainService.productPrice,\r\n            priceFormat: this.priceFormat,\r\n            showBothPrices: this.priceService.priceAllData.showBothPrices,\r\n            tierPriceData: tierPriceData,\r\n            productPriceExclTax: this.productPriceExclTax,\r\n            finalPrice: finalPrice\r\n        };\r\n        this.eventService.$pub('getCartData', cartData);\r\n        this.priceService.defaultPrice = this.productPrice;\r\n        this.priceService.addThisPrice();\r\n        this.priceService.priceFormat = this.priceFormat;\r\n        this.finalPrice = Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_7__[\"FormatCurrency\"])(finalPrice, this.priceFormat, '');\r\n        this.calcAllObjPrice();\r\n    };\r\n    /**\r\n     *\r\n     * @param obj\r\n     */\r\n    PriceComponent.prototype.calcAllObjPrice = function () {\r\n        // if price has not been loaded yet\r\n        if (!this.priceService.priceAllData)\r\n            return;\r\n        // variable declaration\r\n        var textPrice = (this.priceService.priceAllData.addedTextPrice == null) ? 0 : parseFloat(this.priceService.priceAllData.addedTextPrice), imagePrice = (this.priceService.priceAllData.addedImagePrice == null) ? 0 : parseFloat(this.priceService.priceAllData.addedImagePrice), customImagePrice = (this.priceService.priceAllData.customAddedImagePrice == null) ? 0 : parseFloat(this.priceService.priceAllData.customAddedImagePrice), allCanvases = this.mainService.canvasService.containerCanvases, tmpCanavs, allObjects, finalPrice = (this.priceService.fixedPrice) ? this.priceService.fixedPrice : 0;\r\n        // traverse through each canvas one by one\r\n        for (var key in allCanvases) {\r\n            // store current canvas in tmp var\r\n            tmpCanavs = allCanvases[key];\r\n            // fetch all objects of tmp canvas\r\n            allObjects = this.mainService.canvasService.getObjects(tmpCanavs);\r\n            // traverse through each object\r\n            allObjects.filter(function (currObj) {\r\n                // if object is of type text\r\n                if (currObj.type == 'text' && textPrice) {\r\n                    finalPrice += textPrice;\r\n                }\r\n                // if object is of type image\r\n                // we will determine price by tab\r\n                else if (currObj.hasOwnProperty('tab')) {\r\n                    // if tab is clipart, add image price to final\r\n                    if (currObj.tab == 'clipart' && imagePrice && (!currObj.price || currObj.price == \"NULL\" || currObj.price <= 0)) {\r\n                        finalPrice += imagePrice;\r\n                    }\r\n                    // if tab is upload, add image price and custom image upload price\r\n                    else if (currObj.tab == 'upload' && customImagePrice && imagePrice) {\r\n                        finalPrice += imagePrice + customImagePrice;\r\n                    }\r\n                }\r\n                // if current object has price property\r\n                // add the same\r\n                if (currObj.hasOwnProperty('price') && parseFloat(currObj.price) > 0) {\r\n                    finalPrice += parseFloat(currObj.price);\r\n                }\r\n            });\r\n        }\r\n        // finally add final price to service object\r\n        this.mainService.otherPrices = finalPrice;\r\n        // recalcuate the price\r\n        this.priceService.addThisPrice();\r\n    };\r\n    PriceComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\r\n            selector: 'price',\r\n            template: __webpack_require__(/*! ./price.component.html */ \"./src/app/essentials/components/price/price.component.html\"),\r\n            styles: [__webpack_require__(/*! ./price.component.scss */ \"./src/app/essentials/components/price/price.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_6__[\"CanvasService\"],\r\n            _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_2__[\"ConfProductAttrService\"],\r\n            _price_service__WEBPACK_IMPORTED_MODULE_1__[\"PriceService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__[\"TranslateService\"]])\r\n    ], PriceComponent);\r\n    return PriceComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/price/price.service.ts\":\r\n/*!**************************************************************!*\\\r\n  !*** ./src/app/essentials/components/price/price.service.ts ***!\r\n  \\**************************************************************/\r\n/*! exports provided: PriceService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PriceService\", function() { return PriceService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\r\n\r\n\r\n\r\n\r\nvar PriceService = /** @class */ (function () {\r\n    function PriceService(mainService) {\r\n        this.mainService = mainService;\r\n        this.additionalPrice = 0;\r\n        this.fixedPrice = 0;\r\n        this.finalPrice = 0;\r\n        this.defaultPrice = 0;\r\n        this.totalQty = 1;\r\n        this.tax = null;\r\n        this.fixedPrice = 0;\r\n        this.extraPriceToBeAdded = {\r\n            productPrice: 0,\r\n            customOptionsPrice: 0\r\n        };\r\n    }\r\n    PriceService.prototype.getPrice = function () {\r\n        if (this.finalPrice && this.priceFormat)\r\n            return Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_3__[\"FormatCurrency\"])(this.finalPrice, this.priceFormat, '');\r\n    };\r\n    PriceService.prototype.getIntPrice = function () {\r\n        if (this.finalPrice && this.priceFormat)\r\n            return (this.finalPrice);\r\n    };\r\n    PriceService.prototype.addThisPrice = function () {\r\n        this.finalPrice = parseFloat(this.defaultPrice) + parseFloat(this.extraPriceToBeAdded.productPrice) + ((parseFloat(this.extraPriceToBeAdded.customOptionsPrice) + parseFloat(this.additionalPrice) + this.mainService.otherPrices) * parseFloat(this.totalQty));\r\n        if (this.tax && this.tax > 0) {\r\n            this.finalPrice += ((this.finalPrice * this.tax) / 100);\r\n        }\r\n    };\r\n    PriceService.prototype.getTotalClipartsPrice = function () {\r\n        var allCanvas = this.mainService.canvasService.containerCanvases, currCanvas, allObjs, confClipartPrice = (this.priceAllData.addedImagePrice == null) ? 0 : parseFloat(this.priceAllData.addedImagePrice), totalPrice = 0;\r\n        for (var key in allCanvas) {\r\n            currCanvas = allCanvas[key];\r\n            allObjs = this.mainService.canvasService.getObjects(currCanvas);\r\n            allObjs.filter(function (currObj) {\r\n                if (currObj.hasOwnProperty('tab') && currObj.tab == 'clipart') {\r\n                    if (currObj.hasOwnProperty('price') && currObj.price > 0) {\r\n                        totalPrice += parseFloat(currObj.price);\r\n                    }\r\n                    else {\r\n                        totalPrice += confClipartPrice;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        return totalPrice;\r\n    };\r\n    PriceService.prototype.getTotalCustomUploadImagePrice = function () {\r\n        var allCanvas = this.mainService.canvasService.containerCanvases, currCanvas, allObjs, confClipartPrice = (this.priceAllData.addedImagePrice == null) ? 0 : parseFloat(this.priceAllData.addedImagePrice), customImagePrice = (this.priceAllData.customAddedImagePrice == null) ? 0 : parseFloat(this.priceAllData.customAddedImagePrice), totalPrice = 0;\r\n        for (var key in allCanvas) {\r\n            currCanvas = allCanvas[key];\r\n            allObjs = this.mainService.canvasService.getObjects(currCanvas);\r\n            allObjs.filter(function (currObj) {\r\n                if (currObj.hasOwnProperty('tab') && currObj.tab == 'upload') {\r\n                    totalPrice += customImagePrice + confClipartPrice;\r\n                }\r\n            });\r\n        }\r\n        return totalPrice;\r\n    };\r\n    PriceService.prototype.getTotalAddedTextPrice = function () {\r\n        var allCanvas = this.mainService.canvasService.containerCanvases, currCanvas, allObjs, textPrice = (this.priceAllData.addedTextPrice == null) ? 0 : parseFloat(this.priceAllData.addedTextPrice), totalPrice = 0;\r\n        for (var key in allCanvas) {\r\n            currCanvas = allCanvas[key];\r\n            allObjs = this.mainService.canvasService.getObjects(currCanvas);\r\n            allObjs.filter(function (currObj) {\r\n                if (currObj.hasOwnProperty('tab') && currObj.tab == 'text') {\r\n                    totalPrice += textPrice;\r\n                }\r\n            });\r\n        }\r\n        return totalPrice;\r\n    };\r\n    PriceService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__[\"MainService\"]])\r\n    ], PriceService);\r\n    return PriceService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/product-options/product-options.component.html\":\r\n/*!**************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/product-options/product-options.component.html ***!\r\n  \\**************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byi-product-attr\\\" [class.open]=\\\"productOptionsOpened\\\" *ngIf=\\\"options\\\">\\n\\t<button type=\\\"button\\\" class=\\\"byi-attr-btn\\\" (click)=\\\"toggleOptions()\\\" tooltip=\\\"{{'Product Options' | translate}}\\\">\\n\\t\\t<i class=\\\"byii-icon\\\">\\n\\t\\t\\t<svg class=\\\"icon icon-setting\\\" viewBox=\\\"0 0 54 54\\\">\\n\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-setting\\\"></use>\\n\\t\\t\\t</svg>\\n\\t\\t</i>\\n\\t\\t<span>{{'Product Options' | translate}}</span>\\n\\t</button>\\n\\t<div class=\\\"byip-options\\\">\\n\\t\\t<accordion class=\\\"byi-accordion\\\" [closeOthers]=\\\"true\\\" [isAnimated]=\\\"true\\\">\\n\\t\\t\\t<accordion-group class=\\\"byi-accord\\\" [isOpen]=\\\"i == 0\\\" *ngFor=\\\"let option of options;let i = index\\\"\\n\\t\\t\\t\\t[isOpen]=\\\"true\\\">\\n\\t\\t\\t\\t<button class=\\\"byi-accord-title\\\" accordion-heading>\\n\\t\\t\\t\\t\\t<span>{{option.label}}</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"byi-prod-color-list\\\" *ngIf=\\\"option.hasSwatch\\\">\\n\\t\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t\\t<li class=\\\"prod-color\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{active: selectedOptions[option.id] == value.value_index,disabled: checkProductOptionsValidation(value,i) }\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[title]=\\\"value.label\\\" *ngFor=\\\"let value of option.values;\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"changeProduct(value,option.id,i)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"value.type == 'image'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\\\"{{value.value}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"value.type == 'color'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span [style.background-color]=\\\"value.value\\\"></span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"byi-prod-color-list\\\" *ngIf=\\\"!option.hasSwatch\\\">\\n\\t\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t\\t<li class=\\\"prod-text\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{active: selectedOptions[option.id] == value.value_index ,disabled: checkProductOptionsValidation(value,i)}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[title]=\\\"value.label\\\" *ngFor=\\\"let value of option.values\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"changeProduct(value,option.id,i)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"value.type == 'text'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>{{value.value}}</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</accordion-group>\\n\\t\\t</accordion>\\n\\t</div>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/product-options/product-options.component.scss\":\r\n/*!**************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/product-options/product-options.component.scss ***!\r\n  \\**************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wcm9kdWN0LW9wdGlvbnMvcHJvZHVjdC1vcHRpb25zLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/product-options/product-options.component.ts\":\r\n/*!************************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/product-options/product-options.component.ts ***!\r\n  \\************************************************************************************/\r\n/*! exports provided: ProductOptionsComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductOptionsComponent\", function() { return ProductOptionsComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ProductOptionsComponent = /** @class */ (function () {\r\n    function ProductOptionsComponent(mainService, cacheService, eventService, canvasService, designService) {\r\n        this.mainService = mainService;\r\n        this.cacheService = cacheService;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.designService = designService;\r\n        this.productOptionsOpened = false;\r\n        this.productOptionsCacheKey = 'productOptions' + this.mainService.productId + '-' + this.mainService.baseUrl;\r\n    }\r\n    ProductOptionsComponent.prototype.ngOnInit = function () {\r\n        this.getProductOptions();\r\n        this.subscribeEvents();\r\n    };\r\n    ProductOptionsComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('closeProductOptions', function () {\r\n            _this.productOptionsOpened = false;\r\n        });\r\n    };\r\n    ProductOptionsComponent.prototype.getProductOptions = function () {\r\n        var _this = this;\r\n        var selectedOptionsString = '';\r\n        if (this.selected_super_attributes) {\r\n            selectedOptionsString = this.mainService.joinObject(this.selected_super_attributes);\r\n        }\r\n        var params = {\r\n            'product_id': this.mainService.productId,\r\n            'selectedOptions': this.selected_super_attributes\r\n        }, url = 'productdesigner/index/productOptions', cacheKey = this.productOptionsCacheKey + selectedOptionsString;\r\n        params = (this.designService.designId) ? Object.assign(params, { designId: this.designService.designId }) : params;\r\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n            _this.eventService.$pub('productOptionsFetched', data);\r\n            _this.processProductOptions(data);\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    ProductOptionsComponent.prototype.processProductOptions = function (data) {\r\n        this.options = data.productOptions;\r\n        this.mainService.productOptions = data.productOptions;\r\n        this.eventService.$pub('priceUpdate');\r\n        this.productsCombination = data.productsCombination;\r\n        this.selectedOptions = data.selectedOptions;\r\n        this.selectedOptionsValues = data.selectedOptionsValues;\r\n        this.selectedOptionString = Object.values(this.selectedOptionsValues).join(\"_\");\r\n        this.allProducts = data.allProducts;\r\n        if (this.cacheService.exists(\"product-tooltip-data\") && this.cacheService.get(\"product-tooltip-data\") == true) {\r\n            var tootltipData = [];\r\n            var productIntro = (this.mainService.productTooltipData[0] != \"\") ? this.mainService.productTooltipData[0] : \"\";\r\n            tootltipData.push({ element: \".byi-product-attr\", intro: productIntro, position: 'right' });\r\n            this.mainService.processToolTip(tootltipData, true);\r\n            this.toggleOptions();\r\n            this.cacheService.set(\"product-tooltip-data\", false, { maxAge: 0 });\r\n        }\r\n        if (this.options) {\r\n            if (document.querySelector('.byi-fab')) {\r\n                document.querySelector('.byi-fab').classList.add('byi-fab-option-active');\r\n            }\r\n        }\r\n    };\r\n    ProductOptionsComponent.prototype.toggleOptions = function () {\r\n        if (this.productOptionsOpened) {\r\n            this.productOptionsOpened = false;\r\n            if (document.querySelector('.byi-fab')) {\r\n                document.querySelector('.byi-fab').classList.remove('hide');\r\n            }\r\n        }\r\n        else {\r\n            this.productOptionsOpened = true;\r\n            if (document.querySelector('.byi-fab')) {\r\n                document.querySelector('.byi-fab').classList.add('hide');\r\n            }\r\n        }\r\n    };\r\n    ProductOptionsComponent.prototype.changeProduct = function (value, attId, i) {\r\n        this.setActiveSwatch(value, attId, i);\r\n        /**\r\n         * Fetch all object from current canvas before changing product combination\r\n         */\r\n        this.canvasService.fetchAllObjects();\r\n        this.eventService.$pub('productChanged', {\r\n            defaultSelectedOptions: this.selectedOptions,\r\n            defaultSelectedOptionsValues: this.selectedOptionsValues\r\n        });\r\n    };\r\n    ProductOptionsComponent.prototype.setActiveSwatch = function (value, attId, i) {\r\n        this.selectedOptions[attId] = value.value_index;\r\n        this.selectedOptionsValues[i] = value.value_index;\r\n        this.selectedOptionString = Object.values(this.selectedOptionsValues).join(\"_\");\r\n    };\r\n    ProductOptionsComponent.prototype.checkProductOptionsValidation = function (currentValue, index) {\r\n        var selectedOptions = this.selectedOptionString.split(\"_\");\r\n        selectedOptions[index] = currentValue.value_index;\r\n        var currentOption = selectedOptions.join(\"_\");\r\n        var combinations = Object.values(this.productsCombination);\r\n        if (combinations.indexOf(currentOption) == -1) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ProductOptionsComponent.prototype, \"selected_super_attributes\", void 0);\r\n    ProductOptionsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: 'product-options',\r\n            template: __webpack_require__(/*! ./product-options.component.html */ \"./src/app/essentials/components/product-options/product-options.component.html\"),\r\n            styles: [__webpack_require__(/*! ./product-options.component.scss */ \"./src/app/essentials/components/product-options/product-options.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_6__[\"CacheService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\r\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__[\"DesignService\"]])\r\n    ], ProductOptionsComponent);\r\n    return ProductOptionsComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/products/products.component.html\":\r\n/*!************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/products/products.component.html ***!\r\n  \\************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div [attr.hidden]=\\\"(displayAllProducts) ? null : true\\\">\\n  <div [attr.hidden]=\\\"(mainService.isAdmin == false) ? null : true\\\" class=\\\"byi-products-inner\\\" [class.open]=\\\"isToggle\\\">\\n    <button type=\\\"button\\\" class=\\\"byi-button\\\" (click)=\\\"isToggleOpen()\\\" tooltip=\\\"{{'Change Product' | translate}}\\\">{{productName}} <span class=\\\"caret\\\"></span></button>\\n    <div class=\\\"byi-products-wrap\\\">\\n      <div class=\\\"btc-pro-filter\\\">\\n        <div class=\\\"btc-pf-select\\\">\\n          <div class=\\\"byi-dropdown\\\" *ngIf=\\\"productsCategory?.length != 0\\\">\\n            <div class=\\\"btn-group\\\" dropdown [class.open]=\\\"isToggleCategory\\\">\\n              <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle productsContainer\\\"\\n              (click)=\\\"isToggleCategory = !isToggleCategory\\\"> {{selectedCat?.name}}\\n              <span class=\\\"caret\\\"></span>\\n            </button>\\n            <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n              <li class=\\\"productsContainer\\\" role=\\\"menuitem\\\" *ngFor=\\\"let category of productsCategory\\\" (click)=\\\"onChangeCategory(category,'')\\\"\\n              [ngClass]=\\\"{'selected': selectedCat.id == category.id }\\\">\\n              <span *ngFor=\\\"let i of getNumberArray(category.level)\\\">-</span>\\n              {{category.name}}\\n            </li>\\n          </ul>\\n        </div>\\n      </div>\\n      <div class=\\\"btc-pf-search\\\" >\\n        <div class=\\\"byi-search\\\">\\n          <input class=\\\"byi-input productsContainer\\\" (input)=\\\"searchProducts($event)\\\" [(ngModel)]=\\\"searchText\\\" name=\\\"searchText\\\"\\n          type=\\\"text\\\" placeholder=\\\"{{'Search by Name' | translate}}\\\">\\n          <button class=\\\"byi-search-btn\\\">\\n            <svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n            </svg>\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"byi-product-cat\\\">\\n    <div loader #loaderComponent></div>\\n    <div class=\\\"byi-norecord\\\" *ngIf=\\\"loaderComponent.showSubLoader === false && products.length == 0\\\">No Products\\n    Found</div>\\n    <ul *ngIf=\\\"products.length !== 0\\\" class=\\\"productsContainer\\\">\\n      <li *ngFor=\\\"let product of products\\\" title=\\\"{{product.name}}\\\">\\n        <a href=\\\"javascript:void(0)\\\" (click)=\\\"setTooltipFlag(product.href)\\\">\\n          <span>\\n            <img [src]=\\\"product.url\\\" />\\n          </span>\\n          <label>{{product.name}}</label>\\n        </a>\\n      </li>\\n    </ul>\\n  </div>\\n\\n  <div class=\\\"loadmore-action\\\" *ngIf=\\\"products.length != 0 && products.length > 16\\\">\\n    <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"Load More Products\\\" (click)=\\\"loadMoreProducts()\\\">\\n  </div>\\n</div>\\n</div>\\n\\n<div class=\\\"byi-product-wrap\\\" *ngIf=\\\"mainService.isResponsive && mainService.isAdmin == false\\\">\\n  <span class=\\\"byi-prod-name byi-caret-enable\\\" (click)=\\\"isToggleOpen()\\\">{{productName}}</span>\\n  <div class=\\\"byi-products-inner\\\" [class.open]=\\\"isToggle\\\">\\n    <div class=\\\"byi-top-head\\\">\\n      <ul class=\\\"byi-breadcrum\\\">\\n        <li *ngFor=\\\"let cat of selectedProductsCategory\\\">\\n          <a href=\\\"javascript:void(0)\\\" (click)=\\\"parseCat(cat)\\\"><span>{{cat.name}}</span></a>\\n          <ul class=\\\"byi-sub-menu\\\" [hidden]=\\\"!cat.showSub\\\">\\n            <ng-container *ngFor=\\\"let category of currentResponsiveCats\\\">\\n              <li class=\\\"level1\\\" [ngClass]=\\\"{'selected': cat.id == category.id }\\\" >\\n                <a href=\\\"javascript:void(0)\\\" (click)=\\\"onChangeCategory(category,'')\\\"><span>{{category.name}}</span></a>\\n\\n                <span class=\\\"byi-toggle-icon byi-expand\\\" *ngIf=\\\"category.subcategory && category.subcategory.length > 0 && activeSubCat != category.id && category.level == 2\\\" (click)=\\\"activeSubCat = category.id\\\">+</span>\\n                <span class=\\\"byi-toggle-icon byi-collapse\\\" *ngIf=\\\"category.subcategory && category.subcategory.length > 0 && activeSubCat == category.id && category.level == 2\\\" (click)=\\\"activeSubCat = 0\\\">-</span>\\n                <span class=\\\"byi-toggle-icon byi-back\\\" *ngIf=\\\"category.level != 2\\\" (click)=\\\"backCategory(category)\\\"> <span></span> </span>\\n                <ul class=\\\"byi-sub-menu\\\" [hidden]=\\\"activeSubCat != category.id\\\" *ngIf=\\\"category.subcategory && category.subcategory.length > 0\\\">\\n                  <ng-container *ngFor=\\\"let subcategory of category.subcategory\\\">\\n                    <li class=\\\"level1\\\">\\n                      <a href=\\\"javascript:void(0)\\\" (click)=\\\"onChangeCategory(subcategory,'')\\\"><span>{{subcategory.name}}</span></a>\\n                      <span class=\\\"byi-toggle-icon byi-sub-expand\\\" *ngIf=\\\"subcategory.subcategory && subcategory.subcategory.length > 0 \\\" (click)=\\\"updateShownCat(category.id,subcategory.id)\\\"> > </span>\\n                    </li>\\n                  </ng-container>\\n                </ul>\\n              </li>\\n            </ng-container>\\n          </ul>\\n        </li>\\n      </ul>\\n      <button class=\\\"byi-close-btn\\\" type=\\\"button\\\" (click)=\\\"isToggleOpen()\\\">\\n        <span></span>\\n      </button>\\n    </div>\\n    <div class=\\\"byi-top-filters\\\">\\n      <div class=\\\"byi-search\\\">\\n        <input class=\\\"byi-input\\\" name=\\\"searchText\\\" (input)=\\\"searchProducts($event)\\\" placeholder=\\\"Search by Name\\\"\\n        type=\\\"text\\\">\\n        <button class=\\\"byi-search-btn\\\">\\n          <svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n          </svg>\\n        </button>\\n      </div>\\n    </div>\\n    <div class=\\\"byi-product-cats\\\">\\n      <div loader #loaderComponent></div>\\n      <div class=\\\"byi-norecord\\\" *ngIf=\\\"loaderComponent.showSubLoader === false && products.length == 0\\\">No Products\\n      Found</div>\\n      <ul *ngIf=\\\"products.length !== 0\\\">\\n        <li *ngFor=\\\"let product of products\\\">\\n          <a href=\\\"javascript:void(0)\\\" (click)=\\\"setTooltipFlag(product.href)\\\">\\n            <span>\\n              <img [src]=\\\"product.url\\\" />\\n            </span>\\n            <label>{{product.name}}</label>\\n          </a>\\n        </li>\\n      </ul>\\n    </div>\\n    <div class=\\\"loadmore-action\\\" *ngIf=\\\"products.length != 0 && products.length > 16\\\">\\n      <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More Products' | translate}}\\\"\\n      (click)=\\\"loadMoreProducts()\\\">\\n    </div>\\n  </div>\\n</div>\\n</div>\\n<div *ngIf=\\\"!displayAllProducts || mainService.isAdmin\\\">\\n  <button type=\\\"button\\\" class=\\\"byi-button\\\" *ngIf=\\\"!mainService.isResponsive\\\" >{{productName}}</button>\\n  <span class=\\\"byi-prod-name no-caret\\\" *ngIf=\\\"mainService.isResponsive\\\"  >{{productName}}</span>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/products/products.component.scss\":\r\n/*!************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/products/products.component.scss ***!\r\n  \\************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wcm9kdWN0cy9wcm9kdWN0cy5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/products/products.component.ts\":\r\n/*!**********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/products/products.component.ts ***!\r\n  \\**********************************************************************/\r\n/*! exports provided: ProductsComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductsComponent\", function() { return ProductsComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ProductsComponent = /** @class */ (function () {\r\n    function ProductsComponent(mainService, eventService, cdr, cacheService) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.cdr = cdr;\r\n        this.cacheService = cacheService;\r\n        this.isToggle = false;\r\n        this.isToggleCategory = false;\r\n        this.productsCategory = [];\r\n        this.responsiveProductsCategory = [];\r\n        this.currentResponsiveCats = [];\r\n        this.allResponsiveCats = [];\r\n        this.selectedProductsCategory = [];\r\n        this.searchText = '';\r\n        this.products = [];\r\n        this.selectedCat = {};\r\n        this.showSub = true;\r\n        this.limit = 16;\r\n        this.activeSubCat = 0;\r\n        this.displayAllProducts = false;\r\n    }\r\n    ProductsComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.loadCategory();\r\n        this.eventService.$sub('closeAllProducts', function () {\r\n            if (!_this.mainService.isResponsive) {\r\n                _this.isToggle = false;\r\n            }\r\n        });\r\n        this.eventService.$sub('getCartData', function (data) {\r\n            _this.productName = data.productName;\r\n        });\r\n        this.eventService.$sub('openAllProduct', function () {\r\n            _this.cacheService.set(\"product-tooltip-data\", true, { maxAge: 15 * 60 });\r\n            _this.isToggleOpen();\r\n        });\r\n    };\r\n    ProductsComponent.prototype.setTooltipFlag = function (link) {\r\n        if (window.location != window.parent.location) {\r\n            window.top.location.href = link;\r\n        }\r\n        else {\r\n            window.location.href = link;\r\n        }\r\n    };\r\n    ProductsComponent.prototype.loadCategory = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var params, url, cacheKey;\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        params = { limit: this.limit, 'productId': this.mainService.productId, 'search': this.searchText }, url = 'productdesigner/catalog/getCategory', cacheKey = 'getCategory' + this.mainService.baseUrl + this.mainService.productId;\r\n                        return [4 /*yield*/, this.mainService.getData(url, params, cacheKey).then(function (res) {\r\n                                if (res.enableAllProducts == 1) {\r\n                                    _this.displayAllProducts = true;\r\n                                }\r\n                                _this.eventService.$pub('DisplayAllProducts', _this.displayAllProducts);\r\n                                if (res && res.catalogCategory && res.catalogProducts.products) {\r\n                                    _this.productsCategory = res.catalogCategory;\r\n                                    _this.products = res.catalogProducts.products;\r\n                                    var filterArr = _this.productsCategory.filter(function (data) { return data.id == res.defaultCatId; });\r\n                                    if (filterArr.length == 0) {\r\n                                        _this.selectedCat = _this.productsCategory[0];\r\n                                    }\r\n                                    else {\r\n                                        _this.selectedCat = filterArr[0];\r\n                                    }\r\n                                    _this.selectedProductsCategory[0] = _this.selectedCat;\r\n                                    _this.activeSubCat = _this.selectedCat.id;\r\n                                    if (_this.mainService.isResponsive) {\r\n                                        _this.processProductCategory();\r\n                                    }\r\n                                }\r\n                            })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ProductsComponent.prototype.processProductCategory = function () {\r\n        var sortedArray = this.productsCategory.sort(function (a, b) {\r\n            return a.level - b.level;\r\n        });\r\n        var _loop_1 = function (category) {\r\n            if (category.parentId) {\r\n                var filtered = this_1.responsiveProductsCategory.filter(function (data) { return data.id == category.parentId; });\r\n                if (filtered.length != 0) {\r\n                    filtered[0]['subcategory'].push(category);\r\n                }\r\n                else {\r\n                    this_1.checkForParent(category);\r\n                }\r\n            }\r\n            else {\r\n                var data = [];\r\n                data['subcategory'] = [];\r\n                data['id'] = category.id;\r\n                data['name'] = category.name;\r\n                data['level'] = category.level;\r\n                data['path'] = category.path;\r\n                this_1.responsiveProductsCategory.push(data);\r\n            }\r\n            this_1.currentResponsiveCats = this_1.responsiveProductsCategory.map(function (a) { return Object.assign({}, a); });\r\n            this_1.allResponsiveCats[category.id] = this_1.responsiveProductsCategory.map(function (a) { return Object.assign({}, a); });\r\n        };\r\n        var this_1 = this;\r\n        for (var _i = 0, sortedArray_1 = sortedArray; _i < sortedArray_1.length; _i++) {\r\n            var category = sortedArray_1[_i];\r\n            _loop_1(category);\r\n        }\r\n        this.allResponsiveCats[this.selectedCat.id] = this.currentResponsiveCats.map(function (a) { return Object.assign({}, a); });\r\n    };\r\n    ProductsComponent.prototype.checkForParent = function (category) {\r\n        for (var _i = 0, _a = this.responsiveProductsCategory; _i < _a.length; _i++) {\r\n            var cat = _a[_i];\r\n            var filtered = cat.subcategory.filter(function (data) { return data.id == category.parentId; });\r\n            if (filtered.length != 0) {\r\n                this.parseCategory(filtered, cat, category);\r\n            }\r\n            else {\r\n                if (cat.subcategory.length > 0) {\r\n                    for (var _b = 0, _c = cat.subcategory; _b < _c.length; _b++) {\r\n                        var subCat = _c[_b];\r\n                        if (subCat.subcategory && subCat.subcategory.length > 0) {\r\n                            var filtered_1 = subCat.subcategory.filter(function (data) { return data.id == category.parentId; });\r\n                            this.parseCategory(filtered_1, subCat, category);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ProductsComponent.prototype.parseCategory = function (filtered, subCat, category) {\r\n        if (filtered.length != 0) {\r\n            if (!filtered[0]['subcategory']) {\r\n                filtered[0]['subcategory'] = [];\r\n            }\r\n            filtered[0]['subcategory'].push(category);\r\n            var filtered1_1 = subCat.subcategory.filter(function (data) { return data.id == filtered[0].parentId; });\r\n            if (filtered1_1.length != 0) {\r\n                if (!filtered1_1[0]['subcategory']) {\r\n                    filtered1_1[0]['subcategory'] = [];\r\n                }\r\n                filtered1_1[0]['subcategory'].push(category);\r\n                var filtered2 = subCat.subcategory.filter(function (data) { return data.id == filtered1_1[0].parentId; });\r\n                if (filtered2.length != 0) {\r\n                    if (!filtered2[0]['subcategory']) {\r\n                        filtered2[0]['subcategory'] = [];\r\n                    }\r\n                    filtered2[0]['subcategory'].push(category);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ProductsComponent.prototype.getNumberArray = function (value) {\r\n        value = value - 2;\r\n        var items = [];\r\n        for (var i = 1; i <= value; i++) {\r\n            items.push(i);\r\n        }\r\n        return items;\r\n    };\r\n    ProductsComponent.prototype.onChangeCategory = function (selectedCat, searchText, showSub) {\r\n        var _this = this;\r\n        if (showSub === void 0) { showSub = true; }\r\n        this.selectedCat = selectedCat != null ? selectedCat : this.selectedCat;\r\n        this.products = [];\r\n        this.loaderComponent.showSubLoader = true;\r\n        this.cdr.detectChanges();\r\n        var catId = selectedCat == null ? selectedCat : selectedCat.id;\r\n        var params = { limit: this.limit, 'productId': this.mainService.productId, 'search': searchText, 'categoryId': catId }, url = 'productdesigner/catalog/getProducts', cacheKey = 'getProducts' + searchText + catId + this.mainService.baseUrl;\r\n        this.mainService.getData(url, params, cacheKey).then(function (res) {\r\n            if (res) {\r\n                _this.loaderComponent.showSubLoader = false;\r\n                _this.products = res.catalogProducts.products;\r\n            }\r\n        });\r\n        /**\r\n         * responsive chnages\r\n         */\r\n        if (showSub) {\r\n            for (var _i = 0, _a = this.selectedProductsCategory; _i < _a.length; _i++) {\r\n                var selectedProductCat = _a[_i];\r\n                selectedProductCat.showSub = false;\r\n            }\r\n            this.selectedCat.showSub = true;\r\n        }\r\n        /**\r\n         * Find sequence\r\n         */\r\n        this.pushCategoryPaths(this.selectedCat);\r\n        this.updateShownCat(this.selectedCat.parentId, this.selectedCat.id);\r\n    };\r\n    ProductsComponent.prototype.pushCategoryPaths = function (selectedCat) {\r\n        this.selectedProductsCategory = [];\r\n        if (selectedCat.level == 2) {\r\n            this.selectedProductsCategory.push(selectedCat);\r\n            return;\r\n        }\r\n        var paths = selectedCat.path.split(\"/\");\r\n        var _loop_2 = function (path) {\r\n            if (path == '1' || path == '2') {\r\n                return \"continue\";\r\n            }\r\n            var filter = this_2.productsCategory.filter(function (data) { return data.id == path; });\r\n            this_2.selectedProductsCategory.push(filter[0]);\r\n        };\r\n        var this_2 = this;\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var path = paths_1[_i];\r\n            _loop_2(path);\r\n        }\r\n        this.selectedProductsCategory.push(selectedCat);\r\n    };\r\n    ProductsComponent.prototype.isToggleOpen = function () {\r\n        this.isToggle = !this.isToggle;\r\n    };\r\n    //Load more\r\n    ProductsComponent.prototype.loadMoreProducts = function () {\r\n        this.limit = this.limit + 16;\r\n        this.onChangeCategory(this.selectedCat.id, '');\r\n    };\r\n    //Search Products\r\n    ProductsComponent.prototype.searchProducts = function ($event) {\r\n        var searchTxt = $event.target.value.toString();\r\n        var catId = '';\r\n        if (searchTxt == \"\") {\r\n            catId = this.selectedCat;\r\n        }\r\n        else {\r\n            catId = null;\r\n        }\r\n        var self = this;\r\n        setTimeout(function () {\r\n            self.onChangeCategory(catId, searchTxt, false);\r\n        }, 500);\r\n    };\r\n    ProductsComponent.prototype.updateShownCat = function (parentId, currentId) {\r\n        var filtered = this.currentResponsiveCats.filter(function (data) { return data.id == parentId; });\r\n        var filtered1;\r\n        if (filtered[0] && filtered[0].subcategory) {\r\n            filtered1 = filtered[0].subcategory.filter(function (data) { return data.id == currentId; });\r\n        }\r\n        if (filtered1 && filtered1[0] && filtered1[0].level == 2) {\r\n            this.allResponsiveCats[currentId] = filtered[0].subcategory.map(function (a) { return Object.assign({}, a); });\r\n        }\r\n        if (filtered[0] && filtered[0].subcategory) {\r\n            filtered[0].subcategory = filtered1;\r\n            this.currentResponsiveCats = filtered[0].subcategory.map(function (a) { return Object.assign({}, a); });\r\n            this.activeSubCat = filtered[0].subcategory[0].id;\r\n        }\r\n        if (filtered1 && filtered1[0] && filtered1[0].level != 2) {\r\n            this.allResponsiveCats[currentId] = filtered[0].subcategory.map(function (a) { return Object.assign({}, a); });\r\n        }\r\n    };\r\n    ProductsComponent.prototype.parseCat = function (cat) {\r\n        this.activeSubCat = cat.id;\r\n        this.currentResponsiveCats = this.allResponsiveCats[cat.id].map(function (a) { return Object.assign({}, a); });\r\n        for (var _i = 0, _a = this.productsCategory; _i < _a.length; _i++) {\r\n            var subcat = _a[_i];\r\n            if (cat.id != subcat.id) {\r\n                subcat.showSub = false;\r\n            }\r\n        }\r\n        cat.showSub = !cat.showSub;\r\n    };\r\n    ProductsComponent.prototype.backCategory = function (cat) {\r\n        var filtered = this.responsiveProductsCategory.filter(function (data) { return data.id == cat.parentId; });\r\n        if (filtered.length == 0) {\r\n            var filtered1 = void 0;\r\n            for (var _i = 0, _a = this.responsiveProductsCategory; _i < _a.length; _i++) {\r\n                var selectedProductCat = _a[_i];\r\n                filtered1 = selectedProductCat.subcategory.filter(function (data) { return data.id == cat.parentId; });\r\n                if (filtered1.length != 0) {\r\n                    this.activeSubCat = filtered1[0].id;\r\n                    this.currentResponsiveCats = filtered1.map(function (a) { return Object.assign({}, a); });\r\n                    ;\r\n                    break;\r\n                }\r\n                else {\r\n                    var filtered2 = void 0;\r\n                    for (var _b = 0, _c = selectedProductCat.subcategory; _b < _c.length; _b++) {\r\n                        var selectedProductSubCat = _c[_b];\r\n                        if (selectedProductSubCat.subcategory) {\r\n                            filtered2 = selectedProductSubCat.subcategory.filter(function (data) { return data.id == cat.parentId; });\r\n                            if (filtered2.length != 0) {\r\n                                this.activeSubCat = filtered2[0].id;\r\n                                this.currentResponsiveCats = filtered2.map(function (a) { return Object.assign({}, a); });\r\n                                ;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.activeSubCat = filtered[0].id;\r\n            if (filtered[0].level == 2) {\r\n                this.currentResponsiveCats = this.responsiveProductsCategory.map(function (a) { return Object.assign({}, a); });\r\n            }\r\n            else {\r\n                this.currentResponsiveCats = filtered;\r\n            }\r\n        }\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('loaderComponent'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__[\"LoaderComponent\"])\r\n    ], ProductsComponent.prototype, \"loaderComponent\", void 0);\r\n    ProductsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[products]',\r\n            template: __webpack_require__(/*! ./products.component.html */ \"./src/app/essentials/components/products/products.component.html\"),\r\n            styles: [__webpack_require__(/*! ./products.component.scss */ \"./src/app/essentials/components/products/products.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_5__[\"CacheService\"]])\r\n    ], ProductsComponent);\r\n    return ProductsComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/right-panel/right-panel-update.service.ts\":\r\n/*!*********************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/right-panel/right-panel-update.service.ts ***!\r\n  \\*********************************************************************************/\r\n/*! exports provided: RightPanelUpdateService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RightPanelUpdateService\", function() { return RightPanelUpdateService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar RightPanelUpdateService = /** @class */ (function () {\r\n    function RightPanelUpdateService() {\r\n        this.init = function (params) {\r\n            var properties = params.properties, option = properties.option, selectedObj = params.obj, canvasService = params.service, eventService = params.eventService;\r\n            return {\r\n                /**\r\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\r\n                 *\r\n                 */\r\n                exec: function () {\r\n                    if (option == \"front\") {\r\n                        canvasService.currentCanvas.bringToFront(selectedObj);\r\n                    }\r\n                    else if (option == \"back\") {\r\n                        canvasService.currentCanvas.sendToBack(selectedObj);\r\n                    }\r\n                    else if (option == \"forward\") {\r\n                        canvasService.currentCanvas.bringForward(selectedObj);\r\n                    }\r\n                    else if (option == \"backward\") {\r\n                        canvasService.currentCanvas.sendBackwards(selectedObj);\r\n                    }\r\n                    canvasService.currentCanvas.renderAll();\r\n                    eventService.$pub('canvasObjectModified', selectedObj);\r\n                },\r\n                unexec: function () {\r\n                    if (option == \"front\") {\r\n                        canvasService.currentCanvas.sendToBack(selectedObj);\r\n                    }\r\n                    else if (option == \"back\") {\r\n                        canvasService.currentCanvas.bringToFront(selectedObj);\r\n                    }\r\n                    else if (option == \"forward\") {\r\n                        canvasService.currentCanvas.sendBackwards(selectedObj);\r\n                    }\r\n                    else if (option == \"backward\") {\r\n                        canvasService.currentCanvas.bringForward(selectedObj);\r\n                    }\r\n                    canvasService.currentCanvas.renderAll();\r\n                    eventService.$pub('canvasObjectModified', selectedObj);\r\n                }\r\n            };\r\n        };\r\n    }\r\n    RightPanelUpdateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        })\r\n    ], RightPanelUpdateService);\r\n    return RightPanelUpdateService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/right-panel/right-panel.component.html\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/right-panel/right-panel.component.html ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<cropper #cropper></cropper>\\n<div *ngIf=\\\"!rightPanelService.mainService.isResponsive\\\" class=\\\"byi-right-panel\\\">\\n  <div class=\\\"byi-general-options\\\">\\n    <div class=\\\"byig-option-row\\\">\\n      <div class=\\\"byig-option\\\">\\n        <label>{{'Alignment' | translate}}</label>\\n        <ul class=\\\"byig-control\\\">\\n          <li (click)=\\\"setAlignment('left')\\\" tooltip=\\\"{{'Align Left' | translate}}\\\" container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-left\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-left\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"setAlignment('alignHorizontalCenter')\\\" tooltip=\\\"{{'Align Horizontally' | translate}}\\\"\\n            container=\\\"body\\\" [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-center\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-center\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"setAlignment('right')\\\" tooltip=\\\"{{'Align Right' | translate}}\\\" container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-right\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-right\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"setAlignment('top')\\\" tooltip=\\\"{{'Align Top' | translate}}\\\" container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-top\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-top\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"setAlignment('alignVerticalCenter')\\\" tooltip=\\\"{{'Align Vertically' | translate}}\\\"\\n            container=\\\"body\\\" [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-vcenter\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-vcenter\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"setAlignment('bottom')\\\" tooltip=\\\"{{'Align Bottom' | translate}}\\\" container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-bottom\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-bottom\\\"></use>\\n            </svg>\\n          </li>\\n          <span distribute-vertical-horizontal-alignment></span>\\n        </ul>\\n      </div>\\n    </div>\\n    <div class=\\\"byig-option-row byig-inline-option\\\">\\n      <div class=\\\"byig-option\\\">\\n        <label>{{'Layer' | translate}}</label>\\n        <ul class=\\\"byig-control\\\">\\n          <li (click)=\\\"rightPanelService.canvasService.ObjectLayer('forward')\\\" tooltip=\\\"{{'Bring Forward' | translate}}\\\"\\n            container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('bringToFront') != -1}\\\">\\n            <svg class=\\\"icon icon-layer-top\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-top\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"rightPanelService.canvasService.ObjectLayer('back')\\\" tooltip=\\\"{{'Send To Back' | translate}}\\\"\\n            container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('sendToBack') != -1}\\\">\\n            <svg class=\\\"icon icon-layer-mbottom\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-mbottom\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"rightPanelService.canvasService.ObjectLayer('front')\\\" tooltip=\\\"{{'Bring To Front' | translate}}\\\"\\n            container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('bringToFront') != -1}\\\">\\n            <svg class=\\\"icon icon-layer-mtop\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-mtop\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"rightPanelService.canvasService.ObjectLayer('backward')\\\"\\n            tooltip=\\\"{{'Send Backward' | translate}}\\\" container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('sendToBack') != -1}\\\">\\n            <svg class=\\\"icon icon icon-layer-bottom\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-bottom\\\"></use>\\n            </svg>\\n          </li>\\n        </ul>\\n      </div>\\n      <div class=\\\"byig-option\\\">\\n        <label>{{'Flip' | translate}}</label>\\n        <ul class=\\\"byig-control\\\">\\n          <li (click)=\\\"rightPanelService.canvasService.Flip('horizontal')\\\" tooltip=\\\"{{'Flip Horizontal' | translate}}\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-flip-h\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-flip-h\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"rightPanelService.canvasService.Flip('vertical')\\\" tooltip=\\\"{{'Flip Vertical' | translate}}\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-flip-v\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-flip-v\\\"></use>\\n            </svg>\\n          </li>\\n        </ul>\\n      </div>\\n    </div>\\n    <div class=\\\"byig-option-row\\\">\\n      <div class=\\\"byig-option\\\">\\n        <label>{{'Tools' | translate}}</label>\\n        <ul class=\\\"byig-control\\\">\\n          <span object-grouping></span>\\n          <li (click)=\\\"copyObject()\\\" tooltip=\\\"{{'Duplicate' | translate}}\\\"\\n            [ngClass]=\\\"{'disabled': disableDuplicate() == true}\\\">\\n            <svg class=\\\"icon icon-t-duplicate\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-t-duplicate\\\"></use>\\n            </svg>\\n          </li>\\n          <li tooltip=\\\"{{'Delete' | translate}}\\\" (click)=\\\"rightPanelService.canvasService.deleteObject()\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n            </svg>\\n          </li>\\n          <li tooltip=\\\"{{'Best Fit' | translate}}\\\" (click)=\\\"bestFitObject()\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-best-fit\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-best-fit\\\"></use>\\n            </svg>\\n          </li>\\n          <li tooltip=\\\"{{'Crop Image' | translate}}\\\" (click)=\\\"cropImage()\\\"\\n            [ngClass]=\\\"{'disabled': disableCrop == true}\\\">\\n            <svg class=\\\"icon icon-crop\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-crop\\\"></use>\\n            </svg>\\n          </li>\\n          <li *ngIf=\\\"mainService.isAdmin == true\\\" [ngClass]=\\\"{'selected': ultimateLockClass == true, 'disabled': rightPanelService.disableForSingleObj == true}\\\"  object-lock tooltip=\\\"{{ultimateLockTooltip | translate}}\\\"></li>\\n           <span background-pattern-controls [loadContent]=\\\"true\\\"></span>\\n        </ul>\\n      </div>\\n    </div>\\n  </div>\\n  <accordion class=\\\"byi-accordion byi-tooltip-right-panel\\\" [closeOthers]=\\\"true\\\" [isAnimated]=\\\"true\\\">\\n    <div class=\\\"byie-option-wrap\\\" font></div>\\n    <div class=\\\"byie-option-wrap\\\" stroke></div>\\n    <div class=\\\"byie-option-wrap\\\" drop-shadow></div>\\n    <div class=\\\"byie-option-wrap\\\" opacity></div>\\n    <div class=\\\"byie-option-wrap\\\" skew></div>\\n    <div class=\\\"byie-option-wrap\\\" object-position></div>\\n    <div class=\\\"byie-option-wrap\\\" image-effects></div>\\n    <div class=\\\"byie-option-wrap\\\" background-pattern-controls></div>\\n  </accordion>\\n</div>\\n\\n<div *ngIf=\\\"rightPanelService.mainService.isResponsive\\\" class=\\\"byi-general-option-mob \\\" [class.open]=\\\"isOpenClass\\\">\\n  <button type=\\\"button\\\" class=\\\"byi-expand-btn\\\" (click)=\\\"isOpenClass = !isOpenClass\\\">\\n    <svg class=\\\"icon icon-more-right-btn\\\" viewBox=\\\"0 0 30 30\\\">\\n      <use xlink:href=\\\"assets/img/sprite.svg#icon-more-btn\\\"></use>\\n    </svg>\\n  </button>\\n\\n  <ul class=\\\"byig-option-mob\\\">\\n     <span object-grouping></span>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"copyObject()\\\"\\n      [ngClass]=\\\"{'disabled': disableDuplicate() == true}\\\">\\n      <svg class=\\\"icon icon-t-duplicate\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-t-duplicate\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg (click)=\\\"rightPanelService.canvasService.deleteObject()\\\" class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" title=\\\"{{'Best Fit' | translate}}\\\" (click)=\\\"bestFitObject()\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-best-fit\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-best-fit\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" title=\\\"{{'Crop Image' | translate}}\\\" (click)=\\\"cropImage()\\\"\\n      [ngClass]=\\\"{'disabled': disableCrop == true}\\\">\\n      <svg class=\\\"icon icon-crop\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-crop\\\"></use>\\n      </svg>\\n    </li>\\n    \\n    <li (click)=\\\"setAlignment('left')\\\" class=\\\"mob-right-panel-options\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-left\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-left\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"setAlignment('alignHorizontalCenter')\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-center\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-center\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"setAlignment('right')\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-right\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-right\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"setAlignment('top')\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-top\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-top\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"setAlignment('alignVerticalCenter')\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-vcenter\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-vcenter\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"setAlignment('bottom')\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-bottom\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-bottom\\\"></use>\\n      </svg>\\n    </li>\\n    <span distribute-vertical-horizontal-alignment></span>\\n    \\n    <li class=\\\"mob-right-panel-options\\\" [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\"\\n      object-lock tooltip=\\\"{{'Ultimate Lock' | translate}}\\\"></li>\\n\\n        <span background-pattern-controls [loadContent]=\\\"true\\\"></span>\\n\\n  </ul>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/right-panel/right-panel.component.scss\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/right-panel/right-panel.component.scss ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9yaWdodC1wYW5lbC9yaWdodC1wYW5lbC5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/right-panel/right-panel.component.ts\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/right-panel/right-panel.component.ts ***!\r\n  \\****************************************************************************/\r\n/*! exports provided: RightPanelComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RightPanelComponent\", function() { return RightPanelComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_services_remove_object_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/remove-object.service */ \"./src/app/services/remove-object.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _right_panel_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./right-panel.service */ \"./src/app/essentials/components/right-panel/right-panel.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar RightPanelComponent = /** @class */ (function () {\r\n    function RightPanelComponent(eventService, mainService, removeObjectService, rightPanelService) {\r\n        this.eventService = eventService;\r\n        this.mainService = mainService;\r\n        this.removeObjectService = removeObjectService;\r\n        this.rightPanelService = rightPanelService;\r\n        this.ultimateLockClass = false;\r\n        this.isOpenClass = false;\r\n        // will handle layers enable disable(for changing object z-index)\r\n        this.disabledLayers = [];\r\n    }\r\n    RightPanelComponent.prototype.ngOnInit = function () {\r\n        this.initData();\r\n        this.subscribeEvents();\r\n    };\r\n    /**\r\n     * will be called each time object is CRUD\r\n     */\r\n    RightPanelComponent.prototype.initData = function () {\r\n        this.disableCrop = (this.enableCropper() === true) ? false : true;\r\n        this.rightPanelService.manageFlagForEnableDisable();\r\n        this.rightPanelService.checkForLayers();\r\n        this.disableDuplicate();\r\n    };\r\n    /**\r\n     * Check if active image is of type image and active image is not svg image, then return true, false otherwise\r\n     */\r\n    RightPanelComponent.prototype.enableCropper = function () {\r\n        var activeObj = this.rightPanelService.canvasService.getActiveObject();\r\n        return (activeObj && activeObj.objType == 'image' && activeObj.isSvg == false && activeObj.ultimatelock != true);\r\n    };\r\n    /*Enable tooltip*/\r\n    RightPanelComponent.prototype.enableTooltip = function (obj) {\r\n        var self = this;\r\n        var tabId = ((obj.tab == \"text\") ? \"1\" : ((obj.tab == \"clipart\") ? \"2\" : ((obj.tab == \"upload\") ? \"3\" : '')));\r\n        if (tabId != \"\") {\r\n            var getIndx = Object.keys(this.mainService.getAllTabs).indexOf(tabId);\r\n            var tootltipObj = this.mainService.getAllTabs[getIndx + 1];\r\n            var tootltipData = [];\r\n            if (tootltipObj.second_tooltip != null) {\r\n                tootltipData.push({ element: \".byi-right-panel\", intro: tootltipObj.second_tooltip, position: 'right' });\r\n                this.mainService.processToolTip(tootltipData, true);\r\n                this.mainService.isToolTipEnable = false;\r\n            }\r\n            else {\r\n                setTimeout(function () { introJs().exit(); self.mainService.isToolTipEnable = false; }, 10000);\r\n            }\r\n        }\r\n    };\r\n    RightPanelComponent.prototype.changeTooltip = function (obj) {\r\n        if (obj != \"\") {\r\n            this.ultimateLockTooltip = (obj.ultimatelock == true) ? \"Ultimate Unlock\" : \"Ultimate Lock\";\r\n        }\r\n    };\r\n    RightPanelComponent.prototype.applyClassForUltimateLock = function (obj) {\r\n        if (obj != \"\") {\r\n            this.ultimateLockClass = (obj.ultimatelock == true) ? true : false;\r\n        }\r\n    };\r\n    /**\r\n     * Subscribe events and perform action here\r\n     */\r\n    RightPanelComponent.prototype.subscribeEvents = function () {\r\n        var _this_1 = this;\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            if (_this_1.mainService.isToolTipEnable) {\r\n                _this_1.enableTooltip(obj);\r\n            }\r\n            _this_1.initData();\r\n            _this_1.changeTooltip(obj);\r\n            if (_this_1.mainService.isAdmin == true) {\r\n                _this_1.applyClassForUltimateLock(obj);\r\n            }\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            _this_1.initData();\r\n            if (_this_1.mainService.isAdmin == true) {\r\n                _this_1.applyClassForUltimateLock(obj);\r\n            }\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this_1.initData();\r\n            _this_1.ultimateLockClass = false;\r\n        });\r\n        this.eventService.$sub('objectUpdated', function (obj) {\r\n            _this_1.initData();\r\n            _this_1.changeTooltip(obj);\r\n        });\r\n        this.eventService.$sub('canvasObjectModified', function () {\r\n            _this_1.rightPanelService.checkForLayers();\r\n        });\r\n        this.eventService.$sub('closeSideBar', function () {\r\n            _this_1.isOpenClass = false;\r\n        });\r\n    };\r\n    /**\r\n     * Best fit object\r\n     */\r\n    RightPanelComponent.prototype.bestFitObject = function () {\r\n        // get current selected canvas object\r\n        var obj = this.rightPanelService.canvasService.getActiveObject();\r\n        // if object not found or object is angled, return from here and set the flag for the same\r\n        if (!obj)\r\n            return;\r\n        // if not, then prepare best fit obj, filter it and store into local variable\r\n        var bestFitProperties = this.rightPanelService.canvasService.filterBestFitProperties(this.rightPanelService.canvasService.getBestFitProperties(), obj);\r\n        bestFitProperties = Object.assign({}, { selectThisObject: false });\r\n        // update that obj to current canvas obj\r\n        var params = {\r\n            obj: obj,\r\n            properties: bestFitProperties,\r\n            crudServiceString: 'this.updateObjectService',\r\n            isCenter: true,\r\n            setActive: false\r\n        };\r\n        this.rightPanelService.canvasService.objectCRUD(params);\r\n    };\r\n    RightPanelComponent.prototype.cropImage = function () {\r\n        if (this.disableCrop === true)\r\n            return;\r\n        var obj = this.rightPanelService.canvasService.getActiveObject(), img = decodeURI(obj.getSrc());\r\n        this.cropper.cropImage(img);\r\n    };\r\n    RightPanelComponent.prototype.lockObject = function () {\r\n        var objs = this.rightPanelService.canvasService.currentCanvas.getActiveObjects();\r\n        var _this = this;\r\n        objs.forEach(function (object, index) {\r\n            _this.lockObjects(objs[index]);\r\n        });\r\n    };\r\n    RightPanelComponent.prototype.lockObjects = function (obj) {\r\n        var properties;\r\n        if (obj.selectable == false) {\r\n            properties = { selectable: true };\r\n        }\r\n        else {\r\n            properties = { selectable: false };\r\n        }\r\n        if (obj) {\r\n            this.rightPanelService.canvasService.currentCanvas.discardActiveObject();\r\n            var params = {\r\n                obj: obj,\r\n                properties: properties,\r\n                crudServiceString: 'this.updateObjectService',\r\n            };\r\n            this.rightPanelService.canvasService.objectCRUD(params);\r\n        }\r\n    };\r\n    RightPanelComponent.prototype.setAlignment = function (option, obj) {\r\n        if (obj === void 0) { obj = null; }\r\n        var canvas = this.rightPanelService.canvasService.currentCanvas;\r\n        var canvasService = this.rightPanelService.canvasService;\r\n        var objects = canvas.getActiveObjects();\r\n        if (objects && objects.length > 1 && obj == null) {\r\n            this.alignMultipleObjects(objects, option);\r\n            return;\r\n        }\r\n        obj = (obj == null) ? canvas.getActiveObject() : obj;\r\n        var properties = {};\r\n        var _this = this, eventParam = {\r\n            option: option,\r\n            newVal: null,\r\n        };\r\n        if (obj) {\r\n            if (option == \"left\") {\r\n                var left = this.rightPanelService.canvasService.clipX[canvas.designarea_id] / 2;\r\n                if (obj.originX == 'center') {\r\n                    left += obj.width / 2;\r\n                }\r\n                properties = { left: left };\r\n                eventParam.newVal = left;\r\n                obj.setCoords();\r\n            }\r\n            else if (option == \"right\") {\r\n                var right = (canvas.width - (this.rightPanelService.canvasService.clipX[canvas.designarea_id] / 2)) - obj.getBoundingRect().width;\r\n                if (obj.originX == 'center') {\r\n                    right += obj.width / 2;\r\n                }\r\n                properties = { left: right };\r\n                eventParam.newVal = right;\r\n                obj.setCoords();\r\n            }\r\n            else if (option == \"top\") {\r\n                var top_1 = (this.rightPanelService.canvasService.clipY[canvas.designarea_id] / 2) + 1;\r\n                if (obj.originY == 'center') {\r\n                    top_1 += obj.height / 2;\r\n                }\r\n                properties = { top: top_1 };\r\n                eventParam.newVal = top_1;\r\n                obj.setCoords();\r\n            }\r\n            else if (option == \"bottom\") {\r\n                var bottom = (canvas.height - (this.rightPanelService.canvasService.clipY[canvas.designarea_id] / 2)) - obj.getBoundingRect().height;\r\n                if (obj.originY == 'center') {\r\n                    bottom += obj.height / 2;\r\n                }\r\n                properties = { top: bottom };\r\n                eventParam.newVal = bottom;\r\n                obj.setCoords();\r\n            }\r\n            else if (option == \"alignHorizontalCenter\") {\r\n                var poscenter = canvas.width / 2;\r\n                if (obj.originX != 'center') {\r\n                    poscenter -= (obj.width * obj.scaleX / 2);\r\n                }\r\n                properties = { left: poscenter };\r\n                eventParam.newVal = poscenter;\r\n            }\r\n            else if (option == \"alignVerticalCenter\") {\r\n                var posmiddle = canvas.height / 2;\r\n                if (obj.originY != 'center') {\r\n                    posmiddle -= (obj.height * obj.scaleY / 2);\r\n                }\r\n                properties = { top: posmiddle };\r\n                eventParam.newVal = posmiddle;\r\n            }\r\n            var params = {\r\n                obj: obj,\r\n                properties: properties,\r\n                crudServiceString: 'this.updateObjectService',\r\n            };\r\n            this.rightPanelService.canvasService.objectCRUD(params);\r\n            this.eventService.$pub('alignment', eventParam);\r\n        }\r\n    };\r\n    RightPanelComponent.prototype.alignMultipleObjects = function (allObjects, alignment) {\r\n        var _this_1 = this;\r\n        // prepare variables\r\n        var objToBeCompared = null, newValue = null, mainMargin, currentMargin, params = {\r\n            obj: [],\r\n            properties: [],\r\n            crudServiceString: 'this.multipleObjectsUpdateService',\r\n            selectedObjs: allObjects\r\n        }, objs = [], properties = [];\r\n        this.rightPanelService.canvasService.deselectAllObjects();\r\n        // horizontal/vertical alignment object wise\r\n        if (alignment == 'alignHorizontalCenter' || alignment == 'alignVerticalCenter') {\r\n            this.mainService.canvasService.deselectAllObjects();\r\n            allObjects.filter(function (currObj) {\r\n                _this_1.setAlignment(alignment, currObj);\r\n            });\r\n            this.eventService.$pub('selectThisObjects', allObjects);\r\n        }\r\n        // if alignment option value is right\r\n        else if (alignment == 'right') {\r\n            objToBeCompared = this.rightPanelService.findObjMargin(allObjects, true);\r\n            mainMargin = objToBeCompared.width * objToBeCompared.scaleX;\r\n            allObjects.filter(function (currObj) {\r\n                if (currObj.id != objToBeCompared.id) {\r\n                    currentMargin = currObj.width * currObj.scaleX;\r\n                    newValue = objToBeCompared.left + (mainMargin - currentMargin);\r\n                    objs.push(currObj);\r\n                    properties.push(Object.assign({}, { left: newValue }));\r\n                }\r\n            });\r\n        }\r\n        // if alignment option value is left\r\n        else if (alignment == 'left') {\r\n            objToBeCompared = this.rightPanelService.findObjMargin(allObjects);\r\n            allObjects.filter(function (currObj) {\r\n                if (currObj.id != objToBeCompared.id) {\r\n                    objs.push(currObj);\r\n                    properties.push(Object.assign({}, { left: objToBeCompared.left }));\r\n                }\r\n            });\r\n        }\r\n        // if alignment option value is top\r\n        else if (alignment == 'top') {\r\n            objToBeCompared = this.rightPanelService.findObjMargin(allObjects, false, \"top\");\r\n            allObjects.filter(function (currObj) {\r\n                if (currObj.id != objToBeCompared.id) {\r\n                    objs.push(currObj);\r\n                    properties.push(Object.assign({}, { top: objToBeCompared.top }));\r\n                }\r\n            });\r\n        }\r\n        // if alignment option value is bottom\r\n        if (alignment == 'bottom') {\r\n            objToBeCompared = this.rightPanelService.findObjMargin(allObjects, true, \"top\");\r\n            mainMargin = objToBeCompared.height * objToBeCompared.scaleY;\r\n            allObjects.filter(function (currObj) {\r\n                if (currObj.id != objToBeCompared.id) {\r\n                    currentMargin = currObj.height * currObj.scaleY;\r\n                    newValue = objToBeCompared.top + (mainMargin - currentMargin);\r\n                    objs.push(currObj);\r\n                    properties.push(Object.assign({}, { top: newValue }));\r\n                }\r\n            });\r\n        }\r\n        // \r\n        if (objs.length && properties.length) {\r\n            params.obj = objs;\r\n            params.properties = properties;\r\n            params = Object.assign(params, { objsToSelect: allObjects });\r\n            this.rightPanelService.canvasService.objectCRUD(params);\r\n        }\r\n    };\r\n    RightPanelComponent.prototype.copyObject = function () {\r\n        var _this_1 = this;\r\n        // prepare variables\r\n        var activeObjs = this.rightPanelService.canvasService.currentCanvas.getActiveObjects(), properties = {}, params = {}, left, top, activeGroup = this.rightPanelService.canvasService.currentCanvas.getActiveObject(), clonedObjs = [];\r\n        // if no active object found, return\r\n        if (!activeObjs || !activeObjs.length)\r\n            return;\r\n        // clone each object one by one and \r\n        // add the same to canvas\r\n        var preventObject = false;\r\n        activeObjs.filter(function (selectedObj, index) {\r\n            selectedObj.clone(function (clonedObj) {\r\n                preventObject = false;\r\n                if (selectedObj.tab && selectedObj.tab == 'text') {\r\n                    var totalTextObjects = _this_1.rightPanelService.canvasService.getObjectTypeFromAllCanvas('tab', 'text');\r\n                    totalTextObjects = (totalTextObjects) ? totalTextObjects : 0;\r\n                    if (totalTextObjects >= _this_1.rightPanelService.canvasService.objectLimit.textLimitCounter) {\r\n                        _this_1.eventService.$pub('displayTextLimitError');\r\n                        preventObject = true;\r\n                    }\r\n                }\r\n                else if (selectedObj.tab && selectedObj.tab == 'clipart') {\r\n                    var totalClipartObjects = _this_1.rightPanelService.canvasService.getObjectTypeFromAllCanvas('tab', 'clipart');\r\n                    totalClipartObjects = (totalClipartObjects) ? totalClipartObjects : 0;\r\n                    if (totalClipartObjects >= _this_1.rightPanelService.canvasService.objectLimit.clipartImageLimit) {\r\n                        _this_1.eventService.$pub('displayClipartLimitError');\r\n                        preventObject = true;\r\n                    }\r\n                }\r\n                else if (selectedObj.tab && selectedObj.tab == 'upload') {\r\n                    var totalUploadedImages = _this_1.rightPanelService.canvasService.getObjectTypeFromAllCanvas('tab', 'upload');\r\n                    totalUploadedImages = (totalUploadedImages) ? totalUploadedImages : 0;\r\n                    if (totalUploadedImages >= _this_1.rightPanelService.canvasService.objectLimit.uploadImageLimit) {\r\n                        _this_1.eventService.$pub('displayUploadImageLimitError');\r\n                        preventObject = true;\r\n                    }\r\n                }\r\n                if (!preventObject) {\r\n                    left = selectedObj.left;\r\n                    top = selectedObj.top;\r\n                    left = (index == 0 && activeObjs.length > 1) ? left + (activeGroup.width / 2) + activeGroup.left : left;\r\n                    top = (index == 0 && activeObjs.length > 1) ? top + (activeGroup.height / 2) + activeGroup.top : top;\r\n                    properties = {\r\n                        left: left + 10,\r\n                        top: top + 10,\r\n                        objType: selectedObj.objType,\r\n                        tab: selectedObj.tab,\r\n                        ignoreBestFit: true,\r\n                        src: selectedObj.src\r\n                    };\r\n                    properties = (selectedObj.objType == 'image') ? properties = Object.assign(properties, { isSvg: selectedObj.isSvg }) : properties;\r\n                    params = {\r\n                        obj: clonedObj,\r\n                        properties: properties,\r\n                        crudServiceString: 'this.insertObjectService'\r\n                    };\r\n                    _this_1.rightPanelService.canvasService.objectCRUD(params);\r\n                    clonedObjs.push(clonedObj);\r\n                }\r\n            });\r\n        });\r\n        // reseselect all objects after few seconds    \r\n        setTimeout(function () {\r\n            if (clonedObjs.length > 1) {\r\n                _this_1.eventService.$pub('selectThisObjects', clonedObjs);\r\n            }\r\n        }, 100);\r\n    };\r\n    /**\r\n     * Disable duplicate if no object selected\r\n     * or selected object is of type name number\r\n     */\r\n    RightPanelComponent.prototype.disableDuplicate = function () {\r\n        if (!this.rightPanelService.mainService.canvasService.currentCanvas)\r\n            return true;\r\n        var disable = false, selectedObjs = this.rightPanelService.mainService.canvasService.currentCanvas.getActiveObjects();\r\n        if (this.rightPanelService.disableForSingleObj) {\r\n            disable = true;\r\n        }\r\n        else if (selectedObjs && selectedObjs.length > 0) {\r\n            var isNameNumberObjExists = void 0;\r\n            isNameNumberObjExists = selectedObjs.find(function (currObj) { return (currObj.hasOwnProperty('addObj') && (currObj.addObj == 'name' || currObj.addObj == 'number')); });\r\n            disable = (isNameNumberObjExists) ? true : false;\r\n        }\r\n        return disable;\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ViewChild\"])('cropper'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], RightPanelComponent.prototype, \"cropper\", void 0);\r\n    RightPanelComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"Component\"])({\r\n            selector: 'right-panel',\r\n            template: __webpack_require__(/*! ./right-panel.component.html */ \"./src/app/essentials/components/right-panel/right-panel.component.html\"),\r\n            styles: [__webpack_require__(/*! ./right-panel.component.scss */ \"./src/app/essentials/components/right-panel/right-panel.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            src_app_services_remove_object_service__WEBPACK_IMPORTED_MODULE_1__[\"RemoveObjectService\"],\r\n            _right_panel_service__WEBPACK_IMPORTED_MODULE_5__[\"RightPanelService\"]])\r\n    ], RightPanelComponent);\r\n    return RightPanelComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/right-panel/right-panel.service.ts\":\r\n/*!**************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/right-panel/right-panel.service.ts ***!\r\n  \\**************************************************************************/\r\n/*! exports provided: RightPanelService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RightPanelService\", function() { return RightPanelService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\n\r\n\r\nvar RightPanelService = /** @class */ (function () {\r\n    function RightPanelService(mainService, canvasService) {\r\n        this.mainService = mainService;\r\n        this.canvasService = canvasService;\r\n        this.disabledLayers = [];\r\n    }\r\n    RightPanelService.prototype.manageFlagForEnableDisable = function () {\r\n        this.disableForSingleObj = (this.enableForSingleObj() === true) ? false : true;\r\n        this.enableForMultipleObj = this.enableForMultipleObject();\r\n    };\r\n    RightPanelService.prototype.findObjMargin = function (allObjects, findMax, objKey, skipThisObj) {\r\n        if (findMax === void 0) { findMax = false; }\r\n        if (objKey === void 0) { objKey = \"left\"; }\r\n        if (skipThisObj === void 0) { skipThisObj = null; }\r\n        // variable declaration\r\n        var resultObj = allObjects[0], totalObjects = allObjects.length, i = 1, scaleKey, resultObjMargin, currentMargin, heightWidthKey, scaledResultObj, scaledCurrentObj;\r\n        // determine values based on params\r\n        scaleKey = (objKey == \"left\") ? \"scaleX\" : \"scaleY\";\r\n        heightWidthKey = (objKey == \"left\") ? \"width\" : \"height\";\r\n        // traverse each object one by one\r\n        for (; i < totalObjects; i++) {\r\n            // skip specified object from comparision\r\n            if (skipThisObj && skipThisObj.hasOwnProperty('id') && skipThisObj.id == allObjects[i].id)\r\n                continue;\r\n            // prepare left/top obj for both selected and current object\r\n            currentMargin = allObjects[i][objKey];\r\n            resultObjMargin = resultObj[objKey];\r\n            // get scaled height/width\r\n            scaledResultObj = resultObj[heightWidthKey] * resultObj[scaleKey];\r\n            scaledCurrentObj = allObjects[i][heightWidthKey] * allObjects[i][scaleKey];\r\n            // when user clicks on left/top, \r\n            // all objects will be having same marig\r\n            // in this case we will be checking by their scaled width/height\r\n            if ((currentMargin == resultObjMargin && scaledCurrentObj >= scaledResultObj)) {\r\n                resultObj = allObjects[i];\r\n            }\r\n            // in case of right/bottom\r\n            // we will be checking if current traversing object is having hight marign\r\n            // and scaling than selected one, replace the same\r\n            else if (findMax === true) {\r\n                if ((scaledCurrentObj + currentMargin) >= (scaledResultObj + resultObjMargin)) {\r\n                    resultObj = allObjects[i];\r\n                }\r\n                // in case of left/bottom, simple find object having minimum margin\r\n            }\r\n            else if (findMax === false && currentMargin < resultObjMargin) {\r\n                resultObj = allObjects[i];\r\n            }\r\n        }\r\n        // return object that will be used as flag\r\n        return resultObj;\r\n    };\r\n    RightPanelService.prototype.checkForLayers = function () {\r\n        this.disabledLayers = [];\r\n        var activeObj = this.canvasService.getActiveObject();\r\n        if (activeObj == false)\r\n            return;\r\n        var totalCanvasObjects = Object.keys(this.canvasService.getObjects()).length - 1, objStack = this.canvasService.getObjects().indexOf(activeObj);\r\n        if (objStack == 0) {\r\n            this.disabledLayers.push('sendToBack');\r\n        }\r\n        else if (objStack == totalCanvasObjects) {\r\n            this.disabledLayers.push('bringToFront');\r\n        }\r\n    };\r\n    RightPanelService.prototype.enableForMultipleObject = function () {\r\n        var totalAddedObjects = (this.canvasService.currentCanvas && this.canvasService.getObjects()) ? this.canvasService.getObjects().length : 0;\r\n        if (this.enableForSingleObj() === true && totalAddedObjects > 1 && this.canvasService.currentCanvas.getActiveObjects().length == 1)\r\n            return false;\r\n        return true;\r\n    };\r\n    RightPanelService.prototype.enableForSingleObj = function () {\r\n        var obj = this.canvasService.getActiveObject();\r\n        if (this.mainService.isAdmin == false) {\r\n            if (obj == false || obj.ultimatelock == true)\r\n                return false;\r\n            return true;\r\n        }\r\n        else {\r\n            if (obj == false)\r\n                return false;\r\n            return true;\r\n        }\r\n    };\r\n    RightPanelService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_1__[\"CanvasService\"]])\r\n    ], RightPanelService);\r\n    return RightPanelService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/save-design/save-design.component.html\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/save-design/save-design.component.html ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<a *ngIf=\\\"mainService.isAdmin == false\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"openSaveDesign()\\\"\\n\\ttooltip=\\\"{{'Save Design' | translate}}\\\">\\n\\t<svg class=\\\"icon icon-save\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-save\\\"></use>\\n\\t</svg>\\n</a>\\n\\n<!-- Save Design Modal -->\\n<ng-template #saveDesignModal>\\n\\t<form (ngSubmit)=\\\"saveDesign()\\\">\\n\\t\\t<div class=\\\"modal-header\\\">\\n\\t\\t\\t<h4 class=\\\"modal-title pull-left\\\">{{'Save Design' | translate}}</h4>\\n\\t\\t\\t<button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n\\t\\t\\t\\t<span aria-hidden=\\\"true\\\">&times;</span>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"modal-body\\\">\\n\\t\\t\\t<div class=\\\"byi-login-tab\\\">\\n\\t\\t\\t\\t<div class=\\\"byi-float-form\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"byi-float-label\\\">\\n\\t\\t\\t\\t\\t\\t<label>{{'Design Title' | translate}} *</label>\\n\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" name=\\\"designTitle\\\" [(ngModel)]=\\\"designTitle\\\" />\\n\\t\\t\\t\\t\\t\\t<span class=\\\"text-danger\\\" *ngIf=\\\"titleHasError()\\\">This is required field</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"byi-form-action\\\">\\n\\t\\t\\t\\t\\t\\t<button class=\\\"byi-btn\\\" type=\\\"submit\\\">{{'Save' | translate}}</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</form>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/save-design/save-design.component.scss\":\r\n/*!******************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/save-design/save-design.component.scss ***!\r\n  \\******************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9zYXZlLWRlc2lnbi9zYXZlLWRlc2lnbi5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/save-design/save-design.component.ts\":\r\n/*!****************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/save-design/save-design.component.ts ***!\r\n  \\****************************************************************************/\r\n/*! exports provided: SaveDesignComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SaveDesignComponent\", function() { return SaveDesignComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar SaveDesignComponent = /** @class */ (function () {\r\n    function SaveDesignComponent(mainService, eventService, designService, translate) {\r\n        var _this = this;\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.designService = designService;\r\n        this.translate = translate;\r\n        /**\r\n         * Subscribe once customer is logged in then call the save design function\r\n         */\r\n        this.eventService.$sub('customerLoggedIn', function (isSave) {\r\n            if (isSave) {\r\n                //this.saveDesign();\r\n                _this.openSaveDesign();\r\n            }\r\n        });\r\n    }\r\n    SaveDesignComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.init();\r\n        this.eventService.$sub('designSaved', function (design) {\r\n            _this.modalRef.hide();\r\n        });\r\n    };\r\n    SaveDesignComponent.prototype.init = function () {\r\n        this.submitted = false;\r\n        this.designTitle = '';\r\n    };\r\n    /**\r\n     * Checks if customer is logged in or not if customer is logged in then open save design modal else open login modal\r\n     */\r\n    SaveDesignComponent.prototype.openSaveDesign = function () {\r\n        if (!this.mainService.canvasService.hasCanvasObjectOrBackgroundAll()) {\r\n            this.mainService.swal(this.translate.instant('Alert'), this.translate.instant('Please design the product !'), \"warning\");\r\n            return;\r\n        }\r\n        if (this.mainService.userLoggedIn == true) {\r\n            this.init();\r\n            this.modalRef = this.mainService.openThisModal(this.saveDesignModal);\r\n        }\r\n        else {\r\n            this.eventService.$pub('openLoginModal', true);\r\n        }\r\n    };\r\n    /**\r\n     * Saves the design and publish an event\r\n     */\r\n    SaveDesignComponent.prototype.saveDesign = function () {\r\n        var _this = this;\r\n        // change flag that will show error messages(if any)\r\n        this.submitted = true;\r\n        // if errors found, return\r\n        if (this.titleHasError())\r\n            return;\r\n        // check for name existance\r\n        this.proceedToSaveDesign().then(function (resp) {\r\n            if (resp && resp.hasOwnProperty('titleExists') && resp.titleExists == true) {\r\n                _this.mainService.swal('Already Exists', 'Design with this name already exists. Please enter different name', 'warning');\r\n            }\r\n        });\r\n    };\r\n    SaveDesignComponent.prototype.proceedToSaveDesign = function (designId) {\r\n        if (designId === void 0) { designId = null; }\r\n        // finally, save design\r\n        var data = {\r\n            title: this.designTitle,\r\n            designId: designId,\r\n            closeThisModal: this.modalRef\r\n        };\r\n        this.eventService.$pub('saveDesignBefore');\r\n        return this.designService.saveDesignData(data);\r\n    };\r\n    SaveDesignComponent.prototype.titleHasError = function (str) {\r\n        if (str === void 0) { str = this.designTitle; }\r\n        return (this.submitted === true && (!str || str.length == 0 || str.trim().length == 0));\r\n    };\r\n    SaveDesignComponent.prototype.closeModal = function () {\r\n        this.modalRef.hide();\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('saveDesignModal'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], SaveDesignComponent.prototype, \"saveDesignModal\", void 0);\r\n    SaveDesignComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[save-design]',\r\n            template: __webpack_require__(/*! ./save-design.component.html */ \"./src/app/essentials/components/save-design/save-design.component.html\"),\r\n            styles: [__webpack_require__(/*! ./save-design.component.scss */ \"./src/app/essentials/components/save-design/save-design.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\r\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_3__[\"DesignService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateService\"]])\r\n    ], SaveDesignComponent);\r\n    return SaveDesignComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/skew/skew.component.html\":\r\n/*!****************************************************************!*\\\r\n  !*** ./src/app/essentials/components/skew/skew.component.html ***!\r\n  \\****************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [hidden]=\\\"componentHide\\\">\\n\\t<button class=\\\"byi-accordion-title\\\" accordion-heading>\\n\\t\\t<span>{{'Skew' | translate}}</span>\\n\\t</button>\\n\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t<ng-container [ngTemplateOutlet]=\\\"skew\\\"></ng-container>\\n\\t</div>\\n</accordion-group>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('skew')\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n\\t<ng-template tabHeading>\\n\\t\\t<span>{{'Skew' | translate}}</span>\\n\\t</ng-template>\\n\\t<ng-container [ngTemplateOutlet]=\\\"skew\\\"></ng-container>\\n</tab>\\n<ng-template #skew>\\n\\t<div class=\\\"byie-option\\\">\\n\\t\\t<div class=\\\"byi-inline-box\\\">\\n\\t\\t\\t<div class=\\\"byi-inline-item\\\">\\n\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t<span>{{'SkewX' | translate}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" (mousedown)=\\\"setPrevValue('skewX', skewX)\\\" [(ngModel)]=\\\"skewX\\\" min=\\\"-180\\\" max=\\\"180\\\" step=\\\"0.1\\\" (input)=\\\"changeSkewX()\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\" (change)=\\\"stackToUndo('skewX')\\\">\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-inline-item\\\">\\n\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t<span>{{'SkewY' | translate}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" (mousedown)=\\\"setPrevValue('skewY', skewY)\\\" [(ngModel)]=\\\"skewY\\\" min=\\\"-180\\\" max=\\\"180\\\" step=\\\"0.1\\\" (input)=\\\"changeSkewY()\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\" (change)=\\\"stackToUndo('skewY')\\\">\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<button (click)=\\\"clear()\\\" class=\\\"byi-range-reset-link\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/skew/skew.component.scss\":\r\n/*!****************************************************************!*\\\r\n  !*** ./src/app/essentials/components/skew/skew.component.scss ***!\r\n  \\****************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9za2V3L3NrZXcuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/skew/skew.component.ts\":\r\n/*!**************************************************************!*\\\r\n  !*** ./src/app/essentials/components/skew/skew.component.ts ***!\r\n  \\**************************************************************/\r\n/*! exports provided: SkewComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SkewComponent\", function() { return SkewComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar SkewComponent = /** @class */ (function () {\r\n    function SkewComponent(mainService, eventService, canvasService, tabsService) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.tabsService = tabsService;\r\n        this.skewX = 0;\r\n        this.skewY = 0;\r\n        this.componentHide = true;\r\n        // fixed values\r\n        this.minDegree = -180;\r\n        this.maxDegree = 180;\r\n        // for undo redo\r\n        this.preSkewValues = {};\r\n        this.tabsService.registerTabs('skew', 'plain-text');\r\n        this.tabsService.registerTabs('skew', 'clipart');\r\n        this.tabsService.registerTabs('skew', 'image-upload');\r\n        this.tabsService.registerTabs('skew', 'name-number');\r\n        this.tabsService.registerTabs('skew', 'common');\r\n    }\r\n    SkewComponent.prototype.ngOnInit = function () {\r\n        this.subscribeEvents();\r\n    };\r\n    SkewComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            _this.setSkew(obj);\r\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this.componentHide = (_this.canvasService.getActiveObject()) ? null : true;\r\n        });\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            _this.skewX = _this.skewY = \"\";\r\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            _this.componentHide = (_this.canvasService.getActiveObject()) ? null : true;\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            _this.setSkew(obj);\r\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\r\n        });\r\n        this.eventService.$sub('objectUpdated', function (obj) {\r\n            _this.setSkew(obj);\r\n        });\r\n    };\r\n    SkewComponent.prototype.setPrevValue = function (key, value) {\r\n        if (!this.preSkewValues || this.preSkewValues[key] == null) {\r\n            this.preSkewValues[key] = value;\r\n        }\r\n    };\r\n    SkewComponent.prototype.stackToUndo = function (key) {\r\n        // Init empty shadow object here\r\n        var properties = {};\r\n        // set selecte shadow value(eg. offsetX, offsetY)\r\n        properties = Object.assign({}, this.preSkewValues);\r\n        // determine other shadow key(eg. offsetX, offsetY)\r\n        var otherKey = (key == 'skewX') ? 'skewY' : 'skewX', \r\n        // determine other shadow value\r\n        otherKeyVal = (otherKey == 'skewX') ? this.skewX : this.skewY;\r\n        // check if otherKyeVal is null, set it to 0\r\n        // this will only occur on first time\r\n        otherKeyVal = (!otherKeyVal) ? 0 : otherKeyVal;\r\n        // set other shadow property to properties object\r\n        properties[otherKey] = otherKeyVal;\r\n        // finally pass the property object to rangeSliderUndoRedo\r\n        this.canvasService.rangeSliderUndoRedo(properties);\r\n        // set selected shadow to null\r\n        this.preSkewValues[key] = null;\r\n    };\r\n    /**\r\n     * Change skew values on object updatation(eg. object added/removed/modified etc)\r\n     *\r\n     * @param obj\r\n     */\r\n    SkewComponent.prototype.setSkew = function (obj) {\r\n        if (obj.length > 0) {\r\n            if (obj[0]) {\r\n                this.skewX = (obj[0].skewX != 0 && obj[0].skewX != undefined) ? obj[0].skewX : '';\r\n                this.skewY = (obj[0].skewY != 0 && obj[0].skewY != undefined) ? obj[0].skewY : '';\r\n            }\r\n        }\r\n        else {\r\n            this.skewX = (obj.skewX != 0 && obj.skewX != undefined) ? obj.skewX : '';\r\n            this.skewY = (obj.skewY != 0 && obj.skewY != undefined) ? obj.skewY : '';\r\n        }\r\n    };\r\n    SkewComponent.prototype.changeSkewX = function () {\r\n        var _this = this;\r\n        this.skewX = (this.skewX < this.minDegree) ? this.minDegree : this.skewX;\r\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects();\r\n        selectedObjs.filter(function (currObj) {\r\n            currObj.skewX = _this.skewX;\r\n        });\r\n        this.canvasService.currentCanvas.renderAll();\r\n    };\r\n    /**\r\n     * Change SkewX value\r\n     */\r\n    SkewComponent.prototype.changeSkewY = function () {\r\n        var _this = this;\r\n        this.skewY = (this.skewY > this.maxDegree) ? this.maxDegree : this.skewY;\r\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects();\r\n        selectedObjs.filter(function (currObj) {\r\n            currObj.skewY = _this.skewY;\r\n        });\r\n        this.canvasService.currentCanvas.renderAll();\r\n    };\r\n    /**\r\n     * Reset Skew\r\n     */\r\n    SkewComponent.prototype.clear = function () {\r\n        this.skewX = 0;\r\n        this.skewY = 0;\r\n        if (this.canvasService.hasCanvasObjectOrBackgroundAll()) {\r\n            this.changeSkewX();\r\n            this.changeSkewY();\r\n        }\r\n    };\r\n    SkewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[skew]',\r\n            template: __webpack_require__(/*! ./skew.component.html */ \"./src/app/essentials/components/skew/skew.component.html\"),\r\n            styles: [__webpack_require__(/*! ./skew.component.scss */ \"./src/app/essentials/components/skew/skew.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\r\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_3__[\"TabsService\"]])\r\n    ], SkewComponent);\r\n    return SkewComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/stroke/stroke.component.html\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/stroke/stroke.component.html ***!\r\n  \\********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [hidden]=\\\"componentHide\\\">\\n  <button class=\\\"byi-accordion-title\\\" accordion-heading>\\n    <span>{{'Stroke' | translate}}</span>\\n  </button>\\n  <div class=\\\"byi-accord-content\\\">\\n    <ng-container [ngTemplateOutlet]=\\\"stroke\\\"></ng-container>\\n  </div>\\n</accordion-group>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('stroke')\\\" [attr.hidden]=\\\"componentHide\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n  <ng-template tabHeading>\\n    <span>{{'Stroke' | translate}}</span>\\n  </ng-template>\\n  <ng-container [ngTemplateOutlet]=\\\"stroke\\\"></ng-container>\\n</tab>\\n<ng-template #stroke>\\n  <div class=\\\"byie-option\\\">\\n    <div class=\\\"byi-range-box byie-count-wrap\\\">\\n      <div class=\\\"byi-global-reset\\\">\\n        <div class=\\\"byie-custom-color\\\">\\n          <div *ngIf=\\\"selectedColor\\\" [type]=\\\"'simple'\\\" custom-color-picker [activeColor]=\\\"selectedColor\\\"\\n            [hideColorToggle]=\\\"hideColorToggleOutline\\\" (colorPickerToggle)=\\\"colorPickerToggleOutline($event)\\\"\\n            (changeColorEvent)=\\\"changeColorOutline($event)\\\"></div>\\n        </div>\\n        <button class=\\\"byi-range-reset-link\\\" (click)=\\\"resetOutline()\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n          <svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n          </svg>\\n        </button>\\n      </div>\\n      <div class=\\\"byi-rb-input\\\">\\n        <span class=\\\"byie-count\\\">{{(outline/10).toFixed(1)}}</span>\\n        <input type=\\\"range\\\" [(ngModel)]=\\\"outline\\\" min=\\\"0\\\" max=\\\"10\\\" step=\\\"0.1\\\"\\n          (mousedown)=\\\"setPrevValue($event.target.value)\\\" (change)=\\\"stackToUndo()\\\" (input)=\\\"changeOutline()\\\"\\n          class=\\\"slider\\\">\\n      </div>\\n    </div>\\n  </div>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/stroke/stroke.component.scss\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/stroke/stroke.component.scss ***!\r\n  \\********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9zdHJva2Uvc3Ryb2tlLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/stroke/stroke.component.ts\":\r\n/*!******************************************************************!*\\\r\n  !*** ./src/app/essentials/components/stroke/stroke.component.ts ***!\r\n  \\******************************************************************/\r\n/*! exports provided: StrokeComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StrokeComponent\", function() { return StrokeComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar StrokeComponent = /** @class */ (function () {\r\n    function StrokeComponent(canvasService, eventService, mainService, tabsService) {\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.mainService = mainService;\r\n        this.tabsService = tabsService;\r\n        this.colorarr = [];\r\n        this.hideColorToggleOutline = 1;\r\n        this.componentHide = true;\r\n        // for undoRedo\r\n        this.prevStrokeWidth = null;\r\n        this.tabsService.registerTabs('stroke', 'plain-text');\r\n        this.tabsService.registerTabs('stroke', 'name-number');\r\n    }\r\n    StrokeComponent.prototype.ngOnInit = function () {\r\n        this.outline = '0';\r\n        this.subscribeEvents();\r\n    };\r\n    StrokeComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        var self = this;\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            self.componentHide = true;\r\n        });\r\n        this.eventService.$sub('objectUpdated', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.updateOutline(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            if (obj.type == 'activeSelection') {\r\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\r\n                if (isObjText == -1) {\r\n                    self.componentHide = null;\r\n                }\r\n                else {\r\n                    self.componentHide = true;\r\n                }\r\n            }\r\n            else {\r\n                self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n            }\r\n            _this.updateOutline(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n            if (obj.type == 'activeSelection') {\r\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\r\n                if (isObjText == -1) {\r\n                    self.componentHide = null;\r\n                }\r\n                else {\r\n                    self.componentHide = true;\r\n                }\r\n            }\r\n            else {\r\n                _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\r\n            }\r\n            _this.updateOutline(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this.componentHide = true;\r\n            _this.outline = '0';\r\n            _this.selectedColor = Object.assign({}, _this.mainService.colorData.defaultColor);\r\n        });\r\n        this.eventService.$sub('closeColorPicker', function () {\r\n            _this.hideColorToggleOutline = 1;\r\n        });\r\n    };\r\n    StrokeComponent.prototype.changeOutline = function () {\r\n        var _this = this;\r\n        if (!this.canvasService.currentCanvas)\r\n            return;\r\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\r\n        selectedObjs.filter(function (obj) {\r\n            obj.strokeWidth = _this.outline / 10;\r\n            properties.stroke = _this.selectedColor;\r\n            properties.dirty = true;\r\n            _this.canvasService.currentCanvas.renderAll();\r\n        });\r\n    };\r\n    StrokeComponent.prototype.setPrevValue = function (val) {\r\n        if (this.prevStrokeWidth == null)\r\n            this.prevStrokeWidth = val / 10;\r\n    };\r\n    StrokeComponent.prototype.stackToUndo = function () {\r\n        this.canvasService.rangeSliderUndoRedo({ 'strokeWidth': this.prevStrokeWidth });\r\n        this.prevStrokeWidth = null;\r\n    };\r\n    StrokeComponent.prototype.updateOutline = function (obj) {\r\n        if (obj.length > 0) {\r\n            if (obj[0] && this.outline != obj.strokeWidth) {\r\n                this.outline = obj.strokeWidth * 10;\r\n                obj.dirty = true;\r\n                this.selectedColor = (obj[0].stroke) ? obj[0].stroke : this.mainService.colorData.defaultColor.color_code;\r\n            }\r\n        }\r\n        else {\r\n            this.outline = obj.strokeWidth * 10;\r\n            this.selectedColor = (obj.stroke) ? obj.stroke : this.mainService.colorData.defaultColor.color_code;\r\n        }\r\n    };\r\n    StrokeComponent.prototype.colorPickerToggleOutline = function () {\r\n        if (this.hideColorToggleOutline == 1) {\r\n            this.hideColorToggleOutline = 0;\r\n        }\r\n        else if (this.hideColorToggleOutline == 0) {\r\n            this.hideColorToggleOutline = 1;\r\n        }\r\n    };\r\n    StrokeComponent.prototype.changeColorOutline = function (outlineColor) {\r\n        if (!this.canvasService.currentCanvas)\r\n            return;\r\n        this.selectedColor = outlineColor;\r\n        var obj = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\r\n        if (obj) {\r\n            properties.stroke = outlineColor;\r\n            properties.dirty = true;\r\n            this.mainService.updateObjectProperties(obj, properties);\r\n        }\r\n    };\r\n    StrokeComponent.prototype.resetOutline = function () {\r\n        if (!this.canvasService.currentCanvas)\r\n            return;\r\n        var obj = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\r\n        if (obj) {\r\n            properties.strokeWidth = 0;\r\n            properties.stroke = this.mainService.colorData.defaultColor.color_code;\r\n            properties.dirty = true;\r\n            this.outline = '0';\r\n            this.mainService.updateObjectProperties(obj, properties);\r\n        }\r\n    };\r\n    StrokeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[stroke]',\r\n            template: __webpack_require__(/*! ./stroke.component.html */ \"./src/app/essentials/components/stroke/stroke.component.html\"),\r\n            styles: [__webpack_require__(/*! ./stroke.component.scss */ \"./src/app/essentials/components/stroke/stroke.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"], src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"]])\r\n    ], StrokeComponent);\r\n    return StrokeComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/tabs/tabs.component.html\":\r\n/*!****************************************************************!*\\\r\n  !*** ./src/app/essentials/components/tabs/tabs.component.html ***!\r\n  \\****************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div class=\\\"byi-idea {{responsiveClass}}\\\" [ngClass]=\\\"{'byi-idea-fullview' : showAllFonts == true}\\\">\\n\\t<tabset #masterTabs>\\n\\t\\t<ng-container *ngFor=\\\"let mainTab of mainTabs; let i = index\\\">\\n\\t\\t\\t<tab *ngIf=\\\"mainTab.isAdmin != 0 || mainService.isAdmin == false\\\"\\n\\t\\t\\t\\t[customClass]=\\\"totalTabClass ? totalTabClass : ''\\\" [active]=\\\"mainTab.id == activeTabId\\\"\\n\\t\\t\\t\\t[attr.data-index]=\\\"i\\\" (selectTab)=\\\"fetchTabData(i,mainTab.id)\\\">\\n\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t<ng-template tabHeading>\\n\\t\\t\\t\\t\\t<i container=\\\"body\\\" placement=\\\"top\\\" attr.class=\\\"byii byii-{{mainTab.component}}\\\">\\n\\t\\t\\t\\t\\t\\t<svg attr.class=\\\"icon icon-{{mainTab.component}}\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t\\t\\t<use attr.xlink:href=\\\"assets/img/sprite.svg#icon-{{mainTab.component}}\\\"></use>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t</i>\\n\\t\\t\\t\\t\\t<span (click)=\\\"closeFontFamilyView()\\\">{{mainTab.label | translate}}</span>\\n\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<button *ngIf=\\\"mainService.isResponsive && !showAllFonts\\\" type=\\\"button\\\" class=\\\"byi-close-btn\\\"\\n\\t\\t\\t\\t\\t(click)=\\\"closeTab()\\\">\\n\\t\\t\\t\\t\\t<span>11</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<ng-container *ngIf=\\\"mainService.isResponsive && showAllFonts\\\">\\n\\t\\t\\t\\t\\t<label class=\\\"byi-fullview-title\\\">{{title}}</label>\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"byi-close-btn\\\" (click)=\\\"closeFullView(showAllFonts)\\\">\\n\\t\\t\\t\\t\\t\\t<span>11</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" plain-text *ngIf=\\\"mainTab.id == 1\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" clipart *ngIf=\\\"mainTab.id == 2\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" image-upload *ngIf=\\\"mainTab.id == 3\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" background-color *ngIf=\\\"mainTab.id == 4\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" my-designs *ngIf=\\\"mainTab.id == 5\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" name-number *ngIf=\\\"mainTab.id == 6\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" design-templates *ngIf=\\\"mainTab.id == 7\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" background-patterns *ngIf=\\\"mainTab.id == 8\\\"></div>\\n\\t\\t\\t</tab>\\n\\t\\t</ng-container>\\n\\t\\t<div *ngIf=\\\"activeTabId == 0\\\" intro [introActive]='true'></div>\\n\\t</tabset>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/tabs/tabs.component.scss\":\r\n/*!****************************************************************!*\\\r\n  !*** ./src/app/essentials/components/tabs/tabs.component.scss ***!\r\n  \\****************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy90YWJzL3RhYnMuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/tabs/tabs.component.ts\":\r\n/*!**************************************************************!*\\\r\n  !*** ./src/app/essentials/components/tabs/tabs.component.ts ***!\r\n  \\**************************************************************/\r\n/*! exports provided: TabsComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TabsComponent\", function() { return TabsComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar TabsComponent = /** @class */ (function () {\r\n    function TabsComponent(mainService, canvasService, cacheService, pubsub, tabsService, cdr) {\r\n        var _this = this;\r\n        this.mainService = mainService;\r\n        this.canvasService = canvasService;\r\n        this.cacheService = cacheService;\r\n        this.pubsub = pubsub;\r\n        this.tabsService = tabsService;\r\n        this.cdr = cdr;\r\n        this.mainTabs = [];\r\n        this.title = '';\r\n        this.toggleIntro = true;\r\n        this.tooltipData = [];\r\n        this.introTabId = 0;\r\n        this.tabsDataCacheKey = 'tabsData' + this.mainService.productId + '-' + this.mainService.baseUrl;\r\n        this.allTabsDataCacheKey = 'allTabsData' + this.mainService.productId + '-' + this.mainService.baseUrl;\r\n        this.toggleResponsiveClass(false);\r\n        this.pubsub.$sub('windowResize', function () {\r\n            _this.toggleResponsiveClass(true);\r\n        });\r\n        this.pubsub.$sub('objectSelectionCleared', function () {\r\n            if (_this.mainService.isResponsive && _this.activeTabId != 6 && !_this.canvasService.currentCanvas.backgroundColor) {\r\n                _this.closeTab();\r\n            }\r\n            else if (_this.mainService.isResponsive && _this.activeTabId == 6 && !_this.canvasService.currentCanvas.backgroundColor) {\r\n                _this.tabsService.backTab();\r\n            }\r\n        });\r\n        this.pubsub.$sub('backgroundPatternsApplied', function () {\r\n            if (!_this.canvasService.currentCanvas.backgroundColor) {\r\n                if (_this.mainService.isResponsive) {\r\n                    _this.closeTab();\r\n                }\r\n            }\r\n        });\r\n        this.pubsub.$sub('closeTab', function () {\r\n            _this.toggleIntro = true;\r\n            _this.closeTab();\r\n        });\r\n        this.pubsub.$sub('showFonts', function (resp) {\r\n            _this.showAllFonts = resp.showAllFonts;\r\n            _this.title = resp.title;\r\n        });\r\n        this.pubsub.$sub('toggleResponsiveClass', function () {\r\n            _this.toggleResponsiveClass(true);\r\n        });\r\n    }\r\n    TabsComponent.prototype.getSelectedObjTabId = function (obj) {\r\n        if (!obj) {\r\n            return 0;\r\n        }\r\n        var tab = obj.tab, tabId = 0;\r\n        switch (tab) {\r\n            case 'text':\r\n                tabId = 1;\r\n                break;\r\n            case 'clipart':\r\n                tabId = 2;\r\n                break;\r\n            case 'upload':\r\n                tabId = 3;\r\n                break;\r\n            case 'namenumber':\r\n                tabId = 6;\r\n                break;\r\n        }\r\n        return tabId;\r\n    };\r\n    TabsComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.getTabs();\r\n        var self = this;\r\n        this.pubsub.$sub('objectSelectionCreated', function (obj) {\r\n            var id = _this.getSelectedObjTabId(obj);\r\n            var self = _this;\r\n            if (id != 0) {\r\n                _this.activeTabId = _this.getTabId(id);\r\n                setTimeout(function () {\r\n                    self.pubsub.$pub('activeTabOnLoadDesign', id);\r\n                }, 500);\r\n            }\r\n        });\r\n        this.pubsub.$sub('getActiveTabId', function (id) {\r\n            if (id != \"\" && id != 0) {\r\n                self.activeTabId = self.getTabId(id);\r\n            }\r\n            else {\r\n                /*For Tooltip enable*/\r\n                self.activeTabId = 0;\r\n            }\r\n        });\r\n        this.pubsub.$sub('introTabActive', function (id) {\r\n            self.activeTabId = self.getTabId(id);\r\n            self.introTabId = id;\r\n        });\r\n        this.pubsub.$sub('imageSideChanged', function () {\r\n            _this.toggleResponsiveClass(true);\r\n        });\r\n        this.pubsub.$sub('objectRemoved', function () {\r\n            _this.toggleResponsiveClass(true);\r\n        });\r\n        this.pubsub.$sub('allcanvasCreated', function () {\r\n            _this.toggleResponsiveClass(true);\r\n        });\r\n    };\r\n    TabsComponent.prototype.ngAfterViewInit = function () {\r\n        this.toggleResponsiveClass(true);\r\n    };\r\n    TabsComponent.prototype.getTabId = function (findId) {\r\n        var response = 0;\r\n        this.mainService.tabsFlow.forEach(function (object, index) {\r\n            object.forEach(function (subObj, inx) {\r\n                if (subObj == findId) {\r\n                    response = index;\r\n                }\r\n            });\r\n        });\r\n        return response;\r\n    };\r\n    TabsComponent.prototype.getTabs = function () {\r\n        var _this = this;\r\n        var params = { 'product_id': this.mainService.productId }, url = 'productdesigner/Tabs/getTabs', cacheKey = this.tabsDataCacheKey;\r\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n            _this.cacheService.set(_this.tabsDataCacheKey, data, { maxAge: 15 * 60 });\r\n            _this.setTabsData(data);\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    TabsComponent.prototype.fetchTabData = function (index, currentTab) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var self;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                this.closeFullView(true);\r\n                this.toggleResponsiveClass(true);\r\n                this.tabsService.backTab();\r\n                this.cdr.detectChanges();\r\n                this.activeTabId = currentTab;\r\n                this.pubsub.$pub('getSubTabs', currentTab);\r\n                self = this;\r\n                if (this.introTabId > 0) {\r\n                    setTimeout(function () {\r\n                        self.pubsub.$pub('introTabActive', self.introTabId);\r\n                        self.introTabId = 0;\r\n                    }, 50);\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    TabsComponent.prototype.setTabsData = function (data) {\r\n        this.mainService.getAllTabs = data.allTabsData;\r\n        this.mainService.productTooltipData = data.productTooltipData;\r\n        var self = this;\r\n        /*Tabs Flow*/\r\n        var keys = Object.keys(data.subTabsData);\r\n        for (var i = 0; i < Object.keys(data.subTabsData).length; i++) {\r\n            this.mainService.tabsFlow[keys[i]] = data.subTabsData[keys[i]];\r\n        }\r\n        setTimeout(function () {\r\n            self.pubsub.$pub('getSubTabs', data.tabsData[0]);\r\n            self.pubsub.$pub('tabsDataFetched');\r\n        }, 500);\r\n        this.mainTabs = data.tabsData;\r\n        var tempData = [];\r\n        var allTabs = this.mainService.getAllTabs;\r\n        for (var i = 0; i < this.mainTabs.length; i++) {\r\n            if (this.mainTabs[i] == allTabs[this.mainTabs[i]]['id']) {\r\n                tempData.push({ id: allTabs[this.mainTabs[i]]['id'], label: allTabs[this.mainTabs[i]]['custom_label'], component: allTabs[this.mainTabs[i]]['component'], isAdmin: allTabs[this.mainTabs[i]]['is_admin'] });\r\n            }\r\n        }\r\n        if (data.tooltipStatus != 0) {\r\n            this.activeTabId = 0;\r\n        }\r\n        else if (!this.mainService.isResponsive) {\r\n            this.activeTabId = data.tabsData[0];\r\n        }\r\n        this.mainTabs = tempData;\r\n        this.totalTabClass = 'nav-item-' + this.mainTabs.length;\r\n    };\r\n    TabsComponent.prototype.toggleResponsiveClass = function (add) {\r\n        if (add && this.mainService.isResponsive) {\r\n            this.responsiveClass = 'byi-idea-mob';\r\n        }\r\n        else {\r\n            this.responsiveClass = '';\r\n        }\r\n    };\r\n    TabsComponent.prototype.closeTab = function () {\r\n        this.toggleResponsiveClass(false);\r\n        // There is no tab ID equals 0 so it will close the tab\r\n        this.activeTabId = 0;\r\n        this.tabsService.backTab();\r\n    };\r\n    TabsComponent.prototype.closeFontFamilyView = function () {\r\n        this.pubsub.$pub('closeFullView', true);\r\n    };\r\n    TabsComponent.prototype.closeFullView = function (showAllFonts) {\r\n        this.pubsub.$pub('closeFullView', showAllFonts);\r\n    };\r\n    TabsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: 'tabs',\r\n            template: __webpack_require__(/*! ./tabs.component.html */ \"./src/app/essentials/components/tabs/tabs.component.html\"),\r\n            styles: [__webpack_require__(/*! ./tabs.component.scss */ \"./src/app/essentials/components/tabs/tabs.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_4__[\"CacheService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\r\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__[\"TabsService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"]])\r\n    ], TabsComponent);\r\n    return TabsComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/tooltip/tooltip.component.html\":\r\n/*!**********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/tooltip/tooltip.component.html ***!\r\n  \\**********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<button class=\\\"byiu-right-icon\\\" type=\\\"button\\\" *ngIf=\\\"!introActive && isEnableTooltip == 1\\\" (click)=\\\"enableIntro()\\\" tooltip=\\\"{{'Help' | translate}}\\\" placement=\\\"bottom\\\">\\n  <svg class=\\\"icon icon-question\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-question\\\"></use>\\n  </svg>\\n</button>\\n<div class=\\\"byi-intro-wrap\\\" [class.active]=\\\"toggleIntro\\\" *ngIf=\\\"!mainService.isResponsive && introActive && isEnableTooltip == 1\\\">\\n  <div class=\\\"byi-intro-inner\\\">\\n    <div class=\\\"byi-intro-title\\\">\\n      <h3>How do you want to start?</h3>\\n    </div>\\n  <div loader #loaderComponent></div>\\n    <div class=\\\"byi-intro-items\\\">\\n      <ng-container *ngFor=\\\"let mainTab of tooltipData; let i = index\\\">\\n        <ng-container *ngIf=\\\"mainTab.first_tooltip != null\\\">\\n          <div class=\\\"byi-intro-item\\\" *ngIf=\\\"mainTab.isAdmin != 0 || mainService.isAdmin == false\\\"\\n            (click)=\\\"fetchTabData(mainTab.id)\\\">\\n            <span class=\\\"byi-intro-icon\\\">\\n              <svg attr.class=\\\"icon icon-{{mainTab.component}}\\\" viewBox=\\\"0 0 50 50\\\">\\n                <use attr.xlink:href=\\\"assets/img/sprite.svg#icon-{{mainTab.component}}\\\"></use>\\n              </svg>\\n            </span>\\n            <p>{{mainTab.label}}</p>\\n          </div>\\n        </ng-container>\\n      </ng-container>\\n      <div *ngIf=\\\"productTooltipEnable == 1\\\" class=\\\"byi-intro-item product-tooltip\\\" (click)=\\\"getProduct()\\\">\\n        <span class=\\\"byi-intro-icon product-tooltip\\\">\\n          <svg class=\\\"icon icon-productComponent\\\" viewBox=\\\"0 0 50 50\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-productComponent\\\"></use>\\n          </svg>\\n        </span>\\n        <p class=\\\"product-tooltip\\\">Product</p>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/tooltip/tooltip.component.scss\":\r\n/*!**********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/tooltip/tooltip.component.scss ***!\r\n  \\**********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy90b29sdGlwL3Rvb2x0aXAuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/tooltip/tooltip.component.ts\":\r\n/*!********************************************************************!*\\\r\n  !*** ./src/app/essentials/components/tooltip/tooltip.component.ts ***!\r\n  \\********************************************************************/\r\n/*! exports provided: TooltipComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TooltipComponent\", function() { return TooltipComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar TooltipComponent = /** @class */ (function () {\r\n    function TooltipComponent(mainService, cacheService, canvasService, pubsub) {\r\n        this.mainService = mainService;\r\n        this.cacheService = cacheService;\r\n        this.canvasService = canvasService;\r\n        this.pubsub = pubsub;\r\n        this.isEnableTooltip = '';\r\n        this.TooltipData = '';\r\n        this.tooltipData = [];\r\n        this.toggleIntro = true;\r\n        this.deactiveLoader = false;\r\n        this.productTooltipEnable = false;\r\n        this.displayProductTooltip = false;\r\n        this.TooltipDataCacheKey = 'tooltipData - ' + this.mainService.baseUrl;\r\n    }\r\n    TooltipComponent.prototype.ngOnInit = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var params, url, cacheKey, self;\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        params = {\r\n                            isAdmin: this.mainService.isAdmin\r\n                        }, url = 'productdesigner/Index/getTooltip', cacheKey = this.TooltipDataCacheKey + this.mainService.isAdmin;\r\n                        return [4 /*yield*/, this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n                                _this.cacheService.set(_this.TooltipDataCacheKey, data, { maxAge: 15 * 60 });\r\n                                _this.isEnableTooltip = data.enable_tooltip;\r\n                            }).catch(function (err) { return console.log(err); })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        self = this;\r\n                        this.pubsub.$sub('tabsDataFetched', function () {\r\n                            var toolTipkeys = Object.keys(self.mainService.getAllTabs);\r\n                            var _loop_1 = function () {\r\n                                var tabId = self.mainService.getAllTabs[i].id;\r\n                                self.mainService.tabsFlow.filter(function (obj) {\r\n                                    if (obj.indexOf(tabId) != -1) {\r\n                                        self.tooltipData.push(self.mainService.getAllTabs[i]);\r\n                                    }\r\n                                });\r\n                            };\r\n                            for (var i = 1; i <= toolTipkeys.length; i++) {\r\n                                _loop_1();\r\n                            }\r\n                            self.toggleIntro = true;\r\n                        });\r\n                        this.pubsub.$sub('DisplayAllProducts', function (data) {\r\n                            _this.displayProductTooltip = data;\r\n                        });\r\n                        this.productTooltipEnable = (this.mainService.productTooltipData) ? this.mainService.productTooltipData[2] : 0;\r\n                        if ((this.isEnableTooltip && this.tooltipData.length > 0) || this.productTooltipEnable == 1) {\r\n                            this.enableIntro();\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TooltipComponent.prototype.getProduct = function () {\r\n        var tootltipData = [];\r\n        this.pubsub.$pub('openAllProduct');\r\n        var productIntro = (this.mainService.productTooltipData[1] != \"\") ? this.mainService.productTooltipData[1] : \"\";\r\n        if (productIntro != \"\") {\r\n            tootltipData.push({ element: \".byi-products-wrap\", intro: productIntro, position: 'right' });\r\n            this.mainService.processToolTip(tootltipData);\r\n        }\r\n    };\r\n    TooltipComponent.prototype.fetchTabData = function (tabId) {\r\n        this.canvasService.currentCanvas.discardActiveObject();\r\n        this.pubsub.$pub('introTabActive', tabId);\r\n        var tootltipData = [];\r\n        var getIndx = Object.keys(this.mainService.getAllTabs).indexOf(tabId);\r\n        var tootltipObj = this.mainService.getAllTabs[getIndx + 1];\r\n        var ids = tootltipObj.element_id.split(',');\r\n        if (ids.length >= 1) {\r\n            tootltipData.push({ element: ids[0], intro: tootltipObj.first_tooltip, position: 'right' });\r\n            this.mainService.processToolTip(tootltipData);\r\n        }\r\n    };\r\n    TooltipComponent.prototype.enableIntro = function () {\r\n        this.pubsub.$pub('getActiveTabId', 'enableTooltip');\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], TooltipComponent.prototype, \"introActive\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(\"loaderComponent\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_6__[\"LoaderComponent\"])\r\n    ], TooltipComponent.prototype, \"loaderComponent\", void 0);\r\n    TooltipComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[intro]',\r\n            template: __webpack_require__(/*! ./tooltip.component.html */ \"./src/app/essentials/components/tooltip/tooltip.component.html\"),\r\n            styles: [__webpack_require__(/*! ./tooltip.component.scss */ \"./src/app/essentials/components/tooltip/tooltip.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_3__[\"CacheService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"]])\r\n    ], TooltipComponent);\r\n    return TooltipComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/translate/translate.component.html\":\r\n/*!**************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/translate/translate.component.html ***!\r\n  \\**************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/translate/translate.component.scss\":\r\n/*!**************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/translate/translate.component.scss ***!\r\n  \\**************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy90cmFuc2xhdGUvdHJhbnNsYXRlLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/essentials/components/translate/translate.component.ts\":\r\n/*!************************************************************************!*\\\r\n  !*** ./src/app/essentials/components/translate/translate.component.ts ***!\r\n  \\************************************************************************/\r\n/*! exports provided: TranslateComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TranslateComponent\", function() { return TranslateComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n\r\n\r\n\r\n\r\nvar TranslateComponent = /** @class */ (function () {\r\n    function TranslateComponent(mainService, translate) {\r\n        this.mainService = mainService;\r\n        this.translate = translate;\r\n    }\r\n    TranslateComponent.prototype.fetchLocale = function () {\r\n        var _this = this;\r\n        var params = {}, url = 'productdesigner/index/fetchlocale', cacheKey = 'fetchLocale' + this.mainService.baseUrl;\r\n        this.mainService.getData(url, params, cacheKey).then(function (localeData) {\r\n            _this.translate.addLangs(localeData.active_locale);\r\n            _this.translate.setDefaultLang(localeData.active_locale);\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    TranslateComponent.prototype.ngOnInit = function () {\r\n        this.fetchLocale();\r\n    };\r\n    TranslateComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: 'translate',\r\n            template: __webpack_require__(/*! ./translate.component.html */ \"./src/app/essentials/components/translate/translate.component.html\"),\r\n            styles: [__webpack_require__(/*! ./translate.component.scss */ \"./src/app/essentials/components/translate/translate.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"], _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__[\"TranslateService\"]])\r\n    ], TranslateComponent);\r\n    return TranslateComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.html\":\r\n/*!***********************************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.html ***!\r\n  \\***********************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<ng-container *ngIf=\\\"!loadContent\\\">\\n\\t<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [isOpen]=\\\"openAccordian\\\" [hidden]=\\\"componentHide\\\">\\n\\t\\t<button class=\\\"byi-accordion-title\\\" accordion-heading>\\n\\t\\t\\t<span>{{'Patterns' | translate}}</span> \\n\\t\\t</button>\\n\\t\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t\\t<ng-container [ngTemplateOutlet]=\\\"patternTemplate\\\"></ng-container>\\n\\t\\t</div>\\n\\t</accordion-group>\\n\\t<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('pattern-controls')\\\"\\n\\t\\t[attr.hidden]=\\\"componentHide\\\" [customClass]=\\\"'isResponsiveTab'\\\">\\n\\t\\t<ng-template tabHeading>\\n\\t\\t\\t<span>{{'Patterns' | translate}}</span>\\n\\t\\t</ng-template>\\n\\t\\t<ng-container [ngTemplateOutlet]=\\\"patternTemplate\\\"></ng-container>\\n\\t</tab>\\n\\t<ng-template #patternTemplate>\\n\\t\\t<div class=\\\"byie-option background-pattern\\\">\\n\\t\\t\\t<div class=\\\"byi-global-reset byi-global-reset-wrapper\\\">\\n\\t\\t\\t\\t<button class=\\\"byi-range-reset-link byi-remove-pattern\\\" (click)=\\\"changePattern('remove')\\\"\\n\\t\\t\\t\\t\\ttooltip=\\\"{{'Remove Pattern' | translate}}\\\">\\n\\t\\t\\t\\t\\t<svg class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button class=\\\"byi-range-reset-link\\\" (click)=\\\"resetPattern(true)\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-select byi-select-pattern-repeat\\\">\\n\\t\\t\\t\\t<select (change)=\\\"changePattern('patternRepeat')\\\" [(ngModel)]=\\\"patternRepeat\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"repeat\\\">{{'Repeat pattern' | translate}}</option>\\n\\t\\t\\t\\t\\t<option value=\\\"no-repeat\\\">{{'No Repeat' | translate}}</option>\\n\\t\\t\\t\\t\\t<option value=\\\"repeat-x\\\">{{'Repeat X pattern' | translate}}</option>\\n\\t\\t\\t\\t\\t<option value=\\\"repeat-y\\\">{{'Repeat Y pattern' | translate}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t<span class=\\\"caret\\\"></span>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t\\t<label>{{'Pattern Size' | translate}}</label>\\n\\t\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{patternWidth}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" [min]=\\\"minWidth\\\" [max]=\\\"maxWidth\\\" (input)=\\\"changePattern('patternWidth')\\\"\\n\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"patternWidth\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t\\t<label>{{'Pattern Offset (X)' | translate}}</label>\\n\\t\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{patternXOffset}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" [min]=\\\"minXOffset\\\" [max]=\\\"maxXOffset\\\" (input)=\\\"changePattern('patternXOffset')\\\"\\n\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"patternXOffset\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t\\t<label>{{'Pattern Offset (Y)' | translate}}</label>\\n\\t\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{patternYOffset}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" [min]=\\\"minYOffset\\\" [max]=\\\"maxYOffset\\\" (input)=\\\"changePattern('patternYOffset')\\\"\\n\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"patternYOffset\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t\\t<label>{{'Pattern Angle' | translate}}</label>\\n\\t\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{patternAngle}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" min=\\\"-90\\\" max=\\\"90\\\" (input)=\\\"changePattern('patternAngle')\\\"\\n\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"patternAngle\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t\\t<label>{{'Pattern Padding' | translate}}</label>\\n\\t\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{patternPadding}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" min=\\\"-50\\\" max=\\\"50\\\" (input)=\\\"changePattern('patternPadding')\\\"\\n\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"patternPadding\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</ng-template>\\n</ng-container>\\n<ng-container *ngIf=\\\"loadContent\\\">\\n\\t<li [class.disabled]=\\\"!enableMakePattern\\\"  tooltip=\\\"{{'Make it Pattern' | translate}}\\\"\\n\\tcontainer=\\\"body\\\">\\n\\t\\t<svg class=\\\"icon icon-make-pattern\\\" [ngClass]=\\\"{'disabled': enableMakePattern != true}\\\" (click)=\\\"makePattern()\\\"\\n\\t\\t\\tviewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-make-pattern\\\"></use>\\n\\t\\t</svg>\\n\\t</li>\\n</ng-container>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.scss\":\r\n/*!***********************************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.scss ***!\r\n  \\***********************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9iYWNrZ3JvdW5kLXBhdHRlcm4tY29udHJvbHMvYmFja2dyb3VuZC1wYXR0ZXJuLWNvbnRyb2xzLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.ts\":\r\n/*!*********************************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.ts ***!\r\n  \\*********************************************************************************************************/\r\n/*! exports provided: BackgroundPatternControlsComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackgroundPatternControlsComponent\", function() { return BackgroundPatternControlsComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _background_patterns_background_patterns_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../background-patterns/background-patterns.service */ \"./src/app/premium/components/background-patterns/background-patterns.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar BackgroundPatternControlsComponent = /** @class */ (function () {\r\n    function BackgroundPatternControlsComponent(eventService, mainService, tabsService, backgroundPatternsService, canvasService) {\r\n        this.eventService = eventService;\r\n        this.mainService = mainService;\r\n        this.tabsService = tabsService;\r\n        this.backgroundPatternsService = backgroundPatternsService;\r\n        this.canvasService = canvasService;\r\n        this.enableMakePattern = false;\r\n        this.componentHide = true;\r\n        this.patternRepeat = 'repeat';\r\n        this.patternWidth = 100;\r\n        this.patternXOffset = 0;\r\n        this.patternYOffset = 0;\r\n        this.patternAngle = 0;\r\n        this.patternPadding = 0;\r\n        this.minWidth = 2;\r\n        this.maxWidth = 100;\r\n        this.minXOffset = 0;\r\n        this.maxXOffset = 500;\r\n        this.minYOffset = 0;\r\n        this.maxYOffset = 500;\r\n        this.openAccordian = true;\r\n    }\r\n    BackgroundPatternControlsComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        var self = this;\r\n        if (!this.loadContent) {\r\n            this.tabsService.registerTabs('pattern-controls', 'patterns');\r\n            this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n                if (obj) {\r\n                    _this.componentHide = true;\r\n                }\r\n            });\r\n            this.eventService.$sub('objectRemoved', function (obj) {\r\n                var canvas = _this.canvasService.currentCanvas;\r\n                _this.initValues(canvas);\r\n            });\r\n            this.eventService.$sub('backgroundPatternsApplied', function (canvas) {\r\n                if (!canvas) {\r\n                    canvas = _this.canvasService.currentCanvas;\r\n                }\r\n                _this.initValues(canvas);\r\n            });\r\n            this.eventService.$sub('imageSideChanged', function () {\r\n                var canvas = _this.canvasService.currentCanvas;\r\n                _this.initValues(canvas);\r\n            });\r\n            this.eventService.$sub('objectSelectionCleared', function (obj) {\r\n                var canvas = _this.canvasService.currentCanvas;\r\n                _this.initValues(canvas);\r\n            });\r\n        }\r\n        else {\r\n            this.subscribeEvents();\r\n        }\r\n    };\r\n    BackgroundPatternControlsComponent.prototype.initValues = function (canvas) {\r\n        if (canvas.backgroundColor && typeof canvas.backgroundColor == 'object') {\r\n            this.maxWidth = canvas.width / this.canvasService.scaleFactor;\r\n            if (this.maxWidth <= 2) {\r\n                this.minWidth = this.maxWidth / 2;\r\n            }\r\n            this.maxXOffset = canvas.width / this.canvasService.scaleFactor;\r\n            this.maxYOffset = canvas.height / this.canvasService.scaleFactor;\r\n            var pattern = canvas.backgroundColor;\r\n            this.patternRepeat = pattern.repeat;\r\n            this.patternXOffset = pattern.offsetX;\r\n            this.patternYOffset = pattern.offsetY;\r\n            if (pattern.angle) {\r\n                this.patternAngle = pattern.angle;\r\n            }\r\n            else {\r\n                this.patternAngle = 0;\r\n            }\r\n            if (pattern.patternWidth) {\r\n                this.patternWidth = pattern.patternWidth;\r\n            }\r\n            else {\r\n                this.patternWidth = 100;\r\n            }\r\n            if (pattern.padding) {\r\n                this.patternPadding = pattern.padding;\r\n            }\r\n            else {\r\n                this.patternPadding = 0;\r\n            }\r\n            this.componentHide = null;\r\n            this.openAccordian = true;\r\n        }\r\n        else {\r\n            this.resetPattern(false);\r\n            this.componentHide = true;\r\n            this.openAccordian = false;\r\n        }\r\n    };\r\n    BackgroundPatternControlsComponent.prototype.changePattern = function (type) {\r\n        var pattern = {};\r\n        pattern.repeat = this.patternRepeat ? this.patternRepeat : 'no-repeat';\r\n        pattern.offsetX = parseInt(this.patternXOffset, 10);\r\n        pattern.offsetY = parseInt(this.patternYOffset, 10);\r\n        pattern.patternWidth = parseInt(this.patternWidth, 10);\r\n        pattern.angle = this.patternAngle;\r\n        pattern.padding = parseInt(this.patternPadding, 10);\r\n        this.backgroundPatternsService.changePattern(pattern, type);\r\n    };\r\n    BackgroundPatternControlsComponent.prototype.resetPattern = function (reset) {\r\n        var self = this;\r\n        setTimeout(function () {\r\n            self.patternRepeat = 'repeat';\r\n            self.patternWidth = 100;\r\n            self.patternXOffset = 0;\r\n            self.patternYOffset = 0;\r\n            self.patternAngle = 0;\r\n            self.patternPadding = 0;\r\n            if (reset) {\r\n                self.changePattern('patternWidth');\r\n            }\r\n        }, 500);\r\n    };\r\n    BackgroundPatternControlsComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            _this.initData();\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            _this.initData();\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this.initData();\r\n        });\r\n    };\r\n    BackgroundPatternControlsComponent.prototype.initData = function () {\r\n        var obj = this.canvasService.getActiveObject();\r\n        if (obj.objType != 'image' || obj == false || obj.ultimatelock == true) {\r\n            this.enableMakePattern = false;\r\n        }\r\n        else {\r\n            this.enableMakePattern = true;\r\n        }\r\n    };\r\n    BackgroundPatternControlsComponent.prototype.makePattern = function () {\r\n        this.backgroundPatternsService.convertObjectToPattern();\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], BackgroundPatternControlsComponent.prototype, \"loadContent\", void 0);\r\n    BackgroundPatternControlsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[background-pattern-controls]',\r\n            template: __webpack_require__(/*! ./background-pattern-controls.component.html */ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.html\"),\r\n            styles: [__webpack_require__(/*! ./background-pattern-controls.component.scss */ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"], src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__[\"TabsService\"], _background_patterns_background_patterns_service__WEBPACK_IMPORTED_MODULE_6__[\"BackgroundPatternsService\"], src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"]])\r\n    ], BackgroundPatternControlsComponent);\r\n    return BackgroundPatternControlsComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/background-patterns/apply-patterns.service.ts\":\r\n/*!**********************************************************************************!*\\\r\n  !*** ./src/app/premium/components/background-patterns/apply-patterns.service.ts ***!\r\n  \\**********************************************************************************/\r\n/*! exports provided: ApplyPatternsService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ApplyPatternsService\", function() { return ApplyPatternsService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar ApplyPatternsService = /** @class */ (function () {\r\n    function ApplyPatternsService() {\r\n        this.init = function (params) {\r\n            var pattern = params.pattern, canvasService = params.service, oldObj = params.oldObj, canvas = params.canvas ? params.canvas : canvasService.currentCanvas, eventService = params.eventService;\r\n            var oldPattern = {};\r\n            var updatePattern = {};\r\n            if (params.oldPattern) {\r\n                updatePattern = params.oldPattern;\r\n            }\r\n            oldPattern = canvas['backgroundColor'];\r\n            return {\r\n                exec: function () {\r\n                    if (Object.keys(updatePattern).length > 0) {\r\n                        pattern = Object.assign(updatePattern, pattern);\r\n                    }\r\n                    else {\r\n                        canvas['backgroundColor'] = pattern;\r\n                    }\r\n                    if (oldObj) {\r\n                        canvas.remove(oldObj);\r\n                    }\r\n                    canvas.renderAll();\r\n                    eventService.$pub('backgroundPatternsApplied', canvas);\r\n                },\r\n                unexec: function () {\r\n                    canvas['backgroundColor'] = oldPattern;\r\n                    if (oldObj) {\r\n                        canvas.add(oldObj);\r\n                    }\r\n                    canvas.renderAll();\r\n                    eventService.$pub('backgroundPatternsApplied', canvas);\r\n                },\r\n            };\r\n        };\r\n    }\r\n    ApplyPatternsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], ApplyPatternsService);\r\n    return ApplyPatternsService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/background-patterns/background-patterns.component.html\":\r\n/*!*******************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/background-patterns/background-patterns.component.html ***!\r\n  \\*******************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div loader #subtabLoader></div>\\n<div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent\\\">\\n\\t<div class=\\\"byi-top-filters\\\">\\n\\t\\t<ng-container *ngIf=\\\"mainService.isResponsive\\\" [attr.hidden]=\\\"componentHide\\\">\\n\\t\\t\\t<div class=\\\"byi-fullview-toggle\\\">\\n\\t\\t\\t\\t<button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts)\\\">\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t</ng-container>\\n\\t\\t<div class=\\\"byi-dropdown\\\" *ngIf=\\\"patternCategories.length > 0\\\">\\n\\t\\t\\t<div class=\\\"btn-group\\\" dropdown>\\n\\t\\t\\t\\t<button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n\\t\\t\\t\\t\\t{{SelectedPatternCat?.name}}<span class=\\\"caret\\\"></span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n\\t\\t\\t\\t\\t<li role=\\\"menuitem\\\" *ngFor=\\\"let patternCat of patternCategories\\\"\\n\\t\\t\\t\\t\\t[ngClass]=\\\"patternCat.level == 0 ? 'main-product-category' : 'sub-product-category'\\\"\\n\\t\\t\\t\\t\\t[class.selected]=\\\"patternCat.id === SelectedPatternCat.id\\\" (click)=\\\"changePatternCat(patternCat)\\\">\\n\\t\\t\\t\\t\\t<a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n\\t\\t\\t\\t\\t\\t<span *ngFor=\\\"let i of getNumberArray(patternCat.level)\\\">-</span>\\n\\t\\t\\t\\t\\t{{patternCat.name}}</a>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<div class=\\\"byi-search\\\" *ngIf=\\\"patternCategories.length > 0\\\">\\n\\t\\t<input class=\\\"byi-input\\\" name=\\\"searchText\\\" (input)=\\\"searchPattern($event)\\\" placeholder=\\\"{{'Search Pattern' | translate}}\\\"\\n\\t\\ttype=\\\"text\\\">\\n\\t\\t<button class=\\\"byi-search-btn\\\">\\n\\t\\t\\t<svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n\\t\\t\\t</svg>\\n\\t\\t</button>\\n\\t</div>\\n</div>\\n<div class=\\\"byi-norecord\\\"\\n*ngIf=\\\"loaderComponent.showSubLoader === false && patternMedia && patternMedia.length == 0\\\">\\n{{'No Patterns Found' | translate}}\\n</div>\\n<div *ngIf=\\\"patternMedia.length > 0\\\" #mainSection class=\\\"byi-tab-cats byi-tab-cats-clipart\\\">\\n\\t<ul infiniteScroll [horizontal]=\\\"true\\\" [infiniteScrollDistance]=\\\"0\\\" [infiniteScrollThrottle]=\\\"1000\\\"\\n\\t[scrollWindow]=\\\"false\\\" [infiniteScrollDisabled]=\\\"!isEnableloadmore || !allowPlaceholderLoader\\\"\\n\\t(scrolled)=\\\"loadMorePattern()\\\" #scrollToBottom>\\n\\t<li *ngFor=\\\"let media of patternMedia\\\"\\n\\t[attr.hidden]=\\\"(showPlaceholder && allowPlaceholderLoader) ? true : null\\\">\\n\\t<a [ngClass]=\\\"{'image-with-text': !media.label && media.price}\\\"\\n\\thref=\\\"javascript:void(0)\\\" (click)=\\\"addPatternToCanvas(media.medium_url)\\\">\\n\\t<span><img [src]=\\\"media.image_path\\\" [attr.tab]=\\\"'clipart'\\\" [attr.dragprice]=\\\"media.price\\\" [attr.url]=\\\"media.medium_url\\\" class=\\\"byidraggable\\\"  (error)=\\\"getDefaultImage(media)\\\"></span>\\n\\t<label *ngIf=\\\"media.label\\\">{{media.label}}</label>\\n\\t\\n</a>\\n</li>\\n<li [attr.hidden]=\\\"(!showPlaceholder || !allowPlaceholderLoader) ? true : null\\\"\\n*ngFor=\\\"let temp of mainService.customPlaceholderArr\\\" placeholder-loader [loaderHeight]='84'\\n[loaderWidth]='84'></li>\\n</ul>\\n<div *ngIf=\\\"loadContent && isEnableloadmore && (!mainService.isResponsive || (mainService.isResponsive && showAllFonts))\\\" class=\\\"loadmore-action\\\">\\n\\t<input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMorePattern()\\\">\\n</div>\\n<div class=\\\"byi-upload-pattern\\\" *ngIf=\\\"loadContent\\\" >\\n\\t<input class=\\\"byi-btn byi-btn-xs\\\" type=\\\"button\\\" value=\\\"{{'Upload & Make It Pattern' | translate}}\\\" (click)=\\\"redirectToUpload()\\\">\\n</div>\\n</div>\\n</div>\\n<div loader #loaderComponent></div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/background-patterns/background-patterns.component.scss\":\r\n/*!*******************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/background-patterns/background-patterns.component.scss ***!\r\n  \\*******************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9iYWNrZ3JvdW5kLXBhdHRlcm5zL2JhY2tncm91bmQtcGF0dGVybnMuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/background-patterns/background-patterns.component.ts\":\r\n/*!*****************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/background-patterns/background-patterns.component.ts ***!\r\n  \\*****************************************************************************************/\r\n/*! exports provided: BackgroundPatternsComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackgroundPatternsComponent\", function() { return BackgroundPatternsComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n/* harmony import */ var _background_patterns_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./background-patterns.service */ \"./src/app/premium/components/background-patterns/background-patterns.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar BackgroundPatternsComponent = /** @class */ (function () {\r\n    function BackgroundPatternsComponent(cacheService, backgroundPatternsService, mainService, canvasService, eventService, translate, tabsService, cdr) {\r\n        this.cacheService = cacheService;\r\n        this.backgroundPatternsService = backgroundPatternsService;\r\n        this.mainService = mainService;\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.translate = translate;\r\n        this.tabsService = tabsService;\r\n        this.cdr = cdr;\r\n        this.accordianId = 0;\r\n        this.currentTab = 8;\r\n        this.patternCategories = [];\r\n        this.patternMedia = [];\r\n        this.limit = 12;\r\n        this.showAllFonts = false;\r\n        this.isEnableloadmore = false;\r\n        this.loadmore = 1;\r\n        this.checkPatternScroll = false;\r\n        // infinite scroll\r\n        this.customPlaceholderArr = [];\r\n    }\r\n    BackgroundPatternsComponent.prototype.ngOnInit = function () {\r\n        this.patternCategoriesCacheKey = 'patternCategories-' + this.mainService.productId + '-' + this.mainService.baseUrl;\r\n        this.subscribeEvents();\r\n        if (this.loadContent == true) {\r\n            this.getPatterns();\r\n        }\r\n        this.allowPlaceholderLoader = this.mainService.isResponsive;\r\n        this.mainService.prepareTempArrForPlaceholder(this.limit);\r\n    };\r\n    BackgroundPatternsComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('getSubTabs', function (mainTabId) {\r\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\r\n                _this.getSubTabs(mainTabId);\r\n            }\r\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\r\n        });\r\n        this.eventService.$sub('closeFullView', function (showAllFonts) {\r\n            _this.showAllFonts = showAllFonts;\r\n            _this.showFonts(_this.showAllFonts);\r\n        });\r\n        this.eventService.$sub('backgroundPatternsApplied', function () {\r\n            if (_this.canvasService.currentCanvas.backgroundColor && typeof _this.canvasService.currentCanvas.backgroundColor == 'object') {\r\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\r\n                _this.tabsService.showChildTabs('patterns');\r\n            }\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            if (_this.canvasService.currentCanvas.backgroundColor && typeof _this.canvasService.currentCanvas.backgroundColor == 'object') {\r\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\r\n                var self_1 = _this;\r\n                setTimeout(function () {\r\n                    self_1.tabsService.showChildTabs('patterns');\r\n                }, 500);\r\n            }\r\n        });\r\n    };\r\n    BackgroundPatternsComponent.prototype.getSubTabs = function (mainTabId) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var data;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                data = this.mainService.tabsFlow[mainTabId];\r\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\r\n                if (this.subTabsData && this.subTabsData.length > 0) {\r\n                    this.accordianId = this.subTabsData[0].id;\r\n                }\r\n                if (this.loaderComponent && this.loaderComponent.showSubLoader)\r\n                    this.loaderComponent.showSubLoader = false;\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    BackgroundPatternsComponent.prototype.getPatterns = function () {\r\n        var _this = this;\r\n        var params = { 'limit': this.limit, 'search': '', 'product_id': this.mainService.productId, 'page': this.loadmore, 'type': 'pattern' }, url = 'productdesigner/cliparts/getClipartCategories', cacheKey = this.patternCategoriesCacheKey;\r\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n            _this.cacheService.set(_this.patternCategoriesCacheKey, data, { maxAge: 15 * 60 });\r\n            var defaultCacheData = {\r\n                clipart_images: data.default_clipart_images,\r\n                priceFormat: data.priceFormat,\r\n                loadMoreFlag: data.loadMoreFlag,\r\n                page: 1\r\n            };\r\n            var defaultCategoryCacheKey = \"patternImages - \" + data.default_category_id + _this.loadmore + _this.limit;\r\n            ;\r\n            _this.cacheService.set(defaultCategoryCacheKey, defaultCacheData, { maxAge: 15 * 60 });\r\n            _this.processPatternsData(data);\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    BackgroundPatternsComponent.prototype.processPatternsData = function (data) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                this.priceFormat = data.priceFormat;\r\n                this.patternCategories = data.clipArtcategories;\r\n                this.isEnableloadmore = (data.loadMoreFlag == 0) ? false : true;\r\n                this.setImagesData(data.default_clipart_images, true);\r\n                this.currentPatternId = data.default_category_id;\r\n                this.SelectedPatternCat = {\r\n                    id: data.default_category_id,\r\n                    name: data.default_clipart_label\r\n                };\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    BackgroundPatternsComponent.prototype.changePatternCat = function (patternCat) {\r\n        this.patternMedia = [];\r\n        this.loadmore = 1;\r\n        this.SelectedPatternCat = patternCat;\r\n        this.currentPatternId = patternCat.id;\r\n        this.patternMediaCacheKey = 'patternMedia' + '-' + patternCat.id + '-' + this.loadmore;\r\n        this.getPatternImages(this.currentPatternId, this.patternMediaCacheKey);\r\n    };\r\n    BackgroundPatternsComponent.prototype.getPatternImages = function (patternId, cacheKey, searchText, resetMedia) {\r\n        var _this = this;\r\n        if (cacheKey === void 0) { cacheKey = null; }\r\n        if (searchText === void 0) { searchText = \"\"; }\r\n        if (resetMedia === void 0) { resetMedia = true; }\r\n        // show placeholder loader\r\n        if (this.mainService.isResponsive && !this.showAllFonts)\r\n            this.showPlaceholder = true;\r\n        else\r\n            this.loaderComponent.showSubLoader = true;\r\n        this.cdr.detectChanges();\r\n        // prepare params and url\r\n        var params = {\r\n            'clipart_id': patternId,\r\n            'limit': this.limit,\r\n            'search': searchText,\r\n            'product_id': this.mainService.productId,\r\n            'page': this.loadmore\r\n        }, url = 'productdesigner/cliparts/getClipartImages';\r\n        cacheKey = \"patternImages - \" + patternId + searchText + this.loadmore + this.limit;\r\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n            _this.cacheService.set(cacheKey, data, { maxAge: 15 * 60 });\r\n            _this.processPattersMedia(data, resetMedia);\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    BackgroundPatternsComponent.prototype.processPattersMedia = function (data, resetMedia) {\r\n        this.priceFormat = data.priceFormat;\r\n        this.isEnableloadmore = (data.loadMoreFlag == 0) ? false : true;\r\n        this.setImagesData(data.clipart_images, resetMedia);\r\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showMainLoader)\r\n            this.loaderComponent.showSubLoader = false;\r\n        this.showPlaceholder = false;\r\n        if (this.checkPatternScroll && resetMedia === false) {\r\n            this.cdr.detectChanges();\r\n            this.scrollToBottom();\r\n        }\r\n    };\r\n    BackgroundPatternsComponent.prototype.scrollToBottom = function () {\r\n        try {\r\n            if (!this.mainService.isResponsive)\r\n                this.ScrollContainer.nativeElement.scrollTop = this.ScrollContainer.nativeElement.scrollHeight;\r\n            else if (this.mainService.isResponsive && !this.allowPlaceholderLoader)\r\n                this.mainSection.nativeElement.scrollTop = this.mainSection.nativeElement.scrollHeight;\r\n            else {\r\n                var scrollWidth = this.ScrollContainer.nativeElement.scrollWidth;\r\n                scrollWidth = scrollWidth - ((scrollWidth * 25) / 100);\r\n                this.ScrollContainer.nativeElement.scrollLeft = scrollWidth;\r\n            }\r\n        }\r\n        catch (err) { }\r\n    };\r\n    BackgroundPatternsComponent.prototype.setImagesData = function (ImgData, resetMedia) {\r\n        if (resetMedia === true)\r\n            this.patternMedia = [];\r\n        for (var i = 0; i < ImgData.length; i++) {\r\n            this.patternMedia.push(ImgData[i]);\r\n        }\r\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showSubLoader) {\r\n            this.loaderComponent.showSubLoader = false;\r\n            this.cdr.detectChanges();\r\n        }\r\n    };\r\n    BackgroundPatternsComponent.prototype.getNumberArray = function (value) {\r\n        var items = [];\r\n        for (var i = 1; i <= value; i++) {\r\n            items.push(i);\r\n        }\r\n        return items;\r\n    };\r\n    BackgroundPatternsComponent.prototype.showFonts = function (showAllFonts) {\r\n        this.showAllFonts = !showAllFonts;\r\n        this.allowPlaceholderLoader = showAllFonts;\r\n        this.eventService.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Background Patterns' });\r\n    };\r\n    BackgroundPatternsComponent.prototype.loadMorePattern = function () {\r\n        this.loadmore++;\r\n        this.patternMediaCacheKey = 'patternMedia' + '-' + this.currentPatternId;\r\n        this.cacheService.set(this.patternMediaCacheKey, '');\r\n        this.checkPatternScroll = true;\r\n        this.getPatternImages(this.currentPatternId, this.patternMediaCacheKey, this.searchText, false);\r\n    };\r\n    BackgroundPatternsComponent.prototype.addPatternToCanvas = function (img) {\r\n        var params = {\r\n            backgroundImage: img\r\n        };\r\n        this.backgroundPatternsService.applyPattern(params);\r\n    };\r\n    BackgroundPatternsComponent.prototype.redirectToUpload = function () {\r\n        this.eventService.$pub('getActiveTabId', 3);\r\n        this.eventService.$pub('introTabActive', 3);\r\n    };\r\n    BackgroundPatternsComponent.prototype.searchPattern = function ($event) {\r\n        if (!$event || !$event.target || !$event.target.value) {\r\n            this.loadmore = 1;\r\n        }\r\n        ;\r\n        this.searchText = $event.target.value.toString();\r\n        this.getPatternImages(this.currentPatternId, null, this.searchText);\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], BackgroundPatternsComponent.prototype, \"loadContent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(\"loaderComponent\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_9__[\"LoaderComponent\"])\r\n    ], BackgroundPatternsComponent.prototype, \"loaderComponent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('subtabLoader'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_9__[\"LoaderComponent\"])\r\n    ], BackgroundPatternsComponent.prototype, \"subtabLoader\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('scrollToBottom'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ElementRef\"])\r\n    ], BackgroundPatternsComponent.prototype, \"ScrollContainer\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('mainSection'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ElementRef\"])\r\n    ], BackgroundPatternsComponent.prototype, \"mainSection\", void 0);\r\n    BackgroundPatternsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[background-patterns]',\r\n            template: __webpack_require__(/*! ./background-patterns.component.html */ \"./src/app/premium/components/background-patterns/background-patterns.component.html\"),\r\n            styles: [__webpack_require__(/*! ./background-patterns.component.scss */ \"./src/app/premium/components/background-patterns/background-patterns.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ng2_cache__WEBPACK_IMPORTED_MODULE_8__[\"CacheService\"],\r\n            _background_patterns_service__WEBPACK_IMPORTED_MODULE_5__[\"BackgroundPatternsService\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__[\"TranslateService\"],\r\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__[\"TabsService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"]])\r\n    ], BackgroundPatternsComponent);\r\n    return BackgroundPatternsComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/background-patterns/background-patterns.service.ts\":\r\n/*!***************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/background-patterns/background-patterns.service.ts ***!\r\n  \\***************************************************************************************/\r\n/*! exports provided: BackgroundPatternsService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackgroundPatternsService\", function() { return BackgroundPatternsService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var _apply_patterns_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./apply-patterns.service */ \"./src/app/premium/components/background-patterns/apply-patterns.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\nvar BackgroundPatternsService = /** @class */ (function () {\r\n    function BackgroundPatternsService(canvasService, eventService, applyPatternsService) {\r\n        var _this = this;\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.applyPatternsService = applyPatternsService;\r\n        this.padding = [];\r\n        this.pattern = {};\r\n        this.oldPattern = {};\r\n        this.imgObj = {};\r\n        this.canvasService.objProperties.push(\"object\");\r\n        this.canvasService.objProperties.push(\"angle\");\r\n        this.canvasService.objProperties.push(\"offsetX\");\r\n        this.canvasService.objProperties.push(\"offsetY\");\r\n        this.canvasService.objProperties.push(\"padding\");\r\n        this.canvasService.objProperties.push(\"patternWidth\");\r\n        if (!this.eventService.events.loadBackgroundPattern) {\r\n            this.eventService.$sub('loadBackgroundPattern', function (background) {\r\n                _this.loadBackgroundPattern(background);\r\n            });\r\n        }\r\n    }\r\n    BackgroundPatternsService.prototype.loadBackgroundPattern = function (background) {\r\n        var self = this;\r\n        var uniqueCanvasId = background.canvas.image_id + '_' + background.canvas.designarea_id;\r\n        self.padding[uniqueCanvasId] = background.padding;\r\n        if (!this.oldPattern[uniqueCanvasId]) {\r\n            this.oldPattern[uniqueCanvasId] = {};\r\n        }\r\n        this.oldPattern[uniqueCanvasId].repeat = background.repeat;\r\n        this.oldPattern[uniqueCanvasId].offsetX = background.offsetX;\r\n        this.oldPattern[uniqueCanvasId].offsetY = background.offsetY;\r\n        fabric.util.enlivenObjects([background.object], function (object) {\r\n            self.imgObj[uniqueCanvasId] = object[0];\r\n            self.uniqueCanvasId = uniqueCanvasId;\r\n            self.imgObj[uniqueCanvasId].loadDesign = true;\r\n            if (self.imgObj[uniqueCanvasId]._objects) {\r\n                self.imgObj[uniqueCanvasId].isSvg = true;\r\n            }\r\n            self.canvas = background.canvas;\r\n            self.makePattern(self, null);\r\n        });\r\n    };\r\n    BackgroundPatternsService.prototype.applyPattern = function (params) {\r\n        var self = this;\r\n        var backgroundImage = params['backgroundImage'];\r\n        var oldObj = params['oldObj'];\r\n        var imgExtensionIndex = backgroundImage.lastIndexOf('.'), extensionName = backgroundImage.substr(imgExtensionIndex + 1);\r\n        var uniqueCanvasId = this.canvasService.currentCanvas.image_id + '_' + this.canvasService.currentCanvas.designarea_id;\r\n        if (extensionName == 'svg') {\r\n            new fabric.loadSVGFromURL(backgroundImage, function (svgImgObject, options) {\r\n                self.imgObj[uniqueCanvasId] = new fabric.Group(svgImgObject);\r\n                var objWidth = 100 / self.canvasService.scaleFactor;\r\n                self.imgObj[uniqueCanvasId].scaleToWidth(objWidth);\r\n                self.imgObj[uniqueCanvasId].left = 0;\r\n                self.imgObj[uniqueCanvasId].top = 0;\r\n                self.imgObj[uniqueCanvasId].isSvg = true;\r\n                self.makePattern(self, oldObj);\r\n            });\r\n        }\r\n        else {\r\n            fabric.Image.fromURL(backgroundImage, function (img) {\r\n                self.imgObj[uniqueCanvasId] = img;\r\n                var objWidth = 100 / self.canvasService.scaleFactor;\r\n                self.imgObj[uniqueCanvasId].scaleToWidth(objWidth);\r\n                self.imgObj[uniqueCanvasId].left = 0;\r\n                self.imgObj[uniqueCanvasId].top = 0;\r\n                self.makePattern(self, oldObj);\r\n            });\r\n        }\r\n    };\r\n    BackgroundPatternsService.prototype.makePattern = function (self, oldObj) {\r\n        var uniqueCanvasId;\r\n        if (self.uniqueCanvasId) {\r\n            uniqueCanvasId = self.uniqueCanvasId;\r\n        }\r\n        else {\r\n            uniqueCanvasId = this.canvasService.currentCanvas.image_id + '_' + this.canvasService.currentCanvas.designarea_id;\r\n        }\r\n        var imgObj = self.imgObj[uniqueCanvasId];\r\n        var usedColorArr = [];\r\n        var usedColorCounter = 0;\r\n        if (imgObj.isSvg == true) {\r\n            imgObj._objects.forEach(function (svgColor) {\r\n                if (svgColor.fill) {\r\n                    if (usedColorArr.indexOf(svgColor.fill) == -1) {\r\n                        usedColorArr.push(svgColor.fill);\r\n                    }\r\n                }\r\n            });\r\n            usedColorCounter = usedColorArr.length;\r\n        }\r\n        var patternSourceCanvas = new fabric.StaticCanvas();\r\n        patternSourceCanvas.add(imgObj);\r\n        patternSourceCanvas.renderAll();\r\n        if (!self.padding[uniqueCanvasId]) {\r\n            self.padding[uniqueCanvasId] = 0;\r\n        }\r\n        this.pattern[uniqueCanvasId] = new fabric.Pattern({\r\n            source: function () {\r\n                patternSourceCanvas.setDimensions({\r\n                    width: imgObj.getScaledWidth() + self.padding[uniqueCanvasId],\r\n                    height: imgObj.getScaledHeight() + self.padding[uniqueCanvasId]\r\n                });\r\n                patternSourceCanvas.renderAll();\r\n                return patternSourceCanvas.getElement();\r\n            },\r\n            repeat: 'repeat'\r\n        });\r\n        this.pattern[uniqueCanvasId] = Object.assign(this.pattern[uniqueCanvasId], this.oldPattern[uniqueCanvasId]);\r\n        this.pattern[uniqueCanvasId].usedColorCounter = usedColorCounter;\r\n        this.pattern[uniqueCanvasId].object = imgObj;\r\n        var objParams = {\r\n            canvas: this.canvas ? this.canvas : this.canvasService.currentCanvas,\r\n            crudService: this.applyPatternsService,\r\n            isHistory: true,\r\n            pattern: this.pattern[uniqueCanvasId],\r\n            oldObj: oldObj,\r\n        };\r\n        this.canvasService.objectCRUD(objParams);\r\n        if (this.oldPattern[uniqueCanvasId] && !this.imgObj[uniqueCanvasId].loadDesign) {\r\n            var type = null;\r\n            if (this.oldPattern[uniqueCanvasId].patternWidth) {\r\n                type = 'patternWidth';\r\n            }\r\n            if (!this.oldPattern[uniqueCanvasId].angle) {\r\n                this.oldPattern[uniqueCanvasId].angle = 0;\r\n            }\r\n            if (!this.oldPattern[uniqueCanvasId].padding) {\r\n                this.oldPattern[uniqueCanvasId].padding = 0;\r\n            }\r\n            this.changePattern(this.oldPattern[uniqueCanvasId], type);\r\n        }\r\n    };\r\n    BackgroundPatternsService.prototype.changePattern = function (pattern, type) {\r\n        var uniqueCanvasId = this.canvasService.currentCanvas.image_id + '_' + this.canvasService.currentCanvas.designarea_id;\r\n        if (type != 'remove') {\r\n            this.oldPattern[uniqueCanvasId] = Object.assign({}, pattern);\r\n            this.pattern[uniqueCanvasId] = Object.assign(this.pattern[uniqueCanvasId], pattern);\r\n            if (type == 'patternWidth') {\r\n                this.imgObj[uniqueCanvasId].scaleToWidth(pattern.patternWidth / this.canvasService.scaleFactor);\r\n            }\r\n            this.imgObj[uniqueCanvasId].set('angle', pattern.angle);\r\n            this.padding[uniqueCanvasId] = pattern.padding;\r\n            this.canvasService.currentCanvas.renderAll();\r\n            this.eventService.$pub('backgroundPatternsApplied');\r\n            /* let objParams = {\r\n               crudService: this.applyPatternsService,\r\n               oldPattern: this.pattern[uniqueCanvasId],\r\n               pattern:pattern\r\n             };\r\n             this.canvasService.objectCRUD(objParams);*/\r\n        }\r\n        else {\r\n            delete this.pattern[uniqueCanvasId];\r\n            delete this.oldPattern[uniqueCanvasId];\r\n            this.padding[uniqueCanvasId] = 0;\r\n            delete this.imgObj[uniqueCanvasId];\r\n            this.canvasService.currentCanvas.backgroundColor = null;\r\n            this.canvasService.currentCanvas.renderAll();\r\n            this.eventService.$pub('backgroundPatternsApplied');\r\n        }\r\n    };\r\n    BackgroundPatternsService.prototype.convertObjectToPattern = function () {\r\n        var obj = this.canvasService.currentCanvas.getActiveObject();\r\n        var params = {\r\n            backgroundImage: obj.src,\r\n            oldObj: obj\r\n        };\r\n        this.applyPattern(params);\r\n    };\r\n    BackgroundPatternsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"], _apply_patterns_service__WEBPACK_IMPORTED_MODULE_3__[\"ApplyPatternsService\"]])\r\n    ], BackgroundPatternsService);\r\n    return BackgroundPatternsService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/design-templates/design-templates.component.html\":\r\n/*!*************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/design-templates/design-templates.component.html ***!\r\n  \\*************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<!-- loadContent == header , It means it is called from header -->\\n<ng-container *ngIf=\\\"mainService.isAdmin == true && loadContent =='header'\\\">\\n    <a href=\\\"javascript:void(0)\\\" (click)=\\\"openSaveTemplate()\\\" tooltip=\\\"{{'Save Template' | translate}}\\\">\\n        <svg class=\\\"icon icon-save\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-save\\\"></use>\\n        </svg>\\n    </a>\\n    <!-- Save Design Modal -->\\n    <ng-template #saveTemplateModal>\\n        <form #saveTemplateForm=\\\"ngForm\\\" [formGroup]=\\\"designTemplateForm\\\" (ngSubmit)=\\\"saveTemplate()\\\">\\n            <div class=\\\"modal-header\\\">\\n                <h4 class=\\\"modal-title pull-left\\\">{{'Save Template' | translate}}</h4>\\n                <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n                    <span aria-hidden=\\\"true\\\">&times;</span>\\n                </button>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"byi-login-tab byi-save-template\\\">\\n                    <div class=\\\"byi-float-form\\\">\\n                        <div class=\\\"byi-float-label\\\">\\n                            <label>{{'Template Name' | translate}} *</label>\\n                            <input type=\\\"text\\\" name=\\\"templateTitle\\\" formControlName=\\\"templateTitle\\\" />\\n                            <div *ngIf=\\\"saveTemplateForm.submitted && dfref.templateTitle.errors\\\" class=\\\"byi-error\\\">\\n                                <ng-container *ngIf=\\\"dfref.templateTitle.errors.required\\\">\\n                                    {{'This field is required' | translate}}\\n                                </ng-container>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"byi-float-checkbox\\\">\\n                            <label class=\\\"byi-checkbox\\\">\\n                                <input class=\\\"is-pre-loaded\\\" name=\\\"isPreLoaded\\\" type=\\\"checkbox\\\"\\n                                    [(ngModel)]=\\\"templateService.isPreLoaded\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n                                {{'Set as Preloaded Template for this product.' | translate}}\\n                                <span></span>\\n                            </label>\\n                        </div>\\n                        <div class=\\\"byi-float-label\\\">\\n                            <label>{{\\\"Choose Category\\\" | translate}} *</label>\\n                            <select class=\\\"byi-dropdown\\\" multiple name=\\\"templatecategory[]\\\" id=\\\"templatecategory\\\"\\n                                formControlName=\\\"templateCategory\\\">\\n                                <ng-container *ngFor=\\\"let category of templateCategories\\\">\\n                                    <option [ngValue]=\\\"category.id\\\"\\n                                        [ngClass]=\\\"category.level == 0 ? 'main-category' : 'sub-category'\\\">\\n                                        <span *ngFor=\\\"let i of getNumberArray(category.level)\\\">-</span>\\n                                        {{category.title}}\\n                                    </option>\\n                                </ng-container>\\n                            </select>\\n\\n                            <div *ngIf=\\\"saveTemplateForm.submitted && dfref.templateCategory.errors\\\" class=\\\"byi-error\\\">\\n                                <ng-container *ngIf=\\\"dfref.templateCategory.errors.required\\\">\\n                                    {{'This field is required' | translate}}\\n                                </ng-container>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"byi-float-label\\\">\\n                            <label>{{\\\"Status\\\" | translate}} *</label>\\n                            <div class=\\\"byi-dropdown\\\">\\n                                <div class=\\\"btn-group\\\" dropdown>\\n                                    <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n                                       {{selectedStausName}}<span class=\\\"caret\\\"></span>\\n                                    </button>\\n                                    <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n                                       <li role=\\\"menuitem\\\" *ngFor=\\\"let status of statusData\\\" [class.selected]=\\\"status.id == selectedStaus\\\" (click)=\\\"changeStatus(status)\\\">\\n                                          <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n                                             {{status.name}}</a>\\n                                       </li>\\n                                    </ul>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"byi-float-label\\\">\\n                            <div class=\\\"byi-form-action\\\">\\n                                <button class=\\\"byi-btn\\\" type=\\\"submit\\\">{{'Save' | translate}}</button>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </form>\\n    </ng-template>\\n</ng-container>\\n<ng-container *ngIf=\\\"mainService.isAdmin == false && loadContent != 'header'\\\">\\n    <common-tabs #commonTabs *ngIf=\\\"!loadContent\\\" [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\">\\n    </common-tabs>\\n    <div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent == true\\\">\\n        <div class=\\\"byi-top-filters\\\" *ngIf=\\\"templateCategories && templateCategories.length > 0\\\">\\n            <ng-container *ngIf=\\\"mainService.isResponsive\\\">\\n                <div class=\\\"byi-fullview-toggle\\\">\\n                    <button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts)\\\">\\n                        <span></span>\\n                        <span></span>\\n                        <span></span>\\n                    </button>\\n                </div>\\n            </ng-container>\\n            <div class=\\\"byi-dropdown\\\">\\n                <div class=\\\"btn-group\\\" dropdown>\\n                    <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n                        {{selectedTemplateCat?.title}}<span class=\\\"caret\\\"></span>\\n                    </button>\\n                    <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n                        <li role=\\\"menuitem\\\" *ngFor=\\\"let templateCat of templateCategories\\\"\\n                            [ngClass]=\\\"templateCat.level == 0 ? 'main-category' : 'sub-category'\\\"\\n                            [class.selected]=\\\"templateCat.id === selectedTemplateCat.id\\\"\\n                            (click)=\\\"changeTemplateCat(templateCat)\\\">\\n                            <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n                                <span *ngFor=\\\"let i of getNumberArray(templateCat.level)\\\">-</span>\\n                                {{templateCat.title}}\\n                            </a>\\n                        </li>\\n                    </ul>\\n                </div>\\n            </div>\\n            <div class=\\\"byi-search\\\">\\n                <input class=\\\"byi-input\\\" name=\\\"searchText\\\" (keyup)=\\\"searchTemplate($event)\\\"\\n                    placeholder=\\\"{{'Search Template' | translate}}\\\" type=\\\"text\\\">\\n                <button class=\\\"byi-search-btn\\\">\\n                    <svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n                    </svg>\\n                </button>\\n            </div>\\n        </div>\\n        <div class=\\\"byi-norecord\\\" *ngIf=\\\"loaderComponent.showSubLoader === false && templates && templates.length == 0\\\">\\n            {{'No Templates Found' | translate}}\\n        </div>\\n        <div *ngIf=\\\"templates.length > 0\\\" #mainSection class=\\\"byi-tab-cats byi-tab-cats-clipart\\\">\\n            <ul infiniteScroll [horizontal]=\\\"true\\\" [infiniteScrollDistance]=\\\"0\\\" [infiniteScrollThrottle]=\\\"1000\\\"\\n                [scrollWindow]=\\\"false\\\" [infiniteScrollDisabled]=\\\"!isEnableloadmore || !allowPlaceholderLoader\\\"\\n                (scrolled)=\\\"loadMoreClipArt()\\\" #scrollToBottom>\\n                <li *ngFor=\\\"let template of templates\\\"\\n                    [attr.hidden]=\\\"(showPlaceholder && allowPlaceholderLoader) ? true : null\\\"\\n                    (click)='loadTemplate(template.designtemplates_id)'>\\n                    <a [ngClass]=\\\"{'image-only': !template.template_title, 'image-with-text': !template.template_title || template.template_title }\\\"\\n                        href=\\\"javascript:void(0)\\\" title=\\\"{{template.template_title}}\\\">\\n                        <span><img [src]=\\\"templateImgUrl+template.designtemplates_id+'/base/'+template.image\\\" /></span>\\n                        <label *ngIf=\\\"template.template_title\\\">{{template.template_title}}</label>\\n                    </a>\\n                </li>\\n                <li [attr.hidden]=\\\"(!showPlaceholder || !allowPlaceholderLoader) ? true : null\\\"\\n                    *ngFor=\\\"let temp of mainService.customPlaceholderArr\\\" placeholder-loader [loaderHeight]='84'\\n                    [loaderWidth]='84'>\\n                </li>\\n            </ul>\\n        </div>\\n\\n    </div>\\n    <div loader #loaderComponent></div>\\n</ng-container>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/design-templates/design-templates.component.scss\":\r\n/*!*************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/design-templates/design-templates.component.scss ***!\r\n  \\*************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9kZXNpZ24tdGVtcGxhdGVzL2Rlc2lnbi10ZW1wbGF0ZXMuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/design-templates/design-templates.component.ts\":\r\n/*!***********************************************************************************!*\\\r\n  !*** ./src/app/premium/components/design-templates/design-templates.component.ts ***!\r\n  \\***********************************************************************************/\r\n/*! exports provided: DesignTemplatesComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignTemplatesComponent\", function() { return DesignTemplatesComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var _template_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./template.service */ \"./src/app/premium/components/design-templates/template.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DesignTemplatesComponent = /** @class */ (function () {\r\n    function DesignTemplatesComponent(mainService, templateService, eventService, cacheService, cdr, translate, formBuilder) {\r\n        var _this = this;\r\n        this.mainService = mainService;\r\n        this.templateService = templateService;\r\n        this.eventService = eventService;\r\n        this.cacheService = cacheService;\r\n        this.cdr = cdr;\r\n        this.translate = translate;\r\n        this.formBuilder = formBuilder;\r\n        this.currentTab = 7;\r\n        this.selectedTemplateCat = [];\r\n        this.searchText = \"\";\r\n        this.loadmore = 1;\r\n        this.templates = [];\r\n        this.templateImgUrl = '';\r\n        this.isEnableloadmore = false;\r\n        this.checkScroll = false;\r\n        this.limit = 12;\r\n        // infinite scroll\r\n        this.customPlaceholderArr = [];\r\n        this.allowPlaceholderLoader = false;\r\n        this.selectedStaus = 1;\r\n        this.selectedStausName = this.translate.instant('Enable');\r\n        this.statusData = [\r\n            { id: 1, name: this.translate.instant('Enable') },\r\n            { id: 0, name: this.translate.instant('Disable') }\r\n        ];\r\n        this.showAllFonts = false;\r\n        this.eventService.$sub('getSubTabs', function (mainTabId) {\r\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\r\n                _this.getSubTabs(mainTabId);\r\n            }\r\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\r\n        });\r\n    }\r\n    DesignTemplatesComponent.prototype.ngOnInit = function () {\r\n        this.init();\r\n        if ((this.mainService.isAdmin == true && this.loadContent == 'header') || (this.mainService.isAdmin == false && this.loadContent == true)) {\r\n            this.fetchDesignTemplateCategories();\r\n        }\r\n    };\r\n    DesignTemplatesComponent.prototype.fetchDesignTemplateCategories = function () {\r\n        var _this = this;\r\n        var params = {\r\n            isTemplate: this.loadContent,\r\n            productId: this.mainService.productId\r\n        }, url = 'designtemplates/designtemplates/fetchTemplateCategories', cacheKey = 'fetchTemplateCategories' + this.mainService.productId;\r\n        this.mainService.getData(url, params, cacheKey, null, true).then(function (templateCategoriesData) {\r\n            if (templateCategoriesData.status == 'success') {\r\n                _this.templateCategories = templateCategoriesData.templateCategories;\r\n                _this.selectedTemplateCat = templateCategoriesData.defaultTemplateCategory;\r\n                if (_this.mainService.isAdmin == false) {\r\n                    _this.processTemplates(templateCategoriesData, true);\r\n                }\r\n            }\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    DesignTemplatesComponent.prototype.getNumberArray = function (value) {\r\n        var items = [];\r\n        for (var i = 1; i <= value; i++) {\r\n            items.push(i);\r\n        }\r\n        return items;\r\n    };\r\n    DesignTemplatesComponent.prototype.init = function () {\r\n        this.templateService.templateTitle = '';\r\n        this.subscribeEvents();\r\n        this.prepareFormGroup();\r\n    };\r\n    DesignTemplatesComponent.prototype.prepareFormGroup = function () {\r\n        // Login form builder\r\n        this.designTemplateForm = this.formBuilder.group({\r\n            templateTitle: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__[\"Validators\"].required]],\r\n            templateCategory: [[], [_angular_forms__WEBPACK_IMPORTED_MODULE_1__[\"Validators\"].required]]\r\n        });\r\n    };\r\n    DesignTemplatesComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('setTemplateData', function (templateData) {\r\n            _this.designTemplateForm.controls.templateTitle.setValue(templateData.template_title);\r\n            _this.designTemplateForm.controls.templateCategory.setValue(templateData.selectedTemplateCategories);\r\n            _this.selectedStaus = templateData.statusTemplate != undefined ? templateData.statusTemplate : 1;\r\n            _this.selectedStausName = _this.selectedStaus == 1 ? _this.translate.instant('Enable') : _this.translate.instant('Disable');\r\n        });\r\n    };\r\n    DesignTemplatesComponent.prototype.openSaveTemplate = function () {\r\n        if (this.mainService.canvasService.hasCanvasObjectOrBackgroundAll()) {\r\n            this.modalRef = this.mainService.openThisModal(this.saveTemplateModal);\r\n        }\r\n        else {\r\n            this.mainService.swal(this.translate.instant('Alert'), this.translate.instant('Please design the product !'), \"warning\");\r\n        }\r\n    };\r\n    DesignTemplatesComponent.prototype.saveTemplate = function () {\r\n        var _this = this;\r\n        if (this.designTemplateForm.invalid)\r\n            return;\r\n        var data = {\r\n            title: this.designTemplateForm.controls.templateTitle.value,\r\n            selectedTemplateCategories: this.designTemplateForm.controls.templateCategory.value,\r\n            status: this.selectedStaus\r\n        };\r\n        this.templateService.saveTemplate(data).then(function (resp) {\r\n            if (resp.status == 'success') {\r\n                _this.init();\r\n                _this.modalRef.hide();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Fetching subtabs\r\n     */\r\n    DesignTemplatesComponent.prototype.getSubTabs = function (mainTabId) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var data;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                data = this.mainService.tabsFlow[mainTabId];\r\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\r\n                if (this.subTabsData && this.subTabsData.length > 0) {\r\n                    this.accordianId = this.subTabsData[0].id;\r\n                }\r\n                if (this.loaderComponent && this.loaderComponent.showSubLoader)\r\n                    this.loaderComponent.showSubLoader = false;\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    DesignTemplatesComponent.prototype.changeTemplateCat = function (templateCat) {\r\n        this.selectedTemplateCat = templateCat;\r\n        this.templates = [];\r\n        this.loadmore = 1;\r\n        var templatesCacheKey = 'templates' + '-' + this.selectedTemplateCat.id + '-' + this.loadmore;\r\n        this.getTemplates(templatesCacheKey);\r\n    };\r\n    DesignTemplatesComponent.prototype.loadMoreTemplates = function () {\r\n        this.loadmore++;\r\n        var templatesCacheKey = 'templates' + '-' + this.selectedTemplateCat.id + '-' + this.loadmore;\r\n        this.cacheService.set(templatesCacheKey, '');\r\n        this.checkScroll = true;\r\n        this.getTemplates(templatesCacheKey, this.searchText, false);\r\n    };\r\n    DesignTemplatesComponent.prototype.getTemplates = function (cacheKey, searchText, resetTemplates) {\r\n        var _this = this;\r\n        if (cacheKey === void 0) { cacheKey = null; }\r\n        if (searchText === void 0) { searchText = \"\"; }\r\n        if (resetTemplates === void 0) { resetTemplates = true; }\r\n        var templateCatId = this.selectedTemplateCat.id;\r\n        // show placeholder loader\r\n        this.showPlaceholder = true;\r\n        this.loaderComponent.showSubLoader = true;\r\n        this.cdr.detectChanges();\r\n        // prepare params and url\r\n        var params = {\r\n            'templateCatId': templateCatId,\r\n            'limit': this.limit,\r\n            'searchText': searchText,\r\n            'productId': this.mainService.productId,\r\n            'page': this.loadmore\r\n        }, url = 'designtemplates/designtemplates/fetchTemplates';\r\n        cacheKey = 'fetchTemplates' + searchText + templateCatId;\r\n        // if cahcekey is not null that means user has changed template category\r\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\r\n            _this.cacheService.set(cacheKey, data, { maxAge: 15 * 60 });\r\n            if (resetTemplates === true)\r\n                _this.templates = [];\r\n            _this.processTemplates(data, resetTemplates);\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    DesignTemplatesComponent.prototype.searchTemplate = function ($event) {\r\n        if (!$event || !$event.target || !$event.target.value) {\r\n            this.loadmore = 1;\r\n        }\r\n        ;\r\n        if (this.searchText == $event.target.value.toString()) {\r\n            return;\r\n        }\r\n        this.searchText = $event.target.value.toString();\r\n        this.getTemplates(null, this.searchText);\r\n    };\r\n    DesignTemplatesComponent.prototype.processTemplates = function (data, resetTemplates) {\r\n        this.templateImgUrl = data.templateImgUrl;\r\n        this.isEnableloadmore = (data.loadMoreFlag == 0) ? false : true;\r\n        this.setImagesData(data.templates);\r\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showMainLoader)\r\n            this.loaderComponent.showSubLoader = false;\r\n        this.showPlaceholder = false;\r\n        if (this.checkScroll && resetTemplates === false) {\r\n            this.cdr.detectChanges();\r\n            this.scrollToBottom();\r\n        }\r\n    };\r\n    DesignTemplatesComponent.prototype.setImagesData = function (data) {\r\n        for (var i = 0; i < data.length; i++) {\r\n            this.templates.push(data[i]);\r\n        }\r\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showSubLoader) {\r\n            this.loaderComponent.showSubLoader = false;\r\n            this.cdr.detectChanges();\r\n        }\r\n    };\r\n    DesignTemplatesComponent.prototype.scrollToBottom = function () {\r\n        try {\r\n            if (!this.mainService.isResponsive)\r\n                this.ScrollContainer.nativeElement.scrollTop = this.ScrollContainer.nativeElement.scrollHeight;\r\n            else if (this.mainService.isResponsive && !this.allowPlaceholderLoader)\r\n                this.mainSection.nativeElement.scrollTop = this.mainSection.nativeElement.scrollHeight;\r\n            else\r\n                this.ScrollContainer.nativeElement.scrollLeft = (this.ScrollContainer.nativeElement.scrollWidth - 300);\r\n        }\r\n        catch (err) { }\r\n    };\r\n    DesignTemplatesComponent.prototype.loadTemplate = function (id) {\r\n        this.templateService.loadTemplate(btoa(id));\r\n    };\r\n    DesignTemplatesComponent.prototype.showFonts = function (showAllFonts) {\r\n        this.showAllFonts = !showAllFonts;\r\n        this.eventService.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Show all images' });\r\n    };\r\n    Object.defineProperty(DesignTemplatesComponent.prototype, \"dfref\", {\r\n        get: function () { return this.designTemplateForm.controls; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DesignTemplatesComponent.prototype.changeStatus = function (status) {\r\n        this.selectedStaus = status.id;\r\n        this.selectedStausName = status.name;\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('saveTemplateModal'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], DesignTemplatesComponent.prototype, \"saveTemplateModal\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], DesignTemplatesComponent.prototype, \"loadContent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])(\"loaderComponent\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_7__[\"LoaderComponent\"])\r\n    ], DesignTemplatesComponent.prototype, \"loaderComponent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('scrollToBottom'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ElementRef\"])\r\n    ], DesignTemplatesComponent.prototype, \"ScrollContainer\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('mainSection'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ElementRef\"])\r\n    ], DesignTemplatesComponent.prototype, \"mainSection\", void 0);\r\n    DesignTemplatesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\r\n            selector: '[design-templates]',\r\n            template: __webpack_require__(/*! ./design-templates.component.html */ \"./src/app/premium/components/design-templates/design-templates.component.html\"),\r\n            styles: [__webpack_require__(/*! ./design-templates.component.scss */ \"./src/app/premium/components/design-templates/design-templates.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            _template_service__WEBPACK_IMPORTED_MODULE_5__[\"TemplateService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_8__[\"CacheService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ChangeDetectorRef\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__[\"TranslateService\"],\r\n            _angular_forms__WEBPACK_IMPORTED_MODULE_1__[\"FormBuilder\"]])\r\n    ], DesignTemplatesComponent);\r\n    return DesignTemplatesComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/design-templates/template.service.ts\":\r\n/*!*************************************************************************!*\\\r\n  !*** ./src/app/premium/components/design-templates/template.service.ts ***!\r\n  \\*************************************************************************/\r\n/*! exports provided: TemplateService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TemplateService\", function() { return TemplateService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar TemplateService = /** @class */ (function () {\r\n    function TemplateService(mainService, eventService, canvasService, translate) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.translate = translate;\r\n        this.selectedTemplateCategories = [];\r\n        // if design is already loaded flag\r\n        this.isDesignLoaded = false;\r\n        var params = this.mainService.getUrlParams(['template']);\r\n        this.templateId = params['template'];\r\n        var self = this;\r\n        this.eventService.$sub('allcanvasCreated', function (allImageIds) {\r\n            if (self.templateId && self.isDesignLoaded == false) {\r\n                self.loadTemplate(self.templateId);\r\n                self.isDesignLoaded = true;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n* Save Template\r\n*/\r\n    TemplateService.prototype.saveTemplate = function (data) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var imageId = _this.canvasService.firstImageId;\r\n            var images = _this.canvasService.getCanvasDataUrl(imageId);\r\n            var containerCanvasesJson = _this.canvasService.getCanvasToJson();\r\n            data.sweetAlert = data.hasOwnProperty('sweetAlert') ? data.sweetAlert : true;\r\n            var params = {\r\n                'templateId': _this.templateId,\r\n                'dataUrl': images,\r\n                'product_image_data': _this.canvasService.allImagesWithIds[imageId],\r\n                'product_id': _this.mainService.productId,\r\n                'canvasJson': btoa(unescape(encodeURIComponent(JSON.stringify(containerCanvasesJson)))),\r\n                'associated_product_id': _this.mainService.associatedProductId,\r\n                'title': data.hasOwnProperty('title') ? data.title : '',\r\n                'isPreLoaded': _this.isPreLoaded,\r\n                'status': data.hasOwnProperty('status') ? data.status : 1,\r\n                'selectedTemplateCategories': data.hasOwnProperty('selectedTemplateCategories') ? data.selectedTemplateCategories : ''\r\n            }, url = 'designtemplates/designtemplates/SaveTemplate?isAjax=true';\r\n            _this.eventService.$pub(\"showMainLoader\");\r\n            _this.mainService.post(url, params).then(function (resp) {\r\n                _this.eventService.$pub(\"hideMainLoader\");\r\n                if (resp && resp.status == \"success\" && data.sweetAlert == true) {\r\n                    _this.canvasService.clearHistory();\r\n                    _this.eventService.$pub('undoRedo');\r\n                    _this.mainService.swal(_this.translate.instant(\"Success\"), resp.message, \"success\");\r\n                    resp.product_id = _this.mainService.productId;\r\n                    _this.eventService.$pub('designSaved', resp);\r\n                }\r\n                else if (resp && resp.status == 'error' && resp.hasOwnProperty('isExists') && resp.isExists == true && data.sweetAlert == true) {\r\n                    _this.mainService.swal(_this.translate.instant(\"Success\"), resp.message, \"success\");\r\n                }\r\n                resolve(resp);\r\n            });\r\n        });\r\n    };\r\n    TemplateService.prototype.loadTemplate = function (templateId) {\r\n        var _this = this;\r\n        var params = { 'templateId': templateId }, url = 'designtemplates/designtemplates/LoadTemplate', cacheKey = 'LoadTemplate' + templateId + this.mainService.baseUrl;\r\n        this.mainService.getData(url, params, cacheKey, null, true).then(function (templateData) {\r\n            if (templateData.status == 'success') {\r\n                _this.eventService.$pub('loadTheseFonts', JSON.parse(templateData.json_objects));\r\n                _this.setTemplateData(templateData);\r\n                _this.canvasService.clearCanvas();\r\n                templateData.currentProductId = _this.mainService.associatedProductId;\r\n                _this.canvasService.loadDesign(templateData);\r\n                _this.mainService.lastSavedData.json_objects = templateData.json_objects;\r\n            }\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    TemplateService.prototype.setTemplateData = function (templateData) {\r\n        this.eventService.$pub('setTemplateData', templateData);\r\n        if (templateData.isPreLoaded == 'true') {\r\n            this.isPreLoaded = true;\r\n        }\r\n        else {\r\n            this.isPreLoaded = false;\r\n        }\r\n    };\r\n    TemplateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateService\"]])\r\n    ], TemplateService);\r\n    return TemplateService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.html\":\r\n/*!*************************************************************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.html ***!\r\n  \\*************************************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<ng-template #verticalTemplate>\\n  <div [innerHtml]=\\\"verticalTooltip\\\"></div>\\n</ng-template>\\n<li (click)=\\\"topObjectSpacing()\\\" tooltip=\\\"{{'Distribute Vertically (must select 3 or more objects)' | translate}}\\\" container=\\\"body\\\" [ngClass]=\\\"{'disabled': enableForThreeObjects == true}\\\">\\n  <svg class=\\\"icon icon-align-vertical\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-align-vertical\\\"></use>\\n  </svg>\\n</li>\\n<ng-template #horizontalTemplate>\\n  <div [innerHtml]=\\\"horizontalTooltip\\\"></div>\\n</ng-template>\\n<li (click)=\\\"leftObjectSpacing()\\\" tooltip=\\\"{{'Distribute Horizontally (must select 3 or more objects)' | translate}}\\\" container=\\\"body\\\" [ngClass]=\\\"{'disabled': enableForThreeObjects == true}\\\">\\n  <svg class=\\\"icon icon-align-horizontal\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-align-horizontal\\\"></use>\\n  </svg>\\n</li>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.scss\":\r\n/*!*************************************************************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.scss ***!\r\n  \\*************************************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9kaXN0cmlidXRlLXZlcnRpY2FsLWhvcml6b250YWwtYWxpZ25tZW50L2Rpc3RyaWJ1dGUtdmVydGljYWwtaG9yaXpvbnRhbC1hbGlnbm1lbnQuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.ts\":\r\n/*!***********************************************************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.ts ***!\r\n  \\***********************************************************************************************************************************/\r\n/*! exports provided: DistributeVerticalHorizontalAlignmentComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DistributeVerticalHorizontalAlignmentComponent\", function() { return DistributeVerticalHorizontalAlignmentComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_essentials_components_right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/essentials/components/right-panel/right-panel.service */ \"./src/app/essentials/components/right-panel/right-panel.service.ts\");\r\n/* harmony import */ var src_app_services_update_object_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/update-object.service */ \"./src/app/services/update-object.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DistributeVerticalHorizontalAlignmentComponent = /** @class */ (function () {\r\n    function DistributeVerticalHorizontalAlignmentComponent(canvasService, eventService, rightPanelService, updateObjectService) {\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.rightPanelService = rightPanelService;\r\n        this.updateObjectService = updateObjectService;\r\n        // tooltip messages\r\n        this.horizontalTooltip = 'Distribute Horizontally' + '<br/>' + '(must select 3 or more objects)';\r\n        this.verticalTooltip = 'Distribute Vertically' + '<br/>' + '(must select 3 or more objects)';\r\n    }\r\n    DistributeVerticalHorizontalAlignmentComponent.prototype.ngOnInit = function () {\r\n        this.init();\r\n        this.subscribeEvents();\r\n    };\r\n    DistributeVerticalHorizontalAlignmentComponent.prototype.init = function () {\r\n        this.enableForThreeObjects = this.enableForThreeObjectsFun();\r\n    };\r\n    DistributeVerticalHorizontalAlignmentComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('objectSelectionCreated', function () {\r\n            _this.init();\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function () {\r\n            _this.init();\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this.init();\r\n        });\r\n        this.eventService.$sub('objectUpdated', function () {\r\n            _this.init();\r\n        });\r\n    };\r\n    DistributeVerticalHorizontalAlignmentComponent.prototype.enableForThreeObjectsFun = function () {\r\n        var totalAddedObjects = (this.canvasService.currentCanvas && this.canvasService.currentCanvas.getActiveObjects()) ? this.canvasService.currentCanvas.getActiveObjects().length : 0;\r\n        if (totalAddedObjects > 2)\r\n            return false;\r\n        return true;\r\n    };\r\n    DistributeVerticalHorizontalAlignmentComponent.prototype.topObjectSpacing = function () {\r\n        // return if disabled\r\n        if (this.enableForThreeObjects)\r\n            return;\r\n        // variable declaration\r\n        var canvas = this.canvasService.currentCanvas, activeGroup = canvas.getActiveObject(), allObjs = canvas.getActiveObjects();\r\n        var topMostObj = this.rightPanelService.findObjMargin(allObjs, false, 'top'), bottomMostObj = this.rightPanelService.findObjMargin(allObjs, true, 'top'), totalHeight = this.calcTotalHeightOfAllObj(allObjs), properties = {}, params = {\r\n            obj: [], properties: [], crudServiceString: 'this.multipleObjectsUpdateService',\r\n            selectedObjs: allObjs\r\n        };\r\n        this.rightPanelService.canvasService.deselectAllObjects();\r\n        topMostObj = canvas.getObjects().find(function (o) { return o.id == topMostObj.id; });\r\n        bottomMostObj = canvas.getObjects().find(function (o) { return o.id == bottomMostObj.id; });\r\n        // calculate difference\r\n        var diff = (activeGroup.height - totalHeight) / (allObjs.length - 1), prevObj = topMostObj, finalTopVal = null;\r\n        // traverse array of all selected objects\r\n        // set top value of each object except top and bottom most objects\r\n        allObjs.filter(function (obj) {\r\n            if (obj.id != topMostObj.id && obj.id != bottomMostObj.id) {\r\n                finalTopVal = diff + (prevObj.height * prevObj.scaleY) + prevObj.top;\r\n                params.properties.push({ top: finalTopVal });\r\n                params.obj.push(obj);\r\n                // set current object as prev object\r\n                // we will assign current object's top value based on\r\n                // prev object's top and height values\r\n                prevObj = obj;\r\n                prevObj.top = finalTopVal;\r\n            }\r\n        });\r\n        if (params.obj.length && params.properties.length) {\r\n            this.rightPanelService.canvasService.objectCRUD(params);\r\n        }\r\n    };\r\n    DistributeVerticalHorizontalAlignmentComponent.prototype.calcTotalHeightOfAllObj = function (allObjs) {\r\n        // init totalHeight variable \r\n        var totalHeight = 0;\r\n        // traverse through selected objects\r\n        // and calculate total height\r\n        allObjs.filter(function (obj) {\r\n            totalHeight += (obj.height * obj.scaleY);\r\n        });\r\n        // finally return\r\n        return totalHeight;\r\n    };\r\n    DistributeVerticalHorizontalAlignmentComponent.prototype.leftObjectSpacing = function () {\r\n        // return if disabled\r\n        if (this.enableForThreeObjects)\r\n            return;\r\n        // variable declaration\r\n        var canvas = this.canvasService.currentCanvas, activeGroup = canvas.getActiveObject(), allObjs = canvas.getActiveObjects();\r\n        this.rightPanelService.canvasService.deselectAllObjects();\r\n        var leftMostObj = this.rightPanelService.findObjMargin(allObjs, false, 'left'), rightMostObj = this.rightPanelService.findObjMargin(allObjs, true, 'left'), totalWidth = this.calcTotalWidthOfAllObj(allObjs), properties = {}, params = {\r\n            obj: [], properties: [], crudServiceString: 'this.multipleObjectsUpdateService',\r\n            selectedObjs: allObjs\r\n        };\r\n        if (leftMostObj.id == rightMostObj.id) {\r\n            leftMostObj = this.rightPanelService.findObjMargin(allObjs, true, 'left', leftMostObj);\r\n        }\r\n        // calculate difference\r\n        var diff = (activeGroup.width - totalWidth) / (allObjs.length - 1), prevObj = leftMostObj, finalLeftValue = null;\r\n        // traverse array of all selected objects\r\n        // set top value of each object except top and bottom most objects\r\n        allObjs.filter(function (obj) {\r\n            if (obj.id != leftMostObj.id && obj.id != rightMostObj.id) {\r\n                // prepare property value\r\n                finalLeftValue = diff + (prevObj.width * prevObj.scaleX) + prevObj.left;\r\n                params.properties.push({ left: finalLeftValue });\r\n                params.obj.push(obj);\r\n                // set current object as prev object\r\n                // we will assign current object's top value based on\r\n                // prev object's top and height values\r\n                prevObj = obj;\r\n                prevObj.left = finalLeftValue;\r\n            }\r\n        });\r\n        if (params.obj.length && params.properties.length) {\r\n            this.rightPanelService.canvasService.objectCRUD(params);\r\n        }\r\n    };\r\n    DistributeVerticalHorizontalAlignmentComponent.prototype.calcTotalWidthOfAllObj = function (allObjs) {\r\n        // init totalHeight variable\r\n        var totalWidth = 0;\r\n        // traverse through selected objects\r\n        // and calculate total height\r\n        allObjs.filter(function (obj) {\r\n            totalWidth += (obj.width * obj.scaleX);\r\n        });\r\n        // finally return\r\n        return totalWidth;\r\n    };\r\n    DistributeVerticalHorizontalAlignmentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\r\n            selector: '[distribute-vertical-horizontal-alignment]',\r\n            template: __webpack_require__(/*! ./distribute-vertical-horizontal-alignment.component.html */ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.html\"),\r\n            styles: [__webpack_require__(/*! ./distribute-vertical-horizontal-alignment.component.scss */ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"],\r\n            src_app_essentials_components_right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__[\"RightPanelService\"],\r\n            src_app_services_update_object_service__WEBPACK_IMPORTED_MODULE_5__[\"UpdateObjectService\"]])\r\n    ], DistributeVerticalHorizontalAlignmentComponent);\r\n    return DistributeVerticalHorizontalAlignmentComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/drag-drop/drag-drop.component.html\":\r\n/*!***********************************************************************!*\\\r\n  !*** ./src/app/premium/components/drag-drop/drag-drop.component.html ***!\r\n  \\***********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/drag-drop/drag-drop.component.scss\":\r\n/*!***********************************************************************!*\\\r\n  !*** ./src/app/premium/components/drag-drop/drag-drop.component.scss ***!\r\n  \\***********************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9kcmFnLWRyb3AvZHJhZy1kcm9wLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/drag-drop/drag-drop.component.ts\":\r\n/*!*********************************************************************!*\\\r\n  !*** ./src/app/premium/components/drag-drop/drag-drop.component.ts ***!\r\n  \\*********************************************************************/\r\n/*! exports provided: DragDropComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DragDropComponent\", function() { return DragDropComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DragDropComponent = /** @class */ (function () {\r\n    function DragDropComponent(canvasService, mainService, addImageService, pubsub) {\r\n        this.canvasService = canvasService;\r\n        this.mainService = mainService;\r\n        this.addImageService = addImageService;\r\n        this.pubsub = pubsub;\r\n    }\r\n    DragDropComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.pubsub.$sub('fileUploaded', function () {\r\n            var self = _this;\r\n            setTimeout(function () {\r\n                self.initDrag();\r\n            });\r\n        });\r\n        this.pubsub.$sub('allcanvasCreated', function () {\r\n            var self = _this;\r\n            setTimeout(function () {\r\n                self.initDrop();\r\n            });\r\n        });\r\n    };\r\n    DragDropComponent.prototype.initDrag = function () {\r\n        var self = this;\r\n        this.images = document.querySelectorAll('.byidraggable');\r\n        for (var i = 0; i < this.images.length; i++) {\r\n            var img = this.images[i];\r\n            img.addEventListener('dragstart', function (e) {\r\n                for (var i_1 = 0; i_1 < self.images.length; i_1++) {\r\n                    var img_1 = self.images[i_1];\r\n                    img_1.classList.remove('img_dragging');\r\n                }\r\n                this.classList.add('img_dragging');\r\n            });\r\n            img.addEventListener('dragend', function (e) {\r\n                for (var i_2 = 0; i_2 < self.images.length; i_2++) {\r\n                    var img_2 = self.images[i_2];\r\n                    img_2.classList.remove('img_dragging');\r\n                }\r\n            });\r\n            if (img.getAttribute(\"drop\") == 'true') {\r\n                self.addDroppedImageToCanvas(self.droppedElement, img);\r\n                img.setAttribute(\"drop\", null);\r\n            }\r\n        }\r\n    };\r\n    DragDropComponent.prototype.initDrop = function () {\r\n        var self = this;\r\n        window.addEventListener(\"dragenter\", function (e) {\r\n            var canvasContainers = document.querySelectorAll('.design-container');\r\n            for (var i = 0; i < canvasContainers.length; i++) {\r\n                var parentNode = canvasContainers[i].parentElement;\r\n                if (parentNode.classList.contains('active')) {\r\n                    canvasContainers[i].classList.add('byi-droppable');\r\n                    var element = document.createElement(\"div\");\r\n                    element.className = 'byi-droppable-overlay';\r\n                    element.innerHTML = '<span class=\"upload-icon\"><svg class=\"icon icon-upload\" viewBox=\"0 0 30 30\"><use xlink:href=\"assets/img/sprite.svg#icon-upload\"></use></svg></span><span>drag it here.</span>';\r\n                    if (canvasContainers[i] && (!canvasContainers[i].firstElementChild.classList.contains(\"byi-droppable-overlay\"))) {\r\n                        canvasContainers[i].prepend(element);\r\n                    }\r\n                }\r\n            }\r\n            var imageUploadContainers = document.querySelector('.byi-tooltip-imageUploadComponent');\r\n            if (imageUploadContainers) {\r\n                imageUploadContainers.classList.add('byi-droppable');\r\n            }\r\n        }, false);\r\n        window.addEventListener(\"dragover\", function (e) {\r\n            e.preventDefault();\r\n        }, false);\r\n        window.addEventListener(\"drop\", function (e) {\r\n            var canvasContainers = document.querySelectorAll('.design-container');\r\n            for (var i = 0; i < canvasContainers.length; i++) {\r\n                canvasContainers[i].classList.remove('byi-droppable');\r\n                if (canvasContainers[i].firstElementChild.classList.contains(\"byi-droppable-overlay\")) {\r\n                    canvasContainers[i].firstElementChild.remove();\r\n                }\r\n            }\r\n            var imageUploadContainers = document.querySelector('.byi-tooltip-imageUploadComponent');\r\n            if (imageUploadContainers) {\r\n                imageUploadContainers.classList.remove('byi-droppable');\r\n            }\r\n            if (e.target) {\r\n                if (e.target.type == \"file\") {\r\n                    return;\r\n                }\r\n                else {\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        }, false);\r\n        window.addEventListener(\"dragleave\", function (e) {\r\n            var canvasContainers = document.querySelectorAll('.design-container');\r\n            for (var i = 0; i < canvasContainers.length; i++) {\r\n                if (e.relatedTarget == canvasContainers[i] || e.relatedTarget == undefined) {\r\n                    canvasContainers[i].classList.remove('byi-droppable');\r\n                    if (canvasContainers[i].firstElementChild.classList.contains(\"byi-droppable-overlay\")) {\r\n                        canvasContainers[i].firstElementChild.remove();\r\n                    }\r\n                }\r\n            }\r\n            var imageUploadContainers = document.querySelector('.byi-tooltip-imageUploadComponent');\r\n            if (e.relatedTarget == imageUploadContainers || e.relatedTarget == undefined) {\r\n                if (imageUploadContainers) {\r\n                    imageUploadContainers.classList.remove('byi-droppable');\r\n                }\r\n            }\r\n            e.preventDefault();\r\n        }, false);\r\n        var canvasContainers = document.querySelectorAll('.design-container');\r\n        for (var i = 0; i < canvasContainers.length; i++) {\r\n            var canvasContainer = canvasContainers[i];\r\n            canvasContainer.addEventListener('dragenter', function (e) {\r\n                e.target.classList.add('over');\r\n            }, false);\r\n            canvasContainer.addEventListener('dragover', function (e) {\r\n                if (e.preventDefault) {\r\n                    e.preventDefault();\r\n                }\r\n                e.dataTransfer.dropEffect = 'copy';\r\n                return false;\r\n            }, false);\r\n            canvasContainer.addEventListener('dragleave', function (e) {\r\n                var canvasContainers = document.querySelectorAll('.design-container');\r\n                for (var i_3 = 0; i_3 < canvasContainers.length; i_3++) {\r\n                    canvasContainers[i_3].classList.remove('byi-droppable');\r\n                }\r\n                var imageUploadContainers = document.querySelector('.byi-tooltip-imageUploadComponent');\r\n                if (e.relatedTarget == imageUploadContainers) {\r\n                    if (imageUploadContainers) {\r\n                        imageUploadContainers.classList.remove('byi-droppable');\r\n                    }\r\n                }\r\n                e.target.classList.remove('over');\r\n            }, false);\r\n            canvasContainer.addEventListener('drop', function (e) {\r\n                var canvasContainers = document.querySelectorAll('.design-container');\r\n                for (var i_4 = 0; i_4 < canvasContainers.length; i_4++) {\r\n                    canvasContainers[i_4].classList.remove('byi-droppable');\r\n                    if (canvasContainers[i_4].firstElementChild.classList.contains(\"byi-droppable-overlay\")) {\r\n                        canvasContainers[i_4].firstElementChild.remove();\r\n                    }\r\n                }\r\n                var imageUploadContainers = document.querySelector('.byi-tooltip-imageUploadComponent');\r\n                if (imageUploadContainers) {\r\n                    imageUploadContainers.classList.remove('byi-droppable');\r\n                }\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                if (e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n                    self.pubsub.$pub('getActiveTabId', 3);\r\n                    self.pubsub.$pub('introTabActive', 3);\r\n                    self.droppedElement = e;\r\n                    self.pubsub.$pub('UploadDropImage', e);\r\n                    return false;\r\n                }\r\n                self.addDroppedImageToCanvas(e, null);\r\n                return false;\r\n            }, false);\r\n        }\r\n    };\r\n    DragDropComponent.prototype.addDroppedImageToCanvas = function (e, img) {\r\n        var canvasID;\r\n        if (e.currentTarget) {\r\n            canvasID = e.currentTarget.getAttribute(\"selection_area\");\r\n        }\r\n        else {\r\n            canvasID = e.target.parentElement.parentElement.getAttribute(\"selection_area\");\r\n        }\r\n        if (!canvasID)\r\n            return;\r\n        var canvas = this.canvasService.containerCanvases[canvasID];\r\n        if (!img) {\r\n            img = document.querySelector('img.img_dragging');\r\n        }\r\n        if (!img)\r\n            return;\r\n        var imgUrl = img.getAttribute('url');\r\n        if (!img)\r\n            return;\r\n        var tab = img.getAttribute('tab');\r\n        var dragprice = img.getAttribute('dragprice');\r\n        img.classList.remove('img_dragging');\r\n        this.pubsub.$pub('changeImageSide', { canvas: canvas });\r\n        if (tab == 'clipart') {\r\n            this.pubsub.$pub('addClipartImage', { img: imgUrl, price: dragprice, canvas: canvas });\r\n        }\r\n        else if (tab == 'upload') {\r\n            this.pubsub.$pub('addUploadImage', { img: imgUrl, canvas: canvas });\r\n        }\r\n    };\r\n    DragDropComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[drag-drop]',\r\n            template: __webpack_require__(/*! ./drag-drop.component.html */ \"./src/app/premium/components/drag-drop/drag-drop.component.html\"),\r\n            styles: [__webpack_require__(/*! ./drag-drop.component.scss */ \"./src/app/premium/components/drag-drop/drag-drop.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__[\"MainService\"],\r\n            src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_4__[\"AddImageService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"]])\r\n    ], DragDropComponent);\r\n    return DragDropComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/image-slider/image-slider.component.html\":\r\n/*!*****************************************************************************!*\\\r\n  !*** ./src/app/premium/components/image-slider/image-slider.component.html ***!\r\n  \\*****************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div photo-calendar *ngIf=\\\"mainService.loadedProductData && mainService.loadedProductData.designerProductType\\\"></div>\\n<ngu-carousel #myCarousel [inputs]=\\\"carouselConfig\\\" [dataSource]=\\\"canvasImages\\\"  (onMove)=\\\"onmoveFn($event)\\\">\\n\\t<div *nguCarouselDef=\\\"let image;let i = index\\\" class=\\\"item\\\" [ngClass]=\\\"{active: activeSlide == image.image_id}\\\"  (click)=\\\"changeSlide(image.image_id, i)\\\" >\\n\\t\\t<div class=\\\"tile\\\" style=\\\"position: relative;\\\">\\n\\t\\t\\t<img [src]=\\\"image.url\\\" class=\\\"product-thumbnail\\\" title=\\\"{{image.image_title}}\\\">\\n\\t\\t\\t<ng-container *ngFor=\\\"let item of image.dim;let j = index\\\">\\n\\t\\t\\t\\t<img *ngIf=\\\"image.dataurl && image.dataurl[item.designareaId]\\\" [src]=\\\"image.dataurl[item.designareaId]\\\" [attr.data-designarea]=\\\"item.designareaId\\\" class=\\\"dataurl\\\" [ngStyle]=\\\"{'position': 'absolute','left' : image.positionleft[item.designareaId],'top' : image.positiontop[item.designareaId]}\\\">\\n\\t\\t\\t</ng-container>\\n\\t\\t</div>\\n\\t</div>\\n\\t<button *ngIf=\\\"enableNext\\\" NguCarouselNext class=\\\"byi__arrow byi__arrow--left\\\">&gt;</button>\\n\\t<button *ngIf=\\\"enablePrev\\\"  NguCarouselPrev class=\\\"byi__arrow byi__arrow--right\\\">&lt;</button>\\n</ngu-carousel>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/image-slider/image-slider.component.scss\":\r\n/*!*****************************************************************************!*\\\r\n  !*** ./src/app/premium/components/image-slider/image-slider.component.scss ***!\r\n  \\*****************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9pbWFnZS1zbGlkZXIvaW1hZ2Utc2xpZGVyLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/image-slider/image-slider.component.ts\":\r\n/*!***************************************************************************!*\\\r\n  !*** ./src/app/premium/components/image-slider/image-slider.component.ts ***!\r\n  \\***************************************************************************/\r\n/*! exports provided: ImageSliderComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageSliderComponent\", function() { return ImageSliderComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _ngu_carousel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngu/carousel */ \"./node_modules/@ngu/carousel/fesm5/ngu-carousel.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ImageSliderComponent = /** @class */ (function () {\r\n    function ImageSliderComponent(cdr, eventService, canvasService, mainService) {\r\n        this.cdr = cdr;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.mainService = mainService;\r\n        this.enableNext = 1;\r\n        this.enablePrev = 0;\r\n        this.changeSlider = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\r\n        this.subscribeEvents();\r\n        this.initCarousel();\r\n    }\r\n    ImageSliderComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        var self = this;\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            self.reflectThumbnails(obj);\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            self.reflectThumbnails(obj);\r\n        });\r\n        this.eventService.$sub('objectUpdated', function (obj) {\r\n            self.reflectThumbnails(obj);\r\n        });\r\n        this.eventService.$sub('canvasObjectModified', function (obj) {\r\n            self.reflectThumbnails(obj);\r\n        });\r\n        this.eventService.$sub('backgroundPatternsApplied', function (obj) {\r\n            self.reflectThumbnails(obj);\r\n        });\r\n        this.eventService.$sub('canvasBackgroundChange', function (obj) {\r\n            self.reflectThumbnails(obj);\r\n        });\r\n        this.eventService.$sub('changeSlider', function (data) {\r\n            self.canvasImages = data.canvasImages;\r\n            self.changeSlide(data.image_id, data.slide);\r\n        });\r\n        this.eventService.$sub('windowResize', function () {\r\n            _this.initCarousel();\r\n        });\r\n    };\r\n    ImageSliderComponent.prototype.reflectThumbnails = function (object) {\r\n        var obj = object && object.length > 0 ? object[0] : object;\r\n        if (obj && obj.imageDesignId) {\r\n            var imageId = obj.imageDesignId.split(\"&\");\r\n            var canvas = this.canvasService.containerCanvases[obj.imageDesignId];\r\n            this.previewThumbnail(canvas, imageId);\r\n        }\r\n        else {\r\n            var canvas = this.canvasService.currentCanvas;\r\n            var canvasimageid = '@' + canvas.image_id + '&' + canvas.designarea_id;\r\n            var imageId = canvasimageid.split(\"&\");\r\n            this.previewThumbnail(canvas, imageId);\r\n        }\r\n    };\r\n    ImageSliderComponent.prototype.previewThumbnail = function (canvas, imageId) {\r\n        // get canvas containar height and width\r\n        var element = document.querySelector(\".product-designer-main-content.active\");\r\n        var offsetHeight = element.offsetHeight;\r\n        var offsetWidth = element.offsetWidth;\r\n        var imageElement = document.querySelector(\".ngucarousel-items .item.active .product-thumbnail\");\r\n        var imageHeight = imageElement.clientHeight;\r\n        var imageWidth = imageElement.clientWidth;\r\n        var marginTop = canvas.dim.y1 / this.canvasService.scaleFactor;\r\n        var marginLeft = canvas.dim.x1 / this.canvasService.scaleFactor;\r\n        var smallImgMarginTop = ((marginTop * imageHeight) / offsetHeight);\r\n        var smallImgMarginLeft = !this.canvasService.isResponsive ? ((marginLeft * imageWidth) / offsetWidth) : 0;\r\n        var multiply_width = imageWidth;\r\n        var multiplier_value = multiply_width * canvas.width / offsetWidth;\r\n        var dataurl = canvas.toDataURL({\r\n            format: \"png\",\r\n            multiplier: multiplier_value / canvas.width,\r\n            //multiplier: 1,\r\n            quality: 1.0\r\n        });\r\n        var image = this.canvasService.allImages.filter(function (data) { return '@' + data.image_id == imageId[0]; });\r\n        if (image.length > 0) {\r\n            // image[0].dataurl = dataurl;\r\n            var dataurlArr = (image[0].hasOwnProperty('dataurl') && image[0].dataurl) ? image[0].dataurl : [];\r\n            dataurlArr[imageId[1]] = dataurl;\r\n            var positionArr = (image[0].hasOwnProperty('dataurl') && image[0].positionleft) ? image[0].positionleft : [];\r\n            positionArr[imageId[1]] = smallImgMarginLeft + 'px';\r\n            var marginArr = (image[0].hasOwnProperty('dataurl') && image[0].positiontop) ? image[0].positiontop : [];\r\n            marginArr[imageId[1]] = smallImgMarginTop + 'px';\r\n            image[0] = Object.assign(image[0], { dataurl: dataurlArr, positionleft: positionArr, positiontop: marginArr });\r\n        }\r\n    };\r\n    ImageSliderComponent.prototype.ngAfterViewInit = function () {\r\n        var images = this.canvasImages;\r\n        this.enableNext = images.length <= 2 ? 0 : 1;\r\n        this.cdr.detectChanges();\r\n    };\r\n    ImageSliderComponent.prototype.changeSlide = function (image_id, slide) {\r\n        this.activeSlide = image_id;\r\n        var data = {\r\n            image_id: image_id,\r\n            slide: slide,\r\n        };\r\n        this.changeSlider.emit(data);\r\n    };\r\n    ImageSliderComponent.prototype.onmoveFn = function ($event) {\r\n        if ($event.isFirst) {\r\n            this.enablePrev = 0;\r\n            this.enableNext = 1;\r\n        }\r\n        else if ($event.isLast) {\r\n            this.enableNext = 0;\r\n            this.enablePrev = 1;\r\n        }\r\n        else {\r\n            this.enablePrev = 1;\r\n            this.enableNext = 1;\r\n        }\r\n    };\r\n    ImageSliderComponent.prototype.initCarousel = function () {\r\n        if (this.mainService.isResponsive) {\r\n            this.carouselConfig = {\r\n                grid: { xs: 2, sm: 2, md: 2, lg: 2, all: 0 },\r\n                load: 1,\r\n                interval: { timing: 4000, initialDelay: 1000 },\r\n                loop: false,\r\n                touch: false,\r\n                velocity: 0.2\r\n            };\r\n        }\r\n        else {\r\n            this.carouselConfig = {\r\n                grid: { xs: 2, sm: 2, md: 2, lg: 2, all: 0 },\r\n                load: 1,\r\n                interval: { timing: 4000, initialDelay: 1000 },\r\n                loop: false,\r\n                vertical: { enabled: true, height: 228 },\r\n                touch: false,\r\n                velocity: 0.2\r\n            };\r\n        }\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ImageSliderComponent.prototype, \"canvasImages\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ImageSliderComponent.prototype, \"activeSlide\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], ImageSliderComponent.prototype, \"changeSlider\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('myCarousel'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _ngu_carousel__WEBPACK_IMPORTED_MODULE_2__[\"NguCarousel\"])\r\n    ], ImageSliderComponent.prototype, \"myCarousel\", void 0);\r\n    ImageSliderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[image-slider]',\r\n            template: __webpack_require__(/*! ./image-slider.component.html */ \"./src/app/premium/components/image-slider/image-slider.component.html\"),\r\n            styles: [__webpack_require__(/*! ./image-slider.component.scss */ \"./src/app/premium/components/image-slider/image-slider.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"], src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__[\"MainService\"]])\r\n    ], ImageSliderComponent);\r\n    return ImageSliderComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/name-number/name-number.component.html\":\r\n/*!***************************************************************************!*\\\r\n  !*** ./src/app/premium/components/name-number/name-number.component.html ***!\r\n  \\***************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<div loader #loaderComponent></div>\\n<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div loader #subtabLoader></div>\\n\\n<div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent == true\\\">\\n   <div class=\\\"byi-namenumber-top\\\">\\n      <ul>\\n         <li>\\n            <label class=\\\"byi-checkbox\\\">\\n               <input id=\\\"add_names\\\" type=\\\"checkbox\\\" (change)=\\\"nameChecked()\\\" [(ngModel)]=\\\"nameNumberService.addName\\\">\\n               {{'Add Names' | translate}}\\n               <span></span>\\n            </label>\\n            <div class=\\\"byi-dropdown\\\">\\n               <div class=\\\"btn-group\\\" dropdown>\\n                  <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n                     {{nameNumberService.selectedNameTitle?.imageTitle}}<span class=\\\"caret\\\"></span>\\n                  </button>\\n                  <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n                     <li role=\\\"menuitem\\\" *ngFor=\\\"let title of imageSideTitle\\\" (click)=\\\"changeNameSideTitle(title)\\\">\\n                        <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n                           {{title?.imageTitle}}</a>\\n                     </li>\\n                  </ul>\\n               </div>\\n            </div>\\n         </li>\\n         <li>\\n            <label class=\\\"byi-checkbox\\\">\\n               <input id=\\\"add_numbers\\\" type=\\\"checkbox\\\" (change)=\\\"numberChecked()\\\"\\n                  [(ngModel)]=\\\"nameNumberService.addNumber\\\">\\n               {{'Add Numbers' | translate}}\\n               <span></span>\\n            </label>\\n            <div class=\\\"byi-dropdown\\\">\\n               <div class=\\\"btn-group\\\" dropdown>\\n                  <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n                     {{nameNumberService.selectedNumberTitle?.imageTitle}}<span class=\\\"caret\\\"></span>\\n                  </button>\\n                  <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n                     <li role=\\\"menuitem\\\" *ngFor=\\\"let title of imageSideTitle\\\" (click)=\\\"changeNumberSideTitle(title)\\\">\\n                        <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n                           {{title?.imageTitle}}</a>\\n                     </li>\\n                  </ul>\\n               </div>\\n            </div>\\n         </li>\\n      </ul>\\n   </div>\\n   <div class=\\\"byi-namenumber-wrap\\\" [class.item-available]=\\\"nameNumberService.rowArray.length > 0\\\"\\n      *ngIf=\\\"nameNumberService.addName || nameNumberService.addNumber\\\">\\n      <div class=\\\"byi-namenumber-list\\\">\\n         <div class=\\\"byi-namenumber-item\\\" *ngFor=\\\"let row of nameNumberService.rowArray; let i = index\\\">\\n            <div class=\\\"byi-field-name\\\" [class.byi-mob-text]=\\\"mainService.isResponsive\\\">\\n               <input class=\\\"byi-input noDeleteObject\\\" name=\\\"nameText\\\" type=\\\"text\\\"\\n                  [(ngModel)]=\\\"nameNumberService.newRow[i].name\\\" [disabled]=\\\"!nameNumberService.addName\\\"\\n                  (input)=\\\"changeText(i, 'name')\\\" (focus)=\\\"changeObject(i,'name', $event.target.value)\\\">\\n            </div>\\n            <div class=\\\"byi-field-number\\\" [class.byi-mob-text]=\\\"mainService.isResponsive\\\">\\n               <input class=\\\"byi-input noDeleteObject\\\" name=\\\"numberText\\\" type=\\\"text\\\"\\n                  [(ngModel)]=\\\"nameNumberService.newRow[i].number\\\" [disabled]=\\\"!nameNumberService.addNumber\\\"\\n                  (keypress)=\\\"confProductService.keyPress($event)\\\" (input)=\\\"changeText(i, 'number')\\\"\\n                  (focus)=\\\"changeObject(i,'number', $event.target.value)\\\">\\n            </div>\\n            <button class=\\\"byi-add-btn\\\" *ngIf=\\\"mainService.isResponsive && ((nameNumberService.newRow[i].name && nameNumberService.newRow[i].name.length > 0)\\n             || (nameNumberService.newRow[i].number && nameNumberService.newRow[i].number.length > 0))\\\"\\n               (click)=\\\"showChild()\\\"></button>\\n            <button class=\\\"byi-close-btn\\\" (click)=\\\"removeRow(i)\\\">\\n               <span></span>\\n            </button>\\n         </div>\\n      </div>\\n      <button *ngIf=\\\"nameNumberService.newRow.length < 25\\\" class=\\\"btn-add-more\\\"\\n         (click)=\\\"addRow(null, null, null, null, true)\\\">\\n         <span class=\\\"icon icon-plus\\\"></span>\\n         <span>{{'Add More' | translate}}</span>\\n      </button>\\n   </div>\\n</div>\\n<div class=\\\"generate-image-block\\\" *ngIf=\\\"loadContent == 'adminNameNumber' && mainService.nameNumber\\\">\\n   <button class=\\\"generate-image-btn\\\" (click)=\\\"generateNameNumberImages()\\\">Generate Image</button>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/name-number/name-number.component.scss\":\r\n/*!***************************************************************************!*\\\r\n  !*** ./src/app/premium/components/name-number/name-number.component.scss ***!\r\n  \\***************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9uYW1lLW51bWJlci9uYW1lLW51bWJlci5jb21wb25lbnQuc2NzcyJ9 */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/name-number/name-number.component.ts\":\r\n/*!*************************************************************************!*\\\r\n  !*** ./src/app/premium/components/name-number/name-number.component.ts ***!\r\n  \\*************************************************************************/\r\n/*! exports provided: NameNumberComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NameNumberComponent\", function() { return NameNumberComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_essentials_components_conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/conf-product-attr/conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\r\n/* harmony import */ var src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/essentials/components/price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_essentials_components_font_font_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/essentials/components/font/font.service */ \"./src/app/essentials/components/font/font.service.ts\");\r\n/* harmony import */ var _name_number_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./name-number.service */ \"./src/app/premium/components/name-number/name-number.service.ts\");\r\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar NameNumberComponent = /** @class */ (function () {\r\n    /**\r\n     * Dependancy Injector\r\n     *\r\n     * @param mainService\r\n     * @param eventService\r\n     * @param cdr\r\n     * @param canvasService\r\n     * @param fontService\r\n     */\r\n    function NameNumberComponent(mainService, eventService, cdr, canvasService, fontService, nameNumberService, priceService, designService, confProductService, tabsService) {\r\n        var _this = this;\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.cdr = cdr;\r\n        this.canvasService = canvasService;\r\n        this.fontService = fontService;\r\n        this.nameNumberService = nameNumberService;\r\n        this.priceService = priceService;\r\n        this.designService = designService;\r\n        this.confProductService = confProductService;\r\n        this.tabsService = tabsService;\r\n        this.currentTab = 6;\r\n        this.accordianId = 0;\r\n        this.imageSideTitle = [];\r\n        this.nameText = 'Example';\r\n        this.numberText = '00';\r\n        this.isFocus = false;\r\n        this.dimensionData = [];\r\n        this.nameProperties = [];\r\n        this.numberProperties = [];\r\n        // store canvas of respective object  \r\n        this.propertiesToCopy = [];\r\n        this.showAllNameNumber = false;\r\n        // removed object stack\r\n        this.removedObjects = [];\r\n        this.eventService.$sub('getSubTabs', function (mainTabId) {\r\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\r\n                _this.getSubTabs(mainTabId);\r\n            }\r\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\r\n        });\r\n    }\r\n    /**\r\n     * Angular Init Function\r\n     */\r\n    NameNumberComponent.prototype.ngOnInit = function () {\r\n        if (this.canvasService.objProperties.indexOf('addObj') == -1)\r\n            this.canvasService.objProperties.push(\"addObj\");\r\n        if (this.canvasService.objProperties.indexOf('nameNumberId') == -1)\r\n            this.canvasService.objProperties.push(\"nameNumberId\");\r\n        this.getImageTitle();\r\n        this.getColors();\r\n        this.preparePropertiesToCopy();\r\n        this.defaultFontFamily = this.fontService.defaultFontFamily;\r\n        this.defaultFontSize = this.fontService.defaultFontSize;\r\n        this.nameProperties = {};\r\n        this.numberProperties = {};\r\n        this.subscribeEvents();\r\n    };\r\n    NameNumberComponent.prototype.ngAfterViewInit = function () {\r\n        var _this = this;\r\n        if (this.loadContent == 'adminNameNumber' && !this.mainService.isGenerateSVGDesign) {\r\n            this.eventService.$sub('designLoaded', function (data) {\r\n                var params = _this.mainService.getUrlParams(['id', 'design', 'name', 'number', 'order', 'index']);\r\n                _this.orderId = params['order'];\r\n                _this.nameNumberIndex = params['index'];\r\n                var name = '';\r\n                var number = '';\r\n                if (params['name']) {\r\n                    name = atob(params['name']);\r\n                }\r\n                if (params['number']) {\r\n                    number = atob(params['number']);\r\n                }\r\n                _this.name = name;\r\n                _this.number = number;\r\n                for (var _i = 0, _a = Object.keys(_this.canvasService.containerCanvases); _i < _a.length; _i++) {\r\n                    var key = _a[_i];\r\n                    var canvas = _this.canvasService.containerCanvases[key];\r\n                    var obj = void 0, canvasObjects = _this.canvasService.getObjects(canvas);\r\n                    for (var _b = 0, canvasObjects_1 = canvasObjects; _b < canvasObjects_1.length; _b++) {\r\n                        obj = canvasObjects_1[_b];\r\n                        if (obj.addObj == 'name') {\r\n                            obj.text = name;\r\n                        }\r\n                        if (obj.addObj == 'number') {\r\n                            obj.text = number;\r\n                        }\r\n                        var properties = { selectable: false };\r\n                        _this.canvasService.deselectAllObjects();\r\n                        if (obj) {\r\n                            var params_1 = {\r\n                                obj: obj,\r\n                                properties: properties,\r\n                                crudServiceString: 'this.updateObjectService',\r\n                                canvas: canvas\r\n                            };\r\n                            _this.canvasService.objectCRUD(params_1);\r\n                        }\r\n                    }\r\n                }\r\n                var designArea = document.getElementsByClassName('design-container');\r\n                for (var i = 0; i < designArea.length; i++) {\r\n                    designArea[i].children[1].innerHTML = '<style></style>';\r\n                }\r\n            });\r\n        }\r\n        // initially each name number will be set in current canvas only\r\n        // so we will be setting current canvas flag to name number canvas \r\n        if (this.canvasService.currentCanvas && this.mainService.designId) {\r\n            this.nameNumberService.nameNumberCanvas.name = this.canvasService.currentCanvas;\r\n            this.nameNumberService.nameNumberCanvas.number = this.canvasService.currentCanvas;\r\n        }\r\n    };\r\n    NameNumberComponent.prototype.ngAfterViewChecked = function () {\r\n        var self = this;\r\n        if (self.mainService.nameNumber) {\r\n            var designArea = document.getElementsByClassName('design-container');\r\n            for (var i = 0; i < designArea.length; i++) {\r\n                designArea[i].children[1].innerHTML = '<style></style>';\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Get Sub Tabs\r\n     * @param mainTabId\r\n     */\r\n    NameNumberComponent.prototype.getSubTabs = function (mainTabId) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var data;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                data = this.mainService.tabsFlow[mainTabId];\r\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\r\n                if (this.subTabsData && this.subTabsData.length > 0) {\r\n                    this.accordianId = this.subTabsData[0].id;\r\n                }\r\n                if (this.loaderComponent && this.loaderComponent.showSubLoader)\r\n                    this.loaderComponent.showSubLoader = false;\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    NameNumberComponent.prototype.preparePropertiesToCopy = function () {\r\n        this.propertiesToCopy = ['addObj', 'tab', 'top', 'left', 'fill', 'fontFamily', 'fontSize', 'fontStyle', 'underline', 'fontWeight', 'textAlign', 'opacity', 'shadow', 'skewX', 'skewY', 'stroke', 'strokeWidth', 'originX', 'originY'];\r\n    };\r\n    /**\r\n     * Set Default Color\r\n     */\r\n    NameNumberComponent.prototype.getColors = function () {\r\n        var _this = this;\r\n        if (!this.defaultColor) {\r\n            this.defaultColor = this.mainService.colorData.defaultColor;\r\n        }\r\n        this.eventService.$sub('getColors').subscribe(function (colorData) {\r\n            _this.defaultColor = colorData.defaultColor;\r\n        }, function (err) { return console.log(err); });\r\n    };\r\n    /**\r\n     * Prepare data object after product is been loaded successfully\r\n     * then pass the same to prepare image title object\r\n     */\r\n    NameNumberComponent.prototype.getImageTitle = function () {\r\n        var data = this.mainService.loadedProductData;\r\n        if (data && Object.keys(data).length) {\r\n            this.setImageTitle(data);\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    NameNumberComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        // when object is removed\r\n        // check if it was last object of respective type\r\n        // if it was, uncheck the same    \r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            // obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            if (typeof obj == \"object\" && obj.hasOwnProperty('addObj')) {\r\n                _this.checkNameNumberAfterRemove(obj);\r\n            }\r\n            else if (Array.isArray(obj)) {\r\n                obj.filter(function (o) {\r\n                    if (o.hasOwnProperty('addObj')) {\r\n                        _this.checkNameNumberAfterRemove(o);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        // when name number object is update\r\n        // store new properties in global variable\r\n        this.eventService.$sub('objectUpdated', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.setLeftTop(obj);\r\n        });\r\n        // when name/number object is added\r\n        // open name number tab\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            if (obj.tab == 'namenumber' && _this.loadContent) {\r\n                _this.checkForValues(obj);\r\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\r\n            }\r\n        });\r\n        // when name/number object is selected\r\n        // open name number tab\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            if (obj.tab == 'namenumber') {\r\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\r\n            }\r\n        });\r\n        // when name/number object is selected\r\n        // open name number tab\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            if (obj.tab == 'namenumber') {\r\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\r\n            }\r\n        });\r\n        // when name number will be first tab\r\n        // we won't be getting image title from mainService\r\n        // so we need to subscribe load product to set image title\r\n        this.eventService.$sub('allcanvasCreated', function (data) {\r\n            _this.getImageTitle();\r\n        });\r\n        // when user changes the product from product options\r\n        // we will assign new canvases to respective name/number canvas object\r\n        this.eventService.$sub('canvasCreated', function (newCanvas) {\r\n            if (_this.nameNumberService.addName) {\r\n                var newCanvasObjs = newCanvas.getObjects(), isNameExists = newCanvasObjs.indexOf(newCanvasObjs.find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == 'name'); }));\r\n                if (isNameExists >= 0)\r\n                    _this.nameNumberService.nameNumberCanvas.name = newCanvas;\r\n            }\r\n            if (_this.nameNumberService.addNumber) {\r\n                var newCanvasObjs = newCanvas.getObjects(), isNumberExists = newCanvasObjs.indexOf(newCanvasObjs.find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == 'number'); }));\r\n                if (isNumberExists >= 0)\r\n                    _this.nameNumberService.nameNumberCanvas.number = newCanvas;\r\n            }\r\n        });\r\n        // \r\n        if (this.loadContent) {\r\n            this.eventService.$sub('designLoaded', function (designData) {\r\n                var nameNumberData = JSON.parse(designData.name_number_details);\r\n                if (nameNumberData) {\r\n                    _this.nameNumberService.loadNameNumber(nameNumberData);\r\n                }\r\n            });\r\n            this.eventService.$sub('saveDesignBefore', function () {\r\n                var data = {\r\n                    nameNumber: _this.nameNumberService.newRow\r\n                };\r\n                _this.designService.additionalOptions = Object.assign({}, data);\r\n            });\r\n            // this.eventService.$sub('undoComplete', (obj) => {\r\n            //   this.checkForValues(obj);\r\n            // });\r\n        }\r\n    };\r\n    /**\r\n     * After user changes top/left of name/number\r\n     * we will be updating the same in our name/number global properties variable\r\n     *\r\n     * @param obj\r\n     */\r\n    NameNumberComponent.prototype.setLeftTop = function (obj) {\r\n        var _this = this;\r\n        if (obj.hasOwnProperty('addObj')) {\r\n            // set name properties\r\n            if (obj.addObj == 'name') {\r\n                this.nameProperties = {};\r\n                this.propertiesToCopy.filter(function (propertyType) {\r\n                    if (obj.hasOwnProperty(propertyType) && obj[propertyType]) {\r\n                        _this.nameProperties[propertyType] = obj[propertyType];\r\n                    }\r\n                });\r\n            }\r\n            // set number properties\r\n            else if (obj.addObj == 'number') {\r\n                this.numberProperties = {};\r\n                this.propertiesToCopy.filter(function (propertyType) {\r\n                    if (obj.hasOwnProperty(propertyType) && obj[propertyType]) {\r\n                        _this.numberProperties[propertyType] = obj[propertyType];\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param obj\r\n     */\r\n    NameNumberComponent.prototype.checkForValues = function (obj) {\r\n        // variable declarations\r\n        var isObjExists, type = obj.addObj;\r\n        // check if name number row already exists\r\n        // during undo/redo, if name/number was already been added to object\r\n        // we will just update text of specified object\r\n        isObjExists = this.nameNumberService.newRow.find(function (newRowObj) { return newRowObj.id == obj.nameNumberId; });\r\n        // if obj is of type name, check Add names\r\n        if (obj.addObj == 'name') {\r\n            this.nameNumberService.addName = true;\r\n        }\r\n        // if obj is of type number, check Add Numbers\r\n        else if (obj.addObj == 'number') {\r\n            this.nameNumberService.addNumber = true;\r\n        }\r\n        // if object is not already present,\r\n        // add new row first\r\n        if (!isObjExists) {\r\n            this.addRow(type, null, null, false);\r\n            // replace isObjExists with latest row\r\n            isObjExists = this.nameNumberService.newRow[this.nameNumberService.newRow.length - 1];\r\n        }\r\n        // find index of existing object\r\n        var index = this.nameNumberService.newRow.indexOf(isObjExists);\r\n        // replce text\r\n        isObjExists[type] = obj.text;\r\n        // finally replace that row\r\n        this.nameNumberService.newRow[index] = isObjExists;\r\n        // set properties\r\n        this.setLeftTop(obj);\r\n    };\r\n    /**\r\n     *\r\n     * @param data\r\n     */\r\n    NameNumberComponent.prototype.setImageTitle = function (data) {\r\n        this.dimensionData = Object.assign({}, data);\r\n        this.imageSideTitle = [];\r\n        for (var _i = 0, _a = data['dimensions']; _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            this.imageSideTitle.push({ imageTitle: key['image_title'], imageId: key['image_id'] });\r\n            if (!this.mainService.designId) {\r\n                if (this.nameNumberService.selectedNameTitle && this.nameNumberService.selectedNameTitle.hasOwnProperty('imageTitle') && this.nameNumberService.selectedNameTitle.imageTitle == key['image_title']) {\r\n                    this.nameNumberService.selectedNameTitle = { imageTitle: key['image_title'], imageId: key['image_id'] };\r\n                }\r\n                if (this.nameNumberService.selectedNumberTitle && this.nameNumberService.selectedNumberTitle.hasOwnProperty('imageTitle') && this.nameNumberService.selectedNumberTitle.imageTitle == key['image_title']) {\r\n                    this.nameNumberService.selectedNumberTitle = { imageTitle: key['image_title'], imageId: key['image_id'] };\r\n                }\r\n            }\r\n        }\r\n        if (!this.mainService.designId) {\r\n            if (!this.nameNumberService.selectedNameTitle || Object.keys(this.nameNumberService.selectedNameTitle).length == 0) {\r\n                this.nameNumberService.selectedNameTitle = this.imageSideTitle[0];\r\n            }\r\n            if (!this.nameNumberService.selectedNumberTitle || Object.keys(this.nameNumberService.selectedNumberTitle).length == 0) {\r\n                this.nameNumberService.selectedNumberTitle = this.imageSideTitle[0];\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * When user changes side for add names from dropdown\r\n     *\r\n     * @param title\r\n     */\r\n    NameNumberComponent.prototype.changeNameSideTitle = function (title) {\r\n        // if selected and current image side is same\r\n        // return\r\n        if (this.nameNumberService.selectedNameTitle == title)\r\n            return;\r\n        // if not, set selected image side to current side\r\n        this.nameNumberService.selectedNameTitle = title;\r\n        // if name is checked\r\n        if (this.nameNumberService.addName) {\r\n            // as we need to remove name from current canvas\r\n            // we will store last row to local variable\r\n            // this row will be fetch & stored in newRow variable\r\n            // this is neccessary because when only one row is present\r\n            // by default it will deselect name number after remove process\r\n            // get current last index\r\n            var lastIndex = this.nameNumberService.newRow.length - 1;\r\n            // get last row\r\n            var lastRow = this.nameNumberService.newRow.slice(lastIndex);\r\n            lastRow = lastRow[0];\r\n            // remove name object from current canvas\r\n            this.removeObjOnChangeSide('name');\r\n            // immediately render the same in html\r\n            this.cdr.detectChanges();\r\n            // in case of single row\r\n            // when row is removed by default name will be unchecked as per our flow\r\n            // we manually need to check the same and add previous data to newRow object\r\n            if (!this.nameNumberService.addName) {\r\n                // check Add Names Checkbox\r\n                this.nameNumberService.addName = true;\r\n                // we have already created function which will be handling insertion of \r\n                // new row in variable as well as in canvas\r\n                // here we will be passign store name as argument\r\n                // because by default we are assigning 'Example' as name\r\n                this.nameChecked(lastRow.name);\r\n            }\r\n            // if it was more than one row\r\n            else {\r\n                // change the side first\r\n                this.checkSide('name', false);\r\n                // add last row manually to canvas\r\n                this.addNameNumberText(lastRow.name, this.nameProperties, 'name');\r\n                // get index after remove process\r\n                var indexAfterRemove = this.nameNumberService.newRow.length - 1;\r\n                // if last row is not present\r\n                // add manually\r\n                // this instance does not occur everytime so we need to check if last row is not present\r\n                // then only add the same\r\n                if (lastIndex != indexAfterRemove) {\r\n                    // add last row to newRow variable\r\n                    if (!this.nameNumberService.newRow[lastIndex])\r\n                        this.nameNumberService.newRow[lastIndex] = {};\r\n                    this.nameNumberService.newRow[lastIndex] = Object.assign(this.nameNumberService.newRow[lastIndex], lastRow);\r\n                    this.nameNumberService.rowArray.push(this.nameNumberService.newRow);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * When user changes side for add names from dropdown\r\n     *\r\n     * @param title\r\n     */\r\n    NameNumberComponent.prototype.changeNumberSideTitle = function (title) {\r\n        // if selected and current image side is same\r\n        // return\r\n        if (this.nameNumberService.selectedNumberTitle == title)\r\n            return;\r\n        // if not, set selected image side to current side\r\n        this.nameNumberService.selectedNumberTitle = title;\r\n        // if number is checked\r\n        if (this.nameNumberService.addNumber) {\r\n            // as we need to remove number from current canvas\r\n            // we will store last row to local variable\r\n            // this row will be fetch & stored in newRow variable\r\n            // this is neccessary because when only one row is present\r\n            // by default it will deselect name number after remove process\r\n            // get current last index\r\n            var lastIndex = this.nameNumberService.newRow.length - 1;\r\n            // get last row\r\n            var lastRow = this.nameNumberService.newRow.slice(lastIndex);\r\n            lastRow = lastRow[0];\r\n            // remove number object from current canvas\r\n            this.removeObjOnChangeSide('number');\r\n            // immediately render the same in html\r\n            this.cdr.detectChanges();\r\n            // in case of single row\r\n            // when row is removed by default number will be unchecked as per our flow\r\n            // we manually need to check the same and add previous data to newRow object\r\n            if (!this.nameNumberService.addNumber) {\r\n                // check Add Names Checkbox\r\n                this.nameNumberService.addNumber = true;\r\n                // we have already created function which will be handling insertion of \r\n                // new row in variable as well as in canvas\r\n                // here we will be passign store number as argument\r\n                // because by default we are assigning 'Example' as name\r\n                this.numberChecked(lastRow.number);\r\n            }\r\n            // if it was more than one row\r\n            else {\r\n                // change the side first\r\n                this.checkSide('number', false);\r\n                // add last row manually to canvas\r\n                this.addNameNumberText(lastRow.number, this.numberProperties, 'number');\r\n                // get index after remove process\r\n                var indexAfterRemove = this.nameNumberService.newRow.length - 1;\r\n                // if last row is not present\r\n                // add manually\r\n                // this instance does not occur everytime so we need to check if last row is not present\r\n                // then only add the same\r\n                if (lastIndex != indexAfterRemove) {\r\n                    // add last row to newRow variable\r\n                    if (!this.nameNumberService.newRow[lastIndex])\r\n                        this.nameNumberService.newRow[lastIndex] = {};\r\n                    this.nameNumberService.newRow[lastIndex] = Object.assign(this.nameNumberService.newRow[lastIndex], lastRow);\r\n                    this.nameNumberService.rowArray.push(this.nameNumberService.newRow);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * On init and when user clicks on add row\r\n     *\r\n     * @param type type of object(name/number)\r\n     * @param newName if new name is supposed to be added instead of 'Example'\r\n     * @param newNumber if new number is supposed to be added instead of '00'\r\n     */\r\n    NameNumberComponent.prototype.addRow = function (type, newName, newNumber, checkForSide, displayFullView) {\r\n        if (type === void 0) { type = null; }\r\n        if (newName === void 0) { newName = null; }\r\n        if (newNumber === void 0) { newNumber = null; }\r\n        if (checkForSide === void 0) { checkForSide = true; }\r\n        if (displayFullView === void 0) { displayFullView = false; }\r\n        if (displayFullView == true) {\r\n            this.showAddNameNumber(true);\r\n        }\r\n        // append array for ngFor\r\n        this.nameNumberService.rowArray.push(this.nameNumberService.newRow);\r\n        // generate new name/number row with specified/default data\r\n        this.nameNumberService.newRow.push({\r\n            name: (newName != null) ? newName : this.nameText,\r\n            number: (newNumber != null) ? newNumber : this.numberText,\r\n            id: this.nameNumberService.rowArray.length\r\n        });\r\n        // add price\r\n        if (this.nameNumberService.newRow.length > 1) {\r\n            this.priceService.totalQty++;\r\n            this.priceService.extraPriceToBeAdded.productPrice += this.priceService.defaultPrice;\r\n            this.priceService.addThisPrice();\r\n        }\r\n        // if no need to check for side\r\n        // in case where name/number is added for the first time\r\n        if (checkForSide == false)\r\n            return;\r\n        // if type is specified\r\n        if (type != null) {\r\n            // this function is called from different function\r\n            // for different purposes\r\n            // if type is set as addName/addNumber\r\n            // change type for the same\r\n            type = (type == 'addName') ? 'name' : 'number';\r\n            // after setting type, check for side\r\n            this.checkSide(type);\r\n            // finally update the text for the same\r\n            // this opearation is required only when user wants to add new row\r\n            this.changeText(this.nameNumberService.newRow.length - 1, type);\r\n        }\r\n        // if type is not specified\r\n        else {\r\n            // if name is checked\r\n            if (this.nameNumberService.addName) {\r\n                this.checkSide('name');\r\n                this.changeText(this.nameNumberService.newRow.length - 1, 'name');\r\n            }\r\n            // if number is checked\r\n            if (this.nameNumberService.addNumber) {\r\n                this.checkSide('number');\r\n                this.changeText(this.nameNumberService.newRow.length - 1, 'number');\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * This function is triggered many times\r\n     * each time before adding name/number to canvas\r\n     * we will be checking if image side is the correct\r\n     *\r\n     * i. on first time, we need to check for image side\r\n     * ii. when user is on same side, but on different design area, get design area of prev added name/number\r\n     * iii. if user is on same side, same design area, don't change the side\r\n     * iv. if user is on different side, change the side first\r\n     */\r\n    NameNumberComponent.prototype.checkSide = function (type, typeCheck) {\r\n        if (typeCheck === void 0) { typeCheck = null; }\r\n        // get canvas and index of canvas\r\n        var canvasData = this.selectedCanvasKey(type, typeCheck);\r\n        this.nameNumberService.nameNumberCanvas[type] = canvasData.canvas;\r\n        // if canvas does not match current canvas\r\n        // change the side\r\n        if (canvasData.canvas != this.canvasService.currentCanvas) {\r\n            this.eventService.$pub('changeImageSide', canvasData);\r\n        }\r\n    };\r\n    /**\r\n     * When user clicks on remove icon\r\n     * or i. name is checked and name object is deleted\r\n     * ii. number is checked and number object is deleted\r\n     * iii. both are checked and both objects are removed\r\n     *\r\n     * @param index\r\n     */\r\n    NameNumberComponent.prototype.removeRow = function (index, checkForChangeText) {\r\n        if (checkForChangeText === void 0) { checkForChangeText = true; }\r\n        // remove row first, for ngFor in html\r\n        this.nameNumberService.rowArray.splice(index, 1);\r\n        // store removed row object in local variable\r\n        // this will be used in recalculation of price\r\n        // eg. Dhoni/7 has selected Black/m having price 200 and total price is 250, 200 will be deducted\r\n        var removedObj = this.nameNumberService.newRow.splice(index, 1);\r\n        // push last removed row into temp obj\r\n        this.removedObjects = this.removedObjects.concat(removedObj);\r\n        // if removed object is in array format\r\n        // get first instance\r\n        removedObj = (Array.isArray(removedObj)) ? removedObj[0] : removedObj;\r\n        // if single row was there\r\n        // disable name/number\r\n        // and delete the object\r\n        if (!this.nameNumberService.rowArray.length) {\r\n            this.nameNumberService.addName = false;\r\n            this.nameNumberService.addNumber = false;\r\n            // this.nameProperties = {};\r\n            this.eventService.$pub('nameNumberDisabled');\r\n            this.removeNameNumberText(removedObj);\r\n        }\r\n        // else publish resetCart event\r\n        // we need to publish this event in else part\r\n        // as we are already publishing this in removeNameNumberText function\r\n        else {\r\n            this.eventService.$pub('resetCart', removedObj);\r\n        }\r\n        // after remove, change text to previous text\r\n        if (checkForChangeText === true && index > 0) {\r\n            var newIndex = (index > 0) ? index - 1 : index;\r\n            newIndex = (newIndex != this.nameNumberService.rowArray.length - 1) ? newIndex + 1 : newIndex;\r\n            if (this.nameNumberService.addName)\r\n                this.changeText(newIndex, 'name', true);\r\n            if (this.nameNumberService.addNumber)\r\n                this.changeText(newIndex, 'number', true);\r\n        }\r\n    };\r\n    /**\r\n     * When Add names checkbox is checked for the first time\r\n     */\r\n    NameNumberComponent.prototype.nameChecked = function (text) {\r\n        if (text === void 0) { text = null; }\r\n        // check for side before insertion\r\n        // if side is different then current side\r\n        // change the side first\r\n        this.checkSide('name', false);\r\n        // add row on condition\r\n        // here we will be checking is user has checked or unchecked the checkbox\r\n        this.addRowOnCondition('addName');\r\n        // if checked is true\r\n        if (this.nameNumberService.addName) {\r\n            if (!this.nameNumberService.addNumber)\r\n                this.publishNameNumber();\r\n            // set initial properties\r\n            if (!this.nameProperties || Object.keys(this.nameProperties).length == 0) {\r\n                this.nameProperties = {\r\n                    fill: this.defaultColor.color_code,\r\n                    fontFamily: this.defaultFontFamily.font_label,\r\n                    fontSize: this.defaultFontSize,\r\n                    tab: \"namenumber\",\r\n                    addObj: \"name\",\r\n                    originX: 'center',\r\n                    originY: 'center'\r\n                };\r\n            }\r\n            this.nameProperties.top = this.canvasService.clipY[this.canvasService.currentCanvas.designarea_id] + 30;\r\n            this.nameProperties.originX = 'center';\r\n            this.nameProperties.originY = 'center';\r\n            this.nameProperties.left = this.canvasService.currentCanvas.width / 2;\r\n            // when user changes image side\r\n            // we remove name object from current canvas\r\n            // and add the same to new canvas\r\n            // in this case we need to set previous text as well\r\n            // so instead of 'Example', we are setting name as last added name\r\n            if (text == null && this.nameNumberService.newRow.length > 0) {\r\n                text = this.nameNumberService.newRow[this.nameNumberService.newRow.length - 1].name;\r\n            }\r\n            // finally add name to canvas\r\n            this.addNameNumberText((text != null) ? text : this.nameText, this.nameProperties, 'name');\r\n        }\r\n        // is checked is false\r\n        // remove all name\r\n        else {\r\n            if (!this.nameNumberService.addNumber) {\r\n                this.eventService.$pub('nameNumberDisabled');\r\n            }\r\n            this.removeNameNumberText();\r\n        }\r\n    };\r\n    /**\r\n     * When Add numbers checkbox is checked for the first time\r\n     */\r\n    NameNumberComponent.prototype.numberChecked = function (text) {\r\n        if (text === void 0) { text = null; }\r\n        // check for side before insertion\r\n        // if side is different then current side\r\n        // change the side first\r\n        this.checkSide('number', false);\r\n        // add row on condition\r\n        // here we will be checking is user has checked or unchecked the checkbox\r\n        this.addRowOnCondition('addNumber');\r\n        // if checked is true\r\n        if (this.nameNumberService.addNumber) {\r\n            this.publishNameNumber();\r\n            // set initial properties\r\n            if (!this.numberProperties || Object.keys(this.numberProperties).length == 0) {\r\n                this.numberProperties = {\r\n                    fill: this.defaultColor.color_code,\r\n                    fontFamily: this.defaultFontFamily.font_label,\r\n                    fontSize: this.defaultFontSize,\r\n                    tab: \"namenumber\",\r\n                    addObj: \"number\",\r\n                    originX: 'center',\r\n                    originY: 'center'\r\n                };\r\n            }\r\n            var topMargin = 80;\r\n            if (this.nameNumberService.nameNumberCanvas['name'] != this.nameNumberService.nameNumberCanvas['number']) {\r\n                topMargin = 40;\r\n            }\r\n            this.numberProperties.top = this.canvasService.clipY[this.canvasService.currentCanvas.designarea_id] + topMargin;\r\n            this.numberProperties.originX = 'center';\r\n            this.numberProperties.originY = 'center';\r\n            this.numberProperties.left = this.canvasService.currentCanvas.width / 2;\r\n            // when user changes image side\r\n            // we remove number object from current canvas\r\n            // and add the same to new canvas\r\n            // in this case we need to set previous text as well\r\n            // so instead of '00', we are setting number as last added number\r\n            if (text == null && this.nameNumberService.newRow.length > 0) {\r\n                text = this.nameNumberService.newRow[this.nameNumberService.newRow.length - 1].number;\r\n            }\r\n            // finally add number to canvas\r\n            this.addNameNumberText((text != null) ? text : this.numberText, this.numberProperties, 'number');\r\n        }\r\n        // is checked is false\r\n        // remove all numbers\r\n        else {\r\n            this.removeNameNumberText();\r\n        }\r\n    };\r\n    /**\r\n     * When name/number is enabled, we will publish an event that will allow\r\n     * dependent components to proceed further\r\n     */\r\n    NameNumberComponent.prototype.publishNameNumber = function () {\r\n        var eventData = {\r\n            newRow: this.nameNumberService.newRow,\r\n            addName: this.nameNumberService.addName,\r\n            addNumber: this.nameNumberService.addNumber\r\n        };\r\n        this.eventService.$pub('nameNumberEnabled', eventData);\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    NameNumberComponent.prototype.addRowOnCondition = function (type) {\r\n        if (type === void 0) { type = null; }\r\n        if (this.nameNumberService.addName || this.nameNumberService.addNumber) {\r\n            if (!this.nameNumberService.rowArray.length) {\r\n                this.addRow(type, null, null, false);\r\n            }\r\n        }\r\n        else {\r\n            if (this.nameNumberService.rowArray.length && (!this.nameNumberService.addName || !this.nameNumberService.addNumber)) {\r\n                if (type != null)\r\n                    this.eventService.$pub('resetCart', { nameNumberData: this.nameNumberService.newRow, type: type, resetPrice: true });\r\n                this.nameNumberService.rowArray = [];\r\n                this.nameNumberService.newRow = [];\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param value\r\n     * @param properties\r\n     * @param type\r\n     */\r\n    NameNumberComponent.prototype.addNameNumberText = function (value, properties, type) {\r\n        // let canvas = this.selectedCanvasKey(type);\r\n        var canvas = this.canvasService.currentCanvas;\r\n        this.nameNumberService.nameNumberCanvas[type] = canvas;\r\n        var textObj = new fabric.Text(value);\r\n        if (!properties.hasOwnProperty('nameNumberId')) {\r\n            properties = Object.assign(properties, { nameNumberId: this.nameNumberService.rowArray.length });\r\n        }\r\n        var params = {\r\n            obj: textObj,\r\n            properties: properties,\r\n            crudServiceString: 'this.insertObjectService'\r\n        };\r\n        // set name number to center\r\n        // if it's first time\r\n        if (!properties.hasOwnProperty('left')) {\r\n            // get center position\r\n            var left = canvas.width / 2;\r\n            properties.left = left;\r\n            // we will set this property to global variable\r\n            if (type == 'name')\r\n                this.nameProperties.left = left;\r\n            else if (type == 'number')\r\n                this.numberProperties.left = left;\r\n        }\r\n        // finally update the same\r\n        this.canvasService.objectCRUD(params);\r\n        if (this.nameNumberService.newRow.length == 1 && ((type == 'name' && !this.nameNumberService.addNumber) || (type == 'number' && !this.nameNumberService.addName))) {\r\n            this.eventService.$pub('resetCart', null);\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    NameNumberComponent.prototype.removeNameNumberText = function (removedObj) {\r\n        var _this = this;\r\n        if (removedObj === void 0) { removedObj = null; }\r\n        var textObj, properties = {}, canvas = null, canvasKeys = Object.keys(this.canvasService.containerCanvases), canvasObjects;\r\n        var _loop_1 = function (key) {\r\n            canvasObjects = this_1.canvasService.getObjects(this_1.canvasService.containerCanvases[key]);\r\n            canvasObjects.forEach(function (data) {\r\n                if (data.addObj == 'name' && !_this.nameNumberService.addName) {\r\n                    textObj = data;\r\n                    canvas = _this.canvasService.containerCanvases[key];\r\n                }\r\n                if (data.addObj == 'number' && !_this.nameNumberService.addNumber) {\r\n                    textObj = data;\r\n                    canvas = _this.canvasService.containerCanvases[key];\r\n                }\r\n                var params = {\r\n                    obj: textObj,\r\n                    properties: properties,\r\n                    crudServiceString: 'this.removeObjectService',\r\n                };\r\n                if (canvas != null)\r\n                    params = Object.assign(params, { canvas: canvas });\r\n                _this.canvasService.objectCRUD(params);\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        for (var _i = 0, canvasKeys_1 = canvasKeys; _i < canvasKeys_1.length; _i++) {\r\n            var key = canvasKeys_1[_i];\r\n            _loop_1(key);\r\n        }\r\n        if (removedObj != null)\r\n            this.eventService.$pub('resetCart', removedObj);\r\n    };\r\n    /**\r\n     *\r\n     * @param index\r\n     * @param isFocus\r\n     */\r\n    NameNumberComponent.prototype.changeText = function (index, type, addIfNotAvailable, deselectAfterUpdate) {\r\n        if (type === void 0) { type = null; }\r\n        if (addIfNotAvailable === void 0) { addIfNotAvailable = false; }\r\n        if (deselectAfterUpdate === void 0) { deselectAfterUpdate = false; }\r\n        if (!this.nameNumberService.newRow.length || !this.nameNumberService.newRow[index] || !this.nameNumberService.newRow[index].hasOwnProperty(type))\r\n            return;\r\n        var objCanvas = this.selectedCanvasKey(type).canvas, objects = objCanvas.getObjects(), value = this.nameNumberService.newRow[index][type];\r\n        var selectedObj = objects.find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == type); });\r\n        if (!selectedObj) {\r\n            if (addIfNotAvailable === false) {\r\n                return;\r\n            }\r\n            else {\r\n                var properties = Object.assign({}, (type == 'name') ? this.nameProperties : this.numberProperties);\r\n                properties = Object.assign(properties, { nameNumberId: this.nameNumberService.newRow[index].id });\r\n                this.addNameNumberText(value, properties, type);\r\n            }\r\n        }\r\n        else {\r\n            if (deselectAfterUpdate === false)\r\n                this.canvasService.currentCanvas.setActiveObject(selectedObj).renderAll();\r\n            if (selectedObj.text != value) {\r\n                var properties = { text: value, nameNumberId: this.nameNumberService.newRow[index].id }, params = {\r\n                    obj: selectedObj,\r\n                    properties: properties,\r\n                    crudServiceString: 'this.updateObjectService'\r\n                };\r\n                var canvas = this.selectedCanvasKey(type);\r\n                if (canvas && canvas.canvas) {\r\n                    canvas = canvas.canvas;\r\n                    params = Object.assign(params, { canvas: canvas });\r\n                }\r\n                if (deselectAfterUpdate === true)\r\n                    params = Object.assign(params, { setActive: false });\r\n                this.canvasService.objectCRUD(params);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param index\r\n     * @param value\r\n     */\r\n    NameNumberComponent.prototype.changeObject = function (index, type, value) {\r\n        if (value === void 0) { value = null; }\r\n        // var declaration\r\n        var currentCanvas = this.canvasService.currentCanvas, eventData = this.selectedCanvasKey(type);\r\n        // if no canvas returned for selected canvas\r\n        if (!eventData || !eventData.hasOwnProperty('canvas'))\r\n            return;\r\n        // check if current canvas is the has current name/number object\r\n        // if not, change side first\r\n        if (eventData.canvas != currentCanvas) {\r\n            this.eventService.$pub('changeImageSide', eventData);\r\n            this.cdr.detectChanges();\r\n        }\r\n        // change current obj\r\n        this.changeText(index, type, true);\r\n        // if after updating name/number\r\n        // check if respective obj needs to be set as well\r\n        if ((type == 'name' && !this.nameNumberService.addNumber) || (type == 'number' && !this.nameNumberService.addName))\r\n            return;\r\n        // change respective obj\r\n        var otherObjType = (type == 'name') ? 'number' : 'name';\r\n        // change current obj\r\n        this.changeText(index, otherObjType, true, true);\r\n    };\r\n    /**\r\n     *\r\n     * @param value\r\n     */\r\n    NameNumberComponent.prototype.searchNameNumberObj = function (type) {\r\n        if (type != 'name' && type != 'number')\r\n            return;\r\n        var allCanvas = this.canvasService.containerCanvases, selectedObj, canvas;\r\n        for (var key in allCanvas) {\r\n            canvas = allCanvas[key];\r\n            selectedObj = canvas.getObjects().find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == type); });\r\n            if (selectedObj) {\r\n                break;\r\n            }\r\n        }\r\n        return { canvas: canvas, obj: selectedObj };\r\n    };\r\n    /**\r\n     *\r\n     * @param type\r\n     */\r\n    NameNumberComponent.prototype.selectedCanvasKey = function (type, typeCheck) {\r\n        if (typeCheck === void 0) { typeCheck = null; }\r\n        if (type != 'name' && type != 'number')\r\n            return;\r\n        var currentCanvasImageId = this.canvasService.currentCanvas.image_id, requiredImageId = (type == 'name') ? this.nameNumberService.selectedNameTitle.imageId : this.nameNumberService.selectedNumberTitle.imageId, canvas;\r\n        var allCanvas = this.canvasService.containerCanvases, nameNumberKey = (type == 'name') ? this.nameNumberService.addName : this.nameNumberService.addNumber, checkForType = (typeCheck == null && nameNumberKey) ? true : false, canvasIndex = 0, tmpObj, imageSideFirstCanvas = null;\r\n        if (checkForType == false && currentCanvasImageId == requiredImageId) {\r\n            canvas = this.canvasService.currentCanvas;\r\n            canvasIndex = 0;\r\n        }\r\n        else {\r\n            for (var key in allCanvas) {\r\n                if (allCanvas[key].image_id == requiredImageId) {\r\n                    canvas = allCanvas[key];\r\n                    if (imageSideFirstCanvas == null)\r\n                        imageSideFirstCanvas = canvas;\r\n                    tmpObj = canvas.getObjects().find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == type); });\r\n                    if (tmpObj)\r\n                        break;\r\n                    canvasIndex++;\r\n                }\r\n            }\r\n            if (!tmpObj) {\r\n                canvas = imageSideFirstCanvas;\r\n                canvasIndex = 0;\r\n            }\r\n            ;\r\n        }\r\n        return { canvas: canvas, index: canvasIndex };\r\n    };\r\n    /**\r\n     *\r\n     * @param value\r\n     */\r\n    NameNumberComponent.prototype.removeObjOnChangeSide = function (type) {\r\n        var properties = {};\r\n        var data = this.searchNameNumberObj(type);\r\n        if (!data || !data.hasOwnProperty('canvas'))\r\n            return;\r\n        this.canvasService.deleteThisObject(data.obj);\r\n        var params = {\r\n            obj: data.obj,\r\n            properties: properties,\r\n            canvas: data.canvas,\r\n            crudServiceString: 'this.removeObjectService',\r\n        };\r\n        this.canvasService.objectCRUD(params);\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    NameNumberComponent.prototype.checkNameNumberAfterRemove = function (obj) {\r\n        var index = null, currentType = obj.addObj, otherType = (currentType == 'name') ? 'number' : 'name';\r\n        index = this.nameNumberService.newRow.indexOf(this.nameNumberService.newRow.find(function (nameNumberObj) { return nameNumberObj[obj.addObj] == obj.text; }));\r\n        if (index != null && index != -1) {\r\n            // if this was last object of respective type\r\n            // eg. last name of last number\r\n            // disable the same\r\n            if (this.nameNumberService.newRow.length == 1) {\r\n                if (currentType == 'name') {\r\n                    this.nameNumberService.addName = false;\r\n                }\r\n                else if (currentType == 'number') {\r\n                    this.nameNumberService.addNumber = false;\r\n                }\r\n            }\r\n            // if this was the last object\r\n            // disable name number\r\n            if ((currentType == 'name' && !this.nameNumberService.addNumber) || (currentType == 'number' && !this.nameNumberService.addName) || (this.nameNumberService.newRow[index][otherType] == '')) {\r\n                this.removeRow(index, true);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    NameNumberComponent.prototype.generateNameNumberImages = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var base64DataFile, sidesAndParentImageIDs, params, url;\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.loaderComponent.showMainLoader = true;\r\n                        base64DataFile = [];\r\n                        return [4 /*yield*/, this.designService.saveAllSidesCanvasData().then(function (resp) {\r\n                                base64DataFile = resp.timestamp;\r\n                            }).catch(function (err) { return console.log(err); })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        sidesAndParentImageIDs = this.designService.fetchImageSidesParentIdsWithId(this.canvasService.allImagesWithIds);\r\n                        params = {\r\n                            base64DataFile: base64DataFile,\r\n                            productId: this.mainService.productId,\r\n                            designId: atob(this.mainService.designId),\r\n                            sidesAndParentImageIDs: sidesAndParentImageIDs,\r\n                            orderId: this.orderId,\r\n                            name: this.name,\r\n                            number: this.number,\r\n                            nameNumberIndex: this.nameNumberIndex\r\n                        }, url = 'namenumber/Index/generateNameNumberImage';\r\n                        this.mainService.getData(url, params, null).then(function (response) {\r\n                            _this.loaderComponent.showMainLoader = false;\r\n                            window.history.back();\r\n                        }).catch(function (err) { return console.log(err); });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    NameNumberComponent.prototype.showChild = function () {\r\n        if (this.showAllNameNumber) {\r\n            this.showAddNameNumber(false);\r\n        }\r\n        this.tabsService.showChildTabs('name-number');\r\n    };\r\n    NameNumberComponent.prototype.showAddNameNumber = function (showAllNameNumber) {\r\n        this.showAllNameNumber = showAllNameNumber;\r\n        this.eventService.$pub('showFonts', { showAllFonts: this.showAllNameNumber, title: 'Name Number' });\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], NameNumberComponent.prototype, \"loadContent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])(\"loaderComponent\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_6__[\"LoaderComponent\"])\r\n    ], NameNumberComponent.prototype, \"loaderComponent\", void 0);\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])(\"subtabLoader\"),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_6__[\"LoaderComponent\"])\r\n    ], NameNumberComponent.prototype, \"subtabLoader\", void 0);\r\n    NameNumberComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\r\n            selector: '[name-number]',\r\n            template: __webpack_require__(/*! ./name-number.component.html */ \"./src/app/premium/components/name-number/name-number.component.html\"),\r\n            styles: [__webpack_require__(/*! ./name-number.component.scss */ \"./src/app/premium/components/name-number/name-number.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\r\n            _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ChangeDetectorRef\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_7__[\"CanvasService\"],\r\n            src_app_essentials_components_font_font_service__WEBPACK_IMPORTED_MODULE_8__[\"FontService\"],\r\n            _name_number_service__WEBPACK_IMPORTED_MODULE_9__[\"NameNumberService\"],\r\n            src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_2__[\"PriceService\"],\r\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_10__[\"DesignService\"],\r\n            src_app_essentials_components_conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_1__[\"ConfProductAttrService\"],\r\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_11__[\"TabsService\"]])\r\n    ], NameNumberComponent);\r\n    return NameNumberComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/name-number/name-number.service.ts\":\r\n/*!***********************************************************************!*\\\r\n  !*** ./src/app/premium/components/name-number/name-number.service.ts ***!\r\n  \\***********************************************************************/\r\n/*! exports provided: NameNumberService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NameNumberService\", function() { return NameNumberService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\n\r\nvar NameNumberService = /** @class */ (function () {\r\n    function NameNumberService(mainService) {\r\n        this.mainService = mainService;\r\n        this.newRow = [];\r\n        this.rowArray = [];\r\n        this.selectedNameTitle = {};\r\n        this.selectedNumberTitle = {};\r\n        this.nameNumberCanvas = { name: null, number: null };\r\n    }\r\n    NameNumberService.prototype.loadNameNumber = function (nameNumberData) {\r\n        var _this = this;\r\n        this.newRow = [];\r\n        this.rowArray = [];\r\n        nameNumberData.filter(function (nameNumberItem) {\r\n            _this.newRow.push(Object.assign({}, nameNumberItem));\r\n            _this.rowArray.push(_this.newRow);\r\n        });\r\n        var isNameExists = nameNumberData.indexOf(nameNumberData.find(function (nameNumberItem) { return (nameNumberItem.hasOwnProperty('name') && nameNumberItem.name); })), isNumberExists = nameNumberData.indexOf(nameNumberData.find(function (nameNumberItem) { return (nameNumberItem.hasOwnProperty('number') && nameNumberItem.number); }));\r\n        if (!this.addName && isNameExists >= 0)\r\n            this.addName = true;\r\n        if (!this.addNumber && isNumberExists >= 0)\r\n            this.addNumber = true;\r\n        this.setSelectedNameNumberTitle();\r\n    };\r\n    NameNumberService.prototype.setSelectedNameNumberTitle = function () {\r\n        var allcanvas = this.mainService.canvasService.containerCanvases, type, currCanvas, find;\r\n        this.selectedNameTitle = null;\r\n        this.selectedNumberTitle = null;\r\n        for (var key in allcanvas) {\r\n            currCanvas = allcanvas[key];\r\n            if (this.addName) {\r\n                find = this.mainService.canvasService.getObjects(currCanvas).indexOf(this.mainService.canvasService.getObjects(currCanvas).find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == 'name'); }));\r\n                if (find >= 0) {\r\n                    this.selectedNameTitle = { imageId: currCanvas.image_id };\r\n                    this.nameNumberCanvas.name = currCanvas;\r\n                }\r\n            }\r\n            if (this.addNumber) {\r\n                find = this.mainService.canvasService.getObjects(currCanvas).indexOf(this.mainService.canvasService.getObjects(currCanvas).find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == 'number'); }));\r\n                if (find >= 0) {\r\n                    this.selectedNumberTitle = { imageId: currCanvas.image_id };\r\n                    this.nameNumberCanvas.number = currCanvas;\r\n                }\r\n            }\r\n            if (this.selectedNameTitle != null && this.selectedNumberTitle != null)\r\n                break;\r\n        }\r\n        if (this.selectedNameTitle && this.selectedNumberTitle) {\r\n            this.getImageTitle();\r\n        }\r\n    };\r\n    NameNumberService.prototype.getImageTitle = function () {\r\n        if (!this.mainService.loadedProductData)\r\n            return;\r\n        var dimentionData = this.mainService.loadedProductData['dimensions'];\r\n        for (var _i = 0, dimentionData_1 = dimentionData; _i < dimentionData_1.length; _i++) {\r\n            var key = dimentionData_1[_i];\r\n            if (key['image_id'] == this.selectedNameTitle.imageId) {\r\n                this.selectedNameTitle = Object.assign(this.selectedNameTitle, { 'imageTitle': key['image_title'] });\r\n            }\r\n            if (key['image_id'] == this.selectedNumberTitle.imageId) {\r\n                this.selectedNumberTitle = Object.assign(this.selectedNumberTitle, { 'imageTitle': key['image_title'] });\r\n            }\r\n        }\r\n    };\r\n    NameNumberService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__[\"MainService\"]])\r\n    ], NameNumberService);\r\n    return NameNumberService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.html\":\r\n/*!*******************************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/object-alignment-position/object-alignment-position.component.html ***!\r\n  \\*******************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.scss\":\r\n/*!*******************************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/object-alignment-position/object-alignment-position.component.scss ***!\r\n  \\*******************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9vYmplY3QtYWxpZ25tZW50LXBvc2l0aW9uL29iamVjdC1hbGlnbm1lbnQtcG9zaXRpb24uY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.ts\":\r\n/*!*****************************************************************************************************!*\\\r\n  !*** ./src/app/premium/components/object-alignment-position/object-alignment-position.component.ts ***!\r\n  \\*****************************************************************************************************/\r\n/*! exports provided: ObjectAlignmentPositionComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectAlignmentPositionComponent\", function() { return ObjectAlignmentPositionComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/fabric.js\");\r\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_4__);\r\n\r\n\r\n\r\n\r\n\r\nvar ObjectAlignmentPositionComponent = /** @class */ (function () {\r\n    function ObjectAlignmentPositionComponent(eventService, mainService) {\r\n        this.eventService = eventService;\r\n        this.mainService = mainService;\r\n    }\r\n    ObjectAlignmentPositionComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        var params = {}, url = 'objectalignmentposition/index/getconfiguration', cacheKey = 'getObjectAlignmentPosition' + this.mainService.baseUrl;\r\n        this.mainService.getData(url, params, cacheKey).then(function (alignData) {\r\n            var enable = alignData.enable;\r\n            if (enable == 1) {\r\n                _this.eventService.$sub('canvasCreated', function (data) {\r\n                    data.__eventListeners[\"mouse:down\"] = [];\r\n                    data.__eventListeners[\"mouse:up\"] = [];\r\n                    data.__eventListeners[\"object:moving\"] = [];\r\n                    data.__eventListeners[\"before:render\"] = [];\r\n                    data.__eventListeners[\"after:render\"] = [];\r\n                    _this.initCenteringGuidelines(data);\r\n                    _this.initAligningGuidelines(data);\r\n                });\r\n                _this.eventService.$sub('zoomCanvasUpdated', function (data) {\r\n                    data.__eventListeners[\"mouse:down\"] = [];\r\n                    data.__eventListeners[\"mouse:up\"] = [];\r\n                    data.__eventListeners[\"object:moving\"] = [];\r\n                    data.__eventListeners[\"before:render\"] = [];\r\n                    data.__eventListeners[\"after:render\"] = [];\r\n                    _this.initCenteringGuidelines(data);\r\n                    _this.initAligningGuidelines(data);\r\n                });\r\n            }\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    ObjectAlignmentPositionComponent.prototype.initCenteringGuidelines = function (canvas) {\r\n        var canvasWidth = canvas.getWidth(), canvasHeight = canvas.getHeight(), canvasWidthCenter = canvasWidth / 2, canvasHeightCenter = canvasHeight / 2, canvasWidthCenterMap = {}, canvasHeightCenterMap = {}, centerLineMargin = 4, centerLineColor = 'rgba(255,0,241,0.5)', centerLineWidth = 1, ctx = canvas.getSelectionContext(), viewportTransform;\r\n        for (var i = canvasWidthCenter - centerLineMargin, len = canvasWidthCenter + centerLineMargin; i <= len; i++) {\r\n            canvasWidthCenterMap[Math.round(i)] = true;\r\n        }\r\n        for (var i = canvasHeightCenter - centerLineMargin, len = canvasHeightCenter + centerLineMargin; i <= len; i++) {\r\n            canvasHeightCenterMap[Math.round(i)] = true;\r\n        }\r\n        function showVerticalCenterLine() {\r\n            showCenterLine(canvasWidthCenter + 0.5, 0, canvasWidthCenter + 0.5, canvasHeight);\r\n        }\r\n        function showHorizontalCenterLine() {\r\n            showCenterLine(0, canvasHeightCenter + 0.5, canvasWidth, canvasHeightCenter + 0.5);\r\n        }\r\n        function showCenterLine(x1, y1, x2, y2) {\r\n            ctx.save();\r\n            ctx.strokeStyle = centerLineColor;\r\n            ctx.lineWidth = centerLineWidth;\r\n            ctx.beginPath();\r\n            ctx.moveTo(x1 * viewportTransform[0], y1 * viewportTransform[3]);\r\n            ctx.lineTo(x2 * viewportTransform[0], y2 * viewportTransform[3]);\r\n            ctx.stroke();\r\n            ctx.restore();\r\n        }\r\n        var afterRenderActions = [], isInVerticalCenter, isInHorizontalCenter;\r\n        canvas.on('mouse:down', function () {\r\n            viewportTransform = canvas.viewportTransform;\r\n        });\r\n        canvas.on('object:moving', function (e) {\r\n            var object = e.target, objectCenter = object.getCenterPoint(), transform = canvas._currentTransform;\r\n            if (!transform)\r\n                return;\r\n            isInVerticalCenter = Math.round(objectCenter.x) in canvasWidthCenterMap,\r\n                isInHorizontalCenter = Math.round(objectCenter.y) in canvasHeightCenterMap;\r\n            if (isInHorizontalCenter || isInVerticalCenter) {\r\n                object.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point((isInVerticalCenter ? canvasWidthCenter : objectCenter.x), (isInHorizontalCenter ? canvasHeightCenter : objectCenter.y)), 'center', 'center');\r\n            }\r\n        });\r\n        canvas.on('before:render', function () {\r\n            if (canvas.contextTop) {\r\n                canvas.clearContext(canvas.contextTop);\r\n            }\r\n        });\r\n        canvas.on('after:render', function () {\r\n            if (isInVerticalCenter) {\r\n                showVerticalCenterLine();\r\n            }\r\n            if (isInHorizontalCenter) {\r\n                showHorizontalCenterLine();\r\n            }\r\n        });\r\n        canvas.on('mouse:up', function () {\r\n            // clear these values, to stop drawing guidelines once mouse is up\r\n            isInVerticalCenter = isInHorizontalCenter = null;\r\n            canvas.renderAll();\r\n        });\r\n    };\r\n    ObjectAlignmentPositionComponent.prototype.initAligningGuidelines = function (canvas) {\r\n        var ctx = canvas.getSelectionContext(), aligningLineOffset = 5, aligningLineMargin = 4, aligningLineWidth = 1, aligningLineColor = 'rgb(0,255,0)', viewportTransform, zoom = 1;\r\n        var self = this;\r\n        function drawVerticalLine(coords) {\r\n            drawLine(coords.x + 0.5, coords.y1 > coords.y2 ? coords.y2 : coords.y1, coords.x + 0.5, coords.y2 > coords.y1 ? coords.y2 : coords.y1);\r\n        }\r\n        function drawHorizontalLine(coords) {\r\n            drawLine(coords.x1 > coords.x2 ? coords.x2 : coords.x1, coords.y + 0.5, coords.x2 > coords.x1 ? coords.x2 : coords.x1, coords.y + 0.5);\r\n        }\r\n        function drawLine(x1, y1, x2, y2) {\r\n            ctx.save();\r\n            ctx.lineWidth = aligningLineWidth;\r\n            ctx.strokeStyle = aligningLineColor;\r\n            ctx.beginPath();\r\n            ctx.moveTo(((x1 + viewportTransform[4]) * zoom), ((y1 + viewportTransform[5]) * zoom));\r\n            ctx.lineTo(((x2 + viewportTransform[4]) * zoom), ((y2 + viewportTransform[5]) * zoom));\r\n            ctx.stroke();\r\n            ctx.restore();\r\n        }\r\n        function isInRange(value1, value2) {\r\n            value1 = Math.round(value1);\r\n            value2 = Math.round(value2);\r\n            for (var i = value1 - aligningLineMargin, len = value1 + aligningLineMargin; i <= len; i++) {\r\n                if (i === value2) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        var verticalLines = [], horizontalLines = [];\r\n        canvas.on('mouse:down', function () {\r\n            viewportTransform = canvas.viewportTransform;\r\n            zoom = canvas.getZoom();\r\n        });\r\n        canvas.on('object:moving', function (e) {\r\n            var activeObject = e.target, canvasObjects = self.mainService.canvasService.getObjects(canvas), activeObjectCenter = activeObject.getCenterPoint(), activeObjectLeft = activeObjectCenter.x, activeObjectTop = activeObjectCenter.y, activeObjectBoundingRect = activeObject.getBoundingRect(), activeObjectHeight = activeObjectBoundingRect.height / viewportTransform[3], activeObjectWidth = activeObjectBoundingRect.width / viewportTransform[0], horizontalInTheRange = false, verticalInTheRange = false, transform = canvas._currentTransform;\r\n            if (!transform)\r\n                return;\r\n            // It should be trivial to DRY this up by encapsulating (repeating) creation of x1, x2, y1, and y2 into functions,\r\n            // but we're not doing it here for perf. reasons -- as this a function that's invoked on every mouse move\r\n            for (var i = canvasObjects.length; i--;) {\r\n                if (canvasObjects[i] === activeObject)\r\n                    continue;\r\n                var objectCenter = canvasObjects[i].getCenterPoint(), objectLeft = objectCenter.x, objectTop = objectCenter.y, objectBoundingRect = canvasObjects[i].getBoundingRect(), objectHeight = objectBoundingRect.height / viewportTransform[3], objectWidth = objectBoundingRect.width / viewportTransform[0];\r\n                // snap by the horizontal center line\r\n                if (isInRange(objectLeft, activeObjectLeft)) {\r\n                    verticalInTheRange = true;\r\n                    verticalLines.push({\r\n                        x: objectLeft,\r\n                        y1: (objectTop < activeObjectTop)\r\n                            ? (objectTop - objectHeight / 2 - aligningLineOffset)\r\n                            : (objectTop + objectHeight / 2 + aligningLineOffset),\r\n                        y2: (activeObjectTop > objectTop)\r\n                            ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\r\n                            : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\r\n                    });\r\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(objectLeft, activeObjectTop), 'center', 'center');\r\n                }\r\n                // snap by the left edge\r\n                if (isInRange(objectLeft - objectWidth / 2, activeObjectLeft - activeObjectWidth / 2)) {\r\n                    verticalInTheRange = true;\r\n                    verticalLines.push({\r\n                        x: objectLeft - objectWidth / 2,\r\n                        y1: (objectTop < activeObjectTop)\r\n                            ? (objectTop - objectHeight / 2 - aligningLineOffset)\r\n                            : (objectTop + objectHeight / 2 + aligningLineOffset),\r\n                        y2: (activeObjectTop > objectTop)\r\n                            ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\r\n                            : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\r\n                    });\r\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(objectLeft - objectWidth / 2 + activeObjectWidth / 2, activeObjectTop), 'center', 'center');\r\n                }\r\n                // snap by the right edge\r\n                if (isInRange(objectLeft + objectWidth / 2, activeObjectLeft + activeObjectWidth / 2)) {\r\n                    verticalInTheRange = true;\r\n                    verticalLines.push({\r\n                        x: objectLeft + objectWidth / 2,\r\n                        y1: (objectTop < activeObjectTop)\r\n                            ? (objectTop - objectHeight / 2 - aligningLineOffset)\r\n                            : (objectTop + objectHeight / 2 + aligningLineOffset),\r\n                        y2: (activeObjectTop > objectTop)\r\n                            ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\r\n                            : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\r\n                    });\r\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(objectLeft + objectWidth / 2 - activeObjectWidth / 2, activeObjectTop), 'center', 'center');\r\n                }\r\n                // snap by the vertical center line\r\n                if (isInRange(objectTop, activeObjectTop)) {\r\n                    horizontalInTheRange = true;\r\n                    horizontalLines.push({\r\n                        y: objectTop,\r\n                        x1: (objectLeft < activeObjectLeft)\r\n                            ? (objectLeft - objectWidth / 2 - aligningLineOffset)\r\n                            : (objectLeft + objectWidth / 2 + aligningLineOffset),\r\n                        x2: (activeObjectLeft > objectLeft)\r\n                            ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\r\n                            : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\r\n                    });\r\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(activeObjectLeft, objectTop), 'center', 'center');\r\n                }\r\n                // snap by the top edge\r\n                if (isInRange(objectTop - objectHeight / 2, activeObjectTop - activeObjectHeight / 2)) {\r\n                    horizontalInTheRange = true;\r\n                    horizontalLines.push({\r\n                        y: objectTop - objectHeight / 2,\r\n                        x1: (objectLeft < activeObjectLeft)\r\n                            ? (objectLeft - objectWidth / 2 - aligningLineOffset)\r\n                            : (objectLeft + objectWidth / 2 + aligningLineOffset),\r\n                        x2: (activeObjectLeft > objectLeft)\r\n                            ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\r\n                            : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\r\n                    });\r\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(activeObjectLeft, objectTop - objectHeight / 2 + activeObjectHeight / 2), 'center', 'center');\r\n                }\r\n                // snap by the bottom edge\r\n                if (isInRange(objectTop + objectHeight / 2, activeObjectTop + activeObjectHeight / 2)) {\r\n                    horizontalInTheRange = true;\r\n                    horizontalLines.push({\r\n                        y: objectTop + objectHeight / 2,\r\n                        x1: (objectLeft < activeObjectLeft)\r\n                            ? (objectLeft - objectWidth / 2 - aligningLineOffset)\r\n                            : (objectLeft + objectWidth / 2 + aligningLineOffset),\r\n                        x2: (activeObjectLeft > objectLeft)\r\n                            ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\r\n                            : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\r\n                    });\r\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(activeObjectLeft, objectTop + objectHeight / 2 - activeObjectHeight / 2), 'center', 'center');\r\n                }\r\n            }\r\n            if (!horizontalInTheRange) {\r\n                horizontalLines.length = 0;\r\n            }\r\n            if (!verticalInTheRange) {\r\n                verticalLines.length = 0;\r\n            }\r\n        });\r\n        canvas.on('before:render', function () {\r\n            if (canvas.contextTop) {\r\n                canvas.clearContext(canvas.contextTop);\r\n            }\r\n        });\r\n        canvas.on('after:render', function () {\r\n            for (var i = verticalLines.length; i--;) {\r\n                drawVerticalLine(verticalLines[i]);\r\n            }\r\n            for (var i = horizontalLines.length; i--;) {\r\n                drawHorizontalLine(horizontalLines[i]);\r\n            }\r\n            verticalLines.length = horizontalLines.length = 0;\r\n        });\r\n        canvas.on('mouse:up', function () {\r\n            verticalLines.length = horizontalLines.length = 0;\r\n            canvas.renderAll();\r\n        });\r\n    };\r\n    ObjectAlignmentPositionComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[object-alignment-position]',\r\n            template: __webpack_require__(/*! ./object-alignment-position.component.html */ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.html\"),\r\n            styles: [__webpack_require__(/*! ./object-alignment-position.component.scss */ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"]])\r\n    ], ObjectAlignmentPositionComponent);\r\n    return ObjectAlignmentPositionComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/object-grouping/object-grouping.component.html\":\r\n/*!***********************************************************************************!*\\\r\n  !*** ./src/app/premium/components/object-grouping/object-grouping.component.html ***!\r\n  \\***********************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<li (click)=\\\"selectDeselectAll('select')\\\" [ngClass]=\\\"{'disabled': disableForSelectAll == true}\\\">\\n  <svg class=\\\"icon icon-t-group\\\" viewBox=\\\"0 0 30 30\\\" tooltip=\\\"{{'Select All' | translate}}\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-t-group\\\"></use>\\n  </svg>\\n</li>\\n<li (click)=\\\"selectDeselectAll('deselect')\\\" [ngClass]=\\\"{'disabled': disableForSelectAll == true}\\\">\\n  <svg class=\\\"icon icon-t-ungroup\\\" viewBox=\\\"0 0 30 30\\\" tooltip=\\\"{{'Deselect All' | translate}}\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-t-ungroup\\\"></use>\\n  </svg>\\n</li>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/object-grouping/object-grouping.component.scss\":\r\n/*!***********************************************************************************!*\\\r\n  !*** ./src/app/premium/components/object-grouping/object-grouping.component.scss ***!\r\n  \\***********************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9vYmplY3QtZ3JvdXBpbmcvb2JqZWN0LWdyb3VwaW5nLmNvbXBvbmVudC5zY3NzIn0= */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/object-grouping/object-grouping.component.ts\":\r\n/*!*********************************************************************************!*\\\r\n  !*** ./src/app/premium/components/object-grouping/object-grouping.component.ts ***!\r\n  \\*********************************************************************************/\r\n/*! exports provided: ObjectGroupingComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectGroupingComponent\", function() { return ObjectGroupingComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\nvar ObjectGroupingComponent = /** @class */ (function () {\r\n    function ObjectGroupingComponent(mainService, eventService) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.selectionArea = 0;\r\n        mainService.enableMultipleSelection = true;\r\n    }\r\n    ObjectGroupingComponent.prototype.ngOnInit = function () {\r\n        this.init();\r\n        this.subscribeEvents();\r\n    };\r\n    ObjectGroupingComponent.prototype.init = function () {\r\n        this.disableForSelectAll = this.disableForSelectAllFun();\r\n    };\r\n    ObjectGroupingComponent.prototype.subscribeEvents = function () {\r\n        var _this = this;\r\n        this.eventService.$sub('imageSideChanged', function () {\r\n            _this.init();\r\n        });\r\n        this.eventService.$sub('objectSelectionCreated', function () {\r\n            _this.init();\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function () {\r\n            _this.init();\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function () {\r\n            _this.init();\r\n        });\r\n        this.eventService.$sub('objectUpdated', function () {\r\n            _this.init();\r\n        });\r\n        this.eventService.$sub('objectRemoved', function () {\r\n            _this.init();\r\n        });\r\n    };\r\n    ObjectGroupingComponent.prototype.disableForSelectAllFun = function () {\r\n        var ultimateLockEnable;\r\n        var totalAddedObjects = 0;\r\n        if (this.mainService.canvasService.currentCanvas) {\r\n            this.mainService.canvasService.getObjects().forEach(function (obj) {\r\n                if (obj.ultimatelock != true && obj.selectable == true)\r\n                    totalAddedObjects++;\r\n            });\r\n        }\r\n        if (totalAddedObjects > 1)\r\n            return false;\r\n        return true;\r\n    };\r\n    ObjectGroupingComponent.prototype.selectDeselectAll = function (option, objectList) {\r\n        if (option === void 0) { option = ''; }\r\n        if (objectList === void 0) { objectList = null; }\r\n        if (this.disableForSelectAll === true)\r\n            return;\r\n        var canvas = this.mainService.canvasService.currentCanvas;\r\n        objectList = (objectList == null) ? this.mainService.canvasService.getObjects() : objectList;\r\n        var temp = [];\r\n        objectList.forEach(function (obj) {\r\n            if (obj.ultimatelock != true && obj.selectable == true) {\r\n                temp.push(obj);\r\n            }\r\n        });\r\n        canvas.discardActiveObject();\r\n        if (option == \"select\") {\r\n            var sel = new fabric.ActiveSelection(temp, {\r\n                canvas: canvas,\r\n            });\r\n            canvas.setActiveObject(sel);\r\n            this.selectionArea = true;\r\n        }\r\n        else {\r\n            this.selectionArea = false;\r\n        }\r\n        canvas.requestRenderAll();\r\n    };\r\n    ObjectGroupingComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\r\n            selector: '[object-grouping]',\r\n            template: __webpack_require__(/*! ./object-grouping.component.html */ \"./src/app/premium/components/object-grouping/object-grouping.component.html\"),\r\n            styles: [__webpack_require__(/*! ./object-grouping.component.scss */ \"./src/app/premium/components/object-grouping/object-grouping.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"]])\r\n    ], ObjectGroupingComponent);\r\n    return ObjectGroupingComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/opacity/opacity.component.html\":\r\n/*!*******************************************************************!*\\\r\n  !*** ./src/app/premium/components/opacity/opacity.component.html ***!\r\n  \\*******************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [hidden]=\\\"componentHide\\\">\\n\\t<button class=\\\"byi-accordion-title\\\" accordion-heading>\\n\\t\\t<span>{{'Opacity' | translate}}</span>\\n\\t</button>\\n\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t<ng-container [ngTemplateOutlet]=\\\"opacityTemplate\\\"></ng-container>\\n\\t</div>\\n</accordion-group>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('opacity')\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n\\t<ng-template tabHeading>\\n\\t\\t<span>{{'Opacity' | translate}}</span>\\n\\t</ng-template>\\n\\t<ng-container [ngTemplateOutlet]=\\\"opacityTemplate\\\"></ng-container>\\n</tab>\\n<ng-template #opacityTemplate>\\n\\t<div class=\\\"byie-option\\\">\\n\\t\\t<div class=\\\"byi-range-box byi-range-color byie-count-wrap\\\">\\n\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{(opacity/10).toFixed(1)}}</span>\\n\\t\\t\\t\\t<input type=\\\"range\\\" [(ngModel)]=\\\"opacity\\\" min=\\\"0\\\" max=\\\"10\\\" step=\\\"0.1\\\"\\n\\t\\t\\t\\t\\t(mousedown)=\\\"setPrevValue($event.target.value)\\\" (input)=\\\"changeOpacity()\\\" (change)=\\\"stackToUndo()\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<button class=\\\"byi-range-reset-link\\\" (click)=\\\"resetOpacity()\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/opacity/opacity.component.scss\":\r\n/*!*******************************************************************!*\\\r\n  !*** ./src/app/premium/components/opacity/opacity.component.scss ***!\r\n  \\*******************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9vcGFjaXR5L29wYWNpdHkuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/opacity/opacity.component.ts\":\r\n/*!*****************************************************************!*\\\r\n  !*** ./src/app/premium/components/opacity/opacity.component.ts ***!\r\n  \\*****************************************************************/\r\n/*! exports provided: OpacityComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OpacityComponent\", function() { return OpacityComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar OpacityComponent = /** @class */ (function () {\r\n    function OpacityComponent(canvasService, eventService, mainService, tabsService) {\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.mainService = mainService;\r\n        this.tabsService = tabsService;\r\n        this.componentHide = true;\r\n        this.prevOpacityVal = null;\r\n        this.tabsService.registerTabs('opacity', 'plain-text');\r\n        this.tabsService.registerTabs('opacity', 'clipart');\r\n        this.tabsService.registerTabs('opacity', 'image-upload');\r\n        this.tabsService.registerTabs('opacity', 'name-number');\r\n        this.tabsService.registerTabs('opacity', 'common');\r\n    }\r\n    OpacityComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.initData();\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\r\n            _this.updateOpacity(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.updateOpacity(obj);\r\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\r\n        });\r\n        this.eventService.$sub('objectUpdated', function (obj) {\r\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\r\n            _this.updateOpacity(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionCleared', function (obj) {\r\n            _this.initData();\r\n            _this.componentHide = (_this.canvasService.getActiveObject() && _this.canvasService.getActiveObject().ultimatelock != true) ? null : true;\r\n        });\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\r\n        });\r\n    };\r\n    OpacityComponent.prototype.initData = function () {\r\n        this.opacity = this.canvasService.getActiveObjectValue('text', 'opacity') ? this.canvasService.getActiveObjectValue('text', 'opacity') : 1.0;\r\n    };\r\n    OpacityComponent.prototype.changeOpacity = function () {\r\n        var _this = this;\r\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\r\n        properties.opacity = (this.opacity / 10);\r\n        selectedObjs.filter(function (obj) {\r\n            obj = Object.assign(obj, properties);\r\n            _this.canvasService.currentCanvas.renderAll();\r\n        });\r\n    };\r\n    OpacityComponent.prototype.setPrevValue = function (val) {\r\n        if (this.prevOpacityVal == null)\r\n            this.prevOpacityVal = val / 10;\r\n    };\r\n    OpacityComponent.prototype.stackToUndo = function () {\r\n        this.canvasService.rangeSliderUndoRedo({ 'opacity': this.prevOpacityVal });\r\n        this.prevOpacityVal = null;\r\n    };\r\n    OpacityComponent.prototype.updateOpacity = function (obj) {\r\n        if (obj.length > 0) {\r\n            if (obj[0]) {\r\n                this.opacity = obj[0].opacity * 10;\r\n            }\r\n        }\r\n        else {\r\n            this.opacity = obj.opacity * 10;\r\n        }\r\n    };\r\n    OpacityComponent.prototype.resetOpacity = function () {\r\n        this.opacity = 1 * 10;\r\n        this.changeOpacity();\r\n    };\r\n    OpacityComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[opacity]',\r\n            template: __webpack_require__(/*! ./opacity.component.html */ \"./src/app/premium/components/opacity/opacity.component.html\"),\r\n            styles: [__webpack_require__(/*! ./opacity.component.scss */ \"./src/app/premium/components/opacity/opacity.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"], src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__[\"TabsService\"]])\r\n    ], OpacityComponent);\r\n    return OpacityComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/price-info/price-info.component.html\":\r\n/*!*************************************************************************!*\\\r\n  !*** ./src/app/premium/components/price-info/price-info.component.html ***!\r\n  \\*************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<span class=\\\"cart-info\\\" (click)=\\\"displayInfo()\\\" *ngIf=\\\"isDisplayPriceInfo\\\">\\n\\t<svg class=\\\"icon icon-info\\\" viewBox=\\\"0 0 20 20\\\">\\n\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-info\\\"></use>\\n\\t</svg>\\n</span>\\n<div class=\\\"byi-info-display\\\" [class.open]=\\\"showPriceInfo\\\">\\n\\t<ul class=\\\"byi-priceinfo-top\\\">\\n\\t\\t<ng-container *ngFor = 'let item of priceInfoData'>\\n\\t\\t\\t<li *ngIf=\\\"item.value\\\">\\n\\t\\t\\t\\t<div class = 'byi-priceinfo__left'>{{item.label}}  {{(item.hasOwnProperty('isQty') && item.isQty == true) ? 'x '+item.qty : ''}}\\n\\t\\t\\t\\t{{(!item.hasOwnProperty('isProductQty') && item.isProductQty != true) ? 'x ' : ''}} \\n\\t\\t\\t\\t<span tooltip=\\\"{{'Product Quantity' | translate}}\\\">{{(item.hasOwnProperty('isProductQty') && item.isProductQty == true) ? '(' : ''}}{{item.productQty}}{{(item.hasOwnProperty('isProductQty') && item.isProductQty == true) ? ')' : ''}}</span>\\n\\t\\t\\t\\t</div>\\t\\t\\t\\n\\t\\t\\t\\t<div class = 'byi-priceinfo__right'>{{item.value}}</div>\\n\\t\\t\\t</li>\\n\\t\\t</ng-container>\\n\\t</ul>\\n\\t<div class=\\\"byi-priceinfo-total\\\">\\n\\t\\t<div class=\\\"byi-priceinfo__left\\\">{{'Total Price' | translate}}</div>\\n\\t\\t<div class=\\\"byi-priceinfo__right\\\">{{priceService.getPrice()}}</div>\\n\\t</div>\\n</div>\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/price-info/price-info.component.scss\":\r\n/*!*************************************************************************!*\\\r\n  !*** ./src/app/premium/components/price-info/price-info.component.scss ***!\r\n  \\*************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9wcmljZS1pbmZvL3ByaWNlLWluZm8uY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/components/price-info/price-info.component.ts\":\r\n/*!***********************************************************************!*\\\r\n  !*** ./src/app/premium/components/price-info/price-info.component.ts ***!\r\n  \\***********************************************************************/\r\n/*! exports provided: PriceInfoComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PriceInfoComponent\", function() { return PriceInfoComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/essentials/components/price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar PriceInfoComponent = /** @class */ (function () {\r\n    function PriceInfoComponent(mainService, eventService, canvasService, priceService, translate) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.priceService = priceService;\r\n        this.translate = translate;\r\n        this.showPriceInfo = false;\r\n        this.isDisplayPriceInfo = false;\r\n        this.priceInfoData = [];\r\n        this.currentProductOtion = \"\";\r\n        this.subscribeEvents();\r\n    }\r\n    PriceInfoComponent.prototype.ngOnInit = function () {\r\n        var _this_1 = this;\r\n        var configPaths = ['productdesigner/general/enable_price_info'];\r\n        // prepare url and payload\r\n        var url = 'productdesigner/Index/getConfiguration', params = { configPaths: configPaths, key: 'display-price-info' }, cacheKey = 'configuration-display-price-info' + this.mainService.baseUrl;\r\n        // hit post request\r\n        this.mainService.getData(url, params, cacheKey).then(function (resp) {\r\n            _this_1.isDisplayPriceInfo = (resp[0] == 1) ? true : false;\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    PriceInfoComponent.prototype.subscribeEvents = function () {\r\n        var _this_1 = this;\r\n        this.eventService.$sub('priceUpdate', function (priceData) {\r\n            if (priceData && priceData.label == \"perintingMethod\") {\r\n                _this_1.printingMethodPrice = priceData.price;\r\n                _this_1.updatePriceInfo();\r\n            }\r\n            else {\r\n                _this_1.updatePriceInfo();\r\n            }\r\n        });\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            _this_1.updatePriceInfo();\r\n        });\r\n        this.eventService.$sub('backgroundPatternsApplied', function (obj) {\r\n            _this_1.updatePriceInfo();\r\n        });\r\n        this.eventService.$sub('objectRemoved', function (obj) {\r\n            _this_1.updatePriceInfo();\r\n        });\r\n        this.eventService.$sub('closePriceInfo', function (obj) {\r\n            _this_1.showPriceInfo = false;\r\n        });\r\n    };\r\n    PriceInfoComponent.prototype.displayInfo = function () {\r\n        this.showPriceInfo = (this.showPriceInfo == false) ? true : false;\r\n    };\r\n    PriceInfoComponent.prototype.updatePriceInfo = function () {\r\n        this.priceInfoData = [];\r\n        if (this.priceService.priceAllData) {\r\n            this.priceFormat = this.priceService.priceAllData.priceFormat;\r\n            var textCount = this.canvasService.getObjectTypeFromAllCanvas('tab', 'text');\r\n            var clipartCount = this.canvasService.getObjectTypeFromAllCanvas('tab', 'clipart');\r\n            var uploadCount = this.canvasService.getObjectTypeFromAllCanvas('tab', 'upload');\r\n            var totalImgCount = clipartCount + uploadCount;\r\n            var qty = (this.priceService.totalQty) ? this.priceService.totalQty : 0;\r\n            var productPrice = (this.priceService.priceAllData['productPrice'][this.mainService.associatedProductId]) ? this.priceService.priceAllData['productPrice'][this.mainService.associatedProductId] : 0;\r\n            var fixedPrice = (this.priceService.priceAllData.additionalFixedPrice) ? this.priceService.priceAllData.additionalFixedPrice : 0;\r\n            var tax = (this.priceService.priceAllData.tax) ? this.priceService.priceAllData.tax : 0;\r\n            var ImgPrice = 0;\r\n            var CustomImgPrice = 0;\r\n            var getOptions = \"\";\r\n            if (this.mainService.productType == \"configurable\" && this.mainService.productOptions.length > 0) {\r\n                var selectedDataKey = Object.keys(this.mainService.selectedProductOptions);\r\n                var selectedDataValue_1 = Object.values(this.mainService.selectedProductOptions);\r\n                var options = \"\";\r\n                var _this_2 = this;\r\n                this.currentProductOtion = \"\";\r\n                selectedDataKey.forEach(function (opt, index) {\r\n                    var value = selectedDataValue_1[index];\r\n                    var optionData = _this_2.mainService.productOptions.find(function (obj) { return (obj.id == opt); });\r\n                    var optoinValue = optionData.values.find(function (obj) { return (obj.value_index == value); });\r\n                    _this_2.currentProductOtion = _this_2.currentProductOtion + '|' + optoinValue.label;\r\n                });\r\n            }\r\n            var finalProductPrice = 0;\r\n            var totalPrice = parseFloat(this.priceService.getIntPrice());\r\n            if (productPrice) {\r\n                finalProductPrice = productPrice * this.priceService.totalQty;\r\n                this.priceInfoData.push({ 'label': this.translate.instant('Product Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])(finalProductPrice, this.priceFormat, ''), 'productQty': this.priceService.totalQty });\r\n            }\r\n            if (fixedPrice) {\r\n                var finalFixedPrice = fixedPrice * this.priceService.totalQty;\r\n                totalPrice = totalPrice - finalFixedPrice;\r\n                this.priceInfoData.push({ 'label': this.translate.instant('Fixed Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])(finalFixedPrice, this.priceFormat, ''), 'productQty': this.priceService.totalQty });\r\n            }\r\n            if (textCount) {\r\n                var textPrice = (this.priceService.getTotalAddedTextPrice() * this.priceService.totalQty);\r\n                totalPrice = totalPrice - textPrice;\r\n                this.priceInfoData.push({ 'label': this.translate.instant('Text Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])((textPrice), this.priceFormat, ''), 'isQty': true, 'qty': textCount, 'productQty': this.priceService.totalQty });\r\n            }\r\n            if (clipartCount) {\r\n                var clipartPrice = this.priceService.getTotalClipartsPrice();\r\n                ImgPrice = (parseFloat(clipartPrice) * this.priceService.totalQty);\r\n                totalPrice = totalPrice - ImgPrice;\r\n                this.priceInfoData.push({ 'label': this.translate.instant('Image Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])(ImgPrice, this.priceFormat, ''), 'isQty': true, 'qty': clipartCount, 'productQty': this.priceService.totalQty });\r\n            }\r\n            if (uploadCount) {\r\n                var CustomImgPrice_1 = this.priceService.getTotalCustomUploadImagePrice();\r\n                CustomImgPrice_1 = (parseFloat(CustomImgPrice_1) * this.priceService.totalQty);\r\n                totalPrice = totalPrice - CustomImgPrice_1;\r\n                this.priceInfoData.push({ 'label': this.translate.instant('Custom Image Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])(CustomImgPrice_1, this.priceFormat, ''), 'isQty': true, 'qty': uploadCount, 'productQty': this.priceService.totalQty });\r\n            }\r\n            if (this.printingMethodPrice) {\r\n                totalPrice = totalPrice - (this.printingMethodPrice * this.priceService.totalQty);\r\n                this.priceInfoData.push({ 'label': this.translate.instant('Printing Method Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])((this.printingMethodPrice * this.priceService.totalQty), this.priceFormat, ''), 'productQty': this.priceService.totalQty });\r\n            }\r\n            if (this.priceService.extraPriceToBeAdded.customOptionsPrice) {\r\n                totalPrice = totalPrice - (this.priceService.extraPriceToBeAdded.customOptionsPrice * this.priceService.totalQty);\r\n                this.priceInfoData.push({ 'label': this.translate.instant('Additional Cost'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])((this.priceService.extraPriceToBeAdded.customOptionsPrice * this.priceService.totalQty), this.priceFormat, ''), 'productQty': this.priceService.totalQty });\r\n            }\r\n            this.priceInfoData[0] = { 'label': this.translate.instant('Product Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])(totalPrice, this.priceFormat, ''), 'isProductQty': true, 'productQty': this.priceService.totalQty };\r\n            if (tax) {\r\n                if (tax) {\r\n                    this.priceInfoData.push({ 'label': 'Tax', 'value': tax + '%' });\r\n                }\r\n            }\r\n        }\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], PriceInfoComponent.prototype, \"data\", void 0);\r\n    PriceInfoComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[price-info]',\r\n            template: __webpack_require__(/*! ./price-info.component.html */ \"./src/app/premium/components/price-info/price-info.component.html\"),\r\n            styles: [__webpack_require__(/*! ./price-info.component.scss */ \"./src/app/premium/components/price-info/price-info.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_5__[\"CanvasService\"],\r\n            src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_2__[\"PriceService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__[\"TranslateService\"]])\r\n    ], PriceInfoComponent);\r\n    return PriceInfoComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.html\":\r\n/*!*************************************************************************************************************************!*\\\r\n  !*** ./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.html ***!\r\n  \\*************************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<span dropdown *ngIf=\\\"mainService.isAdmin == false\\\">\\n<a href=\\\"javascript:void(0)\\\" dropdownToggle (click)=\\\"false\\\" tooltip=\\\"{{'Share with' | translate}}\\\">\\n  <svg class=\\\"icon icon-share\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-share\\\"></use>\\n  </svg>\\n</a>\\n<ul *dropdownMenu class=\\\"dropdown-menu social-share\\\">\\n  <li title=\\\"{{'Facebook' | translate}}\\\">\\n      <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n       <svg class=\\\"icon icon-facebook\\\" viewBox=\\\"0 0 50 50\\\" (click)=\\\"Sharing('facebook_share')\\\">\\n         <use xlink:href=\\\"assets/img/sprite.svg#icon-facebook\\\"></use>\\n       </svg>\\n      </a>\\n  </li>\\n  <li title=\\\"{{'Twitter' | translate}}\\\">\\n      <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n       <svg class=\\\"icon icon-twitter\\\" viewBox=\\\"0 0 50 50\\\" (click)=\\\"Sharing('twitter')\\\">\\n         <use xlink:href=\\\"assets/img/sprite.svg#icon-twitter\\\"></use>\\n       </svg>\\n      </a>\\n  </li>\\n\\n  <li title=\\\"{{'Pinterest' | translate}}\\\">\\n      <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n       <svg class=\\\"icon icon-pinterest\\\" viewBox=\\\"0 0 50 50\\\" (click)=\\\"Sharing('pinterest')\\\">\\n         <use xlink:href=\\\"assets/img/sprite.svg#icon-pinterest\\\"></use>\\n       </svg>\\n      </a>\\n  </li>\\n  <li title=\\\"{{'Mail' | translate}}\\\">\\n      <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n       <svg class=\\\"icon icon-mail\\\" viewBox=\\\"0 0 50 50\\\" (click)=\\\"openModal()\\\">\\n         <use xlink:href=\\\"assets/img/sprite.svg#icon-mail\\\"></use>\\n       </svg>\\n      </a>\\n  </li>\\n</ul>\\n</span>\\n\\n<!-- Send Email Form Modal -->\\n<ng-template #mailModal>\\n  <form [formGroup]=\\\"sendMailForm\\\" (ngSubmit)=\\\"Sharing('send_mail')\\\">\\n\\n    <!-- Modal header section -->\\n    <div class=\\\"modal-header\\\">\\n      <h4 class=\\\"modal-title pull-left\\\">{{'Share Design' | translate}}</h4>\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closeModal()\\\">\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\n      </button>\\n    </div>\\n\\n    <!-- Modal body section -->\\n    <div class=\\\"modal-body\\\">\\n      <div class=\\\"byi-login-tab\\\">\\n        <div class=\\\"byi-float-form\\\">\\n\\n          <!-- Send Email Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Recipient Email Address' | translate}}</label>\\n            <input type=\\\"text\\\" name=\\\"recipientEmail\\\" [(ngModel)]=\\\"recipientEmail\\\" placeholder=\\\"{{'Email' | translate}}\\\"\\n              formControlName=\\\"recipientEmail\\\" [ngClass]=\\\"{ 'is-invalid': submitted && mf.recipientEmail.errors }\\\"/>\\n            <!-- Send Email Error Message -->\\n            <div *ngIf=\\\"submitted && mf.recipientEmail.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"mf.recipientEmail.errors.required\\\">{{'Email is required' | translate}}</ng-container>\\n              <ng-container *ngIf=\\\"mf.recipientEmail.errors.email\\\">{{'Invalid Email' | translate}}</ng-container>\\n            </div>\\n          </div>\\n          <!-- Button Section -->\\n          <div class=\\\"byi-form-action\\\">\\n            <button class=\\\"byi-btn\\\" type=\\\"submit\\\">{{'Send Mail' | translate}}</button>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <!-- End of modal body -->\\n  </form>\\n</ng-template>\\n\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.scss\":\r\n/*!*************************************************************************************************************************!*\\\r\n  !*** ./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.scss ***!\r\n  \\*************************************************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vbW9kdWxlcy9zb2NpYWwtbWVkaWEtc2hhcmluZy9jb21wb25lbnQvc29jaWFsLW1lZGlhLXNoYXJpbmcvc29jaWFsLW1lZGlhLXNoYXJpbmcuY29tcG9uZW50LnNjc3MifQ== */\"\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.ts\":\r\n/*!***********************************************************************************************************************!*\\\r\n  !*** ./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.ts ***!\r\n  \\***********************************************************************************************************************/\r\n/*! exports provided: SocialMediaSharingComponent */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SocialMediaSharingComponent\", function() { return SocialMediaSharingComponent; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\r\n/* harmony import */ var ngx_facebook__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-facebook */ \"./node_modules/ngx-facebook/dist/esm/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar SocialMediaSharingComponent = /** @class */ (function () {\r\n    function SocialMediaSharingComponent(mainService, designService, eventService, canvasService, formBuilder, translate, fb) {\r\n        this.mainService = mainService;\r\n        this.designService = designService;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.formBuilder = formBuilder;\r\n        this.translate = translate;\r\n        this.fb = fb;\r\n        this.submitted = false;\r\n    }\r\n    SocialMediaSharingComponent.prototype.ngAfterViewInit = function () {\r\n        var self = this;\r\n        setTimeout(function () {\r\n            var configPaths = ['productdesigner/social_media_upload/facebook_appid'];\r\n            // prepare url and payload\r\n            var url = 'productdesigner/Index/getConfiguration', param = { configPaths: configPaths, key: 'social-media-sharing' };\r\n            var cacheKey = 'configuration-social-media-sharing' + self.mainService.baseUrl;\r\n            // hit post request\r\n            self.mainService.getData(url, param, cacheKey).then(function (resp) {\r\n                var initParams = {\r\n                    appId: resp[0],\r\n                    xfbml: true,\r\n                    version: 'v2.8'\r\n                };\r\n                if (self.fb) {\r\n                    self.fb.init(initParams);\r\n                }\r\n            }).catch(function (err) { return console.log(err); });\r\n        }, 500);\r\n    };\r\n    SocialMediaSharingComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        // Create and add script element for load facebook sdk\r\n        var getFacebookSdk = document.getElementById('facebookSdk');\r\n        if (!getFacebookSdk) {\r\n            var script = document.createElement('script');\r\n            script.type = 'text/javascript';\r\n            script.src = 'https://connect.facebook.net/en_US/all.js';\r\n            script.id = 'facebookScript';\r\n            document.getElementsByTagName('head')[0].appendChild(script);\r\n        }\r\n        ;\r\n        this.initFormGroup();\r\n        this.eventService.$sub('getCartData', function (data) {\r\n            _this.productName = data.productName;\r\n        });\r\n        this.eventService.$sub('designSaved', function (data) {\r\n            if (!_this.option || _this.option == '')\r\n                return;\r\n            _this.design_url = (data[0].images.base.url);\r\n            var product_url = _this.mainService.baseUrl + '/productdesigner/index/index/id/' + _this.mainService.productId + '/design/' + btoa(data[0].designId);\r\n            if (_this.option == \"g_plush\") {\r\n                var go = \"https://plus.google.com/share?\";\r\n                var title = \"title=\" + encodeURIComponent(_this.productName);\r\n                var url = \"url=\" + encodeURIComponent(product_url);\r\n                var images = \"image=\" + _this.design_url;\r\n                window.open(go + url + \"&\" + title + \"&\" + images);\r\n            }\r\n            else if (_this.option == \"twitter\") {\r\n                //Here Twitter Sharing\r\n                var twUrl = \"http://twitter.com/share?text=My Custom Design&url=\" + encodeURIComponent(product_url);\r\n                window.open(twUrl);\r\n            }\r\n            else if (_this.option == \"pinterest\") {\r\n                //Here Pinterest Sharing\r\n                var pinterestUrl = \"http://pinterest.com/pin/create/button/?url=\" + (product_url) + \"&media=\" + _this.design_url + \"&description=\" + (\"My Custom Design\");\r\n                window.open(pinterestUrl);\r\n            }\r\n            else if (_this.option == \"facebook_share\") {\r\n                _this.getCanvasDataUrl().then(function (resp) {\r\n                    var params = {\r\n                        method: 'feed',\r\n                        name: _this.productName,\r\n                        picture: resp.base.url\r\n                    };\r\n                    //Here Facebook Sharing\r\n                    _this.fb.ui(params)\r\n                        .then(function (res) { return console.log(res); })\r\n                        .catch(function (e) { return console.error(e); });\r\n                }).catch(function (err) {\r\n                    console.log(\"Error : \", err);\r\n                });\r\n            }\r\n            else if (_this.option == \"send_mail\") {\r\n                // prepare url and payload\r\n                var url = 'socialmediasharing/Index/sendmail', param = {\r\n                    receipentMail: _this.recipientEmail,\r\n                    design_id: data[0].designId,\r\n                    product_id: _this.mainService.productId\r\n                };\r\n                // hit post request\r\n                _this.mainService.post(url, param, true).then(function (resp) {\r\n                    // if mail was send successfull\r\n                    if (resp && resp.status == \"success\") {\r\n                        _this.mainService.swal(_this.translate.instant(\"Success\"), _this.translate.instant(\"Mail has been sent\"), 'success').finally(function () { return _this.closeModal(); });\r\n                    }\r\n                    // if something went wrong with send mail process\r\n                    else {\r\n                        var msg = resp.log;\r\n                        if (msg.lastIndexOf(\"-\") >= 0)\r\n                            msg = msg.substr(msg.lastIndexOf(\"-\") + 2);\r\n                        _this.mainService.swal(_this.translate.instant(\"Error\"), _this.translate.instant(msg), 'error');\r\n                    }\r\n                }).catch(function (err) {\r\n                    console.log(_this.translate.instant(\"Error in send mail: \"), err);\r\n                });\r\n            }\r\n            _this.option = \"\";\r\n        });\r\n    };\r\n    SocialMediaSharingComponent.prototype.initFormGroup = function () {\r\n        // Send Email form builder\r\n        this.sendMailForm = this.formBuilder.group({\r\n            recipientEmail: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__[\"Validators\"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_7__[\"Validators\"].email]]\r\n        });\r\n    };\r\n    SocialMediaSharingComponent.prototype.Sharing = function (option) {\r\n        this.option = option;\r\n        var data = {\r\n            title: this.productName,\r\n            disablePopup: true\r\n        };\r\n        if (this.option == \"send_mail\") {\r\n            // set flag\r\n            this.submitted = true;\r\n            // stop here if form is invalid\r\n            if (this.sendMailForm.invalid) {\r\n                return;\r\n            }\r\n            // When user hits on send mail button\r\n            this.designService.saveDesignData(data);\r\n        }\r\n        else {\r\n            this.designService.saveDesignData(data);\r\n        }\r\n    };\r\n    SocialMediaSharingComponent.prototype.openModal = function () {\r\n        this.modalRef = this.mainService.openThisModal(this.mailModalTemplate);\r\n    };\r\n    SocialMediaSharingComponent.prototype.closeModal = function () {\r\n        this.modalRef.hide();\r\n    };\r\n    Object.defineProperty(SocialMediaSharingComponent.prototype, \"mf\", {\r\n        // get control object for login form\r\n        get: function () { return this.sendMailForm.controls; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SocialMediaSharingComponent.prototype.getCanvasDataUrl = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                return [2 /*return*/, new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\r\n                        var currentImageId, response;\r\n                        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                            switch (_a.label) {\r\n                                case 0:\r\n                                    currentImageId = this.canvasService.activeImageId;\r\n                                    return [4 /*yield*/, this.mainService.getCanvasDataUrl(false, currentImageId, false)];\r\n                                case 1:\r\n                                    response = _a.sent();\r\n                                    (response && response.base && response.base.url) ? resolve(response) : reject(response);\r\n                                    return [2 /*return*/];\r\n                            }\r\n                        });\r\n                    }); })];\r\n            });\r\n        });\r\n    };\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('mailModal'),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\r\n    ], SocialMediaSharingComponent.prototype, \"mailModalTemplate\", void 0);\r\n    SocialMediaSharingComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n            selector: '[social-media-sharing]',\r\n            template: __webpack_require__(/*! ./social-media-sharing.component.html */ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.html\"),\r\n            styles: [__webpack_require__(/*! ./social-media-sharing.component.scss */ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.scss\")]\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\r\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_2__[\"DesignService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\r\n            _angular_forms__WEBPACK_IMPORTED_MODULE_7__[\"FormBuilder\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__[\"TranslateService\"],\r\n            ngx_facebook__WEBPACK_IMPORTED_MODULE_8__[\"FacebookService\"]])\r\n    ], SocialMediaSharingComponent);\r\n    return SocialMediaSharingComponent;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/premium/modules/social-media-sharing/social-media-sharing.module.ts\":\r\n/*!*************************************************************************************!*\\\r\n  !*** ./src/app/premium/modules/social-media-sharing/social-media-sharing.module.ts ***!\r\n  \\*************************************************************************************/\r\n/*! exports provided: HttpLoaderFactory, SocialMediaSharingModule */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpLoaderFactory\", function() { return HttpLoaderFactory; });\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SocialMediaSharingModule\", function() { return SocialMediaSharingModule; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm5/common.js\");\r\n/* harmony import */ var _component_social_media_sharing_social_media_sharing_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component/social-media-sharing/social-media-sharing.component */ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.ts\");\r\n/* harmony import */ var node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! node_modules/@angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/http-loader */ \"./node_modules/@ngx-translate/http-loader/fesm5/ngx-translate-http-loader.js\");\r\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common/http */ \"./node_modules/@angular/common/fesm5/http.js\");\r\n/* harmony import */ var ngx_bootstrap_dropdown__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-bootstrap/dropdown */ \"./node_modules/ngx-bootstrap/dropdown/fesm5/ngx-bootstrap-dropdown.js\");\r\n/* harmony import */ var ngx_facebook__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-facebook */ \"./node_modules/ngx-facebook/dist/esm/index.js\");\r\n/* harmony import */ var ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-bootstrap/tooltip */ \"./node_modules/ngx-bootstrap/tooltip/fesm5/ngx-bootstrap-tooltip.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction HttpLoaderFactory(httpClient) {\r\n    return new _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_6__[\"TranslateHttpLoader\"](httpClient);\r\n}\r\nvar SocialMediaSharingModule = /** @class */ (function () {\r\n    function SocialMediaSharingModule() {\r\n    }\r\n    SocialMediaSharingModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\r\n            declarations: [_component_social_media_sharing_social_media_sharing_component__WEBPACK_IMPORTED_MODULE_3__[\"SocialMediaSharingComponent\"]],\r\n            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"], node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_4__[\"FormsModule\"], node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_4__[\"ReactiveFormsModule\"],\r\n                _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateModule\"].forRoot({\r\n                    loader: {\r\n                        provide: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateLoader\"],\r\n                        useFactory: HttpLoaderFactory,\r\n                        deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_7__[\"HttpClient\"]]\r\n                    }\r\n                }),\r\n                ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_10__[\"TooltipModule\"].forRoot(),\r\n                _angular_common_http__WEBPACK_IMPORTED_MODULE_7__[\"HttpClientModule\"],\r\n                ngx_bootstrap_dropdown__WEBPACK_IMPORTED_MODULE_8__[\"BsDropdownModule\"].forRoot(),\r\n                ngx_facebook__WEBPACK_IMPORTED_MODULE_9__[\"FacebookModule\"].forRoot()],\r\n            exports: [_component_social_media_sharing_social_media_sharing_component__WEBPACK_IMPORTED_MODULE_3__[\"SocialMediaSharingComponent\"]]\r\n        })\r\n    ], SocialMediaSharingModule);\r\n    return SocialMediaSharingModule;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/add-image.service.ts\":\r\n/*!***********************************************!*\\\r\n  !*** ./src/app/services/add-image.service.ts ***!\r\n  \\***********************************************/\r\n/*! exports provided: AddImageService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AddImageService\", function() { return AddImageService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _canvas_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\n\r\nvar AddImageService = /** @class */ (function () {\r\n    function AddImageService(canvasService) {\r\n        this.canvasService = canvasService;\r\n    }\r\n    /**\r\n     * This is generic function for adding any type of image to canvas\r\n     *\r\n     * @param image url to image\r\n     */\r\n    AddImageService.prototype.addImage = function (image, data) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var clipartPrice, imgExtensionIndex, extensionName, properties, isSvg, _a;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        // if no image url is passed, return from here only\r\n                        if (!image)\r\n                            return [2 /*return*/];\r\n                        clipartPrice = 0;\r\n                        if (data && data.hasOwnProperty('tab') && data.tab == \"clipart\") {\r\n                            clipartPrice = (data.price != null) ? data.price : 0;\r\n                        }\r\n                        imgExtensionIndex = image.lastIndexOf('.'), extensionName = image.substr(imgExtensionIndex + 1), properties = {\r\n                            left: 50,\r\n                            top: 50,\r\n                            objType: 'image',\r\n                            tab: (data && data.tab) ? data.tab : 'upload',\r\n                            canvas: (data && data.canvas) ? data.canvas : this.canvasService.currentCanvas,\r\n                            price: clipartPrice,\r\n                            extension: extensionName,\r\n                            imageSrc: image,\r\n                        };\r\n                        isSvg = (extensionName == 'svg') ? true : false;\r\n                        // set svg flag to properties for further opearations\r\n                        properties = Object.assign(properties, { isSvg: isSvg });\r\n                        if (!\r\n                        // call function accordingly\r\n                        (isSvg === true)) \r\n                        // call function accordingly\r\n                        return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.addSvgImage(image, properties, true)];\r\n                    case 1:\r\n                        _a = _b.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 2: return [4 /*yield*/, this.addJpgPngImage(image, properties, true)];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        _b.label = 4;\r\n                    case 4:\r\n                        // call function accordingly\r\n                        _a;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * for adding svg image on canvas\r\n     *\r\n     * @param image url to svg image\r\n     * @param properties properties\r\n     */\r\n    AddImageService.prototype.addSvgImage = function (image, properties, isCenter) {\r\n        var _this = this;\r\n        var self = this;\r\n        return new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                new fabric.loadSVGFromURL(image, function (svgImgObject, options) {\r\n                    var imgObj = new fabric.Group(svgImgObject);\r\n                    imgObj['src'] = image;\r\n                    imgObj.zcustomObjects = imgObj._objects.slice(0);\r\n                    var rmObj = _this.canvasService.getActiveObject();\r\n                    if (_this.removeForUltimateLock(rmObj)) {\r\n                        properties.left = rmObj.left;\r\n                        properties.top = rmObj.top;\r\n                        properties.angle = rmObj.angle;\r\n                        properties.ignoreBestFit = true;\r\n                        isCenter = false;\r\n                        imgObj = _this.canvasService.applyUltimateLock(imgObj, false);\r\n                        imgObj.scaleToWidth(rmObj.width * rmObj.scaleX);\r\n                    }\r\n                    var params = {\r\n                        obj: imgObj,\r\n                        properties: properties,\r\n                        canvas: properties.hasOwnProperty('canvas') ? properties.canvas : _this.canvasService.currentCanvas,\r\n                        crudServiceString: 'this.insertObjectService',\r\n                        isCenter: isCenter,\r\n                    };\r\n                    self.canvasService.objectCRUD(params);\r\n                    resolve();\r\n                });\r\n                return [2 /*return*/];\r\n            });\r\n        }); });\r\n    };\r\n    /**\r\n     * for adding jpg/png images\r\n     *\r\n     * @param image url to image\r\n     * @param properties properties\r\n     */\r\n    AddImageService.prototype.addJpgPngImage = function (image, properties, isCenter) {\r\n        var _this = this;\r\n        var self = this;\r\n        return new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                new fabric.Image.fromURL(image, function (imgObj) {\r\n                    imgObj['src'] = image;\r\n                    var rmObj = _this.canvasService.getActiveObject();\r\n                    if (_this.removeForUltimateLock(rmObj)) {\r\n                        properties.left = rmObj.left;\r\n                        properties.top = rmObj.top;\r\n                        properties.angle = rmObj.angle;\r\n                        properties.ignoreBestFit = true;\r\n                        isCenter = false;\r\n                        imgObj = _this.canvasService.applyUltimateLock(imgObj, false);\r\n                        imgObj.scaleToWidth(rmObj.width * rmObj.scaleX);\r\n                    }\r\n                    var params = {\r\n                        obj: imgObj,\r\n                        properties: properties,\r\n                        crudServiceString: 'this.insertObjectService',\r\n                        isCenter: isCenter,\r\n                    };\r\n                    self.canvasService.objectCRUD(params);\r\n                    resolve();\r\n                }, {\r\n                    crossOrigin: 'anonymous'\r\n                });\r\n                return [2 /*return*/];\r\n            });\r\n        }); });\r\n    };\r\n    // Remove object When object contain ultimate lock = true\r\n    AddImageService.prototype.removeForUltimateLock = function (obj) {\r\n        if (obj && obj.type != \"text\" && obj.ultimatelock == true) {\r\n            var params = {\r\n                obj: obj,\r\n                properties: null,\r\n                crudServiceString: 'this.removeObjectService',\r\n                removeUltimateObj: true\r\n            };\r\n            this.canvasService.objectCRUD(params);\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    AddImageService.prototype.updateImage = function (image) {\r\n        var obj = this.canvasService.getActiveObject();\r\n        if (obj && obj.type == \"image\") {\r\n            var params = {\r\n                obj: obj,\r\n                newSrc: image,\r\n                crudServiceString: 'this.cropperUpdateService',\r\n            };\r\n            this.canvasService.objectCRUD(params);\r\n        }\r\n    };\r\n    AddImageService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_canvas_service__WEBPACK_IMPORTED_MODULE_1__[\"CanvasService\"]])\r\n    ], AddImageService);\r\n    return AddImageService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/canvas-update.service.ts\":\r\n/*!***************************************************!*\\\r\n  !*** ./src/app/services/canvas-update.service.ts ***!\r\n  \\***************************************************/\r\n/*! exports provided: CanvasUpdateService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CanvasUpdateService\", function() { return CanvasUpdateService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar CanvasUpdateService = /** @class */ (function () {\r\n    function CanvasUpdateService() {\r\n        /**\r\n       * Init the service for operation : It initialise the variables\r\n       */\r\n        this.init = function (params) {\r\n            var properties = params.properties, canvasService = params.service, currentCanvas = (params.hasOwnProperty('canvas')) ? params.canvas : canvasService.currentCanvas, eventService = params.eventService;\r\n            var canvasProperties = [];\r\n            for (var key in properties) {\r\n                canvasProperties[key] = currentCanvas[key];\r\n            }\r\n            return {\r\n                /**\r\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\r\n                 *\r\n                 */\r\n                exec: function () {\r\n                    for (var key in properties) {\r\n                        currentCanvas[key] = properties[key];\r\n                    }\r\n                    currentCanvas.renderAll();\r\n                    eventService.$pub('canvasBackgroundChange');\r\n                },\r\n                unexec: function () {\r\n                    for (var key in canvasProperties) {\r\n                        currentCanvas[key] = canvasProperties[key];\r\n                    }\r\n                    currentCanvas.renderAll();\r\n                    eventService.$pub('canvasBackgroundChange');\r\n                }\r\n            };\r\n        };\r\n    }\r\n    CanvasUpdateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        })\r\n    ], CanvasUpdateService);\r\n    return CanvasUpdateService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/canvas.service.ts\":\r\n/*!********************************************!*\\\r\n  !*** ./src/app/services/canvas.service.ts ***!\r\n  \\********************************************/\r\n/*! exports provided: CanvasService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CanvasService\", function() { return CanvasService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_essentials_components_cropper_cropper_update_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/cropper/cropper-update.service */ \"./src/app/essentials/components/cropper/cropper-update.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _insert_object_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./insert-object.service */ \"./src/app/services/insert-object.service.ts\");\r\n/* harmony import */ var _update_object_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./update-object.service */ \"./src/app/services/update-object.service.ts\");\r\n/* harmony import */ var _remove_object_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./remove-object.service */ \"./src/app/services/remove-object.service.ts\");\r\n/* harmony import */ var _canvas_update_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./canvas-update.service */ \"./src/app/services/canvas-update.service.ts\");\r\n/* harmony import */ var src_app_common_components_image_effects_image_effects_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/common/components/image-effects/image-effects.service */ \"./src/app/common/components/image-effects/image-effects.service.ts\");\r\n/* harmony import */ var _history_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./history.service */ \"./src/app/services/history.service.ts\");\r\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/fabric.js\");\r\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_10__);\r\n/* harmony import */ var src_app_essentials_components_right_panel_right_panel_update_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/essentials/components/right-panel/right-panel-update.service */ \"./src/app/essentials/components/right-panel/right-panel-update.service.ts\");\r\n/* harmony import */ var _range_slider_update_service_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./range-slider-update-service.service */ \"./src/app/services/range-slider-update-service.service.ts\");\r\n/* harmony import */ var _svg_color_update_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./svg-color-update.service */ \"./src/app/services/svg-color-update.service.ts\");\r\n/* harmony import */ var _multiple_objects_update_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./multiple-objects-update.service */ \"./src/app/services/multiple-objects-update.service.ts\");\r\n/* harmony import */ var ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-bootstrap/modal */ \"./node_modules/ngx-bootstrap/modal/fesm5/ngx-bootstrap-modal.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar CanvasService = /** @class */ (function () {\r\n    function CanvasService(insertObjectService, updateObjectService, removeObjectService, canvasUpdateService, \r\n    /*private addImageService: AddImageService,*/\r\n    imageEffectsService, eventService, historyService, rightPanelUpdateService, cropperUpdateService, rangeSliderUpdateService, svgColorUpdate, multipleObjectsUpdateService, modalService) {\r\n        this.insertObjectService = insertObjectService;\r\n        this.updateObjectService = updateObjectService;\r\n        this.removeObjectService = removeObjectService;\r\n        this.canvasUpdateService = canvasUpdateService;\r\n        this.imageEffectsService = imageEffectsService;\r\n        this.eventService = eventService;\r\n        this.historyService = historyService;\r\n        this.rightPanelUpdateService = rightPanelUpdateService;\r\n        this.cropperUpdateService = cropperUpdateService;\r\n        this.rangeSliderUpdateService = rangeSliderUpdateService;\r\n        this.svgColorUpdate = svgColorUpdate;\r\n        this.multipleObjectsUpdateService = multipleObjectsUpdateService;\r\n        this.modalService = modalService;\r\n        this.containerCanvases = {};\r\n        this.allImagesWithIds = {};\r\n        this.allImages = [];\r\n        this.scaleFactor = 1;\r\n        this.zoom = 0;\r\n        this.clipX = {};\r\n        this.clipY = {};\r\n        this.allObjects = [];\r\n        this.mod = 0;\r\n        this.usedColorArr = [];\r\n        this.disableAddToCartAlert = false;\r\n        // for customize control corner size\r\n        this.cornerSize = 20;\r\n        // Object custom Properties;\r\n        this.objProperties = [\"scaleFactor\", \"tab\", \"objType\", \"font_file\", \"id\", 'price', 'isSvg', 'canvasWidth', 'canvasHeight', 'imageSrc', 'src', 'imageDesignId', 'zcustomObjects'];\r\n        // we will save background of current canvas before changing image side\r\n        this.oldCanvasBackground = {};\r\n        // cut/copy/paste object variables\r\n        this.keyMap = { 17: false, 67: false, 86: false, 88: false };\r\n        this.copiedObjects = [];\r\n        this.cutObjects = {};\r\n        // object limit variable\r\n        this.objectLimit = {};\r\n        this.modalOpened = false;\r\n        if (!this.historyService.canvasService) {\r\n            this.historyService.initCanvasService(this);\r\n        }\r\n        // call to method that will create initial events\r\n        this.initiateEvents();\r\n    }\r\n    /**\r\n     * Create initial events (eg. events for canvas)\r\n     */\r\n    CanvasService.prototype.initiateEvents = function () {\r\n        var _this_1 = this;\r\n        var _this = this;\r\n        document.onkeyup = (function (event) {\r\n            if (_this_1.currentDocumentEvent != null)\r\n                _this_1.currentDocumentEvent = null;\r\n        });\r\n        document.onkeydown = (function (event) {\r\n            _this_1.checkForCopyPaste(event.keyCode);\r\n            _this_1.currentDocumentEvent = event;\r\n            if (event && event.shiftKey) {\r\n                _this.checkObjectSelection();\r\n            }\r\n            if (event.keyCode === 46) { /**  Delete key **/\r\n                debugger;\r\n                var totalModals = _this_1.modalService.getModalsCount();\r\n                if (totalModals > 0)\r\n                    return;\r\n                var elements = document.getElementsByClassName(\"noDeleteObject\");\r\n                var removeObject = 0;\r\n                for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\r\n                    var ctl = elements_1[_i];\r\n                    if (ctl && ctl.selectionStart) {\r\n                        var startPos = ctl.selectionStart;\r\n                        var endPos = ctl.selectionEnd;\r\n                        if (ctl.value.length == startPos && ctl.value.length == endPos) {\r\n                            removeObject++;\r\n                        }\r\n                    }\r\n                    else {\r\n                        removeObject++;\r\n                    }\r\n                }\r\n                if (removeObject == elements.length) {\r\n                    _this_1.removeCurrentObject();\r\n                }\r\n            }\r\n        });\r\n        document.ontouchend = (function (event) {\r\n            _this_1.checkClasses(event);\r\n        });\r\n        // when canvas is created we have published this event\r\n        // we are subscribing it here because as soon as canvas is created, we need to set events like object selected\r\n        this.eventService.$sub('canvasCreated', function (canvas) {\r\n            _this_1.setEventsForCanvas(canvas);\r\n            _this_1.moveObjectsFromCanvasToCanvas(canvas);\r\n        });\r\n        this.eventService.$sub('allcanvasCreated', function () {\r\n            if (_this_1.allObjects.length > 0) {\r\n                _this_1.loadThisDesign(_this_1.allObjects);\r\n            }\r\n        });\r\n        var self = this;\r\n        window.addEventListener(\"beforeunload\", function (t) {\r\n            if (self.hasCanvasObjectOrBackgroundAll() && self.disableAddToCartAlert == false) {\r\n                t.returnValue = \"Your custom message.\";\r\n            }\r\n        });\r\n        this.eventService.$sub('selectThisObjects', function (objList) {\r\n            _this_1.selectTheseObjects(objList);\r\n        });\r\n        this.prepareObjsToIgnore();\r\n    };\r\n    /**\r\n     * This function will manage cut/copy/paste feature for fabric canvas\r\n     *\r\n     * @param pressedKey\r\n     */\r\n    CanvasService.prototype.checkForCopyPaste = function (pressedKey) {\r\n        var _this_1 = this;\r\n        // if pressed key is either of ctrl/c/x/v\r\n        if (pressedKey in this.keyMap) {\r\n            // set flag of that particular map as true      \r\n            this.keyMap[pressedKey] = true;\r\n            // when user presses ctrl key\r\n            // we will set false for c,x and v to avoid conflicts\r\n            if (pressedKey == 17) {\r\n                this.keyMap[67] = false;\r\n                this.keyMap[86] = false;\r\n                this.keyMap[88] = false;\r\n            }\r\n            // ctrl+c\r\n            else if (this.keyMap[17] && this.keyMap[67]) {\r\n                // prevent default behaviour\r\n                event.preventDefault();\r\n                // get list of objects\r\n                var objList = this.currentCanvas.getActiveObjects();\r\n                // if obj list is available\r\n                if (objList && objList.length) {\r\n                    // reset copied objects list\r\n                    this.copiedObjects = [];\r\n                    // reset cut objects list\r\n                    this.cutObjects = {};\r\n                    // traversal\r\n                    objList.filter(function (currObj) {\r\n                        _this_1.copiedObjects.push(currObj);\r\n                    });\r\n                }\r\n                // after copied successfully\r\n                // set copy flag as false\r\n                this.keyMap[67] = false;\r\n            }\r\n            // ctrl+x\r\n            else if (this.keyMap[17] && this.keyMap[88]) {\r\n                // prevent default behaviour\r\n                event.preventDefault();\r\n                // get list of objects\r\n                var objList = this.currentCanvas.getActiveObjects();\r\n                // if obj list is available\r\n                if (objList && objList.length) {\r\n                    // reset copied objects list\r\n                    this.copiedObjects = [];\r\n                    // reset cup objects list\r\n                    this.cutObjects = { objects: [], canvas: this.currentCanvas };\r\n                    // prepare param object to remove current selected objects\r\n                    var params_1 = { obj: null, properites: {}, crudServiceString: 'this.removeObjectService' };\r\n                    // traversal\r\n                    objList.filter(function (currObj) {\r\n                        _this_1.cutObjects.objects.push(currObj);\r\n                        params_1.obj = currObj;\r\n                        _this_1.objectCRUD(params_1);\r\n                    });\r\n                }\r\n                // after copied successfully\r\n                // set copy flag as false\r\n                this.keyMap[88] = false;\r\n            }\r\n            // ctrl+v\r\n            else if (this.keyMap[17] && this.keyMap[86]) {\r\n                // prevent default paste behaviour\r\n                event.preventDefault();\r\n                // for ctrl+c\r\n                if (this.copiedObjects && this.copiedObjects.length) {\r\n                    this.pasteCopiedObjects();\r\n                }\r\n                // for ctrl+x\r\n                else if (this.cutObjects && this.cutObjects.hasOwnProperty('objects') && this.cutObjects.hasOwnProperty('canvas') && this.cutObjects.objects.length) {\r\n                    this.pasteCutObjects();\r\n                }\r\n            }\r\n            // if any other key is been pressed,\r\n            // reset all flags to false\r\n        }\r\n        else {\r\n            this.resetKeyMap();\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    CanvasService.prototype.pasteCopiedObjects = function () {\r\n        var _this_1 = this;\r\n        // prepare params obj for object crud\r\n        var params = {\r\n            obj: null, properties: {}, crudServiceString: 'this.insertObjectService'\r\n        };\r\n        // flag number for position\r\n        var flagNumber = 0, preventObject;\r\n        // copied object traversal\r\n        this.copiedObjects.filter(function (copiedObj) {\r\n            // flag number incrementation\r\n            flagNumber += 5;\r\n            preventObject = false;\r\n            // check for text objects limit\r\n            if (copiedObj.tab && copiedObj.tab == 'text') {\r\n                var totalTextObjects = _this_1.getObjectTypeFromAllCanvas('tab', 'text');\r\n                totalTextObjects = (totalTextObjects) ? totalTextObjects : 0;\r\n                if (totalTextObjects >= _this_1.objectLimit.textLimitCounter) {\r\n                    _this_1.eventService.$pub('displayTextLimitError');\r\n                    preventObject = true;\r\n                }\r\n            }\r\n            // check for clipart upload limit\r\n            else if (copiedObj.tab && copiedObj.tab == 'clipart') {\r\n                var totalClipartObjects = _this_1.getObjectTypeFromAllCanvas('tab', 'clipart');\r\n                totalClipartObjects = (totalClipartObjects) ? totalClipartObjects : 0;\r\n                if (totalClipartObjects >= _this_1.objectLimit.clipartImageLimit) {\r\n                    _this_1.eventService.$pub('displayClipartLimitError');\r\n                    preventObject = true;\r\n                }\r\n            }\r\n            // check for custom image upload limit\r\n            else if (copiedObj.tab && copiedObj.tab == 'upload') {\r\n                var totalUploadedImages = _this_1.getObjectTypeFromAllCanvas('tab', 'upload');\r\n                totalUploadedImages = (totalUploadedImages) ? totalUploadedImages : 0;\r\n                if (totalUploadedImages >= _this_1.objectLimit.uploadImageLimit) {\r\n                    _this_1.eventService.$pub('displayUploadImageLimitError');\r\n                    preventObject = true;\r\n                }\r\n            }\r\n            // if object is allowed to be added\r\n            if (!preventObject) {\r\n                // object clone\r\n                // let tmpObj = fabric.util.object.clone(copiedObj);\r\n                copiedObj.clone(function (tmpObj) {\r\n                    // set position of cloned object\r\n                    tmpObj.set(\"top\", tmpObj.top + flagNumber);\r\n                    tmpObj.set(\"left\", tmpObj.left + flagNumber);\r\n                    // set cloned object to params obj\r\n                    params.obj = tmpObj;\r\n                    // copy custom object properites\r\n                    _this_1.objProperties.filter(function (customProperty) {\r\n                        if (customProperty != 'id') {\r\n                            params.properties[customProperty] = copiedObj[customProperty];\r\n                        }\r\n                    });\r\n                    // append this property which will prevent auto best fit\r\n                    params.properties = Object.assign(params.properties, { ignoreBestFit: true });\r\n                    // add object\r\n                    _this_1.objectCRUD(params);\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    CanvasService.prototype.pasteCutObjects = function (pasteToSameCanvas) {\r\n        var _this_1 = this;\r\n        if (pasteToSameCanvas === void 0) { pasteToSameCanvas = false; }\r\n        // prepare params obj for object crud\r\n        var params = {\r\n            obj: null, properties: {}, crudServiceString: 'this.insertObjectService', canvas: this.currentCanvas\r\n        };\r\n        // \r\n        if (pasteToSameCanvas) {\r\n            params.canvas = this.cutObjects.canvas;\r\n        }\r\n        // copied object traversal\r\n        this.cutObjects.objects.filter(function (copiedObj) {\r\n            // set cloned object to params obj\r\n            params.obj = copiedObj;\r\n            // copy custom object properites\r\n            _this_1.objProperties.filter(function (customProperty) {\r\n                params.properties[customProperty] = copiedObj[customProperty];\r\n            });\r\n            // append this property which will prevent auto best fit\r\n            params.properties = Object.assign(params.properties, { ignoreBestFit: true });\r\n            // add object\r\n            _this_1.objectCRUD(params);\r\n        });\r\n        // we will allow to move object only once\r\n        this.cutObjects = {};\r\n    };\r\n    /**\r\n     * Reset all flag values to false\r\n     */\r\n    CanvasService.prototype.resetKeyMap = function () {\r\n        for (var key in this.keyMap) {\r\n            this.keyMap[key] = false;\r\n        }\r\n    };\r\n    /**\r\n     * This function will prepare productimage object\r\n     * this object is used in getObjects function of current service\r\n     * all objects that matches any of the productimage properties, will be ignored\r\n     */\r\n    CanvasService.prototype.prepareObjsToIgnore = function () {\r\n        this.objsToIgnore = [\r\n            {\r\n                key: 'productimage',\r\n                value: true\r\n            }\r\n        ];\r\n    };\r\n    CanvasService.prototype.checkClasses = function (event) {\r\n        this.checkObjectSelection();\r\n        var toggleElementEvents = {\r\n            '.byi-products-inner,.product-tooltip': 'closeAllProducts',\r\n            '.byi-imagecolor-list .byic_color_action , .byi-imagecolor-list .byic-colors-select,.byie-custom-color': 'closeColorPicker',\r\n            '.byi-imagecolor-list .byic_color_action , .byi-imagecolor-list .byic-colors-select': 'closeImageEffectColorPicker',\r\n            '.byi-fonts': 'closeFontWrapper',\r\n            '.byi-layer': 'closeLayer',\r\n            '.byi-mob-output-action': 'closeHeaderIcon',\r\n            '.byi-product-attr': 'closeProductOptions',\r\n            '.byi-general-option-mob': 'closeSideBar',\r\n            '.cart-info, .byi-info-display': 'closePriceInfo',\r\n        };\r\n        var elements = [];\r\n        var outsideClickCounter = 0;\r\n        for (var elementClass in toggleElementEvents) {\r\n            var eventName = toggleElementEvents[elementClass];\r\n            elements = document.querySelectorAll(elementClass);\r\n            outsideClickCounter = 0;\r\n            for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\r\n                var element = elements_2[_i];\r\n                if (!element.contains(event.target)) {\r\n                    outsideClickCounter++;\r\n                }\r\n            }\r\n            if (outsideClickCounter == elements.length) {\r\n                this.eventService.$pub(eventName);\r\n            }\r\n        }\r\n        var selectClassList = event.target.classList;\r\n        for (var i = 0; i < selectClassList.length; i++) {\r\n            var className = selectClassList[i];\r\n            // To discard Active Object from Canvas\r\n            if (className == 'byi-svg-editor-box' || className == 'product-designer-main-content') {\r\n                this.discardActiveObjectAllCanvas();\r\n            }\r\n        }\r\n        elements = document.querySelectorAll('.nav-item:not(.isResponsiveTab)');\r\n        for (var _a = 0, elements_3 = elements; _a < elements_3.length; _a++) {\r\n            var element = elements_3[_a];\r\n            if (element.contains(event.target)) {\r\n                this.discardActiveObjectAllCanvas();\r\n                break;\r\n            }\r\n        }\r\n        elements = document.querySelectorAll('.byi-idea .byi-accordion-title');\r\n        for (var _b = 0, elements_4 = elements; _b < elements_4.length; _b++) {\r\n            var element = elements_4[_b];\r\n            if (element.contains(event.target)) {\r\n                this.discardActiveObjectAllCanvas();\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     this method will do CRUD operation like insert/remove/update based on crudService variable\r\n     * @param  params\r\n     * @return {[type]}        [description]\r\n     */\r\n    CanvasService.prototype.objectCRUD = function (params) {\r\n        var crudServiceString = params.hasOwnProperty('crudServiceString') ? params.crudServiceString : null;\r\n        params.isCenter = params.hasOwnProperty('isCenter') ? params.isCenter : false;\r\n        params.isHistory = params.hasOwnProperty('isHistory') ? params.isHistory : true;\r\n        params.isSvg = params.hasOwnProperty('isSvg') ? params.isSvg : false;\r\n        params.isObjectModify = params.hasOwnProperty('isObjectModify') ? params.isObjectModify : false;\r\n        params.service = this;\r\n        params.eventService = this.eventService;\r\n        params.canvas = params.hasOwnProperty('canvas') ? params.canvas : this.currentCanvas;\r\n        params.setActive = params.hasOwnProperty('setActive') ? params.setActive : true;\r\n        var crudService;\r\n        if (crudServiceString) {\r\n            crudService = eval(crudServiceString);\r\n        }\r\n        else {\r\n            crudService = params.crudService;\r\n        }\r\n        // This method initialise object properties\r\n        var cmd = new crudService.init(params);\r\n        // This method execute the current CRUD operation\r\n        cmd.exec();\r\n        // This method push the current service into history\r\n        if (params.isHistory) {\r\n            this.historyService.push(cmd);\r\n        }\r\n    };\r\n    /**\r\n     * Prepare and return property object for best fit opearation\r\n     *\r\n     * @param obj canvas object(if null then we will fetch current active object)\r\n     */\r\n    CanvasService.prototype.getBestFitProperties = function (obj) {\r\n        if (obj === void 0) { obj = null; }\r\n        // if no obj is provided, we will fetch current object\r\n        // this is set as default parameter because in case of insertCanvas, we need to specify the object\r\n        if (obj == null)\r\n            obj = this.getActiveObject();\r\n        // if no object is found, return from here\r\n        if (!obj)\r\n            return;\r\n        // variable declaration\r\n        var imageAspectRatio = obj.width / obj.height, canvas = this.currentCanvas, canvasAspectRatio = canvas.width / canvas.height, renderableHeight, renderableWidth, xStart, yStart, mainHeight = canvas.height - this.clipY[canvas.designarea_id], mainWidth = canvas.width - this.clipX[canvas.designarea_id], objWidth = obj.width, objHeight = obj.height;\r\n        // If image's aspect ratio is less than canvas's we fit on height\r\n        // and place the image centrally along width\r\n        if (imageAspectRatio < canvasAspectRatio) {\r\n            renderableHeight = mainHeight;\r\n            renderableWidth = objWidth * (renderableHeight / objHeight);\r\n            xStart = (mainWidth - renderableWidth) / 2;\r\n            yStart = 0;\r\n        }\r\n        // If image's aspect ratio is greater than canvas's we fit on width\r\n        // and place the image centrally along height\r\n        else if (imageAspectRatio > canvasAspectRatio) {\r\n            renderableWidth = mainWidth;\r\n            renderableHeight = objHeight * (renderableWidth / objWidth);\r\n            xStart = 0;\r\n            yStart = (mainHeight - renderableHeight) / 2;\r\n        }\r\n        // Happy path - keep aspect ratio\r\n        else {\r\n            renderableHeight = mainHeight;\r\n            renderableWidth = mainWidth;\r\n            xStart = 0;\r\n            yStart = 0;\r\n        }\r\n        // return in object format\r\n        return { left: xStart, top: yStart, width: renderableWidth, height: renderableHeight };\r\n    };\r\n    /**\r\n     * Filter best fit object based on object type\r\n     *\r\n     * @param bestFitProperties best fit object\r\n     * @param obj canvas object\r\n     */\r\n    CanvasService.prototype.filterBestFitProperties = function (bestFitProperties, obj) {\r\n        if (obj === void 0) { obj = null; }\r\n        // if no object found, fetch current active object\r\n        if (obj == null)\r\n            obj = this.getActiveObject();\r\n        // store objType to local variable\r\n        var objType = obj.objType;\r\n        // Check object type and perform operation accordingly\r\n        switch (objType) {\r\n            // in case of image, we will scale to best fit and remove height and width from property object\r\n            case 'image':\r\n                obj.scaleToHeight(bestFitProperties.height);\r\n                obj.scaleToWidth(bestFitProperties.width);\r\n                delete bestFitProperties.height;\r\n                delete bestFitProperties.width;\r\n                break;\r\n            // in case of text, we will calculate scaleX and scaleY and remove top and left from property object\r\n            case 'text':\r\n            default:\r\n                obj.textAlign = 'center';\r\n                obj = Object.assign(obj, {\r\n                    scaleX: (bestFitProperties.width / obj.width),\r\n                    scaleY: (bestFitProperties.height / obj.height)\r\n                });\r\n                bestFitProperties = obj;\r\n                break;\r\n        }\r\n        // finally return the property object\r\n        return bestFitProperties;\r\n    };\r\n    /**\r\n     * this function checks whether any object is selected on current canvas, if yes return the object, false otherwise\r\n     */\r\n    CanvasService.prototype.getActiveObject = function () {\r\n        // if no canvas is selected currently, return false\r\n        if (!this.currentCanvas)\r\n            return false;\r\n        // store current active obj to local var\r\n        var obj = this.currentCanvas.getActiveObject();\r\n        // check whether it's empty, if so replace it with false boolean\r\n        obj = (obj) ? obj : false;\r\n        // return above local variable\r\n        return obj;\r\n    };\r\n    /**\r\n     * Get Active object from all present canvases\r\n     * On load template selected canvas and selected object may not be same\r\n     */\r\n    CanvasService.prototype.getActiveObjectFromAllCanvases = function () {\r\n        // if no canvases present, return false\r\n        if (!this.containerCanvases || !Object.keys(this.containerCanvases).length)\r\n            return false;\r\n        // variable declaration\r\n        var allCanvases = this.containerCanvases, currCanvas, selectedObj;\r\n        // traverse through each canvas\r\n        for (var key in allCanvases) {\r\n            // get canvas instance\r\n            currCanvas = allCanvases[key];\r\n            // get active object of current canvas instance\r\n            selectedObj = currCanvas.getActiveObject();\r\n            // if found, break the loop\r\n            if (selectedObj)\r\n                break;\r\n        }\r\n        // is object is found, return the same, return false otherwise\r\n        return (selectedObj) ? selectedObj : false;\r\n    };\r\n    /**\r\n     * this method will set common usefull events for specified canvas\r\n     *\r\n     * @param canvas canvas obj\r\n     */\r\n    CanvasService.prototype.setEventsForCanvas = function (canvas) {\r\n        var _this_1 = this;\r\n        canvas.on('object:added', function (event) {\r\n            var obj = (event && event.target) ? event.target : false;\r\n            if (obj && obj.hasOwnProperty('ultimatelock')) {\r\n                obj = _this_1.applyUltimateLock(obj);\r\n                _this_1.currentCanvas.renderAll();\r\n            }\r\n        });\r\n        canvas.on('object:modified', function (event) {\r\n            _this_1.mod++;\r\n            _this_1.eventService.$pub('canvasObjectModified', event.target);\r\n        });\r\n        canvas.on('object:moving', function (event) {\r\n            _this_1.eventService.$pub('canvasObjectMoving', event.target);\r\n        });\r\n        canvas.on('object:scaling', function (event) {\r\n            _this_1.eventService.$pub('canvasObjectScaling', event.target);\r\n        });\r\n        canvas.on('object:scaled', function (event) {\r\n            _this_1.eventService.$pub('canvasObjectScaled', event.target);\r\n        });\r\n        canvas.on('before:selection:cleared', function (event) {\r\n            _this_1.eventService.$pub('objectBeforeSelectionCleared', event.target);\r\n        });\r\n        canvas.on('selection:cleared', function (event) {\r\n            _this_1.usedColorsCounter();\r\n            _this_1.eventService.$pub('objectSelectionCleared', event.target);\r\n        });\r\n        canvas.on('selection:created', function (event) {\r\n            _this_1.checkObjectSelection();\r\n            _this_1.usedColorsCounter();\r\n            _this_1.eventService.$pub('objectSelectionCreated', event.target);\r\n        });\r\n        canvas.on('selection:updated', function (event) {\r\n            _this_1.usedColorsCounter();\r\n            _this_1.eventService.$pub('objectSelectionUpdated', event.target);\r\n        });\r\n        this.eventService.$sub('objectUpdated', function () {\r\n            _this_1.usedColorsCounter();\r\n        });\r\n        this.eventService.$sub('canvasBackgroundChange', function () {\r\n            _this_1.usedColorsCounter();\r\n        });\r\n        this.eventService.$sub('backgroundPatternsApplied', function () {\r\n            _this_1.usedColorsCounter();\r\n        });\r\n        canvas.on(\"after:render\", function (event) {\r\n            _this_1.eventService.$pub('canvasAfterRender', canvas);\r\n        });\r\n    };\r\n    CanvasService.prototype.checkObjectSelection = function () {\r\n        if (!this.currentCanvas)\r\n            return;\r\n        var selectedObj = this.currentCanvas.getActiveObjects(), objToSelect = [], checkIfUltimateLock;\r\n        checkIfUltimateLock = selectedObj.find(function (obj) { return (obj.ultimatelock == true); });\r\n        if (checkIfUltimateLock && selectedObj.length > 1) {\r\n            selectedObj.filter(function (currObj) {\r\n                if (!currObj.ultimatelock) {\r\n                    objToSelect.push(currObj);\r\n                }\r\n            });\r\n            if (objToSelect.length > 0) {\r\n                var canvas = this.currentCanvas;\r\n                var temp_1 = [];\r\n                objToSelect.forEach(function (obj) {\r\n                    if (obj.ultimatelock != true && obj.selectable == true) {\r\n                        temp_1.push(obj);\r\n                    }\r\n                });\r\n                canvas.discardActiveObject();\r\n                var sel = new fabric__WEBPACK_IMPORTED_MODULE_10__[\"fabric\"].ActiveSelection(temp_1, {\r\n                    canvas: canvas,\r\n                });\r\n                canvas.setActiveObject(sel);\r\n                canvas.requestRenderAll();\r\n            }\r\n            else {\r\n                this.deselectAllObjects();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Deselect all objects on canvas\r\n     */\r\n    CanvasService.prototype.deselectAllObjects = function () {\r\n        if (!this.currentCanvas) {\r\n            return;\r\n        }\r\n        this.currentCanvas.discardActiveObject().renderAll();\r\n    };\r\n    /**\r\n     * [Fetches all objects of all container canvases]\r\n     */\r\n    CanvasService.prototype.fetchAllObjects = function () {\r\n        var index = 0;\r\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var canvas = this.containerCanvases[key];\r\n            this.allObjects[index] = [];\r\n            this.allObjects[index] = this.getObjects(canvas);\r\n            var background = null;\r\n            if (canvas.backgroundColor) {\r\n                background = { key: 'backgroundColor', val: canvas.backgroundColor };\r\n            }\r\n            else if (canvas.backgroundImage) {\r\n                background = { key: 'backgroundImage', val: canvas.backgroundImage };\r\n            }\r\n            if (background != null)\r\n                this.allObjects[index] = Object.assign(this.allObjects[index], { background: background });\r\n            index++;\r\n        }\r\n    };\r\n    /**\r\n     * [It will move all objects from one canvas to another if product options are changed, Add all fetched objects to current canvas]\r\n     * @param canvas [current canvas]\r\n     */\r\n    CanvasService.prototype.moveObjectsFromCanvasToCanvas = function (canvas) {\r\n        var _this_1 = this;\r\n        if (Object.keys(this.allObjects).length > 0) {\r\n            var objects = this.allObjects[canvas.designarea_id];\r\n            for (var index in objects) {\r\n                var obj = objects[index];\r\n                this.currentCanvas = canvas;\r\n                var params = {\r\n                    obj: obj,\r\n                    properties: {},\r\n                    crudServiceString: 'this.insertObjectService',\r\n                    isCenter: false,\r\n                    isHistory: false,\r\n                };\r\n                this.objectCRUD(params);\r\n            }\r\n            this.allObjects[canvas.designarea_id] = {};\r\n        }\r\n        if (this.oldCanvasBackground && Object.keys(this.oldCanvasBackground).length > 0) {\r\n            var properties = {}, params_2 = {\r\n                crudServiceString: 'this.canvasUpdateService',\r\n                isHistory: true\r\n            };\r\n            properties[this.oldCanvasBackground.key] = this.oldCanvasBackground.val;\r\n            params_2 = Object.assign(params_2, { properties: properties });\r\n            setTimeout(function () {\r\n                _this_1.objectCRUD(params_2);\r\n            }, 100);\r\n        }\r\n    };\r\n    CanvasService.prototype.loadThisDesign = function (designObj) {\r\n        var _this_1 = this;\r\n        var allCanvases = this.containerCanvases, index = 0, params = {\r\n            obj: null, properties: {}, canvas: {}, crudServiceString: 'this.insertObjectService', isCenter: false,\r\n            isHistory: false\r\n        }, obj = null;\r\n        for (var key in allCanvases) {\r\n            if (designObj[index]) {\r\n                obj = designObj[index];\r\n                params.properties = {};\r\n                params.crudServiceString = 'this.insertObjectService';\r\n                params.canvas = allCanvases[key];\r\n                obj.filter(function (o) {\r\n                    params.obj = o;\r\n                    _this_1.objectCRUD(params);\r\n                });\r\n                if (obj.hasOwnProperty('background')) {\r\n                    params.properties[obj.background.key] = obj.background.val;\r\n                    params.crudServiceString = 'this.canvasUpdateService';\r\n                    this.objectCRUD(params);\r\n                }\r\n            }\r\n            index++;\r\n        }\r\n    };\r\n    /**\r\n     * [Resize all objects of canvas based on scaleFactor]\r\n     * @param {[type]} canvas [current canvas]\r\n     */\r\n    CanvasService.prototype.resizeCanvasObjects = function (canvas) {\r\n        var objectsLen = canvas.getObjects().length;\r\n        if (objectsLen > 0) {\r\n            for (var i = 0; i < objectsLen; i++) {\r\n                var obj = this.resizeObjectAsPerScale(canvas.getObjects()[i]);\r\n                obj.setCoords();\r\n            }\r\n        }\r\n    };\r\n    CanvasService.prototype.getActiveObjectValue = function (objType, objKeyName) {\r\n        var value = false, obj = this.getActiveObject();\r\n        if (obj && obj.type == objType && obj[objKeyName]) {\r\n            value = obj[objKeyName];\r\n        }\r\n        return value;\r\n    };\r\n    CanvasService.prototype.getObject = function (objtype) {\r\n        var objCount = 0;\r\n        var allObj = this.getObjects();\r\n        allObj.filter(function (obj) {\r\n            if (obj.type == objtype)\r\n                objCount++;\r\n        });\r\n        return objCount;\r\n    };\r\n    CanvasService.prototype.getObjectTypeFromAllCanvas = function (key, value) {\r\n        var objCount = 0;\r\n        var allCanvas = this.containerCanvases;\r\n        for (var canvasKey in allCanvas) {\r\n            var allObj = this.getObjects(allCanvas[canvasKey]);\r\n            allObj.filter(function (obj) {\r\n                if (obj.hasOwnProperty(key) && obj[key] && obj[key] == value)\r\n                    objCount++;\r\n            });\r\n        }\r\n        return objCount;\r\n    };\r\n    CanvasService.prototype.calculateTax = function (tax, price, includeTax) {\r\n        return parseFloat(price);\r\n    };\r\n    /* for Price */\r\n    CanvasService.prototype.fetchAllObjectPrices = function (priceObj) {\r\n        var _this_1 = this;\r\n        var totalTextPrice = 0;\r\n        var totalClipartImgPrice = 0;\r\n        var totalUploadImgPrice = 0;\r\n        var totalTextExcluTaxPrice = 0;\r\n        var totalClipartImgExcluTaxPrice = 0;\r\n        var totalUploadImgExcluTaxPrice = 0;\r\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var canvas = this.containerCanvases[key];\r\n            this.getObjects(canvas).filter(function (obj) {\r\n                if (obj.type == 'text') {\r\n                    totalTextPrice += _this_1.calculateTax(priceObj.tax, priceObj.textPrice, priceObj.addTax);\r\n                    totalTextExcluTaxPrice += priceObj.textPrice;\r\n                }\r\n                if (obj.tab == 'clipart') {\r\n                    var clipartPrice = (obj.price != \"\" && obj.price != null && obj.price > 0) ? parseFloat(obj.price) : parseFloat(priceObj.addImagePrice);\r\n                    totalClipartImgPrice += _this_1.calculateTax(priceObj.tax, clipartPrice, priceObj.addTax);\r\n                    totalClipartImgExcluTaxPrice += clipartPrice;\r\n                }\r\n                if (obj.tab == 'upload') {\r\n                    var UploadImgPrice = (parseFloat(priceObj.uploadPrice) + parseFloat(priceObj.addImagePrice));\r\n                    totalUploadImgPrice += _this_1.calculateTax(priceObj.tax, UploadImgPrice, priceObj.addTax);\r\n                    totalUploadImgExcluTaxPrice += UploadImgPrice;\r\n                }\r\n            });\r\n        }\r\n        return {\r\n            totalTextPrice: totalTextPrice,\r\n            totalClipartImgPrice: totalClipartImgPrice,\r\n            totalUploadImgPrice: totalUploadImgPrice,\r\n            totalTextExcluTaxPrice: totalTextExcluTaxPrice,\r\n            totalClipartImgExcluTaxPrice: totalClipartImgExcluTaxPrice,\r\n            totalUploadImgExcluTaxPrice: totalUploadImgExcluTaxPrice\r\n        };\r\n    };\r\n    CanvasService.prototype.initZoom = function () {\r\n        if (window.innerWidth > 1024 && window.innerHeight < 768 && this.zoom == 0) {\r\n            this.zoom = -0.4;\r\n        }\r\n        if (window.innerWidth > 1024 && window.innerHeight > 900 && this.zoom == 0) {\r\n            this.zoom = 0.2;\r\n        }\r\n    };\r\n    CanvasService.prototype.initScaleFactor = function () {\r\n        if (window.innerWidth < 640) {\r\n            if (window.innerWidth < 640 && window.innerWidth >= 480) {\r\n                this.scaleFactor = 1.4;\r\n            }\r\n            if (window.innerWidth < 480 && window.innerWidth >= 320) {\r\n                this.scaleFactor = 1.8;\r\n            }\r\n            if (window.innerWidth < 320) {\r\n                this.scaleFactor = 3.4;\r\n            }\r\n        }\r\n        else {\r\n            this.scaleFactor = 1;\r\n        }\r\n        this.scaleFactor = this.scaleFactor - this.zoom;\r\n        return this.scaleFactor;\r\n    };\r\n    /**\r\n     * Return data url of canvases of mentioned image id\r\n     * @param  currentImageId [Image id of canvas]\r\n     */\r\n    CanvasService.prototype.getCanvasDataUrl = function (currentImageId) {\r\n        var images = {};\r\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var canvas = this.containerCanvases[key];\r\n            if (this.hasCanvasObjectOrBackground(canvas)) {\r\n                if (canvas.image_id == currentImageId) {\r\n                    var image = canvas.toDataURL({\r\n                        format: \"png\",\r\n                        multiplier: this.scaleFactor,\r\n                        quality: 1.0\r\n                    });\r\n                    image = image.substr(image.indexOf(',') + 1).toString();\r\n                    images[key] = image;\r\n                }\r\n            }\r\n        }\r\n        return images;\r\n    };\r\n    CanvasService.prototype.getCanvasToJson = function () {\r\n        var containerCanvasesJSON = {};\r\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var canvas = this.containerCanvases[key];\r\n            if (this.hasCanvasObjectOrBackground(canvas)) {\r\n                var canvasJson = canvas.toJSON(this.objProperties);\r\n                containerCanvasesJSON[key] = canvasJson;\r\n            }\r\n        }\r\n        return containerCanvasesJSON;\r\n    };\r\n    /**\r\n     * Load design based on json\r\n     */\r\n    CanvasService.prototype.loadDesign = function (designData) {\r\n        var jsonObjects = JSON.parse(designData.json_objects);\r\n        var containerCanvasesKeys = Object.keys(this.containerCanvases);\r\n        var containerCanvasesKeysFlag = 0;\r\n        var jsonObjectsFlag = 0;\r\n        var data = {\r\n            containerCanvasesKeys: containerCanvasesKeys,\r\n            containerCanvasesKeysFlag: containerCanvasesKeysFlag,\r\n            jsonObjectsFlag: jsonObjectsFlag,\r\n            jsonObjects: jsonObjects,\r\n            productId: designData.associated_product_id,\r\n            currentProductId: designData.currentProductId,\r\n        };\r\n        this.loadSingleCanvasDesign(data);\r\n    };\r\n    /**\r\n     * It will add object in current canvas and will call next canvas load\r\n     */\r\n    CanvasService.prototype.loadSingleCanvasDesign = function (data) {\r\n        var self = this;\r\n        var imageDesignId = data.containerCanvasesKeys[data.containerCanvasesKeysFlag];\r\n        if (imageDesignId == undefined) {\r\n            return;\r\n        }\r\n        var canvas = this.containerCanvases[imageDesignId];\r\n        var params = {\r\n            canvas: canvas\r\n        };\r\n        var currentJsonObjects = data.jsonObjects[imageDesignId];\r\n        /**\r\n         * If Product is different then fetch object from json object and add to canvas\r\n         */\r\n        if (currentJsonObjects == undefined) {\r\n            if (data.productId != data.currentProductId) {\r\n                currentJsonObjects = data.jsonObjects[Object.keys(data.jsonObjects)[data.containerCanvasesKeysFlag + data.jsonObjectsFlag]];\r\n                if (currentJsonObjects == undefined) {\r\n                    return;\r\n                }\r\n                data.differentProduct = true;\r\n                if (currentJsonObjects.objects.length == 0) {\r\n                    data.jsonObjectsFlag++;\r\n                    self.loadSingleCanvasDesign(data);\r\n                }\r\n                params.differentProduct = data.differentProduct ? data.differentProduct : false;\r\n            }\r\n            else {\r\n                data.containerCanvasesKeysFlag++;\r\n                self.loadSingleCanvasDesign(data);\r\n            }\r\n        }\r\n        if (currentJsonObjects == undefined) {\r\n            return;\r\n        }\r\n        if (currentJsonObjects && currentJsonObjects.background) {\r\n            if (typeof currentJsonObjects.background == 'object') {\r\n                currentJsonObjects.background.canvas = params.canvas;\r\n                this.eventService.$pub('loadBackgroundPattern', currentJsonObjects.background);\r\n            }\r\n            else {\r\n                canvas.setBackgroundColor(currentJsonObjects.background);\r\n            }\r\n            canvas.renderAll();\r\n        }\r\n        fabric__WEBPACK_IMPORTED_MODULE_10__[\"fabric\"].util.enlivenObjects(currentJsonObjects.objects, function (objectData) {\r\n            var totalObjects = objectData.length;\r\n            var count = 1;\r\n            if (objectData.length > 0) {\r\n                objectData.forEach(function (obj) {\r\n                    params.obj = obj;\r\n                    self.addObjectAsPerScale(params);\r\n                    if (totalObjects == count) {\r\n                        data.containerCanvasesKeysFlag++;\r\n                        self.loadSingleCanvasDesign(data);\r\n                    }\r\n                    count++;\r\n                });\r\n            }\r\n            else {\r\n                data.containerCanvasesKeysFlag++;\r\n                self.loadSingleCanvasDesign(data);\r\n            }\r\n        });\r\n    };\r\n    CanvasService.prototype.addSvgImage = function (obj, properties, isCenter) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var self;\r\n            var _this_1 = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                self = this;\r\n                return [2 /*return*/, new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this_1, void 0, void 0, function () {\r\n                        var _this_1 = this;\r\n                        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                            new fabric__WEBPACK_IMPORTED_MODULE_10__[\"fabric\"].loadSVGFromURL(obj.src, function (svgImgObject, options) {\r\n                                var imgObj = new fabric__WEBPACK_IMPORTED_MODULE_10__[\"fabric\"].Group(svgImgObject);\r\n                                imgObj['src'] = obj.src;\r\n                                var oldFill = [];\r\n                                //get style of orignal object\r\n                                obj._objects.forEach(function (data) {\r\n                                    oldFill.push(data.fill);\r\n                                });\r\n                                //add style to new object\r\n                                imgObj._objects.forEach(function (data, index) {\r\n                                    data.set({ fill: oldFill[index] });\r\n                                });\r\n                                _this_1.objProperties.filter(function (customProperty) {\r\n                                    properties[customProperty] = obj[customProperty];\r\n                                });\r\n                                var params = {\r\n                                    obj: imgObj,\r\n                                    canvas: properties.canvas,\r\n                                    properties: properties,\r\n                                    crudServiceString: 'this.insertObjectService',\r\n                                    isCenter: isCenter,\r\n                                    isHistory: false,\r\n                                };\r\n                                self.objectCRUD(params);\r\n                                /*this.cdr.detectChanges();*/\r\n                                resolve();\r\n                            });\r\n                            return [2 /*return*/];\r\n                        });\r\n                    }); })];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * It will add object by load\r\n     * @param objectData [canvas and object details]\r\n     */\r\n    CanvasService.prototype.addObjectAsPerScale = function (objectData) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var _this_1 = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                return [2 /*return*/, new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this_1, void 0, void 0, function () {\r\n                        var canvas, obj, data, canvasData, params, canvasData;\r\n                        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                            switch (_a.label) {\r\n                                case 0:\r\n                                    canvas = objectData.canvas;\r\n                                    obj = this.resizeObjectAsPerScale(objectData.obj);\r\n                                    /**\r\n                                  * If different product then change left top and scaleX scaleY with current canvas\r\n                                  */\r\n                                    if (objectData.differentProduct) {\r\n                                        obj = this.resizeObjectAsPerCanvas(obj, canvas);\r\n                                    }\r\n                                    if (!(obj.type == \"group\")) return [3 /*break*/, 2];\r\n                                    data = obj.toJSON();\r\n                                    delete data.objects;\r\n                                    data.canvas = canvas;\r\n                                    return [4 /*yield*/, this.addSvgImage(obj, data, false)];\r\n                                case 1:\r\n                                    _a.sent();\r\n                                    canvasData = { image_id: canvas.image_id, design_area_id: canvas.designarea_id };\r\n                                    this.eventService.$pub('imageSideChangeBefore', canvasData);\r\n                                    //}\r\n                                    resolve(true);\r\n                                    return [3 /*break*/, 3];\r\n                                case 2:\r\n                                    params = {\r\n                                        obj: obj,\r\n                                        canvas: canvas,\r\n                                        properties: {},\r\n                                        crudServiceString: 'this.insertObjectService',\r\n                                        isHistory: false,\r\n                                        isCenter: false\r\n                                    };\r\n                                    this.objectCRUD(params);\r\n                                    canvasData = { image_id: canvas.image_id, design_area_id: canvas.designarea_id };\r\n                                    this.eventService.$pub('imageSideChangeBefore', canvasData);\r\n                                    // }\r\n                                    resolve(true);\r\n                                    _a.label = 3;\r\n                                case 3: return [2 /*return*/];\r\n                            }\r\n                        });\r\n                    }); })];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n    * It will resize object as per current canvas\r\n    */\r\n    CanvasService.prototype.resizeObjectAsPerCanvas = function (obj, canvas) {\r\n        obj.left = (canvas.width * obj.left) / obj.canvasWidth;\r\n        obj.top = (canvas.height * obj.top) / obj.canvasHeight;\r\n        obj.scaleX = (canvas.width * obj.scaleX) / obj.canvasWidth;\r\n        obj.scaleY = (canvas.height * obj.scaleY) / obj.canvasHeight;\r\n        return obj;\r\n    };\r\n    /**\r\n     * It will resize object as per current scaleFactor\r\n     */\r\n    CanvasService.prototype.resizeObjectAsPerScale = function (obj) {\r\n        obj.top = (obj.scaleFactor * obj.top) / this.scaleFactor;\r\n        obj.left = (obj.scaleFactor * obj.left) / this.scaleFactor;\r\n        obj.scaleX = (obj.scaleFactor * obj.scaleX) / this.scaleFactor;\r\n        obj.scaleY = (obj.scaleFactor * obj.scaleY) / this.scaleFactor;\r\n        obj.scaleFactor = this.scaleFactor;\r\n        return obj;\r\n    };\r\n    /**\r\n     * It discard all active objects from canvas\r\n     */\r\n    CanvasService.prototype.discardActiveObjectAllCanvas = function () {\r\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var canvas = this.containerCanvases[key];\r\n            canvas.discardActiveObject().renderAll();\r\n        }\r\n    };\r\n    CanvasService.prototype.deleteThisObject = function (obj) {\r\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var canvas = this.containerCanvases[key];\r\n            canvas.remove(obj).renderAll();\r\n        }\r\n    };\r\n    // It will remove all objects from canvas\r\n    CanvasService.prototype.clearCanvas = function (c) {\r\n        if (c === void 0) { c = null; }\r\n        if (c) {\r\n            var objects = this.getObjects(c);\r\n            if (objects.length > 0) {\r\n                for (var _i = 0, objects_1 = objects; _i < objects_1.length; _i++) {\r\n                    var obj = objects_1[_i];\r\n                    var params_3 = {\r\n                        obj: obj,\r\n                        canvas: c,\r\n                        properties: null,\r\n                        crudServiceString: 'this.removeObjectService',\r\n                        isHistory: false,\r\n                        removeUltimateObj: true\r\n                    };\r\n                    this.objectCRUD(params_3);\r\n                }\r\n            }\r\n            var params = {\r\n                properties: {\r\n                    backgroundColor: null\r\n                },\r\n                crudServiceString: 'this.canvasUpdateService',\r\n                isHistory: false,\r\n                canvas: c,\r\n            };\r\n            this.objectCRUD(params);\r\n            this.usedColorsCounter();\r\n        }\r\n        else {\r\n            for (var _a = 0, _b = Object.keys(this.containerCanvases); _a < _b.length; _a++) {\r\n                var key = _b[_a];\r\n                var canvas = this.containerCanvases[key];\r\n                var objects = this.getObjects(canvas);\r\n                if (objects.length > 0) {\r\n                    for (var _c = 0, objects_2 = objects; _c < objects_2.length; _c++) {\r\n                        var obj = objects_2[_c];\r\n                        var params_4 = {\r\n                            obj: obj,\r\n                            canvas: canvas,\r\n                            properties: null,\r\n                            crudServiceString: 'this.removeObjectService',\r\n                            isHistory: false,\r\n                            removeUltimateObj: true\r\n                        };\r\n                        this.objectCRUD(params_4);\r\n                    }\r\n                }\r\n                var params = {\r\n                    properties: {\r\n                        backgroundColor: null\r\n                    },\r\n                    crudServiceString: 'this.canvasUpdateService',\r\n                    isHistory: false,\r\n                    canvas: canvas\r\n                };\r\n                this.objectCRUD(params);\r\n                this.usedColorsCounter();\r\n                canvas.renderAll();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * This method clears all the history\r\n     */\r\n    CanvasService.prototype.clearHistory = function () {\r\n        this.historyService.clear();\r\n    };\r\n    /**\r\n    Get Object Type\r\n    **/\r\n    CanvasService.prototype.getObjectType = function (obj, type) {\r\n        var response = false;\r\n        if (obj._objects == undefined) {\r\n            response = (obj.objType == type) ? true : false;\r\n        }\r\n        else {\r\n            var stop_1 = true;\r\n            obj._objects.forEach(function (obj) {\r\n                if (obj.objType == type && stop_1) {\r\n                    response = true;\r\n                    stop_1 = false;\r\n                }\r\n            });\r\n        }\r\n        return response;\r\n    };\r\n    /**\r\n    * fetch data URLs of single canvase\r\n    */\r\n    CanvasService.prototype.fetchSingleCanvasDataURL = function (data) {\r\n        var canvasDataUrls = {};\r\n        var response = {};\r\n        if (data.containerCanvasesKeys[data.containerCanvasesKeysFlag]) {\r\n            var imageDesignId = data.containerCanvasesKeys[data.containerCanvasesKeysFlag];\r\n            var canvas = this.containerCanvases[imageDesignId];\r\n            var canvasDataUrl = {};\r\n            if (this.hasCanvasObjectOrBackground(canvas)) {\r\n                this.setOpacity(canvas, 0);\r\n                var canvasDataUrl_1 = canvas.toDataURL({\r\n                    format: \"png\",\r\n                    multiplier: this.fetchOutPutScaleFactor(canvas),\r\n                    quality: 1.0\r\n                });\r\n                canvasDataUrl_1 = canvasDataUrl_1.substr(canvasDataUrl_1.indexOf(',') + 1).toString();\r\n                canvasDataUrls[imageDesignId] = canvasDataUrl_1;\r\n                this.setOpacity(canvas, 1);\r\n            }\r\n            response.status = 'pending';\r\n            response.canvasDataUrls = canvasDataUrls;\r\n        }\r\n        else {\r\n            response.status = 'completed';\r\n        }\r\n        return response;\r\n    };\r\n    CanvasService.prototype.setOpacity = function (canvas, opacity) {\r\n        for (var _i = 0, _a = canvas.getObjects(); _i < _a.length; _i++) {\r\n            var obj = _a[_i];\r\n            if (obj.productimage == true) {\r\n                obj.set({\r\n                    opacity: opacity\r\n                });\r\n            }\r\n        }\r\n        canvas.renderAll();\r\n    };\r\n    /**\r\n     * Return multiplier of canvas\r\n     */\r\n    CanvasService.prototype.fetchOutPutScaleFactor = function (canvas) {\r\n        var multiplier;\r\n        if (canvas.size.origWidth > canvas.size.origHeight) {\r\n            var actiualCanvasWidth = (canvas.size.origWidth * canvas.width) / (canvas.size.toolWidth / this.scaleFactor);\r\n            multiplier = actiualCanvasWidth / canvas.width;\r\n        }\r\n        else {\r\n            var actiualCanvasHeight = (canvas.size.origHeight * canvas.height) / (canvas.size.toolHeight / this.scaleFactor);\r\n            multiplier = actiualCanvasHeight / canvas.height;\r\n        }\r\n        return multiplier;\r\n    };\r\n    /**\r\n     * This check if canvas has objects or background\r\n     */\r\n    CanvasService.prototype.hasCanvasObjectOrBackground = function (canvas) {\r\n        var hasObjects = this.getObjects(canvas).length > 0;\r\n        var hasBackground = canvas.backgroundColor || canvas.backgroundImage;\r\n        return hasObjects || hasBackground;\r\n    };\r\n    CanvasService.prototype.hasCanvasObjectOrBackgroundAll = function () {\r\n        var allcanvas = Object.values(this.containerCanvases), totalCanvases = allcanvas.length, i = 0, hasObjects = false, hasBackground = false;\r\n        for (; i < totalCanvases && !hasObjects && !hasBackground; i++) {\r\n            hasObjects = allcanvas[i].getObjects().length > 0;\r\n            hasBackground = allcanvas[i].backgroundColor || allcanvas[i].backgroundImage;\r\n        }\r\n        return hasObjects || hasBackground;\r\n    };\r\n    CanvasService.prototype.hasAnyCanvasDesign = function () {\r\n        var response = false;\r\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var canvas = this.containerCanvases[key];\r\n            if (this.hasCanvasObjectOrBackground(canvas)) {\r\n                response = true;\r\n            }\r\n        }\r\n        return response;\r\n    };\r\n    CanvasService.prototype.Flip = function (alignment) {\r\n        var _this_1 = this;\r\n        var canvas = this.currentCanvas;\r\n        var selectedObjs = canvas.getActiveObjects();\r\n        if (!selectedObjs || !selectedObjs.length)\r\n            return;\r\n        selectedObjs.filter(function (obj) {\r\n            var flipValue;\r\n            var properties = {};\r\n            if (obj) {\r\n                if (alignment == \"horizontal\") {\r\n                    flipValue = (obj.flipX == false) ? true : false;\r\n                    properties = { flipX: flipValue };\r\n                }\r\n                else {\r\n                    flipValue = (obj.flipY == false) ? true : false;\r\n                    properties = { flipY: flipValue };\r\n                }\r\n                var params = {\r\n                    obj: obj,\r\n                    properties: properties,\r\n                    crudServiceString: 'this.updateObjectService',\r\n                };\r\n                _this_1.objectCRUD(params);\r\n            }\r\n        });\r\n        this.eventService.$pub('selectThisObjects', selectedObjs);\r\n    };\r\n    CanvasService.prototype.ObjectLayer = function (option, object) {\r\n        if (object === void 0) { object = {}; }\r\n        var canvas = this.currentCanvas, totalObjects = Object.keys(object).length, selectedObj = (totalObjects === 0) ? canvas.getActiveObject() : object, properties = { option: option };\r\n        var params = {\r\n            obj: selectedObj,\r\n            properties: properties,\r\n            crudServiceString: 'this.rightPanelUpdateService'\r\n        };\r\n        this.objectCRUD(params);\r\n    };\r\n    CanvasService.prototype.checkSelectable = function (obj) {\r\n        return (obj.selectable) ? true : false;\r\n    };\r\n    CanvasService.prototype.deleteObject = function (object) {\r\n        if (object === void 0) { object = {}; }\r\n        var activeObjs = this.currentCanvas.getActiveObjects();\r\n        var removeObjects = (Object.keys(object).length === 0) ? activeObjs : object;\r\n        var selectable = true;\r\n        if (activeObjs.length == 0 && this.checkSelectable(removeObjects) == false) {\r\n            selectable = false;\r\n        }\r\n        if (selectable) {\r\n            var params = {\r\n                obj: removeObjects,\r\n                properties: null,\r\n                crudServiceString: 'this.removeObjectService',\r\n            };\r\n            this.objectCRUD(params);\r\n            this.currentCanvas.discardActiveObject();\r\n            this.currentCanvas.requestRenderAll();\r\n        }\r\n    };\r\n    CanvasService.prototype.calculateLowResolutionWarning = function () {\r\n        var lowResolutionObjects = 0;\r\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var canvas = this.containerCanvases[key];\r\n            for (var _b = 0, _c = this.getObjects(canvas); _b < _c.length; _b++) {\r\n                var obj = _c[_b];\r\n                if (obj.type == \"image\") {\r\n                    var desiredWidth = (canvas.size.origWidth * obj.scaleX * obj.width) / canvas.size.toolWidth;\r\n                    if (desiredWidth > obj.width) {\r\n                        lowResolutionObjects++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (lowResolutionObjects != 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CanvasService.prototype.getObjectCount = function (tab) {\r\n        var totalCount = 0;\r\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var canvas = this.containerCanvases[key];\r\n            if (canvas != undefined) {\r\n                var getObjs = this.getObjects(canvas);\r\n                getObjs.filter(function (object) {\r\n                    if (object.tab == tab) {\r\n                        totalCount++;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        return totalCount;\r\n    };\r\n    CanvasService.prototype.usedColorsCounter = function () {\r\n        var _this_1 = this;\r\n        this.usedColorArr = [];\r\n        var canvasKeys = Object.keys(this.containerCanvases), canvasObjects;\r\n        var backgroundPatterColors = 0;\r\n        for (var _i = 0, canvasKeys_1 = canvasKeys; _i < canvasKeys_1.length; _i++) {\r\n            var key = canvasKeys_1[_i];\r\n            canvasObjects = this.getObjects(this.containerCanvases[key]);\r\n            canvasObjects.forEach(function (data) {\r\n                if (data.type == 'text') {\r\n                    var fill = data.fill;\r\n                    var stroke = data.stroke ? data.stroke : null;\r\n                    var shadow = data.shadow ? data.shadow.color : null;\r\n                    if (fill)\r\n                        _this_1.usedColorArr.push(fill);\r\n                    if (stroke)\r\n                        _this_1.usedColorArr.push(stroke);\r\n                    if (shadow) {\r\n                        _this_1.usedColorArr.push(shadow);\r\n                    }\r\n                }\r\n                if (data.objType == 'image' && data.isSvg == true) {\r\n                    data._objects.forEach(function (svgColor) {\r\n                        if (svgColor.fill) {\r\n                            if (_this_1.usedColorArr.indexOf(svgColor.fill) == -1) {\r\n                                _this_1.usedColorArr.push(svgColor.fill);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            var backgroundColor = this.containerCanvases[key].backgroundColor;\r\n            if (backgroundColor) {\r\n                if (typeof backgroundColor == 'object') {\r\n                    backgroundPatterColors += backgroundColor.usedColorCounter;\r\n                }\r\n                else {\r\n                    this.usedColorArr.push(backgroundColor);\r\n                }\r\n            }\r\n        }\r\n        var colorArr = [];\r\n        for (var i = 0; i < this.usedColorArr.length; i++) {\r\n            if (!colorArr.includes(this.usedColorArr[i])) {\r\n                colorArr.push(this.usedColorArr[i]);\r\n            }\r\n        }\r\n        this.usedColorCounter = colorArr.length + backgroundPatterColors;\r\n    };\r\n    CanvasService.prototype.applyUltimateLock = function (obj, loadDesign) {\r\n        if (loadDesign === void 0) { loadDesign = true; }\r\n        if (!loadDesign) {\r\n            if (obj.ultimatelock) {\r\n                obj.ultimatelock = obj.lockMovementX = obj.lockMovementY = false;\r\n                obj.hasControls = true;\r\n            }\r\n            else {\r\n                obj.ultimatelock = obj.lockMovementX = obj.lockMovementY = true;\r\n                obj.hasControls = false;\r\n            }\r\n        }\r\n        else {\r\n            if (obj.ultimatelock) {\r\n                obj.ultimatelock = obj.lockMovementX = obj.lockMovementY = true;\r\n                obj.hasControls = false;\r\n            }\r\n        }\r\n        return obj;\r\n    };\r\n    CanvasService.prototype.removeCurrentObject = function () {\r\n        var activeObjects = this.currentCanvas.getActiveObjects();\r\n        var params = {\r\n            obj: activeObjects,\r\n            properties: null,\r\n            crudServiceString: 'this.removeObjectService',\r\n        };\r\n        this.objectCRUD(params);\r\n    };\r\n    /**\r\n     * canavs object\r\n     *\r\n     * @param canvas\r\n     */\r\n    CanvasService.prototype.getObjects = function (canvas, checkActiveObj) {\r\n        if (canvas === void 0) { canvas = null; }\r\n        if (checkActiveObj === void 0) { checkActiveObj = false; }\r\n        // if no canvas object is passed, current canvas will be used\r\n        canvas = (canvas == null) ? this.currentCanvas : canvas;\r\n        // prepare local variables\r\n        var allObjects = (!checkActiveObj) ? canvas.getObjects() : canvas.getActiveObjects(), resultObjs = [], ignoreThis = null, self = this;\r\n        // traverse through allObjects object\r\n        allObjects.filter(function (currObj) {\r\n            // ignoreThis works as a flag\r\n            // which will check whether current object matches any of the properties specified\r\n            // in objsToIgnore      \r\n            ignoreThis = self.objsToIgnore.indexOf(self.objsToIgnore.find(function (objToIgnore) { return (currObj.hasOwnProperty(objToIgnore.key) && currObj[objToIgnore.key] == objToIgnore.value); }));\r\n            // if ignoreThis is -1, that means current object does not match any properties to ignore\r\n            // so we will push this object to our resultObjs variable\r\n            if (ignoreThis == -1)\r\n                resultObjs.push(currObj);\r\n        });\r\n        // finally return this array of object\r\n        return resultObjs;\r\n    };\r\n    CanvasService.prototype.rangeSliderUndoRedo = function (properties) {\r\n        var params = {\r\n            obj: this.currentCanvas.getActiveObjects(),\r\n            canvas: this.currentCanvas,\r\n            crudServiceString: 'this.rangeSliderUpdateService'\r\n        };\r\n        params = Object.assign(params, { properties: properties });\r\n        this.objectCRUD(params);\r\n    };\r\n    /**\r\n     * This function will force fabric to deselect current active object(s)\r\n     * & select specified list of objects as a group\r\n     * remember input must be array\r\n     *\r\n     * @param objectList array of canvas objects\r\n     */\r\n    CanvasService.prototype.selectTheseObjects = function (objectList) {\r\n        // init temp obj that will filter objects to be selected\r\n        // objects which are been locked won't be selected\r\n        var temp = [];\r\n        // traversal\r\n        objectList.forEach(function (obj) {\r\n            // if no lock/ultimate lock is set\r\n            // add that obj to tmp arry\r\n            if (obj.ultimatelock != true && obj.selectable == true) {\r\n                temp.push(obj);\r\n            }\r\n        });\r\n        // deselect current active object(s)\r\n        this.currentCanvas.discardActiveObject();\r\n        // init object to be selected\r\n        var sel = null;\r\n        // if array is having single object\r\n        // select individual\r\n        if (temp.length == 1) {\r\n            sel = temp[0];\r\n        }\r\n        // else create group object\r\n        else {\r\n            // prepare group object\r\n            sel = new fabric__WEBPACK_IMPORTED_MODULE_10__[\"fabric\"].ActiveSelection(temp, {\r\n                canvas: this.currentCanvas,\r\n            });\r\n        }\r\n        // set sel object as active object\r\n        this.currentCanvas.setActiveObject(sel);\r\n        // render\r\n        this.currentCanvas.requestRenderAll();\r\n    };\r\n    CanvasService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_insert_object_service__WEBPACK_IMPORTED_MODULE_4__[\"InsertObjectService\"],\r\n            _update_object_service__WEBPACK_IMPORTED_MODULE_5__[\"UpdateObjectService\"],\r\n            _remove_object_service__WEBPACK_IMPORTED_MODULE_6__[\"RemoveObjectService\"],\r\n            _canvas_update_service__WEBPACK_IMPORTED_MODULE_7__[\"CanvasUpdateService\"],\r\n            src_app_common_components_image_effects_image_effects_service__WEBPACK_IMPORTED_MODULE_8__[\"ImageEffectsService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\r\n            _history_service__WEBPACK_IMPORTED_MODULE_9__[\"HistoryService\"],\r\n            src_app_essentials_components_right_panel_right_panel_update_service__WEBPACK_IMPORTED_MODULE_11__[\"RightPanelUpdateService\"],\r\n            src_app_essentials_components_cropper_cropper_update_service__WEBPACK_IMPORTED_MODULE_1__[\"CropperUpdateService\"],\r\n            _range_slider_update_service_service__WEBPACK_IMPORTED_MODULE_12__[\"RangeSliderUpdateServiceService\"],\r\n            _svg_color_update_service__WEBPACK_IMPORTED_MODULE_13__[\"SvgColorUpdateService\"],\r\n            _multiple_objects_update_service__WEBPACK_IMPORTED_MODULE_14__[\"MultipleObjectsUpdateService\"],\r\n            ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_15__[\"BsModalService\"]])\r\n    ], CanvasService);\r\n    return CanvasService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/customise-controls.service.ts\":\r\n/*!********************************************************!*\\\r\n  !*** ./src/app/services/customise-controls.service.ts ***!\r\n  \\********************************************************/\r\n/*! exports provided: CustomiseControlsService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomiseControlsService\", function() { return CustomiseControlsService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var fabric_customise_controls__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! fabric-customise-controls */ \"./node_modules/fabric-customise-controls/dist/customiseControls.js\");\r\n/* harmony import */ var fabric_customise_controls__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(fabric_customise_controls__WEBPACK_IMPORTED_MODULE_4__);\r\n\r\n\r\n\r\n\r\n\r\nvar CustomiseControlsService = /** @class */ (function () {\r\n    function CustomiseControlsService(canvasService, eventService) {\r\n        var _this = this;\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.eventService.$sub('objectAdded', function (obj) {\r\n            _this.customizeControls(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\r\n            _this.customizeControls(obj);\r\n        });\r\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\r\n            _this.customizeControls(obj);\r\n        });\r\n    }\r\n    CustomiseControlsService.prototype.customizeControls = function (obj) {\r\n        var self = this;\r\n        if (obj) {\r\n            obj.setControlsVisibility({\r\n                mt: true,\r\n                tl: true,\r\n                tr: true,\r\n                bl: true,\r\n                br: true,\r\n                mtr: false,\r\n                mb: true,\r\n                ml: false,\r\n                mr: false,\r\n            });\r\n            self.canvasService.currentCanvas.renderAll();\r\n        }\r\n        fabric.Canvas.prototype.customiseControls({\r\n            tl: {\r\n                settings: {\r\n                    centeredScaling: true,\r\n                },\r\n                action: 'scale'\r\n            },\r\n            tr: {\r\n                settings: {\r\n                    centeredScaling: true,\r\n                },\r\n                action: 'scale',\r\n            },\r\n            bl: {\r\n                settings: {\r\n                    centeredScaling: true,\r\n                },\r\n                action: 'scale',\r\n            },\r\n            br: {\r\n                settings: {\r\n                    centeredScaling: true,\r\n                },\r\n                action: 'scale',\r\n            },\r\n            mt: {\r\n                action: 'rotate',\r\n                cursor: 'hand',\r\n            },\r\n            mb: {\r\n                action: function (e, target) {\r\n                    self.eventService.$pub('updateContextMenu', target);\r\n                },\r\n                cursor: 'hand',\r\n            },\r\n        });\r\n        if (navigator.userAgent.indexOf('MSIE') == -1 && navigator.userAgent.indexOf('Trident/') == -1) {\r\n            obj.customiseCornerIcons({\r\n                settings: {\r\n                    cornerSize: this.canvasService.cornerSize,\r\n                    cornerShape: 'circle',\r\n                    cornerBackgroundColor: 'white',\r\n                    cornerPadding: 10\r\n                },\r\n                tl: {\r\n                    icon: 'assets/img/svg/top-left-arrow.svg',\r\n                },\r\n                tr: {\r\n                    icon: 'assets/img/svg/top-right-arrow.svg',\r\n                },\r\n                bl: {\r\n                    icon: 'assets/img/svg/bottom-left-arrow.svg',\r\n                },\r\n                br: {\r\n                    icon: 'assets/img/svg/bottom-right-arrow.svg',\r\n                },\r\n                mt: {\r\n                    icon: 'assets/img/svg/rotate-to-left-button.svg',\r\n                },\r\n                mb: {\r\n                    icon: 'assets/img/three-dots-menu.svg',\r\n                },\r\n            }, function () {\r\n                self.canvasService.currentCanvas.renderAll();\r\n            });\r\n        }\r\n        else {\r\n            obj.customiseCornerIcons({\r\n                settings: {\r\n                    cornerSize: this.canvasService.cornerSize,\r\n                    cornerShape: 'circle',\r\n                    cornerBackgroundColor: 'white',\r\n                    cornerPadding: 10\r\n                },\r\n                tl: {\r\n                    icon: '',\r\n                },\r\n                tr: {\r\n                    icon: '',\r\n                },\r\n                bl: {\r\n                    icon: '',\r\n                },\r\n                br: {\r\n                    icon: '',\r\n                },\r\n                mt: {\r\n                    icon: '',\r\n                },\r\n                mb: {\r\n                    icon: '',\r\n                },\r\n            }, function () {\r\n                self.canvasService.currentCanvas.renderAll();\r\n            });\r\n        }\r\n    };\r\n    CustomiseControlsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"]])\r\n    ], CustomiseControlsService);\r\n    return CustomiseControlsService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/design.service.ts\":\r\n/*!********************************************!*\\\r\n  !*** ./src/app/services/design.service.ts ***!\r\n  \\********************************************/\r\n/*! exports provided: DesignService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignService\", function() { return DesignService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\r\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/fabric.js\");\r\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_7__);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DesignService = /** @class */ (function () {\r\n    function DesignService(mainService, eventService, canvasService, translate, priceService) {\r\n        this.mainService = mainService;\r\n        this.eventService = eventService;\r\n        this.canvasService = canvasService;\r\n        this.translate = translate;\r\n        this.priceService = priceService;\r\n        this.sameImageIdcanvasArray = [];\r\n        // additionalOptions(eg nameNumber)\r\n        this.additionalOptions = {};\r\n        // if design is already loaded flag\r\n        this.isDesignLoaded = false;\r\n        this.cnavasCount = 0;\r\n        var params = this.mainService.getUrlParams(['design']);\r\n        this.designId = params['design'];\r\n        var self = this;\r\n        this.eventService.$sub('allcanvasCreated', function (allImageIds) {\r\n            if (self.designId && self.isDesignLoaded == false) {\r\n                self.loadDesign(self.designId);\r\n                self.isDesignLoaded = true;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Save current design\r\n     */\r\n    DesignService.prototype.saveDesignData = function (data) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\r\n            var imageId, images, containerCanvasesJson, sidesAndParentImageIDs, params, url;\r\n            var _this = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                imageId = this.canvasService.firstImageId;\r\n                images = this.canvasService.getCanvasDataUrl(imageId);\r\n                containerCanvasesJson = this.canvasService.getCanvasToJson();\r\n                this.mainService.lastSavedData.json_objects = JSON.stringify(containerCanvasesJson);\r\n                data.sweetAlert = data.hasOwnProperty('sweetAlert') ? data.sweetAlert : true;\r\n                sidesAndParentImageIDs = this.fetchImageSidesParentIdsWithId(this.canvasService.allImagesWithIds);\r\n                params = {\r\n                    'dataUrl': images,\r\n                    'product_image_data': this.canvasService.allImagesWithIds[imageId],\r\n                    'product_id': this.mainService.productId,\r\n                    'canvasJson': btoa(unescape(encodeURIComponent(JSON.stringify(containerCanvasesJson)))),\r\n                    'customer_id': this.mainService.loggedInUserId,\r\n                    'scaleFactor': this.canvasService.scaleFactor,\r\n                    'associated_product_id': this.mainService.associatedProductId,\r\n                    'title': data.hasOwnProperty('title') ? data.title : '',\r\n                    'canvas_dataurl_file': data.hasOwnProperty('canvas_dataurl_file') ? data.canvas_dataurl_file + '.txt' : '',\r\n                    'sidesAndParentImageIDs': sidesAndParentImageIDs,\r\n                    'prices': this.mainService.otherPrices,\r\n                    'additional_price': this.priceService.additionalPrice,\r\n                    'customOptionsPrice': (data.customOptionsPrice) ? data.customOptionsPrice : '',\r\n                    'cartData': data.hasOwnProperty('cartData') ? data.cartData : null,\r\n                    'customer_comments': data.hasOwnProperty('addnote') ? data.addnote : null,\r\n                    'additionalOptions': this.additionalOptions\r\n                }, url = 'productdesigner/Designs/SaveDesign?isAjax=true';\r\n                if (data.hasOwnProperty('designId') && data.designId != null)\r\n                    params = Object.assign(params, { design_id: data.designId });\r\n                if (data.hasOwnProperty('qty') && data.qty != null)\r\n                    params = Object.assign(params, { qty: data.qty });\r\n                this.eventService.$pub(\"showMainLoader\");\r\n                this.mainService.post(url, params).then(function (resp) {\r\n                    _this.eventService.$pub(\"hideMainLoader\");\r\n                    if (resp && resp.status == \"success\") {\r\n                        if (data.hasOwnProperty('closeThisModal')) {\r\n                            data.closeThisModal.hide();\r\n                        }\r\n                        if (resp.hasOwnProperty('titleExists') && resp.titleExists == true) {\r\n                            resolve({ titleExists: true, designId: resp.design_id });\r\n                        }\r\n                        else if (data.sweetAlert == true) {\r\n                            _this.canvasService.clearHistory();\r\n                            _this.eventService.$pub('undoRedo');\r\n                            if (!data.hasOwnProperty('disablePopup'))\r\n                                _this.mainService.swal(_this.translate.instant(\"Success\"), _this.translate.instant(\"Design saved successfully\"), \"success\");\r\n                            resp.product_id = _this.mainService.productId;\r\n                            if (params.hasOwnProperty('design_id'))\r\n                                resp = Object.assign(resp, { clearCache: true });\r\n                            _this.eventService.$pub('designSaved', resp);\r\n                        }\r\n                    }\r\n                    resolve(resp);\r\n                });\r\n                return [2 /*return*/];\r\n            });\r\n        }); });\r\n    };\r\n    DesignService.prototype.fetchImageSidesParentIdsWithId = function (allImagesWithIds) {\r\n        var sides = {};\r\n        var parentImageIds = {};\r\n        for (var index in allImagesWithIds) {\r\n            var image = allImagesWithIds[index];\r\n            sides[image.image_id] = image.image_side;\r\n            parentImageIds[image.image_id] = image.parent_image_id;\r\n        }\r\n        return [sides, parentImageIds];\r\n    };\r\n    /**\r\n     * Load design based on design Id\r\n     */\r\n    DesignService.prototype.loadDesign = function (designId) {\r\n        var _this = this;\r\n        var params = { 'designId': designId, 'productId': this.mainService.productId }, url = 'productdesigner/Designs/LoadDesign', cacheKey = 'LoadDesign' + designId + this.mainService.baseUrl;\r\n        this.mainService.getData(url, params, cacheKey, null, true).then(function (designData) {\r\n            if (designData.status == 'success') {\r\n                _this.canvasService.clearCanvas();\r\n                designData.currentProductId = _this.mainService.associatedProductId;\r\n                _this.eventService.$pub('loadTheseFonts', JSON.parse(designData.json_objects));\r\n                _this.canvasService.loadDesign(designData);\r\n                _this.mainService.lastSavedData.json_objects = designData.json_objects;\r\n                if (designData.hasOwnProperty('prices')) {\r\n                    var self_1 = _this;\r\n                    setTimeout(function () {\r\n                        var pricesObj = atob(designData.prices);\r\n                        pricesObj = JSON.parse(pricesObj);\r\n                        self_1.priceService.extraPriceToBeAdded.customOptionsPrice = (pricesObj.customOptionsPrice != '') ? parseFloat(pricesObj.customOptionsPrice) : 0;\r\n                        pricesObj.qty = parseInt(pricesObj.qty);\r\n                        if (pricesObj.qty > 1) {\r\n                            self_1.priceService.extraPriceToBeAdded.productPrice = self_1.priceService.defaultPrice * (pricesObj.qty - 1);\r\n                        }\r\n                        self_1.priceService.totalQty = pricesObj.qty;\r\n                        self_1.priceService.addThisPrice();\r\n                    }, 500);\r\n                }\r\n                var self_2 = _this;\r\n                setTimeout(function () {\r\n                    self_2.eventService.$pub('designLoaded', designData);\r\n                }, 500);\r\n            }\r\n        }).catch(function (err) { return console.log(err); });\r\n    };\r\n    DesignService.prototype.saveAllSidesCanvasData = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var containerCanvasesKeys = Object.keys(_this.canvasService.containerCanvases);\r\n            var containerCanvasesKeysFlag = 0;\r\n            var data = {\r\n                containerCanvasesKeys: containerCanvasesKeys,\r\n                containerCanvasesKeysFlag: containerCanvasesKeysFlag,\r\n                timestamp: _this.getCurrentDateTimeStamp()\r\n            };\r\n            _this.saveSingleSideData(data, resolve);\r\n        });\r\n    };\r\n    /**\r\n     * Save single canvas data URL\r\n     */\r\n    DesignService.prototype.saveSingleSideData = function (data, resolve) {\r\n        var _this = this;\r\n        var self = this;\r\n        var response = this.canvasService.fetchSingleCanvasDataURL(data);\r\n        if (response.status == 'pending' && Object.keys(response.canvasDataUrls).length > 0) {\r\n            var url = 'productdesigner/Designs/SaveSingleSideData', params = {};\r\n            params['canvasData'] = (Object.keys(response.canvasDataUrls).length > 0) ? btoa(JSON.stringify(response.canvasDataUrls)) : '';\r\n            params['flag'] = data.containerCanvasesKeysFlag;\r\n            params['timestamp'] = data.timestamp;\r\n            this.mainService.post(url, params).then(function (resp) {\r\n                if (resp.status == 'success') {\r\n                    if (data.containerCanvasesKeysFlag == 0) {\r\n                        self.generateSVG = resp.generateSVG;\r\n                    }\r\n                    data.containerCanvasesKeysFlag++;\r\n                    _this.saveSingleSideData(data, resolve);\r\n                }\r\n            });\r\n        }\r\n        else if (response.status == 'pending') {\r\n            data.containerCanvasesKeysFlag++;\r\n            this.saveSingleSideData(data, resolve);\r\n        }\r\n        else if (response.status == 'completed') {\r\n            response.timestamp = data.timestamp;\r\n            resolve(response);\r\n        }\r\n    };\r\n    /**\r\n     * Return current timestamp\r\n     */\r\n    DesignService.prototype.getCurrentDateTimeStamp = function () {\r\n        var today = new Date();\r\n        var dd = today.getDate();\r\n        var mm = today.getMonth() + 1;\r\n        var yyyy = today.getFullYear();\r\n        if (dd < 10) {\r\n            dd = '0' + dd;\r\n        }\r\n        if (mm < 10) {\r\n            mm = '0' + mm;\r\n        }\r\n        var to_day = mm + dd + yyyy;\r\n        return to_day + today.getTime();\r\n    };\r\n    DesignService.prototype.generateSVGDesign = function () {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var imagesId, canvasArr, index, array1, key, canvasSVgArr, i, j, imgIdIndex, _a, _b, _i, canvas, imgId, currentImgUrl, height, width, obj, mainCanvas, canvasSVG, params, url;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        imagesId = [];\r\n                        canvasArr = this.canvasService.allImages;\r\n                        array1 = {}, canvasSVgArr = {};\r\n                        for (i = 0; i < canvasArr.length; i++) {\r\n                            for (j = 0; j < canvasArr[i].dim.length; j++) {\r\n                                index = \"@\" + canvasArr[i].dim[j].image_id + \"&\" + canvasArr[i].dim[j].designareaId;\r\n                                if (!array1[canvasArr[i].image_id]) {\r\n                                    array1[canvasArr[i].image_id] = [];\r\n                                }\r\n                                array1[canvasArr[i].image_id].push(this.canvasService.containerCanvases[index]);\r\n                            }\r\n                        }\r\n                        imgIdIndex = 0;\r\n                        _a = [];\r\n                        for (_b in array1)\r\n                            _a.push(_b);\r\n                        _i = 0;\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        if (!(_i < _a.length)) return [3 /*break*/, 5];\r\n                        key = _a[_i];\r\n                        canvas = new fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Canvas();\r\n                        imgId = imagesId[imgIdIndex];\r\n                        currentImgUrl = this.canvasService.allImagesWithIds[this.canvasService.activeImageId]['url'];\r\n                        height = this.canvasService.allImages[imgIdIndex].height;\r\n                        width = this.canvasService.allImages[imgIdIndex].width;\r\n                        imgIdIndex++;\r\n                        obj = array1[key];\r\n                        this.cnavasCount = 0;\r\n                        return [4 /*yield*/, this.addObjTOCanvas(obj, canvas)];\r\n                    case 2:\r\n                        _c.sent();\r\n                        mainCanvas = canvas;\r\n                        if (!(mainCanvas && mainCanvas.getObjects().length > 0)) return [3 /*break*/, 4];\r\n                        canvasSVG = mainCanvas.toSVG();\r\n                        mainCanvas = \"\";\r\n                        params = {\r\n                            designId: atob(this.designId),\r\n                            imageId: key,\r\n                            canvasSVG: btoa(unescape(encodeURIComponent(JSON.stringify(canvasSVG))))\r\n                        }, url = 'productdesigner/index/generateSvg';\r\n                        return [4 /*yield*/, this.mainService.getData(url, params, null).then(function (response) {\r\n                                if (response.status == 'success' && imgIdIndex == Object.keys(array1).length) {\r\n                                    window.history.back();\r\n                                }\r\n                            }).catch(function (err) { return console.log(err); })];\r\n                    case 3:\r\n                        _c.sent();\r\n                        _c.label = 4;\r\n                    case 4:\r\n                        _i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DesignService.prototype.addObjTOCanvas = function (obj, canvas) {\r\n        var _loop_1 = function (i) {\r\n            canvas.setHeight(obj[i].size.origHeight);\r\n            canvas.setWidth(obj[i].size.origHeight);\r\n            var mul = this_1.canvasService.fetchOutPutScaleFactor(obj[i]);\r\n            var canvasMul = mul / this_1.canvasService.scaleFactor;\r\n            obj[i].getObjects().forEach(function (data) {\r\n                data.top *= mul;\r\n                data.left *= mul;\r\n                data.left = (parseInt(obj[i].dim.x1) * canvasMul) + parseInt(data.left);\r\n                data.top = (parseInt(obj[i].dim.y1) * canvasMul) + parseInt(data.top);\r\n                if (data.tab == \"text\") {\r\n                    var fontFamily = data.fontFamily;\r\n                    fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].fontPaths[fontFamily] = fontFamily + '.ttf';\r\n                }\r\n                var clippingRect = new fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Rect({\r\n                    width: parseInt(obj[i].dim.width) * canvasMul,\r\n                    height: parseInt(obj[i].dim.height) * canvasMul,\r\n                    top: parseInt(obj[i].dim.y1) * canvasMul,\r\n                    left: parseInt(obj[i].dim.x1) * canvasMul,\r\n                    absolutePositioned: true\r\n                });\r\n                data.scaleX *= mul;\r\n                data.scaleY *= mul;\r\n                data.clipPath = clippingRect;\r\n                canvas.add(data);\r\n                canvas.renderAll();\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < obj.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n        return canvas;\r\n    };\r\n    DesignService.prototype.loadSvgToString = function (oldCanvas, newCanvas) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\r\n            var self, svgData;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                self = this;\r\n                if (oldCanvas && oldCanvas.getObjects().length > 0) {\r\n                    svgData = oldCanvas.toSVG();\r\n                    fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].loadSVGFromString(svgData, function (objects, options) {\r\n                        var svgobj = new fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Group(objects);\r\n                        svgobj.left = parseInt(oldCanvas.dim.x1);\r\n                        svgobj.top = parseInt(oldCanvas.dim.y1);\r\n                        svgobj.height = parseInt(oldCanvas.dim.height);\r\n                        svgobj.width = parseInt(oldCanvas.dim.width);\r\n                        newCanvas.add(svgobj).renderAll();\r\n                        resolve(newCanvas);\r\n                    });\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        }); });\r\n    };\r\n    DesignService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\r\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__[\"TranslateService\"],\r\n            src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_1__[\"PriceService\"]])\r\n    ], DesignService);\r\n    return DesignService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/history.service.ts\":\r\n/*!*********************************************!*\\\r\n  !*** ./src/app/services/history.service.ts ***!\r\n  \\*********************************************/\r\n/*! exports provided: HistoryService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HistoryService\", function() { return HistoryService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n\r\n\r\n\r\nvar HistoryService = /** @class */ (function () {\r\n    function HistoryService(eventService) {\r\n        var _this = this;\r\n        this.eventService = eventService;\r\n        this.undoStack = {};\r\n        this.redoStack = {};\r\n        // This check for if object is modified due to inbuilt fabric property\r\n        this.eventService.$sub('canvasObjectModified', function (obj) {\r\n            var currentState = obj._stateProperties;\r\n            var properties = {\r\n                fontSize: currentState.fontSize,\r\n                left: currentState.left,\r\n                top: currentState.top,\r\n                angle: currentState.angle,\r\n                scaleX: currentState.scaleX,\r\n                scaleY: currentState.scaleY\r\n            };\r\n            var params = {\r\n                obj: obj,\r\n                properties: properties,\r\n                crudServiceString: 'this.updateObjectService',\r\n                isObjectModify: true\r\n            };\r\n            _this.canvasService.objectCRUD(params);\r\n        });\r\n    }\r\n    HistoryService.prototype.initCanvasService = function (canvasService) {\r\n        this.canvasService = canvasService;\r\n    };\r\n    /**\r\n     * This Method push performed operation into stack\r\n     * @param {any} crudService [Operation service insert/update/remove]\r\n     */\r\n    HistoryService.prototype.push = function (crudService) {\r\n        var designarea_id = this.canvasService.currentCanvas.designarea_id;\r\n        if (this.undoStack[designarea_id] == undefined) {\r\n            this.undoStack[designarea_id] = [];\r\n        }\r\n        this.undoStack[designarea_id].push(crudService);\r\n        this.eventService.$pub('undoRedo');\r\n    };\r\n    /**\r\n     * This method will pop last executed operation and trigger its unexec method\r\n     */\r\n    HistoryService.prototype.undo = function () {\r\n        var designarea_id = this.canvasService.currentCanvas.designarea_id;\r\n        var crudService = this.undoStack[designarea_id].pop();\r\n        if (crudService) {\r\n            crudService.unexec();\r\n        }\r\n        // Push undostack value into redostack\r\n        if (this.redoStack[designarea_id] == undefined) {\r\n            this.redoStack[designarea_id] = [];\r\n        }\r\n        this.redoStack[designarea_id].push(crudService);\r\n    };\r\n    /**\r\n     * This method will pop value from redostack and trigger its exec method\r\n     */\r\n    HistoryService.prototype.redo = function () {\r\n        var designarea_id = this.canvasService.currentCanvas.designarea_id;\r\n        var crudService = this.redoStack[designarea_id].pop();\r\n        if (crudService) {\r\n            crudService.exec();\r\n        }\r\n        this.undoStack[designarea_id].push(crudService);\r\n    };\r\n    /**\r\n     * Clear undo stack and redo stack\r\n     */\r\n    HistoryService.prototype.clear = function () {\r\n        this.undoStack = {};\r\n        this.redoStack = {};\r\n    };\r\n    HistoryService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"]])\r\n    ], HistoryService);\r\n    return HistoryService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/insert-object.service.ts\":\r\n/*!***************************************************!*\\\r\n  !*** ./src/app/services/insert-object.service.ts ***!\r\n  \\***************************************************/\r\n/*! exports provided: InsertObjectService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InsertObjectService\", function() { return InsertObjectService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar InsertObjectService = /** @class */ (function () {\r\n    function InsertObjectService() {\r\n        /**\r\n        * initializing each fabric object\r\n        *\r\n        * @param obj object to be added on canvas\r\n        * @param properties object properties\r\n        * @param isCenter flag variable that will indicate whether to centeralize the new object on canvas\r\n        */\r\n        this.init = function (params) {\r\n            var obj = params.obj, properties = params.properties, canvasService = params.service, isCenter = params.hasOwnProperty('isCenter') ? params.isCenter : true, canvas = params.canvas ? params.canvas : canvasService.currentCanvas, eventService = params.eventService;\r\n            obj.scaleFactor = canvasService.scaleFactor;\r\n            if (!properties.id) {\r\n                properties.id = 'id_' + Date.now();\r\n            }\r\n            properties.canvasWidth = canvas.width;\r\n            properties.canvasHeight = canvas.height;\r\n            properties.imageDesignId = '@' + canvas.image_id + '&' + canvas.designarea_id;\r\n            // Center Scaling for object\r\n            properties.centeredScaling = true;\r\n            //When set to `true`, object's cache will be rerendered next render call.\r\n            properties.dirty = true;\r\n            properties.noScaleCache = false;\r\n            properties.objectCaching = false;\r\n            if (properties.objType && properties.objType == 'image' && !properties.ignoreBestFit) {\r\n                // best fit properties\r\n                var bestFitProperties = canvasService.getBestFitProperties(obj);\r\n                // before filtering best fir object, we need to assign objType to current obj\r\n                obj.objType = properties.objType;\r\n                // filter properties\r\n                bestFitProperties = canvasService.filterBestFitProperties(bestFitProperties, obj);\r\n            }\r\n            // set properties to current obj\r\n            obj.set(properties);\r\n            obj.isCenter = isCenter;\r\n            return {\r\n                /**\r\n                * After initializing each fabric object, this method is called to apply->insert the same on canvas\r\n                *\r\n                */\r\n                exec: function () {\r\n                    // return of obj is null\r\n                    if (!obj)\r\n                        return;\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    eventService.$pub('objectAddedBefore', obj);\r\n                    // add obj to current canvas and render the same\r\n                    canvas.add(obj);\r\n                    // set coordinates\r\n                    obj.setCoords();\r\n                    // if isCenter flag is true, centeralize the obj\r\n                    if (obj.isCenter === true)\r\n                        obj.center();\r\n                    // set current object as active\r\n                    var allCanvas = canvasService.containerCanvases;\r\n                    for (var key in allCanvas) {\r\n                        allCanvas[key].discardActiveObject().renderAll();\r\n                    }\r\n                    canvasService.currentCanvas = canvas;\r\n                    canvas.setActiveObject(obj);\r\n                    // render current canvas\r\n                    canvas.renderAll();\r\n                    // Publish an event when new object is added\r\n                    eventService.$pub('objectAdded', obj);\r\n                },\r\n                /**\r\n                * This method will remove the object from canvas\r\n                */\r\n                unexec: function () {\r\n                    if (!obj)\r\n                        return;\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    canvas.remove(obj).renderAll();\r\n                    // publish an event when object is removed\r\n                    eventService.$pub('objectRemoved', obj);\r\n                },\r\n            };\r\n        };\r\n    }\r\n    InsertObjectService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], InsertObjectService);\r\n    return InsertObjectService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/main.service.ts\":\r\n/*!******************************************!*\\\r\n  !*** ./src/app/services/main.service.ts ***!\r\n  \\******************************************/\r\n/*! exports provided: MainService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MainService\", function() { return MainService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\r\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ \"./node_modules/@angular/common/fesm5/http.js\");\r\n/* harmony import */ var _services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/canvas.service */ \"./src/app/services/canvas.service.ts\");\r\n/* harmony import */ var _services_customise_controls_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/customise-controls.service */ \"./src/app/services/customise-controls.service.ts\");\r\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\r\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_7__);\r\n/* harmony import */ var ngx_filesaver__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-filesaver */ \"./node_modules/ngx-filesaver/fesm5/ngx-filesaver.js\");\r\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar MainService = /** @class */ (function () {\r\n    function MainService(http, _FileSaverService, cacheService, canvasService, eventService, translate, customiseControlsService) {\r\n        var _this_1 = this;\r\n        this.http = http;\r\n        this._FileSaverService = _FileSaverService;\r\n        this.cacheService = cacheService;\r\n        this.canvasService = canvasService;\r\n        this.eventService = eventService;\r\n        this.translate = translate;\r\n        this.customiseControlsService = customiseControlsService;\r\n        this.version = '2.0.1';\r\n        this.isDeveloperMode = false;\r\n        this.firstTimeLoaded = false;\r\n        this.colorData = {};\r\n        this.containerCanvases = {};\r\n        this.allObjects = [];\r\n        // for Login\r\n        this.userLoggedIn = false;\r\n        // for Loader\r\n        this.loaderRequests = 0;\r\n        this.loaderResponse = 0;\r\n        this.loaderChecked = false;\r\n        this.tabsFlow = [];\r\n        this.objectModification = true;\r\n        this.lastSavedData = {};\r\n        this.generatedImage = [];\r\n        this.hideMe = false;\r\n        this.isToolTipEnable = false;\r\n        //check Admin make a design\r\n        this.isAdmin = false;\r\n        // choose if enableMultipleSelection is true or false\r\n        this.enableMultipleSelection = false;\r\n        this.nameNumber = false;\r\n        this.isGenerateSVGDesign = false;\r\n        this.totalMainTab = 0;\r\n        this.clipartRequest = true;\r\n        this.imageConfigRequest = true;\r\n        // otherOptions to pass in Load Product\r\n        this.otherOptions = [];\r\n        // Flag variable that will prevent/allow user from downloading image\r\n        this.displayDownload = false;\r\n        this.productOptions = [];\r\n        this.selectedProductOptions = [];\r\n        if (this.firstTimeLoaded) {\r\n            return;\r\n        }\r\n        this.firstTimeLoaded = true;\r\n        this.setBasicConfiguration();\r\n        this.canvasService.initZoom();\r\n        this.canvasService.initScaleFactor();\r\n        document.onclick = (function (event) {\r\n            var demoModeClasses = ['productdesigner-mobile-view', 'productdesigner-tab-view'], isDemoModeClassFound = false;\r\n            for (var key in demoModeClasses) {\r\n                var domElement = window.top.document.getElementsByClassName(demoModeClasses[key]);\r\n                if (domElement && domElement.length && domElement[0]) {\r\n                    isDemoModeClassFound = true;\r\n                }\r\n            }\r\n            if (!_this_1.isResponsive || isDemoModeClassFound) {\r\n                _this_1.canvasService.checkClasses(event);\r\n            }\r\n        });\r\n        var makeDesignStatus = document.getElementById(\"admin_design\");\r\n        this.isAdmin = (!makeDesignStatus) ? false : true;\r\n        if (this.isAdmin) {\r\n            var namenumber_design = document.getElementById(\"namenumber_design\");\r\n            this.nameNumber = (!namenumber_design) ? false : true;\r\n        }\r\n        if (this.isAdmin) {\r\n            var generatesvg_design = document.getElementById('generatesvg_design');\r\n            this.isGenerateSVGDesign = (!generatesvg_design) ? false : true;\r\n        }\r\n    }\r\n    /**\r\n     * [setBasicConfiguration Set Basic URLs, params,variables]\r\n     */\r\n    MainService.prototype.setBasicConfiguration = function () {\r\n        this.defaultPlaceholderImage = \"\";\r\n        var placeHolder = document.getElementsByName(\"placeHolderUrl\")[0];\r\n        if (placeHolder) {\r\n            this.defaultPlaceholderImage = placeHolder.value;\r\n        }\r\n        var base_url = document.getElementsByName(\"mage_base_url\")[0];\r\n        var baseUrl = atob(base_url.value);\r\n        this.baseUrl = baseUrl;\r\n        var store_key = document.getElementsByName(\"store_id\")[0];\r\n        var storeId = atob(store_key.value);\r\n        var currency_key = document.getElementsByName(\"currency_code\")[0];\r\n        var currency = atob(currency_key.value);\r\n        this.flushCache(storeId, currency);\r\n        var params = this.getUrlParams(['id', 'design', 'item']);\r\n        if (!params || !params['id']) {\r\n            return;\r\n        }\r\n        this.productId = params['id'];\r\n        this.canvasService.productId = params['id'];\r\n        this.designId = (params['design']) ? params['design'] : '';\r\n        this.itemId = (params['item']) ? params['item'] : '';\r\n        this.initResponsive();\r\n        var self = this;\r\n        window.onresize = function (event) {\r\n            self.processWindowSize(self);\r\n        };\r\n    };\r\n    /**\r\n     * Process which update all responsive supported stuffs\r\n     * @return {[type]} [description]\r\n     */\r\n    MainService.prototype.processWindowSize = function (self) {\r\n        var _this_1 = this;\r\n        self.initResponsive();\r\n        if (this.canvasService.currentCanvas) {\r\n            var currObj_1 = this.canvasService.currentCanvas.getActiveObjects();\r\n            setTimeout(function () {\r\n                if (currObj_1.type != 'activeSelection') {\r\n                    _this_1.eventService.$pub('selectThisObjects', currObj_1);\r\n                }\r\n            }, 100);\r\n            this.canvasService.deselectAllObjects();\r\n        }\r\n        self.eventService.$pub('windowResize');\r\n    };\r\n    /**\r\n     * update isResponsive var based on window width\r\n     */\r\n    MainService.prototype.initResponsive = function () {\r\n        if (window.innerWidth <= 1024) {\r\n            this.canvasService.isResponsive = this.isResponsive = true;\r\n        }\r\n        else {\r\n            this.canvasService.isResponsive = this.isResponsive = false;\r\n        }\r\n    };\r\n    /**\r\n     * Fetch Param values from URL\r\n     * @return array\r\n     */\r\n    MainService.prototype.getUrlParams = function (paramKey) {\r\n        var url = location.href;\r\n        var UrlArray = url.split(\"/\");\r\n        var params = [];\r\n        for (var j = 0; j < UrlArray.length; j++) {\r\n            if (paramKey.indexOf(UrlArray[j]) >= 0) {\r\n                params[UrlArray[j]] = UrlArray[j + 1];\r\n            }\r\n        }\r\n        return params;\r\n    };\r\n    /**\r\n     * [flushCache Flush all angular cache if store id or currency changes]\r\n     * @param {int} storeId  [Current store Id of Magento]\r\n     * @param {string} currency [Current Currency of Magento]\r\n     */\r\n    MainService.prototype.flushCache = function (storeId, currency) {\r\n        if (this.cacheService.exists('cache-storeid' + '-' + this.baseUrl)) {\r\n            var cachedStoreId = this.cacheService.get('cache-storeid' + '-' + this.baseUrl);\r\n            if (cachedStoreId != storeId) {\r\n                this.cacheService.removeAll();\r\n            }\r\n        }\r\n        if (this.cacheService.exists('cache-currency' + '-' + this.baseUrl)) {\r\n            var cachedCurrency = this.cacheService.get('cache-currency' + '-' + this.baseUrl);\r\n            if (cachedCurrency != currency) {\r\n                this.cacheService.removeAll();\r\n            }\r\n        }\r\n        this.cacheService.set('cache-storeid' + '-' + this.baseUrl, storeId, { maxAge: 15 * 60 });\r\n        this.cacheService.set('cache-currency' + '-' + this.baseUrl, currency, { maxAge: 15 * 60 });\r\n        if (this.isDeveloperMode) {\r\n            this.cacheService.removeAll();\r\n        }\r\n    };\r\n    /**\r\n     * [post HTTP post method]\r\n     * @param {string} url    [Magento Controller URL passed from component]\r\n     * @param {object} params [Params which needs to be passed to Magento Controller]\r\n     */\r\n    MainService.prototype.post = function (actionURL, params, showMainLoader, httpHeaders) {\r\n        var _this_1 = this;\r\n        if (showMainLoader === void 0) { showMainLoader = false; }\r\n        if (httpHeaders === void 0) { httpHeaders = null; }\r\n        // when user has not set any headers\r\n        // we will set default headers\r\n        var defaultHeaders = new _angular_common_http__WEBPACK_IMPORTED_MODULE_3__[\"HttpHeaders\"]();\r\n        defaultHeaders = defaultHeaders.append(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n        defaultHeaders = defaultHeaders.append(\"X-Requested-With\", \"XMLHttpRequest\");\r\n        // determine if user has specifed any headers\r\n        // if not, use our default headers\r\n        var headers = (httpHeaders) ? httpHeaders : defaultHeaders;\r\n        // show mainLoader is params is true\r\n        if (showMainLoader === true)\r\n            this.eventService.$pub(\"showMainLoader\");\r\n        // if isAjax is not set, assign the same\r\n        actionURL = (actionURL.indexOf(\"isAjax\") === -1) ? actionURL + '?isAjax=true' : actionURL;\r\n        // finally hit the request\r\n        return this.http.post(this.baseUrl + actionURL, params, { headers: headers })\r\n            .toPromise()\r\n            .then(function (res) { return res; })\r\n            .finally(function () {\r\n            // this will hide main loader\r\n            if (showMainLoader === true)\r\n                _this_1.eventService.$pub(\"hideMainLoader\");\r\n        });\r\n    };\r\n    MainService.prototype.postFile = function (url, fileData) {\r\n        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_3__[\"HttpHeaders\"]().set('Content-Type', []);\r\n        return this.http.post(this.baseUrl + url, fileData, { headers: headers })\r\n            .toPromise().then(function (res) { return res; });\r\n    };\r\n    /**\r\n     * this is common function for all get data requests\r\n     * if data is already present in cache, return same, fetch from api call otherwise\r\n     *\r\n     * @param url url to api\r\n     * @param params request payload\r\n     * @param cacheKey cache key\r\n     * @param loaderComponentRef\r\n     * \t\t\t- reference to loader component used in individual component\r\n     * \t\t\t- this is  used when component needs to show loader untill get data finishes it's operation in same component\r\n     * @param showMainLoader flag variable that indicates whether to show/hide main loader or sub loader\r\n     */\r\n    MainService.prototype.getData = function (url, params, cacheKey, loaderComponentRef, showMainLoader) {\r\n        var _this_1 = this;\r\n        if (loaderComponentRef === void 0) { loaderComponentRef = null; }\r\n        if (showMainLoader === void 0) { showMainLoader = false; }\r\n        return new Promise(function (resolve, reject) {\r\n            // if cache is already present, return the same\r\n            if (_this_1.cacheService.exists(cacheKey) && cacheKey != null) {\r\n                var data = _this_1.cacheService.get(cacheKey);\r\n                resolve(data);\r\n            }\r\n            // if not then fetch from api first and then store response to cache\r\n            else {\r\n                // as our every request will be post request, add isAjax param to url\r\n                url += '?isAjax=true';\r\n                // this action is for init requests\r\n                // as on page load, we are hitting several requests from individual component\r\n                // untill each component gets their response, we need to show main loader\r\n                // so we are using loader checked which will indicated we are done with this process\r\n                // loaderRequests is request counter which will keep track of total request occured\r\n                // loaderResponse is response counter which will be compared with loaderRequests, and hide loader and change status of loaderChecked to true\r\n                if (_this_1.loaderChecked === false) {\r\n                    _this_1.eventService.$pub('showMainLoader');\r\n                    _this_1.loaderRequests++;\r\n                }\r\n                // if loader instance is specified\r\n                if (loaderComponentRef != null) {\r\n                    loaderComponentRef.showSubLoader = true;\r\n                }\r\n                // api call\r\n                _this_1.post(url, params, showMainLoader)\r\n                    .then(function (data) {\r\n                    _this_1.cacheService.set(cacheKey, data, { maxAge: 15 * 60 });\r\n                    resolve(data);\r\n                })\r\n                    .catch(function (err) { return reject(err); })\r\n                    .finally(function () {\r\n                    // here we will hide loader and change flag to true to prevent multiple request loaders\r\n                    if (_this_1.loaderChecked == false) {\r\n                        _this_1.loaderResponse++;\r\n                        if (_this_1.loaderRequests == _this_1.loaderResponse) {\r\n                            _this_1.loaderChecked = true;\r\n                            _this_1.eventService.$pub('hideMainLoader');\r\n                        }\r\n                    }\r\n                    // if loader instance is specified\r\n                    if (loaderComponentRef != null) {\r\n                        loaderComponentRef.showSubLoader = false;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    MainService.prototype.getSubTabs = function (mainTabId, cacheKey) {\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var params, url, data;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        params = {\r\n                            'data': mainTabId,\r\n                            'product_id': this.productId,\r\n                            'isAdmin': this.isAdmin\r\n                        }, url = 'productdesigner/Tabs/getSubTabs';\r\n                        cacheKey += this.productId + '-' + this.baseUrl;\r\n                        return [4 /*yield*/, this.getData(url, params, cacheKey).then(function (responseData) {\r\n                                data = responseData;\r\n                            }).catch(function (err) { return console.log(err); })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/, data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    MainService.prototype.setSubTabsData = function (data, mainTabId) {\r\n        if (mainTabId === void 0) { mainTabId = 0; }\r\n        if (!data || !data)\r\n            return;\r\n        var subTabsData = data;\r\n        var tempData = [];\r\n        var allTabs = this.getAllTabs;\r\n        for (var i = 0; i < subTabsData.length; i++) {\r\n            if (subTabsData[i] == allTabs[subTabsData[i]]['id']) {\r\n                var label = (mainTabId == subTabsData[i]) ? 'label' : 'custom_label';\r\n                tempData.push({ id: allTabs[subTabsData[i]]['id'], label: allTabs[subTabsData[i]][label], component: allTabs[subTabsData[i]]['component'] });\r\n            }\r\n        }\r\n        return tempData;\r\n    };\r\n    /**\r\n     * [joinObject join array keys and values with underscore('_')]\r\n     * @param {[type]} selectedOptions [Options which are selected from proudct option component]\r\n     */\r\n    MainService.prototype.joinObject = function (selectedOptions) {\r\n        return Object.keys(selectedOptions).join('_') + '_' + Object.values(selectedOptions).join('_');\r\n    };\r\n    /**\r\n     * This function will display swal alert and will return the same as promise(.then() .catch())\r\n     */\r\n    MainService.prototype.swal = function (title, msg, type, confirmButtonText, customClass) {\r\n        if (confirmButtonText === void 0) { confirmButtonText = \"Ok\"; }\r\n        if (customClass === void 0) { customClass = \"\"; }\r\n        return sweetalert2__WEBPACK_IMPORTED_MODULE_7___default.a.fire({\r\n            title: title,\r\n            text: msg,\r\n            type: type,\r\n            confirmButtonText: confirmButtonText,\r\n            customClass: customClass,\r\n            allowOutsideClick: false\r\n        });\r\n    };\r\n    /**\r\n     * This function will open modal\r\n     \r\n     */\r\n    MainService.prototype.openThisModal = function (template, modalClass) {\r\n        if (modalClass === void 0) { modalClass = \"\"; }\r\n        var obj = this.canvasService.getActiveObject();\r\n        if (obj != false && obj.type == 'text')\r\n            this.canvasService.deselectAllObjects();\r\n        this.canvasService.modalService.onHidden.subscribe(function (reason) {\r\n            if (reason == 'backdrop-click') {\r\n                return;\r\n            }\r\n        });\r\n        return this.canvasService.modalService.show(template, Object.assign({ ignoreBackdropClick: true }, { class: modalClass }));\r\n    };\r\n    /**\r\n     * Logout user\r\n     */\r\n    MainService.prototype.logout = function () {\r\n        var _this_1 = this;\r\n        var url = \"productdesigner/Customer/Logout\";\r\n        this.post(url, {}, true).then(function (resp) {\r\n            if (resp && resp.status == \"success\") {\r\n                _this_1.userLoggedIn = false;\r\n                _this_1.eventService.$pub('customerLoggedOut');\r\n                _this_1.swal(_this_1.translate.instant(\"Success\"), _this_1.translate.instant(\"Logged out successfully\"), \"success\");\r\n            }\r\n            else {\r\n                var msg = (resp && resp.log) ? resp.log : _this_1.translate.instant(\"Something went wrong\");\r\n                if (msg.lastIndexOf(\"-\") >= 0)\r\n                    msg.substr(msg.lastIndexOf(\"-\") + 2);\r\n                _this_1.swal(_this_1.translate.instant(\"Error\"), msg, \"error\");\r\n            }\r\n        });\r\n    };\r\n    MainService.prototype.setCookie = function (name, expires, value) {\r\n        /*Set cookie for intro*/\r\n        document.cookie = name + \"=\" + value + \";\" + expires + \";path=/\";\r\n    };\r\n    MainService.prototype.getCookie = function (cname) {\r\n        var name = cname + \"=\";\r\n        var decodedCookie = decodeURIComponent(document.cookie);\r\n        var ca = decodedCookie.split(';');\r\n        for (var i = 0; i < ca.length; i++) {\r\n            var c = ca[i];\r\n            while (c.charAt(0) == ' ') {\r\n                c = c.substring(1);\r\n            }\r\n            if (c.indexOf(name) == 0) {\r\n                return c.substring(name.length, c.length);\r\n            }\r\n        }\r\n        return \"\";\r\n    };\r\n    /*Store Image for Preview and Download*/\r\n    MainService.prototype.getCanvasDataUrl = function (isFirst, currentImageId, getUrlOnly) {\r\n        if (getUrlOnly === void 0) { getUrlOnly = true; }\r\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\r\n            var images, params, response_1;\r\n            var _this_1 = this;\r\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (isFirst) {\r\n                            currentImageId = this.canvasService.activeImageId;\r\n                        }\r\n                        if (!(this.objectModification == true || this.generatedImage[currentImageId] == undefined || this.generatedImage[currentImageId] == '')) return [3 /*break*/, 2];\r\n                        images = this.canvasService.getCanvasDataUrl(currentImageId);\r\n                        params = {\r\n                            'dataUrl': images,\r\n                            'product_image_data': this.canvasService.allImagesWithIds[currentImageId],\r\n                        };\r\n                        return [4 /*yield*/, this.post('productdesigner/index/preview', params).then(function (data) {\r\n                                _this_1.generatedImage[currentImageId] = data;\r\n                                response_1 = (getUrlOnly === true) ? _this_1.generatedImage[currentImageId].base.url : Object.assign({}, data);\r\n                                _this_1.objectModification = false;\r\n                            }).catch(function (err) {\r\n                                console.log(_this_1.translate.instant(\"Error in loading preview\"), err);\r\n                            })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/, response_1];\r\n                    case 2: return [2 /*return*/, (getUrlOnly === true) ? this.generatedImage[currentImageId].base.url : this.generatedImage[currentImageId]];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /*Download Files*/\r\n    MainService.prototype.downloadFiles = function (url, extension) {\r\n        var _this_1 = this;\r\n        if (extension === void 0) { extension = ''; }\r\n        //Get  File Name\r\n        var productName;\r\n        this.eventService.$sub('getCartData', function (data) {\r\n            productName = data.productName;\r\n        });\r\n        var dateObj = new Date();\r\n        var month = dateObj.getUTCMonth() + 1;\r\n        var day = dateObj.getUTCDate();\r\n        var year = dateObj.getUTCFullYear();\r\n        var newdate = year + \"-\" + month + \"-\" + day;\r\n        var h = (dateObj.getHours() < 10) ? \"0\" + dateObj.getHours() : dateObj.getHours();\r\n        var m = (dateObj.getMinutes() < 10) ? \"0\" + dateObj.getMinutes() : dateObj.getMinutes();\r\n        var s = (dateObj.getSeconds() < 10) ? \"0\" + dateObj.getSeconds() : dateObj.getSeconds();\r\n        var newtime = h + \"-\" + m + \"-\" + s;\r\n        var fileName = productName + \"_\" + newdate + \"_\" + newtime + '.' + extension;\r\n        //Download File here\r\n        this.http.get(url, {\r\n            observe: 'response',\r\n            responseType: 'blob'\r\n        }).subscribe(function (res) {\r\n            _this_1._FileSaverService.save(res.body, fileName);\r\n        });\r\n    };\r\n    MainService.prototype.calcFinalPrice = function (qty) {\r\n        return (this.productPrice + this.otherPrices) * qty;\r\n    };\r\n    MainService.prototype.showHideSubLoader = function (subLoaderInstance, checkForResponsive) {\r\n        if (checkForResponsive === void 0) { checkForResponsive = false; }\r\n        // if subloader instance is not valid\r\n        if (!subLoaderInstance || !subLoaderInstance.hasOwnProperty('showSubLoader'))\r\n            return;\r\n        // flag variable that will be used to show/hide loader\r\n        var showLoader = false;\r\n        // if there is no need to check responsive, directly set loader value\r\n        if (checkForResponsive === false)\r\n            showLoader = !subLoaderInstance.showSubLoader;\r\n        // else check if is responsive if not true, \r\n        // if it is true, then by default false is been set\r\n        // if it is false, get opposite value of sub loader\r\n        else if (!this.isResponsive)\r\n            showLoader = !subLoaderInstance.showSubLoader;\r\n        // finally assign flag value to specified instance\r\n        subLoaderInstance.showSubLoader = showLoader;\r\n    };\r\n    MainService.prototype.showHidePlaceholder = function (placeholderInstance) {\r\n        // flag variable that will be used to show/hide loader\r\n        var showPlaceholder = false;\r\n        // else check if is responsive if not true, \r\n        // if it is true, then by default false is been set\r\n        // if it is false, get opposite value of sub loader\r\n        if (this.isResponsive)\r\n            showPlaceholder = !placeholderInstance;\r\n        // finally assign flag value to specified instance\r\n        return showPlaceholder;\r\n    };\r\n    /*********** Infinity Scroll Section *************/\r\n    MainService.prototype.prepareTempArrForPlaceholder = function (limit) {\r\n        this.customPlaceholderArr = [];\r\n        for (var i = 0; i < limit; i++) {\r\n            this.customPlaceholderArr.push(i);\r\n        }\r\n    };\r\n    MainService.prototype.processToolTip = function (tootltipData, option) {\r\n        if (tootltipData === void 0) { tootltipData = []; }\r\n        if (option === void 0) { option = false; }\r\n        var self = tootltipData;\r\n        var _this = this;\r\n        var intro = introJs();\r\n        var _intro = introJs();\r\n        intro.exit();\r\n        if (self != undefined) {\r\n            setTimeout(function () {\r\n                if (option) {\r\n                    _this.isToolTipEnable = true;\r\n                    intro.setOptions({\r\n                        steps: self,\r\n                        disableInteraction: false,\r\n                        scrollToElement: false,\r\n                        showBullets: false,\r\n                        showButtons: false,\r\n                        showStepNumbers: false,\r\n                        overlayOpacity: 0.2,\r\n                        highlightClass: \"demoClass\"\r\n                    }).start();\r\n                    intro.refresh();\r\n                    intro.onbeforeexit(function () {\r\n                        _this.isToolTipEnable = false;\r\n                    });\r\n                    setTimeout(function () { intro.exit(); _this.isToolTipEnable = false; }, 10000);\r\n                }\r\n                else {\r\n                    _this.isToolTipEnable = true;\r\n                    _intro.setOptions({\r\n                        steps: self,\r\n                        disableInteraction: false,\r\n                        scrollToElement: false,\r\n                        showBullets: false,\r\n                        showButtons: false,\r\n                        showStepNumbers: false,\r\n                        overlayOpacity: 0.2\r\n                    }).start();\r\n                    _intro.refresh();\r\n                    _intro.onbeforeexit(function () {\r\n                        _this.isToolTipEnable = false;\r\n                    });\r\n                    setTimeout(function () { intro.exit(); _this.isToolTipEnable = false; }, 15000);\r\n                }\r\n            }, 500);\r\n        }\r\n    };\r\n    /**************** Common Opearation Functions *****************/\r\n    MainService.prototype.updateObjectProperties = function (obj, properties, selectAfterUpdate) {\r\n        if (selectAfterUpdate === void 0) { selectAfterUpdate = false; }\r\n        var params = {\r\n            obj: obj,\r\n            properties: properties,\r\n            crudServiceString: 'this.updateObjectService'\r\n        };\r\n        params = (selectAfterUpdate === false) ? Object.assign(params, { setActive: false }) : params;\r\n        this.canvasService.objectCRUD(params);\r\n    };\r\n    MainService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__[\"HttpClient\"],\r\n            ngx_filesaver__WEBPACK_IMPORTED_MODULE_8__[\"FileSaverService\"],\r\n            ng2_cache__WEBPACK_IMPORTED_MODULE_2__[\"CacheService\"],\r\n            _services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\r\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\r\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__[\"TranslateService\"],\r\n            _services_customise_controls_service__WEBPACK_IMPORTED_MODULE_5__[\"CustomiseControlsService\"]])\r\n    ], MainService);\r\n    return MainService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/multiple-objects-update.service.ts\":\r\n/*!*************************************************************!*\\\r\n  !*** ./src/app/services/multiple-objects-update.service.ts ***!\r\n  \\*************************************************************/\r\n/*! exports provided: MultipleObjectsUpdateService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MultipleObjectsUpdateService\", function() { return MultipleObjectsUpdateService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar MultipleObjectsUpdateService = /** @class */ (function () {\r\n    function MultipleObjectsUpdateService() {\r\n        this.init = function (params) {\r\n            var obj = params.obj, properties = params.properties, canvasService = params.service, isCenter = params.hasOwnProperty('isCenter') ? params.isCenter : false, isSVG = params.hasOwnProperty('isSvg') ? params.isSvg : false, isObjectModify = params.hasOwnProperty('isObjectModify') ? params.isObjectModify : false, eventService = params.eventService, currentCanvas = (params.hasOwnProperty('canvas')) ? params.canvas : canvasService.currentCanvas, setActiveObject = (params.hasOwnProperty('setActive')) ? params.setActive : true, selectedObjs = params.selectedObjs;\r\n            // if no object is passed, we will get active object\r\n            if (obj == null)\r\n                obj = canvasService.getActiveObject();\r\n            // if no active object found, return from here\r\n            if (obj == false)\r\n                return;\r\n            // fetch object's current property in array\r\n            var oldProperties = [];\r\n            for (var i in properties) {\r\n                oldProperties[i] = {};\r\n                for (var key in properties[i]) {\r\n                    if (Array.isArray(obj)) {\r\n                        oldProperties[i][key] = obj[i][key];\r\n                    }\r\n                    else {\r\n                        oldProperties[i][key] = obj[key];\r\n                    }\r\n                }\r\n            }\r\n            return {\r\n                /**\r\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\r\n                 *\r\n                 */\r\n                exec: function () {\r\n                    // if no active object found, return from here\r\n                    if (obj == false)\r\n                        return;\r\n                    if (selectedObjs.length > 1 && setActiveObject) {\r\n                        currentCanvas.discardActiveObject().renderAll();\r\n                    }\r\n                    // set properties to current object       \r\n                    if (Array.isArray(obj)) {\r\n                        for (var i = 0; i < obj.length; i++) {\r\n                            for (var key in properties[i]) {\r\n                                var property = properties[i][key];\r\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\r\n                                if (typeof obj[i]['set' + functionName] == 'function') {\r\n                                    obj[i]['set' + functionName](property);\r\n                                }\r\n                                else {\r\n                                    obj[i][key] = property;\r\n                                }\r\n                            }\r\n                            obj[i].dirty = true;\r\n                            if (obj[i].selectable)\r\n                                if (isCenter === true)\r\n                                    obj[i].center();\r\n                            obj[i].setCoords();\r\n                        }\r\n                        if (setActiveObject)\r\n                            currentCanvas.setActiveObject(obj[0]);\r\n                    }\r\n                    else {\r\n                        for (var i in properties) {\r\n                            for (var key in properties[i]) {\r\n                                var property = properties[i][key];\r\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\r\n                                if (typeof obj['set' + functionName] == 'function') {\r\n                                    obj['set' + functionName](property);\r\n                                }\r\n                                else {\r\n                                    obj[key] = property;\r\n                                }\r\n                            }\r\n                        }\r\n                        obj.dirty = true;\r\n                        if (isCenter === true)\r\n                            obj.center();\r\n                        obj.setCoords();\r\n                    }\r\n                    if (selectedObjs.length > 1 && setActiveObject) {\r\n                        eventService.$pub('selectThisObjects', selectedObjs);\r\n                    }\r\n                    // finally update the canvas object\r\n                    currentCanvas.calcOffset();\r\n                    setTimeout(function () {\r\n                        currentCanvas.renderAll();\r\n                        // Publish an event when new object is updated\r\n                        eventService.$pub('objectUpdated', obj);\r\n                    }, 50);\r\n                },\r\n                /**\r\n                 * This function is used to revert back the last updated object while using undo redo\r\n                 */\r\n                unexec: function () {\r\n                    var canvas = currentCanvas;\r\n                    if (selectedObjs.length > 1) {\r\n                        canvas.discardActiveObject().renderAll();\r\n                    }\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    // return of obj is null\r\n                    if (!obj)\r\n                        return;\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    // set properties to current object from undoPropertiesStack\r\n                    if (Array.isArray(obj)) {\r\n                        for (var i = 0; i < obj.length; i++) {\r\n                            for (var key in oldProperties[i]) {\r\n                                var property = oldProperties[i][key];\r\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\r\n                                if (typeof obj[i]['set' + functionName] == 'function') {\r\n                                    obj[i]['set' + functionName](property);\r\n                                }\r\n                                else {\r\n                                    obj[i][key] = property;\r\n                                }\r\n                            }\r\n                            obj[i].setCoords();\r\n                            obj[i].dirty = true;\r\n                        }\r\n                    }\r\n                    else {\r\n                        for (var i in oldProperties) {\r\n                            for (var key in oldProperties[i]) {\r\n                                var property = oldProperties[i][key];\r\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\r\n                                if (typeof obj['set' + functionName] == 'function') {\r\n                                    obj['set' + functionName](property);\r\n                                }\r\n                                else {\r\n                                    obj[key] = property;\r\n                                }\r\n                            }\r\n                        }\r\n                        obj.setCoords();\r\n                        obj.dirty = true;\r\n                    }\r\n                    // finally update the canvas object\r\n                    if (selectedObjs.length > 1) {\r\n                        eventService.$pub('selectThisObjects', selectedObjs);\r\n                    }\r\n                    setTimeout(function () {\r\n                        currentCanvas.renderAll();\r\n                        eventService.$pub('objectUpdated', obj);\r\n                    }, 50);\r\n                }\r\n            };\r\n        };\r\n    }\r\n    MultipleObjectsUpdateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], MultipleObjectsUpdateService);\r\n    return MultipleObjectsUpdateService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/range-slider-update-service.service.ts\":\r\n/*!*****************************************************************!*\\\r\n  !*** ./src/app/services/range-slider-update-service.service.ts ***!\r\n  \\*****************************************************************/\r\n/*! exports provided: RangeSliderUpdateServiceService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RangeSliderUpdateServiceService\", function() { return RangeSliderUpdateServiceService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar RangeSliderUpdateServiceService = /** @class */ (function () {\r\n    function RangeSliderUpdateServiceService() {\r\n        /**\r\n         * Init the service for operation : It initialise the variables\r\n         */\r\n        this.init = function (params) {\r\n            var selectedObj = params.obj, properties = params.properties, canvasService = params.service, redoStack = {}, eventService = params.eventService;\r\n            // if no object is passed, we will get active object\r\n            if (selectedObj == null)\r\n                selectedObj = canvasService.getActiveObject();\r\n            // if no active object found, return from here\r\n            if (selectedObj == false)\r\n                return;\r\n            return {\r\n                /**\r\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\r\n                 *\r\n                 */\r\n                exec: function () {\r\n                    // if no active object found, return from here\r\n                    if (selectedObj == false)\r\n                        return;\r\n                    if (redoStack && Object.keys(redoStack).length > 0) {\r\n                        var _loop_1 = function (key) {\r\n                            if (Array.isArray(selectedObj)) {\r\n                                selectedObj.filter(function (currObj) { return currObj[key] = redoStack[key]; });\r\n                            }\r\n                            else {\r\n                                selectedObj[key] = redoStack[key];\r\n                            }\r\n                        };\r\n                        for (var key in redoStack) {\r\n                            _loop_1(key);\r\n                        }\r\n                        // \r\n                        for (var key in properties) {\r\n                            redoStack[key] = properties[key];\r\n                        }\r\n                        canvasService.currentCanvas.renderAll();\r\n                        eventService.$pub('objectUpdated', selectedObj);\r\n                    }\r\n                },\r\n                /**\r\n                 * This function is used to revert back the last updated object while using undo redo\r\n                 */\r\n                unexec: function () {\r\n                    var canvas = canvasService.currentCanvas;\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    // return of obj is null\r\n                    if (!selectedObj)\r\n                        return;\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    // \r\n                    // redoStack = Object.assign({}, properties);\r\n                    // \r\n                    for (var key in properties) {\r\n                        redoStack[key] = (Array.isArray(selectedObj)) ? selectedObj[0][key] : selectedObj[key];\r\n                    }\r\n                    // \r\n                    if (Array.isArray(selectedObj)) {\r\n                        selectedObj.filter(function (obj) {\r\n                            obj = Object.assign(obj, properties);\r\n                        });\r\n                    }\r\n                    else {\r\n                        selectedObj = Object.assign(selectedObj, properties);\r\n                    }\r\n                    canvasService.currentCanvas.renderAll();\r\n                    eventService.$pub('objectUpdated', selectedObj);\r\n                }\r\n            };\r\n        };\r\n    }\r\n    RangeSliderUpdateServiceService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], RangeSliderUpdateServiceService);\r\n    return RangeSliderUpdateServiceService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/remove-object.service.ts\":\r\n/*!***************************************************!*\\\r\n  !*** ./src/app/services/remove-object.service.ts ***!\r\n  \\***************************************************/\r\n/*! exports provided: RemoveObjectService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RemoveObjectService\", function() { return RemoveObjectService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar RemoveObjectService = /** @class */ (function () {\r\n    function RemoveObjectService() {\r\n        /**\r\n         * Remove selected/any object from canvas\r\n         */\r\n        this.init = function (params) {\r\n            var obj = params.obj, properties = params.properties, canvasService = params.service, isCenter = params.hasOwnProperty('isCenter') ? params.isCenter : true, isSvg = params.hasOwnProperty('isSvg') ? params.isSvg : false, canvas = params.hasOwnProperty('canvas') ? params.canvas : canvasService.currentCanvas, eventService = params.eventService, removeUltimateObj = params.hasOwnProperty('removeUltimateObj') ? params.removeUltimateObj : false;\r\n            // if no object is passed, we will get active object\r\n            if (obj == null)\r\n                obj = canvasService.getActiveObject();\r\n            return {\r\n                /**\r\n       * After initializing each fabric object, this method is called to apply->insert the same on canvas\r\n       *\r\n       */\r\n                exec: function () {\r\n                    if (obj == false)\r\n                        return;\r\n                    // remove the object and render\r\n                    if (Array.isArray(obj)) {\r\n                        for (var i in obj) {\r\n                            if (obj[i].ultimatelock != true || removeUltimateObj == true) {\r\n                                canvas.remove(obj[i]).renderAll();\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (obj.ultimatelock != true || removeUltimateObj == true) {\r\n                            canvas.remove(obj).renderAll();\r\n                        }\r\n                    }\r\n                    canvas.discardActiveObject();\r\n                    // render current canvas\r\n                    canvas.renderAll();\r\n                    // publish an event when object is removed\r\n                    eventService.$pub('objectRemoved', obj);\r\n                },\r\n                /**\r\n                * This method will add the object on canvas\r\n                */\r\n                unexec: function () {\r\n                    if (!obj)\r\n                        return;\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    if (Array.isArray(obj) && obj.length == 1) {\r\n                        obj = obj[0];\r\n                    }\r\n                    if (Array.isArray(obj)) {\r\n                        for (var i in obj) {\r\n                            canvas.add(obj[i]).renderAll();\r\n                            obj[i].setCoords();\r\n                        }\r\n                        // set group objects as active\r\n                        var sel = new fabric.ActiveSelection(obj, {\r\n                            canvas: canvas,\r\n                        });\r\n                        canvas.setActiveObject(sel);\r\n                    }\r\n                    else {\r\n                        canvas.add(obj).renderAll();\r\n                        obj.setCoords();\r\n                        // set current object as active\r\n                        canvas.setActiveObject(obj);\r\n                    }\r\n                    // render current canvas\r\n                    canvas.renderAll();\r\n                    // Publish an event when new object is added\r\n                    eventService.$pub('objectAdded', obj);\r\n                }\r\n            };\r\n        };\r\n    }\r\n    RemoveObjectService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], RemoveObjectService);\r\n    return RemoveObjectService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/svg-color-update.service.ts\":\r\n/*!******************************************************!*\\\r\n  !*** ./src/app/services/svg-color-update.service.ts ***!\r\n  \\******************************************************/\r\n/*! exports provided: SvgColorUpdateService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SvgColorUpdateService\", function() { return SvgColorUpdateService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar SvgColorUpdateService = /** @class */ (function () {\r\n    function SvgColorUpdateService() {\r\n        this.init = function (params) {\r\n            var obj = params.obj, oldSvgColors = [], properties = params.properties, canvasService = params.service, canvas = (params.hasOwnProperty('canvas')) ? params.canvas : canvasService.currentCanvas, eventService = params.eventService;\r\n            // if no object is passed, we will get active object\r\n            if (obj == null)\r\n                obj = canvasService.getActiveObject();\r\n            // if no active object found, return from here\r\n            if (obj == false)\r\n                return;\r\n            return {\r\n                /**\r\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\r\n                 *\r\n                 */\r\n                exec: function () {\r\n                    // if no active object found, return from here\r\n                    if (obj == false)\r\n                        return;\r\n                    obj._objects.forEach(function (data) {\r\n                        if (data.fill && properties['old_fill'] == data.fill) {\r\n                            var randLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));\r\n                            var uniqid = randLetter + Date.now();\r\n                            data = Object.assign(data, { uniqId: uniqid });\r\n                            oldSvgColors.push(Object.assign({}, data));\r\n                            data.set({ fill: properties['fill'] });\r\n                        }\r\n                    });\r\n                    canvas.renderAll();\r\n                    eventService.$pub('objectUpdated', obj);\r\n                },\r\n                /**\r\n                 * This function is used to revert back the last updated object while using undo redo\r\n                 */\r\n                unexec: function () {\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    // return of obj is null\r\n                    if (!obj)\r\n                        return;\r\n                    // \r\n                    if (!oldSvgColors || !oldSvgColors.length) {\r\n                        return;\r\n                    }\r\n                    obj._objects.filter(function (o) {\r\n                        var tmp = oldSvgColors.find(function (colorObj) { return (o.hasOwnProperty('uniqId') && o.uniqId == colorObj.uniqId); });\r\n                        if (tmp) {\r\n                            properties['fill'] = o.fill;\r\n                            o.set({ fill: tmp.fill });\r\n                        }\r\n                    });\r\n                    canvas.renderAll();\r\n                    eventService.$pub('objectUpdated', obj);\r\n                }\r\n            };\r\n        };\r\n    }\r\n    SvgColorUpdateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], SvgColorUpdateService);\r\n    return SvgColorUpdateService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/tabs.service.ts\":\r\n/*!******************************************!*\\\r\n  !*** ./src/app/services/tabs.service.ts ***!\r\n  \\******************************************/\r\n/*! exports provided: TabsService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TabsService\", function() { return TabsService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar TabsService = /** @class */ (function () {\r\n    function TabsService() {\r\n        this.parentTabsData = [];\r\n        this.showChildTabsData = [];\r\n        this.showChild = null;\r\n    }\r\n    TabsService.prototype.registerTabs = function (subTab, mainTab) {\r\n        if (!this.parentTabsData[mainTab]) {\r\n            this.parentTabsData[mainTab] = [];\r\n        }\r\n        if (this.parentTabsData[mainTab].indexOf(subTab) == -1) {\r\n            this.parentTabsData[mainTab].push(subTab);\r\n        }\r\n    };\r\n    TabsService.prototype.showChildTabs = function (currentTab) {\r\n        this.showChild = true;\r\n        this.showChildTabsData = [];\r\n        for (var _i = 0, _a = this.parentTabsData[currentTab]; _i < _a.length; _i++) {\r\n            var tab = _a[_i];\r\n            if (this.showChildTabsData.indexOf(tab) == -1) {\r\n                this.showChildTabsData.push(tab);\r\n            }\r\n        }\r\n    };\r\n    TabsService.prototype.checkIfExistChild = function (tab) {\r\n        if (this.showChildTabsData.indexOf(tab) == -1) {\r\n            return null;\r\n        }\r\n        return true;\r\n    };\r\n    TabsService.prototype.backTab = function () {\r\n        this.showChild = null;\r\n        this.showChildTabsData = [];\r\n    };\r\n    TabsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], TabsService);\r\n    return TabsService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/app/services/update-object.service.ts\":\r\n/*!***************************************************!*\\\r\n  !*** ./src/app/services/update-object.service.ts ***!\r\n  \\***************************************************/\r\n/*! exports provided: UpdateObjectService */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateObjectService\", function() { return UpdateObjectService; });\r\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n\r\n\r\nvar UpdateObjectService = /** @class */ (function () {\r\n    function UpdateObjectService() {\r\n        /**\r\n         * Init the service for operation : It initialise the variables\r\n         */\r\n        this.init = function (params) {\r\n            var obj = params.obj, properties = params.properties, canvasService = params.service, isCenter = params.hasOwnProperty('isCenter') ? params.isCenter : false, isSVG = params.hasOwnProperty('isSvg') ? params.isSvg : false, isObjectModify = params.hasOwnProperty('isObjectModify') ? params.isObjectModify : false, eventService = params.eventService, currentCanvas = (params.hasOwnProperty('canvas')) ? params.canvas : canvasService.currentCanvas, setActiveObject = (params.hasOwnProperty('setActive')) ? params.setActive : true;\r\n            // if no object is passed, we will get active object\r\n            if (obj == null)\r\n                obj = canvasService.getActiveObject();\r\n            // if no active object found, return from here\r\n            if (obj == false)\r\n                return;\r\n            // fetch object's current property in array\r\n            var oldProperties = {};\r\n            if (isSVG == true || isObjectModify) {\r\n                for (var key in properties) {\r\n                    oldProperties[key] = properties[key];\r\n                }\r\n            }\r\n            else {\r\n                for (var key in properties) {\r\n                    if (Array.isArray(obj)) {\r\n                        oldProperties[key] = obj[0][key];\r\n                    }\r\n                    else {\r\n                        oldProperties[key] = obj[key];\r\n                    }\r\n                }\r\n            }\r\n            // If object is modified due to inbuilt fabric property then no updation required\r\n            if (isObjectModify) {\r\n                properties = {};\r\n            }\r\n            return {\r\n                /**\r\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\r\n                 *\r\n                 */\r\n                exec: function () {\r\n                    // if no active object found, return from here\r\n                    if (obj == false)\r\n                        return;\r\n                    var selectedObjs = canvasService.currentCanvas.getActiveObjects();\r\n                    if (selectedObjs.length > 1) {\r\n                        canvasService.deselectAllObjects();\r\n                    }\r\n                    // set properties to current object\r\n                    if (isSVG) {\r\n                        obj._objects.forEach(function (data) {\r\n                            if (data.fill && properties['old_fill'] == data.fill) {\r\n                                data.set({ fill: properties['fill'] });\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        if (Array.isArray(obj)) {\r\n                            for (var i = 0; i < obj.length; i++) {\r\n                                //obj[i] = Object.assign(obj[i], properties);\r\n                                for (var key in properties) {\r\n                                    var property = properties[key];\r\n                                    var functionName = key.charAt(0).toUpperCase() + key.substr(1);\r\n                                    if (typeof obj[i]['set' + functionName] == 'function') {\r\n                                        obj[i]['set' + functionName](property);\r\n                                    }\r\n                                    else {\r\n                                        obj[i][key] = property;\r\n                                    }\r\n                                }\r\n                                obj[i].dirty = true;\r\n                                if (obj[i].selectable)\r\n                                    if (isCenter === true)\r\n                                        obj[i].center();\r\n                                obj[i].setCoords();\r\n                            }\r\n                            if (setActiveObject)\r\n                                currentCanvas.setActiveObject(obj[0]);\r\n                        }\r\n                        else {\r\n                            for (var key in properties) {\r\n                                var property = properties[key];\r\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\r\n                                if (typeof obj['set' + functionName] == 'function') {\r\n                                    obj['set' + functionName](property);\r\n                                }\r\n                                else {\r\n                                    obj[key] = property;\r\n                                }\r\n                            }\r\n                            obj.dirty = true;\r\n                            if (isCenter === true)\r\n                                obj.center();\r\n                            if (obj.selectable && setActiveObject)\r\n                                currentCanvas.setActiveObject(obj);\r\n                            obj.setCoords();\r\n                        }\r\n                    }\r\n                    // finally update the canvas object\r\n                    currentCanvas.calcOffset();\r\n                    setTimeout(function () {\r\n                        currentCanvas.renderAll();\r\n                        // Publish an event when new object is updated\r\n                        eventService.$pub('objectUpdated', obj);\r\n                    }, 50);\r\n                },\r\n                /**\r\n                 * This function is used to revert back the last updated object while using undo redo\r\n                 */\r\n                unexec: function () {\r\n                    var canvas = currentCanvas;\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    // return of obj is null\r\n                    if (!obj)\r\n                        return;\r\n                    // if no canvas is selected\r\n                    if (!canvas) {\r\n                        return;\r\n                    }\r\n                    var selectedObjs = canvasService.currentCanvas.getActiveObjects();\r\n                    if (selectedObjs.length > 1) {\r\n                        canvasService.deselectAllObjects();\r\n                    }\r\n                    if (isObjectModify) {\r\n                        for (var key in oldProperties) {\r\n                            properties[key] = obj[key];\r\n                        }\r\n                    }\r\n                    if (isSVG) {\r\n                        obj._objects.forEach(function (data) {\r\n                            if (data.fill && oldProperties['fill'] == data.fill) {\r\n                                data.set({ fill: oldProperties['old_fill'] });\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        // set properties to current object from undoPropertiesStack\r\n                        if (Array.isArray(obj)) {\r\n                            for (var i = 0; i < obj.length; i++) {\r\n                                //obj[i] = Object.assign(obj[i], oldProperties);\r\n                                for (var key in oldProperties) {\r\n                                    var property = oldProperties[key];\r\n                                    var functionName = key.charAt(0).toUpperCase() + key.substr(1);\r\n                                    if (typeof obj[i]['set' + functionName] == 'function') {\r\n                                        obj[i]['set' + functionName](property);\r\n                                    }\r\n                                    else {\r\n                                        obj[i][key] = property;\r\n                                    }\r\n                                }\r\n                                obj[i].setCoords();\r\n                                obj[i].dirty = true;\r\n                            }\r\n                            if (setActiveObject)\r\n                                currentCanvas.setActiveObject(obj[0]);\r\n                        }\r\n                        else {\r\n                            for (var key in oldProperties) {\r\n                                var property = oldProperties[key];\r\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\r\n                                if (typeof obj['set' + functionName] == 'function') {\r\n                                    obj['set' + functionName](property);\r\n                                }\r\n                                else {\r\n                                    obj[key] = property;\r\n                                }\r\n                            }\r\n                            obj.setCoords();\r\n                            obj.dirty = true;\r\n                            if (setActiveObject)\r\n                                currentCanvas.setActiveObject(obj);\r\n                        }\r\n                    }\r\n                    // finally update the canvas object\r\n                    currentCanvas.renderAll();\r\n                    eventService.$pub('objectUpdated', obj);\r\n                }\r\n            };\r\n        };\r\n    }\r\n    UpdateObjectService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\r\n            providedIn: 'root'\r\n        }),\r\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\r\n    ], UpdateObjectService);\r\n    return UpdateObjectService;\r\n}());\r\n\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/environments/environment.ts\":\r\n/*!*****************************************!*\\\r\n  !*** ./src/environments/environment.ts ***!\r\n  \\*****************************************/\r\n/*! exports provided: environment */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"environment\", function() { return environment; });\r\n// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\nvar environment = {\r\n    production: true\r\n};\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/main.ts\":\r\n/*!*********************!*\\\r\n  !*** ./src/main.ts ***!\r\n  \\*********************/\r\n/*! no exports provided */\r\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n\"use strict\";\r\n__webpack_require__.r(__webpack_exports__);\r\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\r\n/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ \"./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js\");\r\n/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ \"./src/app/app.module.ts\");\r\n/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ \"./src/environments/environment.ts\");\r\n\r\n\r\n\r\n\r\nif (_environments_environment__WEBPACK_IMPORTED_MODULE_3__[\"environment\"].production) {\r\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"enableProdMode\"])();\r\n}\r\nObject(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__[\"platformBrowserDynamic\"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__[\"AppModule\"])\r\n    .catch(function (err) { return console.error(err); });\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ 0:\r\n/*!************************************************************************************!*\\\r\n  !*** multi (webpack)-dev-server/client?http://0.0.0.0:0/sockjs-node ./src/main.ts ***!\r\n  \\************************************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n__webpack_require__(/*! /var/www/html/RestructureV2/magento228V2/angular/node_modules/webpack-dev-server/client/index.js?http://0.0.0.0:0/sockjs-node */\"./node_modules/webpack-dev-server/client/index.js?http://0.0.0.0:0/sockjs-node\");\r\nmodule.exports = __webpack_require__(/*! /var/www/html/RestructureV2/magento228V2/angular/src/main.ts */\"./src/main.ts\");\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ 1:\r\n/*!***********************!*\\\r\n  !*** jsdom (ignored) ***!\r\n  \\***********************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\n/* (ignored) */\r\n\r\n/***/ }),\r\n\r\n/***/ 2:\r\n/*!********************************************************!*\\\r\n  !*** jsdom/lib/jsdom/living/generated/utils (ignored) ***!\r\n  \\********************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\n/* (ignored) */\r\n\r\n/***/ }),\r\n\r\n/***/ 3:\r\n/*!***************************************!*\\\r\n  !*** jsdom/lib/jsdom/utils (ignored) ***!\r\n  \\***************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\n/* (ignored) */\r\n\r\n/***/ })\r\n\r\n},[[0,\"runtime\",\"vendor\"]]]);\r\n//# sourceMappingURL=main.js.map"}
}});
