require.config({"config": {
        "jsbuild":{"Biztech_DesignTemplates/dist/main.js":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[\"main\"],{\n\n/***/ \"./node_modules/webpack/hot sync ^\\\\.\\\\/log$\":\n/*!*************************************************!*\\\n  !*** (webpack)/hot sync nonrecursive ^\\.\\/log$ ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./log\": \"./node_modules/webpack/hot/log.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/webpack/hot sync ^\\\\.\\\\/log$\";\n\n/***/ }),\n\n/***/ \"./src/$$_lazy_route_resource lazy recursive\":\n/*!**********************************************************!*\\\n  !*** ./src/$$_lazy_route_resource lazy namespace object ***!\n  \\**********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nfunction webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n/***/ }),\n\n/***/ \"./src/app/_helper/formatCurrency.ts\":\n/*!*******************************************!*\\\n  !*** ./src/app/_helper/formatCurrency.ts ***!\n  \\*******************************************/\n/*! exports provided: FormatCurrency */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FormatCurrency\", function() { return FormatCurrency; });\nfunction FormatCurrency(price, format, showPlus) {\n    var precision = isNaN(format.precision = Math.abs(format.precision)) ? 2 : format.precision;\n    var requiredPrecision = isNaN(format.requiredPrecision = Math.abs(format.requiredPrecision)) ? 2 : format.requiredPrecision;\n    //for now we don't need this difference so precision is requiredPrecision\n    precision = requiredPrecision;\n    var integerRequired = isNaN(format.integerRequired = Math.abs(format.integerRequired)) ? 1 : format.integerRequired;\n    var decimalSymbol = format.decimalSymbol == undefined ? \",\" : format.decimalSymbol;\n    var groupSymbol = format.groupSymbol == undefined ? \".\" : format.groupSymbol;\n    var groupLength = format.groupLength == undefined ? 3 : format.groupLength;\n    var s = '';\n    var j;\n    var re;\n    var i;\n    if (showPlus == undefined || showPlus == true) {\n        s = price < 0 ? \"-\" : (showPlus ? \"+\" : \"\");\n    }\n    else if (showPlus == false) {\n        s = '';\n    }\n    i = parseInt(price = Math.abs(+price || 0).toFixed(precision)) + \"\";\n    var pad = (i.length < integerRequired) ? (integerRequired - i.length) : 0;\n    while (pad) {\n        i = '0' + i;\n        pad--;\n    }\n    j = (j = i.length) > groupLength ? j % groupLength : 0;\n    re = new RegExp(\"(\\\\d{\" + groupLength + \"})(?=\\\\d)\", \"g\");\n    /**\n     * replace(/-/, 0) is only for fixing Safari bug which appears\n     * when Math.abs(0).toFixed() executed on \"0\" number.\n     * Result is \"0.-0\"\n     */\n    var r;\n    r = (j ? i.substr(0, j) + groupSymbol : \"\") + i.substr(j).replace(re, \"$1\" + groupSymbol) + (precision ? decimalSymbol + Math.abs(price - i).toFixed(precision).replace(/-/, '0').slice(2) : \"\");\n    var pattern = '';\n    if (format.pattern.indexOf('{sign}') == -1) {\n        pattern = s + format.pattern;\n    }\n    else {\n        pattern = format.pattern.replace('{sign}', s);\n    }\n    return pattern.replace('%s', r).replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n}\n\n\n/***/ }),\n\n/***/ \"./src/app/_helper/must-match.validator.ts\":\n/*!*************************************************!*\\\n  !*** ./src/app/_helper/must-match.validator.ts ***!\n  \\*************************************************/\n/*! exports provided: MustMatch */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MustMatch\", function() { return MustMatch; });\n// custom validator to check that two fields match\nfunction MustMatch(controlName, matchingControlName) {\n    return function (formGroup) {\n        var control = formGroup.controls[controlName];\n        var matchingControl = formGroup.controls[matchingControlName];\n        if (matchingControl.errors && !matchingControl.errors.mustMatch) {\n            // return if another validator has already found an error on the matchingControl\n            return;\n        }\n        // set error on matchingControl if validation fails\n        if (control.value !== matchingControl.value) {\n            matchingControl.setErrors({ mustMatch: true });\n        }\n        else {\n            matchingControl.setErrors(null);\n        }\n    };\n}\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/components/object-lock/object-lock.component.html\":\n/*!**************************************************************************!*\\\n  !*** ./src/app/addons/components/object-lock/object-lock.component.html ***!\n  \\**************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"icon icon-t-lock\\\" *ngIf=\\\"mainService.isAdmin === true\\\" id=\\\"lock\\\" viewBox=\\\"0 0 30 30\\\" (click)=\\\"ultimateLockObject()\\\">\\n\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-t-lock\\\" id=\\\"lock\\\"></use>\\n</svg>\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/components/object-lock/object-lock.component.scss\":\n/*!**************************************************************************!*\\\n  !*** ./src/app/addons/components/object-lock/object-lock.component.scss ***!\n  \\**************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9jb21wb25lbnRzL29iamVjdC1sb2NrL29iamVjdC1sb2NrLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/components/object-lock/object-lock.component.ts\":\n/*!************************************************************************!*\\\n  !*** ./src/app/addons/components/object-lock/object-lock.component.ts ***!\n  \\************************************************************************/\n/*! exports provided: ObjectLockComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectLockComponent\", function() { return ObjectLockComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n\n\n\n\nvar ObjectLockComponent = /** @class */ (function () {\n    function ObjectLockComponent(mainService, eventService) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n    }\n    ObjectLockComponent.prototype.ngOnInit = function () {\n        var keysToBePush = [\"lockMovementX\", \"lockMovementY\", \"hasControls\", \"ultimatelock\"], currentJsonKeys = this.mainService.canvasService.objProperties;\n        keysToBePush.filter(function (currentKey) {\n            if (currentJsonKeys.indexOf(currentKey) == -1)\n                currentJsonKeys.push(currentKey);\n        });\n        this.mainService.canvasService.objProperties = currentJsonKeys;\n        this.initData();\n        this.subscribeEvents();\n    };\n    ObjectLockComponent.prototype.initData = function (obj) {\n        if (obj === void 0) { obj = \"\"; }\n        this.enableForSingleObj = (this.enableForSingleObject() === true) ? false : true;\n    };\n    ObjectLockComponent.prototype.enableForSingleObject = function () {\n        var obj = this.mainService.canvasService.getActiveObject();\n        if (obj == false)\n            return false;\n        return true;\n    };\n    ObjectLockComponent.prototype.ultimateLockObject = function () {\n        var _this = this;\n        var objs = this.mainService.canvasService.currentCanvas.getActiveObjects();\n        if (objs.length > 0) {\n            objs.filter(function (obj) {\n                var lockedObj = _this.mainService.canvasService.applyUltimateLock(obj, false);\n                _this.mainService.canvasService.currentCanvas.discardActiveObject();\n                _this.mainService.canvasService.currentCanvas.setActiveObject(lockedObj);\n            });\n            this.mainService.canvasService.currentCanvas.renderAll();\n        }\n    };\n    ObjectLockComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            _this.initData(obj);\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            _this.initData(obj);\n        });\n        this.eventService.$sub('objectSelectionCleared', function (obj) {\n            _this.initData(obj);\n        });\n        this.eventService.$sub('objectAdded', function (obj) {\n            _this.mainService.canvasService.applyUltimateLock(obj, true);\n        });\n    };\n    ObjectLockComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[object-lock]',\n            template: __webpack_require__(/*! ./object-lock.component.html */ \"./src/app/addons/components/object-lock/object-lock.component.html\"),\n            styles: [__webpack_require__(/*! ./object-lock.component.scss */ \"./src/app/addons/components/object-lock/object-lock.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"]])\n    ], ObjectLockComponent);\n    return ObjectLockComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/components/printing-methods/printing-methods.component.html\":\n/*!************************************************************************************!*\\\n  !*** ./src/app/addons/components/printing-methods/printing-methods.component.html ***!\n  \\************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byi-printing-method\\\" [formGroup]=\\\"parentFormGroup\\\">\\n\\t<ul>\\n\\t\\t<li *ngFor=\\\"let data of printingMethods;let i = index\\\">\\n\\t\\t\\t<label class=\\\"byi-radio\\\">\\n\\t\\t\\t\\t<input type=\\\"radio\\\" required name=\\\"method\\\" [value]=\\\"data.printing_id\\\" formControlName=\\\"method\\\"\\n\\t\\t\\t\\t\\t(change)=\\\"applyPrintingMethod(data.printing_id, data.minimum_quantity)\\\">\\n\\t\\t\\t\\t{{data.printing_name}}\\n\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t<button *ngIf=\\\"!mainService.isResponsive && data.printing_description\\\" class=\\\"byiu-right-icon\\\"\\n\\t\\t\\t\\t\\ttype=\\\"button\\\" tooltip=\\\"{{ data.printing_description | translate}}\\\" placement=\\\"bottom\\\">\\n\\t\\t\\t\\t\\t<svg class=\\\"icon icon-question\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-question\\\"></use>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t</ul>\\n\\t<span class=\\\"byi-error\\\" *ngIf=\\\"parentFormGroup.invalid && isClickedAddtoCart\\\">{{'Please select at least one printing method' | translate}}</span>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/components/printing-methods/printing-methods.component.scss\":\n/*!************************************************************************************!*\\\n  !*** ./src/app/addons/components/printing-methods/printing-methods.component.scss ***!\n  \\************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \".no-margin-bottom {\\n  margin-bottom: 0px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2h0bWwvQllJVjIvbWFnMjMyL2FuZ3VsYXIvc3JjL2FwcC9hZGRvbnMvY29tcG9uZW50cy9wcmludGluZy1tZXRob2RzL3ByaW50aW5nLW1ldGhvZHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9jb21wb25lbnRzL3ByaW50aW5nLW1ldGhvZHMvcHJpbnRpbmctbWV0aG9kcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uby1tYXJnaW4tYm90dG9tIHtcbiAgICBtYXJnaW4tYm90dG9tOiAwcHg7XG59Il19 */\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/components/printing-methods/printing-methods.component.ts\":\n/*!**********************************************************************************!*\\\n  !*** ./src/app/addons/components/printing-methods/printing-methods.component.ts ***!\n  \\**********************************************************************************/\n/*! exports provided: PrintingMethodsComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PrintingMethodsComponent\", function() { return PrintingMethodsComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\n/* harmony import */ var src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/essentials/components/price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\n\n\n\n\n\n\n\nvar PrintingMethodsComponent = /** @class */ (function () {\n    function PrintingMethodsComponent(mainService, cacheService, priceService, eventService) {\n        this.mainService = mainService;\n        this.cacheService = cacheService;\n        this.priceService = priceService;\n        this.eventService = eventService;\n        this.printingMethodDataCacheKey = '';\n        this.printingMethods = [];\n        this.additionalAmount = 0;\n        this.selectedPrintingId = null;\n        this.displayError = false;\n        this.printingMethodDataCacheKey = 'printingMethodDataCacheKey' + this.mainService.productId + '-' + this.mainService.baseUrl;\n    }\n    PrintingMethodsComponent.prototype.ngOnInit = function () {\n        this.loadPrintingMethods();\n        this.subscribeEvents();\n        this.displayError = false;\n    };\n    PrintingMethodsComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('objectAdded', function () {\n            if (_this.selectedPrintingId != null)\n                _this.applyPrintingMethod(_this.selectedPrintingId, null);\n        });\n        this.eventService.$sub('objectUpdated', function () {\n            setTimeout(function () {\n                if (_this.selectedPrintingId != null)\n                    _this.applyPrintingMethod(_this.selectedPrintingId, null);\n            }, 300);\n        });\n        this.eventService.$sub('objectRemoved', function () {\n            if (_this.selectedPrintingId != null)\n                _this.applyPrintingMethod(_this.selectedPrintingId, null);\n        });\n        this.eventService.$sub('canvasBackgroundChange', function () {\n            if (_this.selectedPrintingId != null)\n                _this.applyPrintingMethod(_this.selectedPrintingId, null);\n        });\n        this.eventService.$sub('showError', function (show) {\n            _this.displayError = show;\n        });\n    };\n    PrintingMethodsComponent.prototype.loadPrintingMethods = function () {\n        var _this = this;\n        var params = { productId: this.mainService.productId }, url = 'printingmethods/Index/getPrintingMethodData', cacheKey = this.printingMethodDataCacheKey;\n        this.mainService.getData(url, params, cacheKey, null, true).then(function (data) {\n            _this.cacheService.set(_this.printingMethodDataCacheKey, data, { maxAge: 15 * 60 });\n            _this.printingMethods = data.printingMethods;\n        }).catch(function (err) { return console.log(err); });\n    };\n    PrintingMethodsComponent.prototype.applyPrintingMethod = function (printingId, minimumQty) {\n        this.displayError = false;\n        if (minimumQty) {\n            this.priceService.printingMethodMinimumQty = minimumQty;\n        }\n        this.selectedPrintingId = printingId;\n        var methodData = this.getMethodsValueById(printingId)[0];\n        if (methodData.method_type == 1) {\n            var setPrice = null;\n            if (this.mainService.canvasService.usedColorCounter < 1) {\n                setPrice = 0;\n            }\n            else {\n                var priceData = methodData.counterData;\n                priceData.sort(function (val1, val2) { return val1.colors_counter - val2.colors_counter; });\n                this.additionalAmount = 0;\n                if (priceData.length > 0) {\n                    for (var i = 0; i < priceData.length && setPrice == null; i++) {\n                        if (priceData[i].colors_counter == this.mainService.canvasService.usedColorCounter) {\n                            setPrice = priceData[i].colors_price;\n                        }\n                        else if (priceData[i + 1] != undefined && this.mainService.canvasService.usedColorCounter >= priceData[i].colors_counter && this.mainService.canvasService.usedColorCounter < priceData[i + 1].colors_counter) {\n                            setPrice = priceData[i].colors_price;\n                        }\n                        else if (!priceData[i + 1] && this.mainService.canvasService.usedColorCounter >= priceData[i].colors_counter) {\n                            setPrice = priceData[i].colors_price;\n                        }\n                    }\n                }\n            }\n            if (setPrice != null) {\n                this.additionalAmount = setPrice;\n                this.priceService.additionalPrice = setPrice;\n                this.priceService.addThisPrice();\n                var param = { 'label': \"perintingMethod\", \"price\": this.priceService.additionalPrice };\n                this.eventService.$pub('priceUpdate', param);\n            }\n        }\n        if (methodData.method_type == 2) {\n            var priceData = methodData.counterData;\n            priceData.sort(function (val1, val2) { return val1.area_size_end - val2.area_size_end; });\n            this.priceService.additionalPrice = this.calculateAreaWisePrice(priceData);\n            this.priceService.addThisPrice();\n            var param = { 'label': \"perintingMethod\", \"price\": this.priceService.additionalPrice };\n            this.eventService.$pub('priceUpdate', param);\n        }\n    };\n    PrintingMethodsComponent.prototype.getMethodsValueById = function (id) {\n        return this.printingMethods.filter(function (x) { return x.printing_id === id; });\n    };\n    /*\n        For calculation of area wise price\n        */\n    PrintingMethodsComponent.prototype.calculateAreaWisePrice = function (priceData) {\n        var final_price = 0, canvasKeys = Object.keys(this.mainService.canvasService.containerCanvases), canvasObjects;\n        var _loop_1 = function (key) {\n            var leftArr = [];\n            var topArr = [];\n            var widthArr = [];\n            var heightArr = [];\n            canvasObjects = this_1.mainService.canvasService.getObjects(this_1.mainService.canvasService.containerCanvases[key]);\n            canvasObjects.forEach(function (data) {\n                leftArr.push(data.left);\n                topArr.push(data.top);\n                var width_val = data.left + (data.width * data.scaleX);\n                var height_val = data.top + (data.height * data.scaleY);\n                widthArr.push(width_val);\n                heightArr.push(height_val);\n            });\n            if (leftArr.length > 0) {\n                // find lowest left and top\n                var lowest_left = Math.min.apply(Math, leftArr);\n                var lowest_top = Math.min.apply(Math, topArr);\n                var max_width = Math.max.apply(Math, widthArr);\n                var max_height = Math.max.apply(Math, heightArr);\n                var final_width = max_width - lowest_left;\n                var final_height = max_height - lowest_top;\n                var calculate_area = final_width * final_height;\n                // get multiplier factor \n                var multiplier_factor = this_1.mainService.canvasService.fetchOutPutScaleFactor(this_1.mainService.canvasService.containerCanvases[key]);\n                var final_area = calculate_area * multiplier_factor;\n                var area_price = this_1.getAreaPriceBetweenRange(priceData, final_area);\n                final_price = final_price + area_price;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, canvasKeys_1 = canvasKeys; _i < canvasKeys_1.length; _i++) {\n            var key = canvasKeys_1[_i];\n            _loop_1(key);\n        }\n        return final_price;\n    };\n    PrintingMethodsComponent.prototype.getAreaPriceBetweenRange = function (priceData, final_area) {\n        var price = 0;\n        if (priceData.length > 0) {\n            for (var i = 0; i < priceData.length; i++) {\n                if (!priceData[i + 1] && final_area > priceData[i].area_size_end) {\n                    price = parseFloat(priceData[i].area_price);\n                }\n                if (priceData[i + 1] && final_area > priceData[i].area_size_end && final_area < priceData[i + 1].area_size_end) {\n                    price = parseFloat(priceData[i].area_price);\n                }\n                if (final_area >= priceData[i].area_size_start && final_area <= priceData[i].area_size_end) {\n                    price = parseFloat(priceData[i].area_price);\n                }\n            }\n        }\n        return price;\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"FormGroup\"])\n    ], PrintingMethodsComponent.prototype, \"parentFormGroup\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], PrintingMethodsComponent.prototype, \"isClickedAddtoCart\", void 0);\n    PrintingMethodsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: '[printing-methods]',\n            template: __webpack_require__(/*! ./printing-methods.component.html */ \"./src/app/addons/components/printing-methods/printing-methods.component.html\"),\n            styles: [__webpack_require__(/*! ./printing-methods.component.scss */ \"./src/app/addons/components/printing-methods/printing-methods.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_4__[\"CacheService\"],\n            src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_6__[\"PriceService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"]])\n    ], PrintingMethodsComponent);\n    return PrintingMethodsComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/components/three-d-preview/three-d-preview.component.html\":\n/*!**********************************************************************************!*\\\n  !*** ./src/app/addons/components/three-d-preview/three-d-preview.component.html ***!\n  \\**********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<a href=\\\"javascript:void(0)\\\" id='preview_btn3d' (click)=\\\"open3DPreview()\\\" attr.disabled=\\\"disabled\\\"\\r\\n  tooltip=\\\"{{'3D Preview' | translate}}\\\">\\r\\n  <svg class=\\\"icon icon-3d\\\" viewBox=\\\"0 0 30 30\\\">\\r\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-3d\\\"></use>\\r\\n  </svg>\\r\\n</a>\\r\\n<div class=\\\"byi-3dpreview-wrap\\\" #previewWrap>\\r\\n  <div class=\\\"byi-3dpreview-inner\\\">\\r\\n    <div class=\\\"byi-3dpreview-header\\\">\\r\\n      <h2>3D Preview</h2>\\r\\n      <button class=\\\"byi-close-btn\\\" (click)=\\\"close3DPreview()\\\">\\r\\n        <span></span>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div class=\\\"byi-3d-canvas\\\" id=\\\"byi-3d-canvas\\\"></div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #template>\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">{{'3D Preview' | translate}}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\" id=\\\"byi-3d-canvas\\\" style=\\\"height: 500px\\\">\\r\\n  </div>\\r\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/components/three-d-preview/three-d-preview.component.scss\":\n/*!**********************************************************************************!*\\\n  !*** ./src/app/addons/components/three-d-preview/three-d-preview.component.scss ***!\n  \\**********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9jb21wb25lbnRzL3RocmVlLWQtcHJldmlldy90aHJlZS1kLXByZXZpZXcuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/components/three-d-preview/three-d-preview.component.ts\":\n/*!********************************************************************************!*\\\n  !*** ./src/app/addons/components/three-d-preview/three-d-preview.component.ts ***!\n  \\********************************************************************************/\n/*! exports provided: ThreeDPreviewComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ThreeDPreviewComponent\", function() { return ThreeDPreviewComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\nvar ThreeDPreviewComponent = /** @class */ (function () {\n    /**\n     * Dependancy injector\n     *\n     * @param mainService\n     * @param canvasService\n     * @param eventService\n     */\n    function ThreeDPreviewComponent(mainService, canvasService, eventService) {\n        this.mainService = mainService;\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        // common variables\n        this.currSelectedObjs = null;\n        this.isFirst = true;\n    }\n    /**\n     * Angular init event\n     */\n    ThreeDPreviewComponent.prototype.ngOnInit = function () {\n        this.subscribeEvents();\n    };\n    /**\n     * Subscrive pubsub events\n     */\n    ThreeDPreviewComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        // \n        this.eventService.$sub('allcanvasCreated', function () {\n            setTimeout(function () {\n                _this.prepare3DPreview();\n            }, 100);\n        });\n        // for each CRUD opearation\n        // we have created common update function\n        // which will let threeJS know about update\n        this.eventService.$sub('objectAdded', function (canvas) {\n            _this.update();\n        });\n        this.eventService.$sub('objectUpdated', function (canvas) {\n            _this.update();\n        });\n        this.eventService.$sub('objectRemoved', function (canvas) {\n            _this.update();\n        });\n        this.eventService.$sub('canvasBackgroundChange', function () {\n            _this.update();\n        });\n        // as we need to update canvas only first time of canvas render\n        // we have used flag here\n        this.eventService.$sub('canvasRenderAfter', function (canvas) {\n            if (canvas == _this.canvasService.currentCanvas && _this.isFirst === true) {\n                _this.isFirst = false;\n                _this.update();\n            }\n        });\n    };\n    /**\n     * A common function that will detect changes\n     */\n    ThreeDPreviewComponent.prototype.update = function () {\n        this.threeDObj.traverse(function (obj) {\n            if (obj.isMesh && obj.hasOwnProperty('material') && obj.material.hasOwnProperty('map')) {\n                obj.material.map.needsUpdate = true;\n            }\n        });\n        this.prepare3DPreview();\n    };\n    /**\n     * Function that will prepare 3d preview\n     */\n    ThreeDPreviewComponent.prototype.prepare3DPreview = function () {\n        var camera, controls, renderer, object;\n        var element = document.getElementById(\"byi-3d-canvas\");\n        var self = this;\n        init();\n        animate();\n        function init() {\n            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 2000);\n            camera.position.z = 48;\n            controls = new THREE.OrbitControls(camera);\n            controls.autoRotate = true;\n            controls.autoRotateSpeed = 50;\n            controls.enableRotate = false;\n            controls.enablePan = false;\n            controls.enableZoom = false;\n            controls.maxPolarAngle = 1.5;\n            controls.minPolarAngle = 1.5;\n            // scene\n            self.scene = new THREE.Scene();\n            var ambientLight = new THREE.AmbientLight(0xcccccc, 0.4);\n            self.scene.add(ambientLight);\n            var pointLight = new THREE.PointLight(0xffffff, 0.8);\n            camera.add(pointLight);\n            self.scene.add(camera);\n            // manager\n            function loadModel() {\n                object.traverse(function (child) {\n                    if (child.isMesh) {\n                        child.material.map = canvasTexture;\n                    }\n                });\n                self.scene.add(object);\n            }\n            var canvasTexture = new THREE.CanvasTexture(self.canvasService.currentCanvas.lowerCanvasEl);\n            canvasTexture.wrapS = THREE.RepeatWrapping;\n            canvasTexture.wrapT = THREE.RepeatWrapping;\n            canvasTexture.repeat.set(1, 1);\n            var manager = new THREE.LoadingManager(loadModel);\n            var loader = new THREE.OBJLoader(manager);\n            loader.load('assets/img/mug.obj', function (obj) {\n                object = obj;\n                self.threeDObj = obj;\n            });\n            //\n            renderer = new THREE.WebGLRenderer({ antialias: true });\n            renderer.setClearColor(0xffffff);\n            renderer.setSize(element.clientWidth, element.clientHeight / 1.8);\n            element.appendChild(renderer.domElement);\n        }\n        function animate() {\n            requestAnimationFrame(animate);\n            render();\n        }\n        function render() {\n            controls.update();\n            camera.lookAt(self.scene.position);\n            renderer.render(self.scene, camera);\n        }\n    };\n    /**\n     * Open 3D Preview Modal\n     *\n     */\n    ThreeDPreviewComponent.prototype.open3DPreview = function () {\n        this.currSelectedObjs = this.canvasService.currentCanvas.getActiveObjects();\n        this.canvasService.deselectAllObjects();\n        this.previewWrap.nativeElement.classList.add('active');\n    };\n    /**\n     * Close 3D preview modal\n     */\n    ThreeDPreviewComponent.prototype.close3DPreview = function () {\n        if (this.currSelectedObjs && this.currSelectedObjs.length) {\n            this.eventService.$pub('selectThisObjects', this.currSelectedObjs);\n        }\n        this.previewWrap.nativeElement.classList.remove('active');\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('previewWrap'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ElementRef\"])\n    ], ThreeDPreviewComponent.prototype, \"previewWrap\", void 0);\n    ThreeDPreviewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[three-d-preview]',\n            template: __webpack_require__(/*! ./three-d-preview.component.html */ \"./src/app/addons/components/three-d-preview/three-d-preview.component.html\"),\n            styles: [__webpack_require__(/*! ./three-d-preview.component.scss */ \"./src/app/addons/components/three-d-preview/three-d-preview.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"]])\n    ], ThreeDPreviewComponent);\n    return ThreeDPreviewComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.html\":\n/*!******************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.html ***!\n  \\******************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"month-containter\\\">\\n\\t<div class=\\\"month-container-inner\\\">\\n\\t\\t<label>Starting Month</label>\\n\\t\\t<div class=\\\"byi-select select-style\\\">\\n\\t\\t\\t<select (change)=\\\"changeCalendarMonth($event)\\\" class=\\\"select_months validate-select\\\" id=\\\"select_months\\\"\\n\\t\\t\\t\\tname=\\\"select_months\\\">\\n\\t\\t\\t\\t<option value=\\\"{{calender['value']}}\\\" *ngFor=\\\"let calender of calenderData\\\">{{calender['label']}}\\n\\t\\t\\t\\t</option>\\n\\t\\t\\t</select>\\n\\t\\t\\t<span class=\\\"caret\\\"></span>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.scss\":\n/*!******************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.scss ***!\n  \\******************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9tb2R1bGVzL3Bob3RvLWNhbGVuZGFyL2NvbXBvbmVudC9waG90by1jYWxlbmRhci9waG90by1jYWxlbmRhci5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.ts\":\n/*!****************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.ts ***!\n  \\****************************************************************************************************/\n/*! exports provided: PhotoCalendarComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PhotoCalendarComponent\", function() { return PhotoCalendarComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\nvar PhotoCalendarComponent = /** @class */ (function () {\n    function PhotoCalendarComponent(canvasService, eventService) {\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.calenderData = [];\n        this.canvasImages = [];\n        this.containerCloneCanvases = {};\n    }\n    PhotoCalendarComponent.prototype.ngOnInit = function () {\n        this.loadCalendarMonths();\n    };\n    PhotoCalendarComponent.prototype.loadCalendarMonths = function () {\n        var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n        var canvasImagesData = this.canvasService.allImages;\n        this.canvasImages = this.canvasService.allImages;\n        var d = new Date();\n        var currentMonth = d.getMonth();\n        var currentYear = d.getFullYear();\n        var breakFlag = false;\n        var maximumYear = Math.max.apply(null, canvasImagesData.map(function (o) { return o.year; }));\n        var totalYears = (maximumYear + 1) - currentYear;\n        for (var i = 0; i < totalYears; ++i) {\n            var year = currentYear + i;\n            if (i + 1 == totalYears) {\n                breakFlag = true;\n            }\n            for (var key in months) {\n                if (parseInt(key) < currentMonth && currentYear == year) {\n                    continue;\n                }\n                var month = months[key];\n                var month_year = [];\n                month_year['label'] = month + \" \" + year;\n                month_year['value'] = parseInt(key) + 1 + \"-\" + year;\n                this.calenderData.push(month_year);\n                if (breakFlag) {\n                    break;\n                }\n            }\n        }\n        if (this.calenderData.length > 0) {\n            this.changeSideImages(this.calenderData[0].value);\n        }\n    };\n    PhotoCalendarComponent.prototype.changeCalendarMonth = function (event) {\n        var value = event.currentTarget.value;\n        this.changeSideImages(value);\n    };\n    PhotoCalendarComponent.prototype.changeSideImages = function (value) {\n        if (value) {\n            var monthYear = value;\n            var monthYearArray = monthYear.split(\"-\");\n            var month = monthYearArray[0];\n            var year = monthYearArray[1];\n            var backPage = void 0;\n            var nextYearPages = [];\n            this.canvasImages = [];\n            var selectedMonthSide = '';\n            for (var key in this.canvasService.allImages) {\n                /**\n                 * If month is Cover page and year is same then push it first\n                 */\n                if (this.canvasService.allImages[key].month == 0 && this.canvasService.allImages[key].year == year) {\n                    selectedMonthSide = this.canvasService.allImages[key];\n                    this.canvasImages.push(selectedMonthSide);\n                }\n                if (parseInt(this.canvasService.allImages[key].month) == parseInt(month) && this.canvasService.allImages[key].year == year && !selectedMonthSide) {\n                    selectedMonthSide = this.canvasService.allImages[key].image_id;\n                }\n                if (parseInt(this.canvasService.allImages[key].month) + 1 <= parseInt(month) && this.canvasService.allImages[key].year == year) {\n                    continue;\n                }\n                if (this.canvasService.allImages[key].year == year) {\n                    this.canvasImages.push(this.canvasService.allImages[key]);\n                }\n                else if (this.canvasService.allImages[key].year != year && parseInt(this.canvasService.allImages[key].month) < parseInt(month) && this.canvasService.allImages[key].month != 0 && this.canvasService.allImages[key].month != 13) {\n                    nextYearPages.push(this.canvasService.allImages[key]);\n                }\n                else if (this.canvasService.allImages[key].month == 13 && (this.canvasService.allImages[key].year == year || this.canvasService.allImages[key].year == 0)) {\n                    backPage = this.canvasService.allImages[key];\n                }\n            }\n            if (nextYearPages.length > 0) {\n                for (var key in nextYearPages) {\n                    this.canvasImages.push(nextYearPages[key]);\n                }\n            }\n            if (backPage != undefined) {\n                this.canvasImages.push(backPage);\n            }\n            if (Object.keys(this.containerCloneCanvases).length == 0) {\n                this.containerCloneCanvases = Object.assign({}, this.canvasService.containerCanvases);\n            }\n            this.canvasService.containerCanvases = Object.assign({}, this.containerCloneCanvases);\n            for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var canvas = this.canvasService.containerCanvases[key];\n                if (!this.findCanvasImageId(canvas.image_id)) {\n                    this.cloneCanvas(canvas, key);\n                    delete this.canvasService.containerCanvases[key];\n                }\n            }\n            this.changeSlide(selectedMonthSide, 0);\n        }\n        else {\n            this.canvasImages = this.canvasService.allImages;\n            this.canvasService.containerCanvases = Object.assign({}, this.containerCloneCanvases);\n            this.changeSlide(this.canvasImages[0].image_id, 0);\n        }\n    };\n    PhotoCalendarComponent.prototype.cloneCanvas = function (canvasNew, key) {\n        this.containerCloneCanvases[key] = canvasNew;\n    };\n    PhotoCalendarComponent.prototype.changeSlide = function (image_id, slide) {\n        var data = {\n            image_id: image_id,\n            slide: slide,\n            canvasImages: this.canvasImages\n        };\n        this.eventService.$pub('changeSlider', data);\n    };\n    PhotoCalendarComponent.prototype.findCanvasImageId = function (canvasimageid) {\n        var returnVal = false;\n        for (var i = 0; i < this.canvasImages.length; i++) {\n            if (this.canvasImages[i].image_id == canvasimageid) {\n                returnVal = true;\n            }\n        }\n        return returnVal;\n    };\n    PhotoCalendarComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[photo-calendar]',\n            template: __webpack_require__(/*! ./photo-calendar.component.html */ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.html\"),\n            styles: [__webpack_require__(/*! ./photo-calendar.component.scss */ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"]])\n    ], PhotoCalendarComponent);\n    return PhotoCalendarComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/photo-calendar/photo-calendar.module.ts\":\n/*!************************************************************************!*\\\n  !*** ./src/app/addons/modules/photo-calendar/photo-calendar.module.ts ***!\n  \\************************************************************************/\n/*! exports provided: PhotoCalendarModule */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PhotoCalendarModule\", function() { return PhotoCalendarModule; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm5/common.js\");\n/* harmony import */ var _component_photo_calendar_photo_calendar_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component/photo-calendar/photo-calendar.component */ \"./src/app/addons/modules/photo-calendar/component/photo-calendar/photo-calendar.component.ts\");\n\n\n\n\nvar PhotoCalendarModule = /** @class */ (function () {\n    function PhotoCalendarModule() {\n    }\n    PhotoCalendarModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\n            declarations: [_component_photo_calendar_photo_calendar_component__WEBPACK_IMPORTED_MODULE_3__[\"PhotoCalendarComponent\"]],\n            imports: [\n                _angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"],\n            ],\n            exports: [_component_photo_calendar_photo_calendar_component__WEBPACK_IMPORTED_MODULE_3__[\"PhotoCalendarComponent\"]]\n        })\n    ], PhotoCalendarModule);\n    return PhotoCalendarModule;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.html\":\n/*!****************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/product-template/component/apply-images/apply-images.component.html ***!\n  \\****************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<ng-container *ngIf=\\\"mainService.loadedProductData && mainService.loadedProductData.designerProductType\\\">\\n\\t<p class=\\\"pending-images\\\">\\n\\t\\t{{'Total Pending images' | translate}} : {{productTemplateService.pendingImages}}\\n\\t</p>\\n\\t<button *ngIf=\\\"files.length > 0\\\" (click)=\\\"applyImages()\\\" class=\\\"byi-btn byi-btn-xs\\\" type=\\\"button\\\">{{'Apply Images' | translate}}</button>\\n</ng-container>\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.scss\":\n/*!****************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/product-template/component/apply-images/apply-images.component.scss ***!\n  \\****************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9tb2R1bGVzL3Byb2R1Y3QtdGVtcGxhdGUvY29tcG9uZW50L2FwcGx5LWltYWdlcy9hcHBseS1pbWFnZXMuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.ts\":\n/*!**************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/product-template/component/apply-images/apply-images.component.ts ***!\n  \\**************************************************************************************************/\n/*! exports provided: ApplyImagesComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ApplyImagesComponent\", function() { return ApplyImagesComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var _product_template_product_template_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../product-template/product-template.service */ \"./src/app/addons/modules/product-template/component/product-template/product-template.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\n\n\nvar ApplyImagesComponent = /** @class */ (function () {\n    function ApplyImagesComponent(addImageService, canvasService, productTemplateService, eventService, mainService) {\n        this.addImageService = addImageService;\n        this.canvasService = canvasService;\n        this.productTemplateService = productTemplateService;\n        this.eventService = eventService;\n        this.mainService = mainService;\n        this.appliedImagesConter = 0;\n    }\n    ApplyImagesComponent.prototype.ngOnInit = function () {\n        this.getNumberOfPendingImages();\n        var self = this;\n        this.eventService.$sub('loadProduct', function (object) {\n            self.getNumberOfPendingImages();\n        });\n        this.eventService.$sub('objectAdded', function (object) {\n            self.getNumberOfPendingImages();\n        });\n        this.eventService.$sub('objectRemoved', function (object) {\n            self.getNumberOfPendingImages();\n        });\n    };\n    ApplyImagesComponent.prototype.getNumberOfPendingImages = function () {\n        this.productTemplateService.pendingImages = 0;\n        if (this.mainService.loadedProductData && this.mainService.loadedProductData.designerProductType) {\n            for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (this.productTemplateService.maskingContainerIndex[key]) {\n                    var currentCounter = this.productTemplateService.maskingContainerIndex[key];\n                    for (var i = 0; i < currentCounter.length; i++) {\n                        if (currentCounter[i] == 0) {\n                            this.productTemplateService.pendingImages++;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    ApplyImagesComponent.prototype.applyImages = function () {\n        var properties = { tab: this.byitab };\n        this.addImageAtPath(this.files, properties);\n    };\n    ApplyImagesComponent.prototype.addImageAtPath = function (files, properties) {\n        if (files[this.appliedImagesConter]) {\n            var imageURL = files[this.appliedImagesConter].medium_url;\n            var self_1 = this;\n            var data = this.searchCanvasHavingMask();\n            if (data) {\n                this.eventService.$pub('changeImageSide', { canvas: data.canvas, index: data.index });\n                this.addImageService.addImage(imageURL, properties).then(function (resp) {\n                    self_1.appliedImagesConter++;\n                    self_1.addImageAtPath(files, properties);\n                }).catch(function (err) { return console.log(err); });\n            }\n        }\n        else {\n            this.appliedImagesConter = 0;\n        }\n    };\n    ApplyImagesComponent.prototype.searchCanvasHavingMask = function () {\n        var index = 0;\n        for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.productTemplateService.maskingContainerIndex[key]) {\n                var currentCounter = this.productTemplateService.maskingContainerIndex[key];\n                for (var i = 0; i < currentCounter.length; i++) {\n                    if (currentCounter[i] == 0) {\n                        var data = {\n                            canvas: this.canvasService.containerCanvases[key],\n                            index: index\n                        };\n                        return data;\n                    }\n                }\n            }\n            index++;\n        }\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ApplyImagesComponent.prototype, \"files\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ApplyImagesComponent.prototype, \"byitab\", void 0);\n    ApplyImagesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[apply-images]',\n            template: __webpack_require__(/*! ./apply-images.component.html */ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.html\"),\n            styles: [__webpack_require__(/*! ./apply-images.component.scss */ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_2__[\"AddImageService\"], src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"], _product_template_product_template_service__WEBPACK_IMPORTED_MODULE_5__[\"ProductTemplateService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"]])\n    ], ApplyImagesComponent);\n    return ApplyImagesComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.html\":\n/*!************************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/product-template/component/product-template/product-template.component.html ***!\n  \\************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.scss\":\n/*!************************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/product-template/component/product-template/product-template.component.scss ***!\n  \\************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9tb2R1bGVzL3Byb2R1Y3QtdGVtcGxhdGUvY29tcG9uZW50L3Byb2R1Y3QtdGVtcGxhdGUvcHJvZHVjdC10ZW1wbGF0ZS5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.ts\":\n/*!**********************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/product-template/component/product-template/product-template.component.ts ***!\n  \\**********************************************************************************************************/\n/*! exports provided: ProductTemplateComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductTemplateComponent\", function() { return ProductTemplateComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/fabric.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _product_template_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./product-template.service */ \"./src/app/addons/modules/product-template/component/product-template/product-template.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n\n\n\n\n\n\n\nvar ProductTemplateComponent = /** @class */ (function () {\n    function ProductTemplateComponent(eventService, productTemplateService, canvasService, mainService) {\n        this.eventService = eventService;\n        this.productTemplateService = productTemplateService;\n        this.canvasService = canvasService;\n        this.mainService = mainService;\n        var params = this.mainService.getUrlParams(['imageid']);\n        if (!params['imageid']) {\n            return;\n        }\n        var imageid = atob(params['imageid']);\n        var param = {\n            imageid: imageid\n        };\n        this.mainService.otherOptions.push(param);\n    }\n    ProductTemplateComponent.prototype.ngOnInit = function () {\n        this.subScribeEvents();\n    };\n    ProductTemplateComponent.prototype.subScribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('canvasCreated', function (canvas) {\n            if (canvas.dim.pathMasking && canvas.dim.mask) {\n                _this.applyMasking(canvas);\n            }\n        });\n        this.eventService.$sub('zoomCanvasUpdated', function (canvas) {\n            if (canvas.dim.pathMasking && canvas.dim.mask) {\n                _this.applyMasking(canvas);\n            }\n        });\n        this.eventService.$sub('objectAddedBefore', function (object) {\n            if (_this.mainService.loadedProductData && _this.mainService.loadedProductData.designerProductType) {\n                var obj = (object.length > 0) ? object[0] : object;\n                if (obj.type == 'image' || obj.type == 'path' || obj.type == 'path-group' || obj.type == 'group') {\n                    _this.applyMaskToObject(obj);\n                }\n            }\n        });\n        this.eventService.$sub('objectAdded', function (object) {\n            if (_this.mainService.loadedProductData && _this.mainService.loadedProductData.designerProductType) {\n                var obj = (object.length > 0) ? object[0] : object;\n                if (obj.type == 'image' || obj.type == 'path' || obj.type == 'path-group' || obj.type == 'group') {\n                    _this.sendObjectToBack(obj);\n                }\n            }\n        });\n        this.eventService.$sub('objectRemoved', function (objects) {\n            if (_this.mainService.loadedProductData && _this.mainService.loadedProductData.designerProductType) {\n                var object = void 0;\n                if (Array.isArray(objects)) {\n                    object = objects.filter(function (obj) { return obj.type == 'image' || obj.type == 'path' || obj.type == 'path-group' || obj.type == 'group'; });\n                }\n                else {\n                    object = objects;\n                }\n                _this.removeMaskToObject(object);\n            }\n        });\n    };\n    ProductTemplateComponent.prototype.applyMasking = function (canvas) {\n        this.setProductImage(canvas);\n        var self = this;\n        var xml_val = canvas.dim.mask;\n        var maskWidth = parseFloat(canvas.dim.maskWidth);\n        var maskHeight = parseFloat(canvas.dim.maskHeight);\n        var xmlObject = document.createElement('div');\n        xmlObject.innerHTML = xml_val;\n        var paths = xmlObject.getElementsByTagName(\"path\");\n        var currentMaskContainer = self.productTemplateService.maskingContainer['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId];\n        if (currentMaskContainer) {\n            var len = currentMaskContainer.length;\n            for (var _i = 0, currentMaskContainer_1 = currentMaskContainer; _i < currentMaskContainer_1.length; _i++) {\n                var path = currentMaskContainer_1[_i];\n                this.canvasService.resizeObjectAsPerScale(path);\n                canvas.renderAll();\n            }\n        }\n        else {\n            self.productTemplateService.maskingContainer['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId] = [];\n            self.productTemplateService.maskingContainerIndex['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId] = [];\n            var i_1 = 0;\n            for (; i_1 < paths.length; i_1++) {\n                fabric__WEBPACK_IMPORTED_MODULE_3__[\"fabric\"].Path.fromElement(paths[i_1], function (path) {\n                    path.fill = 'rgba(0, 0, 0, 0)';\n                    var canvasWidth = canvas.width;\n                    var canvasHeight = canvas.height;\n                    path.scale(canvasWidth / maskWidth);\n                    path.setCoords();\n                    var left = (canvasWidth * (path.left)) / maskWidth;\n                    var top = (canvasHeight * (path.top)) / maskHeight;\n                    path.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_3__[\"fabric\"].Point(left, top), 'left', 'top');\n                    var topD = path.top;\n                    var leftD = path.left;\n                    path.set({\n                        clipFor: i_1,\n                        top: topD,\n                        left: leftD,\n                        evented: false,\n                        selectable: false,\n                        customType: 'mask',\n                        objectCaching: false,\n                        absolutePositioned: true,\n                        customWidth: ((canvasWidth * (path.height)) / maskWidth),\n                        customHeight: ((canvasHeight * (path.height)) / maskHeight),\n                        scaleFactor: self.canvasService.scaleFactor\n                    });\n                    /**\n                     * Path are stored with design area key\n                     */\n                    self.productTemplateService.maskingContainer['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId][i_1] = path;\n                    /**\n                     * Initailize Index key to 0;\n                     */\n                    self.productTemplateService.maskingContainerIndex['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId][i_1] = 0;\n                });\n            }\n            self.productTemplateService.maskingCounter['@' + canvas.dim.image_id + '&' + canvas.dim.designareaId] = i_1;\n        }\n    };\n    ProductTemplateComponent.prototype.setProductImage = function (canvas) {\n        var objects = canvas.getObjects();\n        var object = objects.filter(function (obj) { return obj.productimage == true; });\n        if (object.length != 0) {\n            return;\n        }\n        var self = this;\n        var productImage = canvas.url;\n        fabric__WEBPACK_IMPORTED_MODULE_3__[\"fabric\"].Image.fromURL(productImage, function (img) {\n            var oImg = img.set({\n                evented: false,\n                selectable: false,\n                productimage: true,\n                src: productImage,\n                top: 0,\n                left: 0,\n            }).scale(1 / self.canvasService.scaleFactor);\n            canvas.add(oImg).renderAll();\n            canvas.sendToBack(oImg);\n        });\n    };\n    ProductTemplateComponent.prototype.applyMaskToObject = function (obj) {\n        var self = this;\n        var clipPath = this.getClipPath(obj);\n        if (clipPath && obj.productimage != true) {\n            var scaleVal1 = clipPath.customWidth / (obj.width);\n            var scaleVal2 = clipPath.customHeight / (obj.height);\n            var scaleVal = Math.max(scaleVal1, scaleVal2);\n            obj.set({\n                left: clipPath.left,\n                top: clipPath.top,\n                scaleX: scaleVal,\n                scaleY: scaleVal,\n                clipPath: clipPath,\n                clipName: clipPath.clipFor,\n                isCenter: false\n            });\n            var canvas = self.canvasService.containerCanvases[obj.imageDesignId];\n            /*\n            We set flag to 1 if object is added to that mask\n            */\n            this.productTemplateService.maskingContainerIndex[obj.imageDesignId][obj.clipName] = 1;\n            this.productTemplateService.pendingImages--;\n            /*\n            Reposition object with\n            */\n            this.repositionObj(obj, clipPath, scaleVal);\n        }\n    };\n    ProductTemplateComponent.prototype.sendObjectToBack = function (obj) {\n        if (obj.clipPath) {\n            var canvas = this.canvasService.containerCanvases[obj.imageDesignId];\n            obj.moveTo(-1);\n            canvas.sendToBack(obj);\n        }\n    };\n    ProductTemplateComponent.prototype.getClipPath = function (obj) {\n        var currentCounter = this.productTemplateService.maskingContainerIndex[obj.imageDesignId];\n        for (var i = 0; i < currentCounter.length; i++) {\n            if (currentCounter[i] == 0) {\n                return this.productTemplateService.maskingContainer[obj.imageDesignId][i];\n            }\n        }\n    };\n    ProductTemplateComponent.prototype.removeMaskToObject = function (obj) {\n        if (obj.length > 0) {\n            for (var i = 0; i < obj.length; i++) {\n                if (obj[i].clipPath) {\n                    this.productTemplateService.maskingContainerIndex[obj[i].imageDesignId][obj[i].clipName] = 0;\n                    this.productTemplateService.pendingImages++;\n                }\n            }\n        }\n        else {\n            this.productTemplateService.maskingContainerIndex[obj.imageDesignId][obj.clipName] = 0;\n            this.productTemplateService.pendingImages++;\n        }\n    };\n    ProductTemplateComponent.prototype.repositionObj = function (obj, clipPath, scaleVal) {\n        if (scaleVal != 1) {\n            var top_1 = obj.top - (((obj.height * obj.scaleY) - clipPath.customHeight) / 2);\n            var left = obj.left - (((obj.width * obj.scaleX) - clipPath.customWidth) / 2);\n            obj.set({\n                left: left,\n                top: top_1\n            });\n            obj.setCoords();\n        }\n    };\n    ProductTemplateComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[product-template]',\n            template: __webpack_require__(/*! ./product-template.component.html */ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.html\"),\n            styles: [__webpack_require__(/*! ./product-template.component.scss */ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"], _product_template_service__WEBPACK_IMPORTED_MODULE_4__[\"ProductTemplateService\"], src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_5__[\"CanvasService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_6__[\"MainService\"]])\n    ], ProductTemplateComponent);\n    return ProductTemplateComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/product-template/component/product-template/product-template.service.ts\":\n/*!********************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/product-template/component/product-template/product-template.service.ts ***!\n  \\********************************************************************************************************/\n/*! exports provided: ProductTemplateService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductTemplateService\", function() { return ProductTemplateService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar ProductTemplateService = /** @class */ (function () {\n    function ProductTemplateService() {\n        this.maskingContainer = [];\n        this.maskingContainerIndex = [];\n        this.maskingCounter = [];\n        this.pendingImages = 0;\n    }\n    ProductTemplateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], ProductTemplateService);\n    return ProductTemplateService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/product-template/product-template.module.ts\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/addons/modules/product-template/product-template.module.ts ***!\n  \\****************************************************************************/\n/*! exports provided: HttpLoaderFactory, ProductTemplateModule */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpLoaderFactory\", function() { return HttpLoaderFactory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductTemplateModule\", function() { return ProductTemplateModule; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm5/common.js\");\n/* harmony import */ var _component_product_template_product_template_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component/product-template/product-template.component */ \"./src/app/addons/modules/product-template/component/product-template/product-template.component.ts\");\n/* harmony import */ var _component_apply_images_apply_images_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./component/apply-images/apply-images.component */ \"./src/app/addons/modules/product-template/component/apply-images/apply-images.component.ts\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/http-loader */ \"./node_modules/@ngx-translate/http-loader/fesm5/ngx-translate-http-loader.js\");\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common/http */ \"./node_modules/@angular/common/fesm5/http.js\");\n/* harmony import */ var src_app_addons_modules_photo_calendar_photo_calendar_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/addons/modules/photo-calendar/photo-calendar.module */ \"./src/app/addons/modules/photo-calendar/photo-calendar.module.ts\");\n\n\n\n\n\n\n\n\n\nfunction HttpLoaderFactory(httpClient) {\n    return new _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_6__[\"TranslateHttpLoader\"](httpClient);\n}\nvar ProductTemplateModule = /** @class */ (function () {\n    function ProductTemplateModule() {\n    }\n    ProductTemplateModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\n            declarations: [_component_product_template_product_template_component__WEBPACK_IMPORTED_MODULE_3__[\"ProductTemplateComponent\"], _component_apply_images_apply_images_component__WEBPACK_IMPORTED_MODULE_4__[\"ApplyImagesComponent\"]],\n            imports: [\n                _angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"],\n                src_app_addons_modules_photo_calendar_photo_calendar_module__WEBPACK_IMPORTED_MODULE_8__[\"PhotoCalendarModule\"],\n                _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateModule\"].forRoot({\n                    loader: {\n                        provide: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateLoader\"],\n                        useFactory: HttpLoaderFactory,\n                        deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_7__[\"HttpClient\"]]\n                    }\n                }),\n            ],\n            exports: [_component_product_template_product_template_component__WEBPACK_IMPORTED_MODULE_3__[\"ProductTemplateComponent\"], _component_apply_images_apply_images_component__WEBPACK_IMPORTED_MODULE_4__[\"ApplyImagesComponent\"]]\n        })\n    ], ProductTemplateModule);\n    return ProductTemplateModule;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.html\":\n/*!*********************************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.html ***!\n  \\*********************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byi-or-saperator\\\">\\n\\t<span>OR</span>\\n</div>\\n<div class=\\\"byi-social-upload\\\">\\n\\t<ul>\\n\\t\\t<li>\\n\\t\\t\\t<a class=\\\"icon icon-upfacebook\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"loginWithFacebook()\\\">\\n\\t\\t\\t\\t<svg viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-upfacebook\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</a>\\n\\t\\t</li>\\n\\t\\t<li>\\n\\t\\t\\t<a class=\\\"icon icon-upinsta\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"onLoginWithInstagram()\\\">\\n\\t\\t\\t\\t<svg viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-upinsta\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</a>\\n\\t\\t</li>\\n\\t</ul>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.scss\":\n/*!*********************************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.scss ***!\n  \\*********************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9tb2R1bGVzL3NvY2lhbC1tZWRpYS1pbXBvcnQvY29tcG9uZW50L3NvY2lhbC1tZWRpYS1pbXBvcnQvc29jaWFsLW1lZGlhLWltcG9ydC5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.ts\":\n/*!*******************************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.ts ***!\n  \\*******************************************************************************************************************/\n/*! exports provided: SocialMediaImportComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SocialMediaImportComponent\", function() { return SocialMediaImportComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var ngx_facebook__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-facebook */ \"./node_modules/ngx-facebook/dist/esm/index.js\");\n\n\n\n\n\nvar SocialMediaImportComponent = /** @class */ (function () {\n    function SocialMediaImportComponent(mainService, eventService) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n    }\n    SocialMediaImportComponent.prototype.ngOnInit = function () {\n    };\n    SocialMediaImportComponent.prototype.onLoginWithInstagram = function () {\n        this.eventService.$pub('onLoginWithInstagram');\n    };\n    SocialMediaImportComponent.prototype.loginWithFacebook = function () {\n        this.eventService.$pub('loginWithFacebook');\n    };\n    SocialMediaImportComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[social-media-import]',\n            template: __webpack_require__(/*! ./social-media-import.component.html */ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.html\"),\n            providers: [ngx_facebook__WEBPACK_IMPORTED_MODULE_4__[\"FacebookService\"]],\n            styles: [__webpack_require__(/*! ./social-media-import.component.scss */ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"]])\n    ], SocialMediaImportComponent);\n    return SocialMediaImportComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.html\":\n/*!***********************************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.html ***!\n  \\***********************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byi-dropdown\\\" *ngIf=\\\"fbAlbums && fbAlbums.length > 0\\\">\\n  <div class=\\\"btn-group\\\" dropdown>\\n     <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n        {{selectedAlbum.name}}<span class=\\\"caret\\\"></span>\\n     </button>\\n     <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n        <li role=\\\"menuitem\\\" *ngFor=\\\"let albumData of fbAlbums\\\"\\n           class=\\\"main-product-category\\\"\\n           [class.selected]=\\\"albumData.id === selectedAlbum.id\\\" (click)=\\\"showalbumImages(albumData.id)\\\">\\n           <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n              {{albumData.name}}</a>\\n        </li>\\n     </ul>\\n  </div>\\n</div>\\n<div class=\\\"byi-upload-list\\\" *ngIf=\\\"fbPhotos && fbPhotos.length > 0\\\">\\n  <ul>\\n    <li *ngFor=\\\"let fbPhoto of fbPhotos; let i = index\\\">\\n      <span>\\n        <img [src]=\\\"fbPhoto.picture\\\" (click)=\\\"addImageService.addImage(fbPhoto.picture)\\\">\\n      </span>\\n    </li>\\n  </ul>\\n</div>\\n<div class=\\\"byi-upload-list\\\" *ngIf=\\\"instaImages && instaImages.length > 0\\\">\\n  <ul>\\n    <li *ngFor=\\\"let instaPhoto of instaImages; let i = index\\\">\\n      <span>\\n        <img [src]=\\\"instaPhoto.orig_url\\\" (click)=\\\"addImageService.addImage(instaPhoto.orig_url)\\\">\\n      </span>\\n    </li>\\n  </ul>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.scss\":\n/*!***********************************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.scss ***!\n  \\***********************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZG9ucy9tb2R1bGVzL3NvY2lhbC1tZWRpYS1pbXBvcnQvY29tcG9uZW50L3NvY2lhbC1tZWRpYS1saXN0aW5nL3NvY2lhbC1tZWRpYS1saXN0aW5nLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.ts\":\n/*!*********************************************************************************************************************!*\\\n  !*** ./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.ts ***!\n  \\*********************************************************************************************************************/\n/*! exports provided: SocialMediaListingComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SocialMediaListingComponent\", function() { return SocialMediaListingComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var ngx_facebook__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-facebook */ \"./node_modules/ngx-facebook/dist/esm/index.js\");\n\n\n\n\n\n\n\nvar SocialMediaListingComponent = /** @class */ (function () {\n    function SocialMediaListingComponent(FB, mainService, canvasService, eventService, zone, addImageService) {\n        var _this = this;\n        this.FB = FB;\n        this.mainService = mainService;\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.zone = zone;\n        this.addImageService = addImageService;\n        this.fbAlbums = [];\n        this.fbPhotos = [];\n        this.instaImages = [];\n        window['SocialMediaImportComponent'] = {\n            zone: this.zone,\n            setInstaMediaData: function (Data) { return _this.setInstaMediaData(Data); },\n            component: this\n        };\n    }\n    SocialMediaListingComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        // Create and add script element for load facebook sdk\n        var getFacebookSdk = document.getElementById('facebookSdk');\n        if (!getFacebookSdk) {\n            var script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.src = 'https://connect.facebook.net/en_US/all.js';\n            script.id = 'facebookScript';\n            document.getElementsByTagName('head')[0].appendChild(script);\n        }\n        this.eventService.$sub('loginWithFacebook', function () {\n            _this.checkLoginState();\n        });\n        this.eventService.$sub('onLoginWithInstagram', function () {\n            _this.checkLoginWithInstagram();\n        });\n    };\n    SocialMediaListingComponent.prototype.ngAfterViewInit = function () {\n        this.initFacebook();\n    };\n    SocialMediaListingComponent.prototype.initFacebook = function () {\n        var _this = this;\n        var configPaths = ['productdesigner/social_media_upload/facebook_appid',\n            'productdesigner/social_media_upload/instagram_clientid'];\n        // prepare url and payload\n        var url = 'productdesigner/Index/getConfiguration', params = { configPaths: configPaths, key: 'social-media-import' }, cacheKey = 'configuration-social-media-import' + this.mainService.baseUrl;\n        // hit post request\n        this.mainService.getData(url, params, cacheKey).then(function (resp) {\n            _this.instagram_url = _this.mainService.baseUrl + 'socialmediaimport/index/resInstagram';\n            _this.instaid = resp[1];\n            var initParams = {\n                appId: resp[0],\n                xfbml: true,\n                version: 'v2.8'\n            };\n            _this.FB.init(initParams);\n        }).catch(function (err) { return console.log(err); });\n    };\n    SocialMediaListingComponent.prototype.checkLoginWithInstagram = function () {\n        var url = 'https://api.instagram.com/oauth/authorize/?client_id=' + this.instaid + '&redirect_uri=' + this.instagram_url + '&response_type=code&scope=basic';\n        this.instawindow = window.open(url, 'instagram', 'height=500,width=600');\n    };\n    SocialMediaListingComponent.prototype.setInstaMediaData = function (data) {\n        var imageData;\n        this.instawindow.close();\n        this.instaImages = [];\n        for (var i = 0; i < data.images.length; i++) {\n            imageData = {};\n            imageData.orig_url = data.images[i];\n            this.instaImages.push(imageData);\n        }\n    };\n    SocialMediaListingComponent.prototype.checkLoginState = function () {\n        var _this = this;\n        this.FB.getLoginStatus().then(function (response) { return _this.statusChangeCallback(response); });\n    };\n    SocialMediaListingComponent.prototype.statusChangeCallback = function (response) {\n        if (response.status === 'connected') {\n            this.getFbAlbums();\n        }\n        else {\n            this.fbLogin();\n        }\n    };\n    SocialMediaListingComponent.prototype.fbLogin = function () {\n        var _this = this;\n        this.FB.login({ scope: 'user_photos' }).\n            then(function (response) {\n            if (response.status === 'connected') {\n                _this.getFbAlbums();\n            }\n        });\n    };\n    SocialMediaListingComponent.prototype.setAlbum = function (resp) {\n        var _this = this;\n        if (resp && !resp.error) {\n            this.fbAlbums = [];\n            for (var i = 0; i < resp.data.length; i++) {\n                var albumId = resp.data[i].id;\n                this.FB.api('/' + albumId + '?fields=picture,name')\n                    .then(function (response) {\n                    _this.fbAlbums.push(response);\n                    _this.selectedAlbum = _this.fbAlbums[0];\n                    _this.showalbumImages(_this.selectedAlbum.id);\n                })\n                    .catch(function (e) { return console.log(e); });\n            }\n        }\n    };\n    SocialMediaListingComponent.prototype.getFbAlbums = function () {\n        var _this = this;\n        this.FB.api('/me').then(function (res) {\n            return _this.FB.api('/' + res.id + '/albums').then(function (resp) { return _this.setAlbum(resp); })\n                .catch(function (e) { return console.log(e); });\n        }).catch(function (e) { return console.log(e); });\n    };\n    SocialMediaListingComponent.prototype.setFbAlbumPhotos = function (res) {\n        var _this = this;\n        var url = 'socialmediaimport/Index/downloadAlbum', param = { data: res };\n        this.mainService.post(url, param, true).then(function (resp) {\n            // let data = JSON.parse(resp);\n            _this.setFBAlbumsPhotos(resp);\n        });\n    };\n    SocialMediaListingComponent.prototype.showalbumImages = function (id) {\n        var _this = this;\n        this.FB.api('/' + id + '/photos?fields=picture,source').then(function (res) {\n            return _this.setFbAlbumPhotos(res);\n        }).catch(function (e) { return console.log(e); });\n    };\n    SocialMediaListingComponent.prototype.setFBAlbumsPhotos = function (data) {\n        var imageData;\n        for (var i = 0; i < data.images.length; i++) {\n            imageData = {};\n            imageData.picture = data.images[i];\n            this.fbPhotos.push(imageData);\n        }\n    };\n    SocialMediaListingComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: '[social-media-listing]',\n            template: __webpack_require__(/*! ./social-media-listing.component.html */ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.html\"),\n            providers: [ngx_facebook__WEBPACK_IMPORTED_MODULE_6__[\"FacebookService\"]],\n            styles: [__webpack_require__(/*! ./social-media-listing.component.scss */ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ngx_facebook__WEBPACK_IMPORTED_MODULE_6__[\"FacebookService\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"NgZone\"],\n            src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_1__[\"AddImageService\"]])\n    ], SocialMediaListingComponent);\n    return SocialMediaListingComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/addons/modules/social-media-import/social-media-import.module.ts\":\n/*!**********************************************************************************!*\\\n  !*** ./src/app/addons/modules/social-media-import/social-media-import.module.ts ***!\n  \\**********************************************************************************/\n/*! exports provided: SocialMediaImportModule */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SocialMediaImportModule\", function() { return SocialMediaImportModule; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm5/common.js\");\n/* harmony import */ var _component_social_media_import_social_media_import_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component/social-media-import/social-media-import.component */ \"./src/app/addons/modules/social-media-import/component/social-media-import/social-media-import.component.ts\");\n/* harmony import */ var ngx_facebook__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-facebook */ \"./node_modules/ngx-facebook/dist/esm/index.js\");\n/* harmony import */ var _component_social_media_listing_social_media_listing_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./component/social-media-listing/social-media-listing.component */ \"./src/app/addons/modules/social-media-import/component/social-media-listing/social-media-listing.component.ts\");\n\n\n\n\n\n\nvar SocialMediaImportModule = /** @class */ (function () {\n    function SocialMediaImportModule() {\n    }\n    SocialMediaImportModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\n            declarations: [_component_social_media_import_social_media_import_component__WEBPACK_IMPORTED_MODULE_3__[\"SocialMediaImportComponent\"], _component_social_media_listing_social_media_listing_component__WEBPACK_IMPORTED_MODULE_5__[\"SocialMediaListingComponent\"]],\n            imports: [\n                _angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"],\n                ngx_facebook__WEBPACK_IMPORTED_MODULE_4__[\"FacebookModule\"].forRoot()\n            ],\n            exports: [_component_social_media_import_social_media_import_component__WEBPACK_IMPORTED_MODULE_3__[\"SocialMediaImportComponent\"], _component_social_media_listing_social_media_listing_component__WEBPACK_IMPORTED_MODULE_5__[\"SocialMediaListingComponent\"]]\n        })\n    ], SocialMediaImportModule);\n    return SocialMediaImportModule;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/app.component.html\":\n/*!************************************!*\\\n  !*** ./src/app/app.component.html ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div loader #loaderComponent></div>\\n<div class=\\\"byi-wrap\\\" (contextmenu)=\\\"rightClickEventCheck($event)\\\">\\n\\t<div name-number *ngIf=\\\"designService.mainService.nameNumber || designService.mainService.isGenerateSVGDesign\\\" [loadContent]=\\\"'adminNameNumber'\\\"></div>\\n    <header [hidden]=\\\"designService.mainService.nameNumber || designService.mainService.isGenerateSVGDesign\\\"></header>\\n    <div class=\\\"generate-image-block\\\" *ngIf=\\\"designService.mainService.isGenerateSVGDesign\\\">\\n         <button class=\\\"generate-image-btn\\\" (click)=\\\"designService.generateSVGDesign()\\\">Generate Image</button>\\n    </div>\\n    <div product-template></div>\\n    <div class=\\\"byi-designboard\\\">\\n     <tabs [hidden]=\\\"designService.mainService.nameNumber || designService.mainService.isGenerateSVGDesign\\\"></tabs>\\n     <design-area></design-area>\\n     <right-panel [hidden]=\\\"designService.mainService.nameNumber || designService.mainService.isGenerateSVGDesign\\\"></right-panel>\\n </div>\\n <translate></translate>\\n <footer [hidden]=\\\"designService.mainService.nameNumber || designService.mainService.isGenerateSVGDesign\\\"></footer>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/app.component.scss\":\n/*!************************************!*\\\n  !*** ./src/app/app.component.scss ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/app.component.ts\":\n/*!**********************************!*\\\n  !*** ./src/app/app.component.ts ***!\n  \\**********************************/\n/*! exports provided: AppComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AppComponent\", function() { return AppComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _services_design_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/design.service */ \"./src/app/services/design.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _services_canvas_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n\n\n\n\n\n\n\n\nvar AppComponent = /** @class */ (function () {\n    function AppComponent(designService, eventService, canvasService, translate) {\n        this.designService = designService;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.translate = translate;\n        this.title = 'basic';\n        this.data = [];\n        this.checkLandscape();\n    }\n    AppComponent.prototype.checkLandscape = function () {\n        var activeDom = document.activeElement.tagName;\n        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) && window.matchMedia(\"(orientation: landscape)\").matches && activeDom != 'INPUT') {\n            sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.fire({\n                customClass: 'potrait-mode-popup',\n                title: this.translate.instant(\"Alert\"),\n                text: this.translate.instant(\"Please select Portrait Mode to see Product Designer Tool in action.\"),\n                showConfirmButton: false,\n                allowOutsideClick: false\n            });\n            return;\n        }\n        else {\n            sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.close();\n        }\n    };\n    AppComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.subscribeEvents();\n        this.getColors();\n        this.eventService.$sub('windowResize', function () {\n            _this.checkLandscape();\n        });\n    };\n    AppComponent.prototype.getColors = function () {\n        var _this = this;\n        var params = {}, url = 'productdesigner/index/getColor', cacheKey = 'getColors' + this.designService.mainService.baseUrl;\n        this.designService.mainService.getData(url, params, cacheKey).then(function (colorData) {\n            _this.designService.mainService.colorData = colorData;\n            _this.eventService.$pub('getColors', (colorData));\n        }).catch(function (err) { return console.log(err); });\n    };\n    AppComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        // Subscribe product zoom\n        this.eventService.$sub('showMainLoader', function () {\n            _this.loaderComponent.showMainLoader = true;\n        });\n        // Subscribe product zoom\n        this.eventService.$sub('hideMainLoader', function () {\n            _this.loaderComponent.showMainLoader = false;\n        });\n    };\n    AppComponent.prototype.rightClickEventCheck = function (event) {\n        return false;\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\n    ], AppComponent.prototype, \"loaderComponent\", void 0);\n    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: 'app-root',\n            template: __webpack_require__(/*! ./app.component.html */ \"./src/app/app.component.html\"),\n            styles: [__webpack_require__(/*! ./app.component.scss */ \"./src/app/app.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_services_design_service__WEBPACK_IMPORTED_MODULE_3__[\"DesignService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"], _services_canvas_service__WEBPACK_IMPORTED_MODULE_5__[\"CanvasService\"], _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__[\"TranslateService\"]])\n    ], AppComponent);\n    return AppComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/app.module.ts\":\n/*!*******************************!*\\\n  !*** ./src/app/app.module.ts ***!\n  \\*******************************/\n/*! exports provided: HttpLoaderFactory, AppModule */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpLoaderFactory\", function() { return HttpLoaderFactory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AppModule\", function() { return AppModule; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ \"./node_modules/@angular/platform-browser/fesm5/platform-browser.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-bootstrap/tooltip */ \"./node_modules/ngx-bootstrap/tooltip/fesm5/ngx-bootstrap-tooltip.js\");\n/* harmony import */ var ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-bootstrap/modal */ \"./node_modules/ngx-bootstrap/modal/fesm5/ngx-bootstrap-modal.js\");\n/* harmony import */ var ngx_bootstrap_dropdown__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-bootstrap/dropdown */ \"./node_modules/ngx-bootstrap/dropdown/fesm5/ngx-bootstrap-dropdown.js\");\n/* harmony import */ var ngx_bootstrap_accordion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-bootstrap/accordion */ \"./node_modules/ngx-bootstrap/accordion/fesm5/ngx-bootstrap-accordion.js\");\n/* harmony import */ var node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! node_modules/@angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\n/* harmony import */ var ngx_bootstrap_tabs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-bootstrap/tabs */ \"./node_modules/ngx-bootstrap/tabs/fesm5/ngx-bootstrap-tabs.js\");\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common/http */ \"./node_modules/@angular/common/fesm5/http.js\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ngx-translate/http-loader */ \"./node_modules/@ngx-translate/http-loader/fesm5/ngx-translate-http-loader.js\");\n/* harmony import */ var ng_recaptcha__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ng-recaptcha */ \"./node_modules/ng-recaptcha/index.js\");\n/* harmony import */ var ng_recaptcha__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(ng_recaptcha__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _ngu_carousel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ngu/carousel */ \"./node_modules/@ngu/carousel/fesm5/ngu-carousel.js\");\n/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./app.component */ \"./src/app/app.component.ts\");\n/* harmony import */ var _essentials_components_header_header_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./essentials/components/header/header.component */ \"./src/app/essentials/components/header/header.component.ts\");\n/* harmony import */ var _essentials_components_products_products_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./essentials/components/products/products.component */ \"./src/app/essentials/components/products/products.component.ts\");\n/* harmony import */ var _essentials_components_preview_preview_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./essentials/components/preview/preview.component */ \"./src/app/essentials/components/preview/preview.component.ts\");\n/* harmony import */ var _essentials_components_save_design_save_design_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./essentials/components/save-design/save-design.component */ \"./src/app/essentials/components/save-design/save-design.component.ts\");\n/* harmony import */ var _essentials_components_download_download_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./essentials/components/download/download.component */ \"./src/app/essentials/components/download/download.component.ts\");\n/* harmony import */ var _common_components_customer_login_customer_login_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./common/components/customer-login/customer-login.component */ \"./src/app/common/components/customer-login/customer-login.component.ts\");\n/* harmony import */ var _essentials_components_tabs_tabs_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./essentials/components/tabs/tabs.component */ \"./src/app/essentials/components/tabs/tabs.component.ts\");\n/* harmony import */ var _essentials_components_footer_footer_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./essentials/components/footer/footer.component */ \"./src/app/essentials/components/footer/footer.component.ts\");\n/* harmony import */ var _essentials_components_design_area_design_area_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./essentials/components/design-area/design-area.component */ \"./src/app/essentials/components/design-area/design-area.component.ts\");\n/* harmony import */ var _essentials_components_image_sides_image_sides_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./essentials/components/image-sides/image-sides.component */ \"./src/app/essentials/components/image-sides/image-sides.component.ts\");\n/* harmony import */ var _essentials_components_cropper_cropper_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./essentials/components/cropper/cropper.component */ \"./src/app/essentials/components/cropper/cropper.component.ts\");\n/* harmony import */ var _essentials_components_clipart_clipart_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./essentials/components/clipart/clipart.component */ \"./src/app/essentials/components/clipart/clipart.component.ts\");\n/* harmony import */ var _essentials_components_plain_text_plain_text_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./essentials/components/plain-text/plain-text.component */ \"./src/app/essentials/components/plain-text/plain-text.component.ts\");\n/* harmony import */ var _essentials_components_image_upload_image_upload_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./essentials/components/image-upload/image-upload.component */ \"./src/app/essentials/components/image-upload/image-upload.component.ts\");\n/* harmony import */ var _essentials_components_background_color_background_color_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./essentials/components/background-color/background-color.component */ \"./src/app/essentials/components/background-color/background-color.component.ts\");\n/* harmony import */ var _essentials_components_product_options_product_options_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./essentials/components/product-options/product-options.component */ \"./src/app/essentials/components/product-options/product-options.component.ts\");\n/* harmony import */ var _essentials_components_font_font_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./essentials/components/font/font.component */ \"./src/app/essentials/components/font/font.component.ts\");\n/* harmony import */ var _essentials_components_right_panel_right_panel_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./essentials/components/right-panel/right-panel.component */ \"./src/app/essentials/components/right-panel/right-panel.component.ts\");\n/* harmony import */ var _essentials_components_common_tabs_common_tabs_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./essentials/components/common-tabs/common-tabs.component */ \"./src/app/essentials/components/common-tabs/common-tabs.component.ts\");\n/* harmony import */ var _common_components_image_effects_image_effects_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./common/components/image-effects/image-effects.component */ \"./src/app/common/components/image-effects/image-effects.component.ts\");\n/* harmony import */ var _essentials_components_my_designs_my_designs_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./essentials/components/my-designs/my-designs.component */ \"./src/app/essentials/components/my-designs/my-designs.component.ts\");\n/* harmony import */ var _premium_components_opacity_opacity_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./premium/components/opacity/opacity.component */ \"./src/app/premium/components/opacity/opacity.component.ts\");\n/* harmony import */ var _essentials_components_drop_shadow_drop_shadow_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./essentials/components/drop-shadow/drop-shadow.component */ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.ts\");\n/* harmony import */ var _essentials_components_designarea_controls_designarea_controls_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./essentials/components/designarea-controls/designarea-controls.component */ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.ts\");\n/* harmony import */ var _essentials_components_stroke_stroke_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./essentials/components/stroke/stroke.component */ \"./src/app/essentials/components/stroke/stroke.component.ts\");\n/* harmony import */ var _essentials_components_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./essentials/components/tooltip/tooltip.component */ \"./src/app/essentials/components/tooltip/tooltip.component.ts\");\n/* harmony import */ var _essentials_components_skew_skew_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./essentials/components/skew/skew.component */ \"./src/app/essentials/components/skew/skew.component.ts\");\n/* harmony import */ var _essentials_components_layer_management_layer_management_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./essentials/components/layer-management/layer-management.component */ \"./src/app/essentials/components/layer-management/layer-management.component.ts\");\n/* harmony import */ var _essentials_components_cart_cart_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./essentials/components/cart/cart.component */ \"./src/app/essentials/components/cart/cart.component.ts\");\n/* harmony import */ var _essentials_components_context_menu_context_menu_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./essentials/components/context-menu/context-menu.component */ \"./src/app/essentials/components/context-menu/context-menu.component.ts\");\n/* harmony import */ var _essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var _essentials_components_conf_product_attr_conf_product_attr_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./essentials/components/conf-product-attr/conf-product-attr.component */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.ts\");\n/* harmony import */ var _essentials_components_translate_translate_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./essentials/components/translate/translate.component */ \"./src/app/essentials/components/translate/translate.component.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var _essentials_components_object_position_object_position_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./essentials/components/object-position/object-position.component */ \"./src/app/essentials/components/object-position/object-position.component.ts\");\n/* harmony import */ var _essentials_components_custom_options_custom_options_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./essentials/components/custom-options/custom-options.component */ \"./src/app/essentials/components/custom-options/custom-options.component.ts\");\n/* harmony import */ var _essentials_components_price_price_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./essentials/components/price/price.component */ \"./src/app/essentials/components/price/price.component.ts\");\n/* harmony import */ var ngx_filesaver__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ngx-filesaver */ \"./node_modules/ngx-filesaver/fesm5/ngx-filesaver.js\");\n/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! @angular/platform-browser/animations */ \"./node_modules/@angular/platform-browser/fesm5/animations.js\");\n/* harmony import */ var _premium_components_object_alignment_position_object_alignment_position_component__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./premium/components/object-alignment-position/object-alignment-position.component */ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.ts\");\n/* harmony import */ var _addons_components_object_lock_object_lock_component__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./addons/components/object-lock/object-lock.component */ \"./src/app/addons/components/object-lock/object-lock.component.ts\");\n/* harmony import */ var _common_modules_custom_color_picker_custom_color_picker_module__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./common/modules/custom-color-picker/custom-color-picker.module */ \"./src/app/common/modules/custom-color-picker/custom-color-picker.module.ts\");\n/* harmony import */ var _premium_modules_social_media_sharing_social_media_sharing_module__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./premium/modules/social-media-sharing/social-media-sharing.module */ \"./src/app/premium/modules/social-media-sharing/social-media-sharing.module.ts\");\n/* harmony import */ var _addons_modules_social_media_import_social_media_import_module__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./addons/modules/social-media-import/social-media-import.module */ \"./src/app/addons/modules/social-media-import/social-media-import.module.ts\");\n/* harmony import */ var _essentials_components_placeholder_loader_placeholder_loader_component__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./essentials/components/placeholder-loader/placeholder-loader.component */ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.ts\");\n/* harmony import */ var ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ngx-infinite-scroll */ \"./node_modules/ngx-infinite-scroll/modules/ngx-infinite-scroll.es5.js\");\n/* harmony import */ var _premium_components_design_templates_design_templates_component__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./premium/components/design-templates/design-templates.component */ \"./src/app/premium/components/design-templates/design-templates.component.ts\");\n/* harmony import */ var _addons_components_printing_methods_printing_methods_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./addons/components/printing-methods/printing-methods.component */ \"./src/app/addons/components/printing-methods/printing-methods.component.ts\");\n/* harmony import */ var _premium_components_name_number_name_number_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./premium/components/name-number/name-number.component */ \"./src/app/premium/components/name-number/name-number.component.ts\");\n/* harmony import */ var _premium_components_distribute_vertical_horizontal_alignment_distribute_vertical_horizontal_alignment_component__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component */ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.ts\");\n/* harmony import */ var _premium_components_object_grouping_object_grouping_component__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./premium/components/object-grouping/object-grouping.component */ \"./src/app/premium/components/object-grouping/object-grouping.component.ts\");\n/* harmony import */ var _addons_modules_product_template_product_template_module__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./addons/modules/product-template/product-template.module */ \"./src/app/addons/modules/product-template/product-template.module.ts\");\n/* harmony import */ var _demostore_product_demo_product_demo_component__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./demostore/product-demo/product-demo.component */ \"./src/app/demostore/product-demo/product-demo.component.ts\");\n/* harmony import */ var _addons_components_three_d_preview_three_d_preview_component__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./addons/components/three-d-preview/three-d-preview.component */ \"./src/app/addons/components/three-d-preview/three-d-preview.component.ts\");\n/* harmony import */ var _premium_components_drag_drop_drag_drop_component__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./premium/components/drag-drop/drag-drop.component */ \"./src/app/premium/components/drag-drop/drag-drop.component.ts\");\n/* harmony import */ var _premium_components_background_patterns_background_patterns_component__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./premium/components/background-patterns/background-patterns.component */ \"./src/app/premium/components/background-patterns/background-patterns.component.ts\");\n/* harmony import */ var _premium_components_background_pattern_controls_background_pattern_controls_component__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./premium/components/background-pattern-controls/background-pattern-controls.component */ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.ts\");\n/* harmony import */ var _premium_components_image_slider_image_slider_component__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./premium/components/image-slider/image-slider.component */ \"./src/app/premium/components/image-slider/image-slider.component.ts\");\n/* harmony import */ var _premium_components_price_info_price_info_component__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./premium/components/price-info/price-info.component */ \"./src/app/premium/components/price-info/price-info.component.ts\");\n\n/* Modules */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Components */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Services */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction HttpLoaderFactory(httpClient) {\n    return new _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_12__[\"TranslateHttpLoader\"](httpClient);\n}\nvar AppModule = /** @class */ (function () {\n    function AppModule() {\n    }\n    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"NgModule\"])({\n            declarations: [\n                _app_component__WEBPACK_IMPORTED_MODULE_15__[\"AppComponent\"],\n                _essentials_components_header_header_component__WEBPACK_IMPORTED_MODULE_16__[\"HeaderComponent\"],\n                _essentials_components_products_products_component__WEBPACK_IMPORTED_MODULE_17__[\"ProductsComponent\"],\n                _essentials_components_preview_preview_component__WEBPACK_IMPORTED_MODULE_18__[\"PreviewComponent\"],\n                _essentials_components_save_design_save_design_component__WEBPACK_IMPORTED_MODULE_19__[\"SaveDesignComponent\"],\n                _essentials_components_download_download_component__WEBPACK_IMPORTED_MODULE_20__[\"DownloadComponent\"],\n                _common_components_customer_login_customer_login_component__WEBPACK_IMPORTED_MODULE_21__[\"CustomerLoginComponent\"],\n                _essentials_components_tabs_tabs_component__WEBPACK_IMPORTED_MODULE_22__[\"TabsComponent\"],\n                _essentials_components_footer_footer_component__WEBPACK_IMPORTED_MODULE_23__[\"FooterComponent\"],\n                _essentials_components_design_area_design_area_component__WEBPACK_IMPORTED_MODULE_24__[\"DesignAreaComponent\"],\n                _essentials_components_image_sides_image_sides_component__WEBPACK_IMPORTED_MODULE_25__[\"ImageSidesComponent\"],\n                _essentials_components_clipart_clipart_component__WEBPACK_IMPORTED_MODULE_27__[\"ClipartComponent\"],\n                _essentials_components_plain_text_plain_text_component__WEBPACK_IMPORTED_MODULE_28__[\"PlainTextComponent\"],\n                _essentials_components_image_upload_image_upload_component__WEBPACK_IMPORTED_MODULE_29__[\"ImageUploadComponent\"],\n                _essentials_components_background_color_background_color_component__WEBPACK_IMPORTED_MODULE_30__[\"BackgroundColorComponent\"],\n                _essentials_components_product_options_product_options_component__WEBPACK_IMPORTED_MODULE_31__[\"ProductOptionsComponent\"],\n                _essentials_components_font_font_component__WEBPACK_IMPORTED_MODULE_32__[\"FontComponent\"],\n                _essentials_components_right_panel_right_panel_component__WEBPACK_IMPORTED_MODULE_33__[\"RightPanelComponent\"],\n                _essentials_components_common_tabs_common_tabs_component__WEBPACK_IMPORTED_MODULE_34__[\"CommonTabsComponent\"],\n                _common_components_image_effects_image_effects_component__WEBPACK_IMPORTED_MODULE_35__[\"ImageEffectsComponent\"],\n                _essentials_components_my_designs_my_designs_component__WEBPACK_IMPORTED_MODULE_36__[\"MyDesignsComponent\"],\n                _premium_components_opacity_opacity_component__WEBPACK_IMPORTED_MODULE_37__[\"OpacityComponent\"],\n                _essentials_components_drop_shadow_drop_shadow_component__WEBPACK_IMPORTED_MODULE_38__[\"DropShadowComponent\"],\n                _essentials_components_designarea_controls_designarea_controls_component__WEBPACK_IMPORTED_MODULE_39__[\"DesignareaControlsComponent\"],\n                _essentials_components_stroke_stroke_component__WEBPACK_IMPORTED_MODULE_40__[\"StrokeComponent\"],\n                _essentials_components_cropper_cropper_component__WEBPACK_IMPORTED_MODULE_26__[\"CropperComponent\"],\n                _essentials_components_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_41__[\"TooltipComponent\"],\n                _essentials_components_skew_skew_component__WEBPACK_IMPORTED_MODULE_42__[\"SkewComponent\"],\n                _essentials_components_layer_management_layer_management_component__WEBPACK_IMPORTED_MODULE_43__[\"LayerManagementComponent\"],\n                _essentials_components_cart_cart_component__WEBPACK_IMPORTED_MODULE_44__[\"CartComponent\"],\n                _essentials_components_context_menu_context_menu_component__WEBPACK_IMPORTED_MODULE_45__[\"ContextMenuComponent\"],\n                _essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_46__[\"LoaderComponent\"],\n                _essentials_components_object_position_object_position_component__WEBPACK_IMPORTED_MODULE_50__[\"ObjectPositionComponent\"],\n                _essentials_components_custom_options_custom_options_component__WEBPACK_IMPORTED_MODULE_51__[\"CustomOptionsComponent\"],\n                _essentials_components_conf_product_attr_conf_product_attr_component__WEBPACK_IMPORTED_MODULE_47__[\"ConfProductAttrComponent\"],\n                _essentials_components_price_price_component__WEBPACK_IMPORTED_MODULE_52__[\"PriceComponent\"],\n                _essentials_components_translate_translate_component__WEBPACK_IMPORTED_MODULE_48__[\"TranslateComponent\"],\n                _addons_components_object_lock_object_lock_component__WEBPACK_IMPORTED_MODULE_56__[\"ObjectLockComponent\"],\n                _premium_components_object_alignment_position_object_alignment_position_component__WEBPACK_IMPORTED_MODULE_55__[\"ObjectAlignmentPositionComponent\"],\n                _essentials_components_placeholder_loader_placeholder_loader_component__WEBPACK_IMPORTED_MODULE_60__[\"PlaceholderLoaderComponent\"],\n                _premium_components_design_templates_design_templates_component__WEBPACK_IMPORTED_MODULE_62__[\"DesignTemplatesComponent\"],\n                _addons_components_printing_methods_printing_methods_component__WEBPACK_IMPORTED_MODULE_63__[\"PrintingMethodsComponent\"],\n                _premium_components_name_number_name_number_component__WEBPACK_IMPORTED_MODULE_64__[\"NameNumberComponent\"],\n                _premium_components_distribute_vertical_horizontal_alignment_distribute_vertical_horizontal_alignment_component__WEBPACK_IMPORTED_MODULE_65__[\"DistributeVerticalHorizontalAlignmentComponent\"],\n                _premium_components_object_grouping_object_grouping_component__WEBPACK_IMPORTED_MODULE_66__[\"ObjectGroupingComponent\"],\n                _demostore_product_demo_product_demo_component__WEBPACK_IMPORTED_MODULE_68__[\"ProductDemoComponent\"],\n                _addons_components_three_d_preview_three_d_preview_component__WEBPACK_IMPORTED_MODULE_69__[\"ThreeDPreviewComponent\"],\n                _premium_components_drag_drop_drag_drop_component__WEBPACK_IMPORTED_MODULE_70__[\"DragDropComponent\"],\n                _premium_components_background_patterns_background_patterns_component__WEBPACK_IMPORTED_MODULE_71__[\"BackgroundPatternsComponent\"],\n                _premium_components_background_pattern_controls_background_pattern_controls_component__WEBPACK_IMPORTED_MODULE_72__[\"BackgroundPatternControlsComponent\"],\n                _premium_components_image_slider_image_slider_component__WEBPACK_IMPORTED_MODULE_73__[\"ImageSliderComponent\"],\n                _premium_components_price_info_price_info_component__WEBPACK_IMPORTED_MODULE_74__[\"PriceInfoComponent\"]\n            ],\n            imports: [\n                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__[\"BrowserModule\"],\n                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_54__[\"BrowserAnimationsModule\"],\n                _ngu_carousel__WEBPACK_IMPORTED_MODULE_14__[\"NguCarouselModule\"],\n                ngx_bootstrap_tabs__WEBPACK_IMPORTED_MODULE_9__[\"TabsModule\"].forRoot(),\n                angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubModule\"].forRoot(),\n                node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_8__[\"FormsModule\"],\n                node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_8__[\"ReactiveFormsModule\"],\n                ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_4__[\"TooltipModule\"].forRoot(),\n                ngx_bootstrap_dropdown__WEBPACK_IMPORTED_MODULE_6__[\"BsDropdownModule\"].forRoot(),\n                ngx_bootstrap_accordion__WEBPACK_IMPORTED_MODULE_7__[\"AccordionModule\"].forRoot(),\n                ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_5__[\"ModalModule\"].forRoot(),\n                _angular_common_http__WEBPACK_IMPORTED_MODULE_10__[\"HttpClientModule\"],\n                _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__[\"TranslateModule\"].forRoot({\n                    loader: {\n                        provide: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__[\"TranslateLoader\"],\n                        useFactory: HttpLoaderFactory,\n                        deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_10__[\"HttpClient\"]]\n                    }\n                }),\n                ngx_filesaver__WEBPACK_IMPORTED_MODULE_53__[\"FileSaverModule\"],\n                _common_modules_custom_color_picker_custom_color_picker_module__WEBPACK_IMPORTED_MODULE_57__[\"CustomColorPickerModule\"],\n                _premium_modules_social_media_sharing_social_media_sharing_module__WEBPACK_IMPORTED_MODULE_58__[\"SocialMediaSharingModule\"],\n                _addons_modules_social_media_import_social_media_import_module__WEBPACK_IMPORTED_MODULE_59__[\"SocialMediaImportModule\"],\n                ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_61__[\"InfiniteScrollModule\"],\n                _addons_modules_product_template_product_template_module__WEBPACK_IMPORTED_MODULE_67__[\"ProductTemplateModule\"],\n                ng_recaptcha__WEBPACK_IMPORTED_MODULE_13__[\"RecaptchaModule\"]\n            ],\n            providers: [\n                ng2_cache__WEBPACK_IMPORTED_MODULE_49__[\"CacheService\"],\n                { provide: ng2_cache__WEBPACK_IMPORTED_MODULE_49__[\"CacheStorageAbstract\"], useClass: ng2_cache__WEBPACK_IMPORTED_MODULE_49__[\"CacheLocalStorage\"] }\n            ],\n            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_15__[\"AppComponent\"]]\n        })\n    ], AppModule);\n    return AppModule;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/common/components/customer-login/customer-login.component.html\":\n/*!********************************************************************************!*\\\n  !*** ./src/app/common/components/customer-login/customer-login.component.html ***!\n  \\********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<button *ngIf=\\\"mainService.isAdmin == false\\\" (click)=\\\"openModal()\\\" class=\\\"byiu-right-icon\\\"\\n  [class.byiu-logout-icon]=\\\"mainService.userLoggedIn === true\\\" type=\\\"button\\\"\\n  tooltip=\\\"{{(mainService.userLoggedIn === true) ? 'Logout' : 'Customer Login' | translate}}\\\" placement=\\\"bottom\\\">\\n  <svg class=\\\"icon icon-user\\\" *ngIf=\\\"mainService.userLoggedIn === false\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-user\\\"></use>\\n  </svg>\\n  <svg class=\\\"icon icon-logout\\\" *ngIf=\\\"mainService.userLoggedIn === true\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-logout\\\"></use>\\n  </svg>\\n</button>\\n\\n<!-- Login Form Modal -->\\n<ng-template #loginModal>\\n  <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"loginCustomer()\\\">\\n\\n    <!-- Modal header section -->\\n    <div class=\\\"modal-header\\\">\\n      <h4 class=\\\"modal-title pull-left\\\">{{'Customer Login' | translate}}</h4>\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closeModal()\\\">\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\n      </button>\\n    </div>\\n\\n    <!-- Modal body section -->\\n    <div class=\\\"modal-body\\\">\\n      <div class=\\\"byi-login-tab\\\">\\n        <div class=\\\"byi-float-form\\\">\\n\\n          <!-- Login Email Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Email' | translate}}*</label>\\n            <input type=\\\"text\\\" name=\\\"loginEmail\\\" [(ngModel)]=\\\"loginEmail\\\" placeholder=\\\"{{'Email' | translate}}\\\"\\n              formControlName=\\\"loginEmail\\\" [ngClass]=\\\"{ 'is-invalid': submitted && lf.loginEmail.errors }\\\" />\\n            <!-- Login Email Error Message -->\\n            <div *ngIf=\\\"submitted && lf.loginEmail.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"lf.loginEmail.errors.required\\\">{{'Email is required' | translate}}</ng-container>\\n              <ng-container *ngIf=\\\"lf.loginEmail.errors.email\\\">{{'Invalid Email' | translate}}</ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Login Password Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Password' | translate}}*</label>\\n            <input type=\\\"password\\\" name=\\\"loginPassword\\\" [(ngModel)]=\\\"loginPassword\\\"\\n              placeholder=\\\"{{'Password' | translate}}\\\" formControlName=\\\"loginPassword\\\"\\n              [ngClass]=\\\"{ 'is-invalid': lf.loginPassword.errors }\\\" />\\n\\n            <!-- Login Password Error -->\\n            <div *ngIf=\\\"submitted && lf.loginPassword.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"lf.loginPassword.errors.required\\\">{{'Password is required' | translate}}\\n              </ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Button Section -->\\n          <div class=\\\"byi-form-action\\\">\\n            <button class=\\\"byi-btn\\\" type=\\\"submit\\\">{{'Login' | translate}}</button>\\n            <p class=\\\"byifa-link\\\">\\n              <a class=\\\"register-popup\\\" href=\\\"javascript:void(0)\\\"\\n                (click)=\\\"openModal(true,isSave)\\\">{{'Create An Account' | translate}}</a>\\n            </p>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <!-- End of modal body -->\\n  </form>\\n</ng-template>\\n\\n<!-- Registration Form Modal -->\\n<ng-template #registerModal>\\n  <form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"registerCustomer()\\\">\\n\\n    <!-- Modal header section -->\\n    <div class=\\\"modal-header\\\">\\n      <h4 class=\\\"modal-title pull-left\\\">{{'Customer Registration' | translate}}</h4>\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closeModal()\\\">\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\n      </button>\\n    </div>\\n\\n    <!-- Modal body section -->\\n    <div class=\\\"modal-body\\\">\\n      <div class=\\\"byi-login-tab\\\">\\n        <div class=\\\"byi-float-form\\\">\\n\\n          <!-- First Name Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'First Name' | translate}}*</label>\\n            <input type=\\\"text\\\" name=\\\"firstName\\\" [(ngModel)]=\\\"firstName\\\" placeholder=\\\"{{'First Name' | translate}}\\\"\\n              formControlName=\\\"firstName\\\" [ngClass]=\\\"{ 'is-invalid': submitted && rf.firstName.errors }\\\" />\\n            <!-- First Name Error Message -->\\n            <div *ngIf=\\\"submitted && rf.firstName.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"rf.firstName.errors.required\\\">{{'First Name is required' | translate}}</ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Last Name Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Last Name' | translate}}*</label>\\n            <input type=\\\"text\\\" name=\\\"lastName\\\" [(ngModel)]=\\\"lastName\\\" placeholder=\\\"{{'Last Name' | translate}}\\\"\\n              formControlName=\\\"lastName\\\" [ngClass]=\\\"{ 'is-invalid': submitted && rf.lastName.errors }\\\" />\\n\\n            <!-- Last Name Error Message -->\\n            <div *ngIf=\\\"submitted && rf.lastName.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"rf.lastName.errors.required\\\">{{'Last Name is required' | translate}}</ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Registration Email Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Email' | translate}}*</label>\\n            <input type=\\\"text\\\" name=\\\"email\\\" [(ngModel)]=\\\"email\\\" placeholder=\\\"{{'Email' | translate}}\\\"\\n              formControlName=\\\"email\\\" [ngClass]=\\\"{ 'is-invalid': submitted && rf.email.errors }\\\" />\\n\\n            <!-- Registration Email Error Message -->\\n            <div *ngIf=\\\"submitted && rf.email.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"rf.email.errors.required\\\">{{'Email is required' | translate}}</ng-container>\\n              <ng-container *ngIf=\\\"rf.email.errors.email\\\">{{'Invalid Email' | translate}}</ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Signup for newsletter section -->\\n          <div class=\\\"byi-float-checkbox\\\">\\n            <label class=\\\"byi-checkbox\\\">\\n              <input name=\\\"newsletter\\\" type=\\\"checkbox\\\" (click)=\\\"isSubscribe = !isSubscribe\\\">\\n              <span></span>\\n              {{'Sign Up for Newsletter' | translate}}\\n            </label>\\n          </div>\\n\\n          <!-- Password Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Password' | translate}}*</label>\\n            <input type=\\\"password\\\" name=\\\"password\\\" [(ngModel)]=\\\"password\\\" placeholder=\\\"{{'Password' | translate}}\\\"\\n              formControlName=\\\"password\\\" [ngClass]=\\\"{ 'is-invalid': rf.password.errors }\\\" />\\n\\n            <!-- Password Error -->\\n            <div *ngIf=\\\"submitted && rf.password.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"rf.password.errors.required\\\">{{'Password is required' | translate}}</ng-container>\\n              <ng-container *ngIf=\\\"rf.password.errors.minlength\\\">\\n                {{'Minimum length of this field must be equal or greater than 8 symbols' | translate}}\\n              </ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Confirm Password Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Confirm Password' | translate}}*</label>\\n            <input type=\\\"password\\\" name=\\\"confirmPassword\\\" [(ngModel)]=\\\"confirmPassword\\\"\\n              placeholder=\\\"{{'Confirm Password' | translate}}\\\" formControlName=\\\"confirmPassword\\\"\\n              [ngClass]=\\\"{ 'is-invalid': rf.confirmPassword.errors }\\\" />\\n\\n            <!-- Confirm Password Error -->\\n            <div *ngIf=\\\"submitted && rf.confirmPassword.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"rf.confirmPassword.errors.required\\\">{{'Confirm Password is required' | translate}}\\n              </ng-container>\\n              <ng-container *ngIf=\\\"rf.confirmPassword.errors.mustMatch\\\">\\n                {{'Confirm Password must match with password field' | translate}}\\n              </ng-container>\\n            </div>\\n          </div>\\n\\n          <!-- Button Section -->\\n          <div class=\\\"byi-form-action\\\">\\n            <button class=\\\"byi-btn\\\" type=\\\"submit\\\">{{'Sign Up' | translate}}</button>\\n            <p class=\\\"byifa-link\\\">\\n              <a href=\\\"javascript:void(0)\\\" (click)=\\\"openModal(false,isSave)\\\">{{'Back' | translate}}</a>\\n            </p>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <!-- End of Modal header section -->\\n  </form>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/common/components/customer-login/customer-login.component.scss\":\n/*!********************************************************************************!*\\\n  !*** ./src/app/common/components/customer-login/customer-login.component.scss ***!\n  \\********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbW1vbi9jb21wb25lbnRzL2N1c3RvbWVyLWxvZ2luL2N1c3RvbWVyLWxvZ2luLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/common/components/customer-login/customer-login.component.ts\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/common/components/customer-login/customer-login.component.ts ***!\n  \\******************************************************************************/\n/*! exports provided: CustomerLoginComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomerLoginComponent\", function() { return CustomerLoginComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\n/* harmony import */ var src_app_helper_must_match_validator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/_helper/must-match.validator */ \"./src/app/_helper/must-match.validator.ts\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n\n\n\n\n\n\n\n\n\nvar CustomerLoginComponent = /** @class */ (function () {\n    function CustomerLoginComponent(eventService, formBuilder, mainService, translate, cdr, canvasService) {\n        this.eventService = eventService;\n        this.formBuilder = formBuilder;\n        this.mainService = mainService;\n        this.translate = translate;\n        this.cdr = cdr;\n        this.canvasService = canvasService;\n        this.submitted = false;\n        this.isSubscribe = false;\n        this.isSave = false;\n    }\n    /**\n     * Init Actions\n     */\n    CustomerLoginComponent.prototype.ngOnInit = function () {\n        this.init();\n        this.subscribeEvents();\n        this.checkForCustomerLogin();\n    };\n    /**\n     * This method check for customer whether it is login or not\n     * @return {[type]} [description]\n     */\n    CustomerLoginComponent.prototype.checkForCustomerLogin = function () {\n        var _this = this;\n        // prepare url and payload\n        var url = 'productdesigner/Customer/checkForLogin', param = {};\n        // hit post request\n        this.mainService.post(url, param, true).then(function (resp) {\n            // if customer is logged in\n            if (resp && resp.status == \"success\") {\n                if (resp.customer_login) {\n                    _this.mainService.userLoggedIn = true;\n                    _this.eventService.$pub('customerLoggedIn', false);\n                    _this.mainService.loggedInUserId = resp.customer_id;\n                }\n            }\n        }).catch(function (err) {\n            console.log(_this.translate.instant(\"Error in logging in: \"), err);\n        });\n    };\n    /**\n     *\n     */\n    CustomerLoginComponent.prototype.init = function () {\n        this.passwordMinLength = 8;\n        this.initFormGroup();\n        this.initData();\n    };\n    /**\n     * Prepare register and login form group objects\n     */\n    CustomerLoginComponent.prototype.initFormGroup = function () {\n        // register form builder\n        this.registerForm = this.formBuilder.group({\n            firstName: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required],\n            lastName: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required],\n            email: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].email]],\n            subscribe: [''],\n            password: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].minLength(this.passwordMinLength)]],\n            confirmPassword: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required]]\n        }, {\n            validator: Object(src_app_helper_must_match_validator__WEBPACK_IMPORTED_MODULE_6__[\"MustMatch\"])('password', 'confirmPassword')\n        });\n        // Login form builder\n        this.loginForm = this.formBuilder.group({\n            loginEmail: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].email]],\n            loginPassword: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"Validators\"].required]\n        });\n    };\n    /**\n     * Subscribe events\n     */\n    CustomerLoginComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        if (!this.eventService.events.openLoginModal) {\n            this.eventService.$sub('openLoginModal').subscribe(function (isSave) { return _this.openModal(false, isSave); });\n        }\n    };\n    /**\n     * Open Modal\n     * @param isReg\n     */\n    CustomerLoginComponent.prototype.openModal = function (isReg, isSave) {\n        if (isReg === void 0) { isReg = false; }\n        if (isSave === void 0) { isSave = false; }\n        // save design flag\n        this.isSave = isSave;\n        // if user already logged in\n        if (this.mainService.userLoggedIn === true) {\n            this.mainService.logout();\n            this.mainService.lastSavedData = [];\n            return;\n        }\n        // set submitted flag to false to hide error message from current modal\n        this.submitted = false;\n        // determine template object based in isReg parametere\n        var template = (isReg === false) ? this.loginModalTemplate : this.registerModalTemplate, \n        // determine modal class based on isReg parameter\n        modalClass = (isReg === false) ? \"byi-login-modal\" : \"byi-register:modal\";\n        // if modalRef is already there, ie. if modal is already open, close it first\n        // this happens when clicking on Register button in login popup\n        if (this.modalRef != undefined)\n            this.closeModal();\n        // open modal\n        this.modalRef = this.mainService.openThisModal(template, modalClass);\n    };\n    /**\n     * Reset\n     */\n    CustomerLoginComponent.prototype.initData = function () {\n        // as subscribe for newsletters is not form control object\n        // we manually need to set it false\n        this.loginEmail = '';\n        this.loginPassword = '';\n        this.firstName = '';\n        this.lastName = '';\n        this.email = '';\n        this.password = '';\n        this.confirmPassword = '';\n        this.isSubscribe = false;\n    };\n    /**\n     * When user hits on login button\n     */\n    CustomerLoginComponent.prototype.loginCustomer = function () {\n        var _this = this;\n        // set flag\n        this.submitted = true;\n        // stop here if form is invalid\n        if (this.loginForm.invalid) {\n            return;\n        }\n        // prepare url and payload\n        var url = 'productdesigner/Customer/login', param = {\n            customer_email: this.loginEmail,\n            customer_password: this.loginPassword\n        };\n        // hit post request\n        this.mainService.post(url, param, true).then(function (resp) {\n            // if login was successfull\n            if (resp && resp.status == \"success\") {\n                _this.setCustomerLoginData(resp);\n                if (!_this.isSave) {\n                    _this.mainService.swal(_this.translate.instant(\"Success\"), _this.translate.instant(\"Logged in successfully\"), 'success').finally(function () { return _this.closeModal(); });\n                }\n                else {\n                    _this.closeModal();\n                }\n                _this.init();\n                _this.eventService.$pub('customerLoggedIn', _this.isSave);\n            }\n            // if something went wrong with login process\n            else {\n                var msg = resp.log;\n                if (msg.lastIndexOf(\"-\") >= 0)\n                    msg = msg.substr(msg.lastIndexOf(\"-\") + 2);\n                _this.mainService.swal(_this.translate.instant(\"Error\"), _this.translate.instant(msg), 'error');\n            }\n        }).catch(function (err) {\n            console.log(_this.translate.instant(\"Error in logging in: \"), err);\n        });\n    };\n    /**\n     * When user hits on register button\n     */\n    CustomerLoginComponent.prototype.registerCustomer = function () {\n        var _this = this;\n        // set flag to true for displaying error message(if any)\n        this.submitted = true;\n        // if form is invalid, return from here\n        if (this.registerForm.invalid) {\n            return;\n        }\n        // prepare url and payload\n        var url = \"productdesigner/Customer/Register\", param = {\n            firstname: this.firstName,\n            lastname: this.lastName,\n            email: this.email,\n            password: this.password,\n            password_confirmation: this.confirmPassword,\n            isSubscribed: this.isSubscribe,\n            customer_action: 'registration'\n        };\n        // hit post request\n        this.mainService.post(url, param, true).then(function (resp) {\n            // if registration was successfull\n            if (resp && resp.status == \"success\") {\n                _this.setCustomerLoginData(resp);\n                if (!_this.isSave) {\n                    _this.mainService.swal(_this.translate.instant(\"Registered\"), _this.translate.instant(\"Registered Successfully!\"), \"success\").finally(function () { return _this.closeModal(); });\n                }\n                else {\n                    _this.closeModal();\n                }\n                _this.init();\n                _this.eventService.$pub('customerLoggedIn', _this.isSave);\n            }\n            // if registration failed\n            else {\n                var errorMsg = resp.message;\n                //if (errorMsg.lastIndexOf(\"-\") >= 0) errorMsg.substr(errorMsg.lastIndexOf(\"-\") + 2);\n                _this.mainService.swal(\"Error\", errorMsg, \"error\");\n            }\n        }).catch(function (err) {\n            console.log(_this.translate.instant(\"Error in registering user: \"), err);\n        });\n    };\n    /**\n     * After successfully loggedin/registered, we will set logged in user's data\n     *\n     * @param resp response object\n     */\n    CustomerLoginComponent.prototype.setCustomerLoginData = function (resp) {\n        this.submitted = false;\n        this.mainService.userLoggedIn = true;\n        this.mainService.loggedInUserId = resp.customer_id;\n    };\n    /**\n     * Close Modal\n     */\n    CustomerLoginComponent.prototype.closeModal = function () {\n        this.modalRef.hide();\n    };\n    Object.defineProperty(CustomerLoginComponent.prototype, \"lf\", {\n        // get control object for login form\n        get: function () { return this.loginForm.controls; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CustomerLoginComponent.prototype, \"rf\", {\n        // get control object for register form\n        get: function () { return this.registerForm.controls; },\n        enumerable: true,\n        configurable: true\n    });\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ViewChild\"])('loginModal'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], CustomerLoginComponent.prototype, \"loginModalTemplate\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ViewChild\"])('registerModal'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], CustomerLoginComponent.prototype, \"registerModalTemplate\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ViewChild\"])(\"loaderComponent\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\n    ], CustomerLoginComponent.prototype, \"loaderComponent\", void 0);\n    CustomerLoginComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"Component\"])({\n            selector: '[customer-login]',\n            template: __webpack_require__(/*! ./customer-login.component.html */ \"./src/app/common/components/customer-login/customer-login.component.html\"),\n            styles: [__webpack_require__(/*! ./customer-login.component.scss */ \"./src/app/common/components/customer-login/customer-login.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"],\n            _angular_forms__WEBPACK_IMPORTED_MODULE_5__[\"FormBuilder\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__[\"TranslateService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ChangeDetectorRef\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_8__[\"CanvasService\"]])\n    ], CustomerLoginComponent);\n    return CustomerLoginComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/common/components/image-effects/image-effects.component.html\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/common/components/image-effects/image-effects.component.html ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<accordion-group [isOpen]=\\\"openAccordian\\\" class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive && !isSvgColorsDisplay\\\" [hidden]=\\\"componentHide\\\">\\n   <button class=\\\"byi-accordion-title\\\" accordion-heading>\\n      <span>{{'Image Filters' | translate}}</span>\\n   </button>\\n   <div class=\\\"byi-accord-content\\\">\\n      <ng-container [ngTemplateOutlet]=\\\"imageFilterRef\\\"></ng-container>\\n   </div>\\n</accordion-group>\\n\\n<accordion-group [isOpen]=\\\"openAccordianEffect\\\" class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [hidden]=\\\"componentHide\\\">\\n   <button class=\\\"byi-accordion-title\\\" accordion-heading>\\n      <span>{{'Image Effects' | translate}}</span>\\n   </button>\\n   <div class=\\\"byi-accord-content\\\">\\n      <ng-container [ngTemplateOutlet]=\\\"imageEffectsRef\\\"></ng-container>\\n   </div>\\n</accordion-group>\\n\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('image-effects') && !isSvgColorsDisplay\\\" [attr.hidden]=\\\"componentHide\\\" [customClass]=\\\"'isResponsiveTab'\\\">\\n   <ng-template tabHeading>\\n      <span>{{'Image Filters' | translate}}</span>\\n   </ng-template>\\n   <ng-container [ngTemplateOutlet]=\\\"imageFilterRef\\\"></ng-container>\\n</tab>\\n\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('image-effects')\\\" [attr.hidden]=\\\"componentHide\\\" [customClass]=\\\"'isResponsiveTab'\\\">\\n   <ng-template tabHeading>\\n      <span>{{'Image Effects' | translate}}</span>\\n   </ng-template>\\n   <ng-container [ngTemplateOutlet]=\\\"imageEffectsRef\\\"></ng-container>\\n</tab>\\n\\n<ng-template #imageFilterRef>\\n   <div loader #loaderComponent></div>\\n\\n   <!-- For JPG,JPEG,PNG Image -->\\n   <div class=\\\"byi-tab-cats byi-img-effect\\\" *ngIf=\\\"displayEffects\\\"\\n      [ngClass]=\\\"displayEffects ? '' : 'disabled'\\\">\\n      <ul>\\n         <ng-container *ngFor=\\\"let effect of imageEffects; let i = index\\\">\\n            <li *ngIf=\\\"effect.is_filter == 1\\\">\\n               <a class=\\\"image-with-text\\\" [class.selected]=\\\"effectArray.indexOf(effect.effect_name) > -1\\\"\\n                  href=\\\"javascript:void(0)\\\" (click)=\\\"changeEffect(effect.effect_name)\\\">\\n                  <span><img src=\\\"{{effect.effect_image}}\\\"></span>\\n                  <label>{{effect.effect_name}}</label>\\n               </a>\\n               <div class=\\\"byi-effect-slider\\\"\\n                  *ngIf=\\\"effect.slider_value != null && effectArray.indexOf(effect.effect_name) > -1\\\">\\n                  <input class=\\\"slider\\\" value=\\\"effect.slider_value\\\" [(ngModel)]=\\\"sliderValue[effect.effect_name]\\\"\\n                     (ngModelChange)=changeSlider(effect.effect_name,$event,i) [max]=\\\"effect.max\\\" [min]=\\\"effect.min\\\"\\n                     [step]=\\\"effect.step\\\" type=\\\"range\\\">\\n               </div>\\n            </li>\\n         </ng-container>\\n      </ul>\\n   </div>\\n   <!-- END For JPG,JPEG,PNG Image -->\\n</ng-template>\\n\\n<ng-template #imageEffectsRef>\\n   <div loader #loaderComponent></div>\\n\\n   <!-- For JPG,JPEG,PNG Image -->\\n   <div class=\\\"byi-tab-cats byi-img-filters\\\" *ngIf=\\\"displayEffects\\\"\\n      [ngClass]=\\\"displayEffects ? '' : 'disabled'\\\">\\n      \\n      <!-- For image effects slider -->\\n      <div class=\\\"byie-option\\\">\\n         <div class=\\\"byi-range-box byi-range-color byie-count-wrap\\\"  [ngClass]=\\\"{'active': selectedResponsiveItem == effect && mainService.isResponsive}\\\" (click)=\\\"activeEffect(effect)\\\" *ngFor=\\\"let effect of imageEffects; let i = index\\\">\\n            <ng-container *ngIf=\\\"effect.is_filter == 0\\\">\\n               <label>\\n                  <svg attr.class=\\\"byi-effect-icon icon icon-{{effect.effect_name}}\\\" viewBox=\\\"0 0 30 30\\\">\\n                     <use attr.xlink:href=\\\"assets/img/sprite.svg#icon-{{effect.effect_name}}\\\"></use>\\n                  </svg>\\n                  <span>{{effect.effect_name}}</span>\\n               </label>\\n               <div class=\\\"byi-range-box-filter\\\">\\n                  <div class=\\\"byi-rb-input\\\">\\n                     <span class=\\\"byie-count\\\">{{(sliderValue[effect.effect_name]).toFixed(2)}}</span>\\n                     <input type=\\\"range\\\" value=\\\"effect.slider_value\\\" [(ngModel)]=\\\"sliderValue[effect.effect_name]\\\"\\n                        (ngModelChange)=changeSlider(effect.effect_name,$event,i) [max]=\\\"effect.max\\\" [min]=\\\"effect.min\\\"\\n                        [step]=\\\"effect.step\\\" class=\\\"slider\\\">\\n                  </div>\\n                  <button class=\\\"byi-range-reset-link\\\" (click)=\\\"resetEffects(effect.effect_name)\\\"\\n                     tooltip=\\\"{{'Reset' | translate}}\\\">\\n                     <svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n                     </svg>\\n                  </button>\\n               </div>\\n            </ng-container>\\n         </div>\\n      </div>\\n      <!-- End For image effects slider -->\\n\\n   </div>\\n   <!-- END For JPG,JPEG,PNG Image -->\\n\\n   <!-- For SVG Image -->\\n   <div class=\\\"byie-option\\\" *ngIf=\\\"loaderComponent.showSubLoader === false && isSvgColorsDisplay\\\">\\n      <div class=\\\"byi-colors-list byi-imagecolor-list\\\" #colorContainer>\\n         <ul #svgColorContainer id='ul'>\\n            <li class=\\\"byic_color_action\\\" [style.background]=\\\"color\\\" (click)=\\\"colorPickerToggle(color, $event);\\\"\\n               *ngFor=\\\"let color of svgColorArr; let i = index\\\" [id]=\\\"'id_' + i\\\">\\n            </li>\\n         </ul>\\n         <div *ngIf=\\\"!mainService.isResponsive\\\" id='picker' class=\\\"byic-colors-select byic-shadow-colors\\\"\\n            [attr.hidden]=\\\"hideColorToggle ? true : null\\\" [ngClass]=\\\"(isLeft) ? 'open-left' : 'open-right'\\\"\\n            #colorPickerContainer>\\n            <div custom-color-picker [type]=\\\"'imageEffect'\\\" [activeColor]=\\\"selectedItem\\\"\\n               (changeColorEvent)=\\\"setFill($event)\\\"></div>\\n         </div>\\n         <div *ngIf=\\\"mainService.isResponsive\\\" class=\\\"byic-colors-select byic-shadow-colors\\\"\\n            [attr.hidden]=\\\"hideColorToggle ? true : null\\\" [ngClass]=\\\"(isLeft) ? 'open-left' : 'open-right'\\\"\\n            #colorPickerContainer>\\n            <div custom-color-picker [type]=\\\"'imageEffect'\\\" [activeColor]=\\\"selectedItem\\\" (changeColorEvent)=\\\"setFill($event)\\\"></div>\\n         </div>\\n      </div>\\n   </div>\\n   <!--END For SVG Image -->\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/common/components/image-effects/image-effects.component.scss\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/common/components/image-effects/image-effects.component.scss ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"/* byi theme color main */\\n/* true if dark mode is on */\\n/* black */\\n/* white */\\n/* error color */\\n/* warning color */\\n/* byi fonts */\\n/* default tab icon color */\\n/* active tab icon color */\\n/* header footer background color (used @ other places where it needs) */\\n/* mobile sub header background color */\\n/* main canvas background color */\\n/* normal text color */\\n/* default accordion text color */\\n/* active accordion text color */\\n/* accordion background color */\\n/* accordion background color in product options */\\n/* input item backgroud (input , select, textarea, etc.) */\\n/* left and right panel background and active tab background */\\n/* right panel dark icon color */\\n/* right panel dark icon color hover */\\n/* light icon color (header icons, footer icons, layer icon, etc.) */\\n/* tooltip background color */\\n/* tooltip text color */\\n/* border color for input item dropdowns catagory list etc. */\\n/* range selector background color */\\n/* side change icon color canvas area */\\n/*-------------------------------------\\r\\n        Color Scheme (Dark Theme)\\r\\n-------------------------------------- */\\n/*----------------------------------\\n        Image Effect Pro Version\\n------------------------------------*/\\n.byi-img-effect ul li a.selected:before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  z-index: 2;\\n  border-radius: 4px;\\n  background-color: rgba(255, 255, 255, 0.5); }\\n.byi-img-effect .byi-effect-slider {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 20px;\\n  z-index: 3;\\n  padding: 5px;\\n  margin: 0 5px; }\\n.byi-img-effect .byi-effect-slider input[type=\\\"range\\\"] {\\n    width: 100%; }\\n@media screen and (max-width: 1024px) {\\n  .byi-img-effect .byi-effect-slider {\\n    margin: 0 15px 0 5px; } }\\n.byi-img-filters {\\n  margin-top: 10px; }\\n.byi-img-filters .byi-range-box > label svg {\\n    width: 15px;\\n    height: 15px;\\n    margin-right: 5px;\\n    fill: #262626; }\\n@media screen and (max-width: 1024px) {\\n    .byi-img-filters .byie-option {\\n      display: flex;\\n      align-items: center;\\n      text-align: center;\\n      overflow: auto;\\n      padding: 3px 0 5px 0;\\n      -webkit-overflow-scrolling: touch; }\\n    .byi-img-filters .byi-range-box {\\n      position: static; }\\n      .byi-img-filters .byi-range-box:empty {\\n        display: none; }\\n      .byi-img-filters .byi-range-box.active .byi-range-box-filter {\\n        display: block; }\\n      .byi-img-filters .byi-range-box.active > label {\\n        color: #f05929; }\\n        .byi-img-filters .byi-range-box.active > label svg {\\n          fill: #f05929; }\\n      .byi-img-filters .byi-range-box .byi-range-box-filter {\\n        display: none;\\n        position: absolute;\\n        top: -30px;\\n        left: 0;\\n        right: 30px;\\n        z-index: 9; }\\n      .byi-img-filters .byi-range-box > label {\\n        display: flex;\\n        width: 85px;\\n        flex: 0 0 85px;\\n        margin-right: 10px;\\n        border-radius: 10px;\\n        padding: 5px 0;\\n        flex-direction: column-reverse;\\n        color: #262626;\\n        border: 1px solid #d9d9d9; }\\n        .byi-img-filters .byi-range-box > label svg {\\n          width: 20px;\\n          height: 20px;\\n          margin: 5px auto auto auto;\\n          fill: #262626; }\\n        .byi-img-filters .byi-range-box > label span {\\n          display: block;\\n          overflow: hidden;\\n          white-space: nowrap;\\n          text-overflow: ellipsis; } }\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2h0bWwvQllJVjIvbWFnMjMyL2FuZ3VsYXIvc3JjL2Fzc2V0cy9zYXNzL3RoZW1lLXN3aXRjaC5zY3NzIiwiL3Zhci93d3cvaHRtbC9CWUlWMi9tYWcyMzIvYW5ndWxhci9zcmMvYXNzZXRzL3Nhc3MvdmFyaWFibGVzLnNjc3MiLCJzcmMvYXBwL2NvbW1vbi9jb21wb25lbnRzL2ltYWdlLWVmZmVjdHMvaW1hZ2UtZWZmZWN0cy5jb21wb25lbnQuc2NzcyIsIi92YXIvd3d3L2h0bWwvQllJVjIvbWFnMjMyL2FuZ3VsYXIvc3JjL2FwcC9jb21tb24vY29tcG9uZW50cy9pbWFnZS1lZmZlY3RzL2ltYWdlLWVmZmVjdHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQXFCLHlCQUFBO0FBQ0ssNEJBQUE7QUNEVCxVQUFBO0FBQ0MsVUFBQTtBQUNHLGdCQUFBO0FBQ0Usa0JBQUE7QUFDYSxjQUFBO0FBRVosMkJBQUE7QUFDVSwwQkFBQTtBQUNYLHdFQUFBO0FBQ08sdUNBQUE7QUFDVixpQ0FBQTtBQUNNLHNCQUFBO0FBQ0MsaUNBQUE7QUFDVSxnQ0FBQTtBQUNmLCtCQUFBO0FBQ1Esa0RBQUE7QUFDVCwwREFBQTtBQUNHLDhEQUFBO0FBQ0EsZ0NBQUE7QUFDRyxzQ0FBQTtBQUNGLG9FQUFBO0FBQ0YsNkJBQUE7QUFDRSx1QkFBQTtBQUNHLDZEQUFBO0FBQ0osb0NBQUE7QUFDTyx1Q0FBQTtBQUUvQjs7d0NDRXdDO0FDMUJ4Qzs7cUNENkJxQztBQzFCckM7RUFJUSxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLE1BQU07RUFDTixTQUFTO0VBQ1QsT0FBTztFQUNQLFFBQVE7RUFDUixVQUFVO0VBQ1Ysa0JBQWtCO0VBQ2xCLDBDRmpCUSxFQUFBO0FFS2hCO0VBaUJJLGtCQUFrQjtFQUNsQixPQUFPO0VBQ1AsUUFBUTtFQUNSLFNBQVM7RUFDVCxVQUFVO0VBQ1YsWUFBWTtFQUNaLGFBQWEsRUFBQTtBQXZCakI7SUF5Qk0sV0FBVyxFQUFBO0FBR2Y7RUE1QkY7SUE4Qk0sb0JBQW9CLEVBQUEsRUFDckI7QUFJTDtFQUNFLGdCQUFnQixFQUFBO0FBRGxCO0lBS1EsV0FBVztJQUNYLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsYUZ0Q2dCLEVBQUE7QUUwQ3RCO0lBWkY7TUFnQk0sYUFBYTtNQUdiLG1CQUFtQjtNQUNuQixrQkFBa0I7TUFDbEIsY0FBYztNQUNkLG9CQUFvQjtNQUNwQixpQ0FBaUMsRUFBQTtJQXZCdkM7TUEwQk0sZ0JBQWdCLEVBQUE7TUExQnRCO1FBNEJRLGFBQWEsRUFBQTtNQTVCckI7UUFnQ1UsY0FBYyxFQUFBO01BaEN4QjtRQW1DVSxjSDVFUyxFQUFBO1FHeUNuQjtVQXFDWSxhSDlFTyxFQUFBO01HeUNuQjtRQTBDUSxhQUFhO1FBQ2Isa0JBQWtCO1FBQ2xCLFVBQVU7UUFDVixPQUFPO1FBQ1AsV0FBVztRQUNYLFVBQVUsRUFBQTtNQS9DbEI7UUFrRFEsYUFBYTtRQUNiLFdBQVc7UUFHWCxjQUFjO1FBQ2Qsa0JBQWtCO1FBQ2xCLG1CQUFtQjtRQUNuQixjQUFjO1FBSWQsOEJBQThCO1FBQzlCLGNGNUZnQjtRRTZGaEIseUJBQWdELEVBQUE7UUEvRHhEO1VBaUVVLFdBQVc7VUFDWCxZQUFZO1VBQ1osMEJBQTBCO1VBQzFCLGFGbEdjLEVBQUE7UUU4QnhCO1VBdUVVLGNBQWM7VUFDZCxnQkFBZ0I7VUFDaEIsbUJBQW1CO1VBQ25CLHVCQUF1QixFQUFBLEVBQ3hCIiwiZmlsZSI6InNyYy9hcHAvY29tbW9uL2NvbXBvbmVudHMvaW1hZ2UtZWZmZWN0cy9pbWFnZS1lZmZlY3RzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiJGJ5aS10aGVtZTogI2YwNTkyOTsgLyogYnlpIHRoZW1lIGNvbG9yIG1haW4gKi9cclxuJGJ5aS1kYXJrLXNjaGVtZTogZmFsc2U7ICAvKiB0cnVlIGlmIGRhcmsgbW9kZSBpcyBvbiAqL1xyXG4iLCIkYnlpLWRhcms6ICMwMDA7IC8qIGJsYWNrICovXHJcbiRieWktbGlnaHQ6ICNmZmY7IC8qIHdoaXRlICovXHJcbiRieWktZXJyb3I6ICNmMTJkMmQ7IC8qIGVycm9yIGNvbG9yICovXHJcbiRieWktd2FybmluZzogI0ZGRkY5OTsgLyogd2FybmluZyBjb2xvciAqL1xyXG4kYnlpLWZvbnQ6ICdPcGVuIFNhbnMnLCBzYW5zLXNlcmlmOyAvKiBieWkgZm9udHMgKi9cclxuXHJcbiRieWktdGFiLWljb246ICMyNjI2MjY7IC8qIGRlZmF1bHQgdGFiIGljb24gY29sb3IgKi9cclxuJGJ5aS10YWItaWNvbi1hY3RpdmU6ICRieWktdGhlbWU7IC8qIGFjdGl2ZSB0YWIgaWNvbiBjb2xvciAqL1xyXG4kYnlpLXRvb2xiYXItYmc6ICNmZmY7IC8qIGhlYWRlciBmb290ZXIgYmFja2dyb3VuZCBjb2xvciAodXNlZCBAIG90aGVyIHBsYWNlcyB3aGVyZSBpdCBuZWVkcykgKi9cclxuJGJ5aS1mb290ZXItbW9iLXRvcDogI2Y1ZjVmNTsgLyogbW9iaWxlIHN1YiBoZWFkZXIgYmFja2dyb3VuZCBjb2xvciAqL1xyXG4kYnlpLW1haW4tYmc6ICNmZmY7IC8qIG1haW4gY2FudmFzIGJhY2tncm91bmQgY29sb3IgKi9cclxuJGJ5aS10ZXh0LWNvbG9yOiAjMjYyNjI2OyAvKiBub3JtYWwgdGV4dCBjb2xvciAqL1xyXG4kYnlpLWFjY29yZC10ZXh0OiAjMjYyNjI2OyAvKiBkZWZhdWx0IGFjY29yZGlvbiB0ZXh0IGNvbG9yICovXHJcbiRieWktYWNjb3JkLXRleHQtYWN0aXZlOiAkYnlpLXRoZW1lOyAvKiBhY3RpdmUgYWNjb3JkaW9uIHRleHQgY29sb3IgKi9cclxuJGJ5aS1hY2NvcmQtYmc6ICNmZmY7IC8qIGFjY29yZGlvbiBiYWNrZ3JvdW5kIGNvbG9yICovXHJcbiRieWktYWNjb3JkLWJnLWRhcms6ICNmNWY1ZjU7IC8qIGFjY29yZGlvbiBiYWNrZ3JvdW5kIGNvbG9yIGluIHByb2R1Y3Qgb3B0aW9ucyAqL1xyXG4kYnlpLWlucHV0LWJnOiAjZmZmOyAvKiBpbnB1dCBpdGVtIGJhY2tncm91ZCAoaW5wdXQgLCBzZWxlY3QsIHRleHRhcmVhLCBldGMuKSAqL1xyXG4kYnlpLXBhbmVsLWJnOiAjZjVmNWY1OyAvKiBsZWZ0IGFuZCByaWdodCBwYW5lbCBiYWNrZ3JvdW5kIGFuZCBhY3RpdmUgdGFiIGJhY2tncm91bmQgKi9cclxuJGJ5aS1kYXJraWNvbjogIzRkNGM0YzsgLyogcmlnaHQgcGFuZWwgZGFyayBpY29uIGNvbG9yICovXHJcbiRieWktZGFya2ljb24taG92ZXI6ICMwMDA7IC8qIHJpZ2h0IHBhbmVsIGRhcmsgaWNvbiBjb2xvciBob3ZlciAqL1xyXG4kYnlpLWxpZ2h0aWNvbjogIzgwN2Y3ZjsgLyogbGlnaHQgaWNvbiBjb2xvciAoaGVhZGVyIGljb25zLCBmb290ZXIgaWNvbnMsIGxheWVyIGljb24sIGV0Yy4pICovXHJcbiRieWktdG9vbHRpcC1iZzogIzAwMDsgLyogdG9vbHRpcCBiYWNrZ3JvdW5kIGNvbG9yICovXHJcbiRieWktdG9vbHRpcC10ZXh0OiAjZmZmOyAvKiB0b29sdGlwIHRleHQgY29sb3IgKi9cclxuJGJ5aS1ib3JkZXItY29sb3I6ICNjY2NjY2M7IC8qIGJvcmRlciBjb2xvciBmb3IgaW5wdXQgaXRlbSBkcm9wZG93bnMgY2F0YWdvcnkgbGlzdCBldGMuICovXHJcbiRieWktcmFuZ2UtYmc6ICNiOGI4Yjg7IC8qIHJhbmdlIHNlbGVjdG9yIGJhY2tncm91bmQgY29sb3IgKi9cclxuJGJ5aS1zaWRlY2hhbmdlLWljb246ICNjY2NjY2M7IC8qIHNpZGUgY2hhbmdlIGljb24gY29sb3IgY2FudmFzIGFyZWEgKi9cclxuXHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIENvbG9yIFNjaGVtZSAoRGFyayBUaGVtZSlcclxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuQGlmIHZhcmlhYmxlLWV4aXN0cyhieWktZGFyay1zY2hlbWUpIGFuZCAkYnlpLWRhcmstc2NoZW1lPT10cnVlIHtcclxuICAgICAgICAkYnlpLXRhYi1pY29uOiAjYTVhNWE1O1xyXG4gICAgICAgICRieWktdGFiLWljb24tYWN0aXZlOiAjZmZmO1xyXG4gICAgICAgICRieWktdG9vbGJhci1iZzogIzMwMzAzMDtcclxuICAgICAgICAkYnlpLWZvb3Rlci1tb2ItdG9wOiAjMzAzMDMwO1xyXG4gICAgICAgICRieWktbWFpbi1iZzogIzI4MjgyODtcclxuICAgICAgICAkYnlpLXRleHQtY29sb3I6ICNmMGYwZjA7XHJcbiAgICAgICAgJGJ5aS1hY2NvcmQtdGV4dDogI2JiYjtcclxuICAgICAgICAkYnlpLWFjY29yZC10ZXh0LWFjdGl2ZTogI2YwZjBmMDtcclxuICAgICAgICAkYnlpLWFjY29yZC1iZzogIzMwMzAzMDtcclxuICAgICAgICAkYnlpLWFjY29yZC1iZy1kYXJrOiAjMzAzMDMwO1xyXG4gICAgICAgICRieWktaW5wdXQtYmc6ICM1MjUyNTI7XHJcbiAgICAgICAgJGJ5aS1wYW5lbC1iZzogIzQ3NDc0NztcclxuICAgICAgICAkYnlpLWRhcmtpY29uOiAjZjBmMGYwO1xyXG4gICAgICAgICRieWktZGFya2ljb24taG92ZXI6ICNmMGYwZjA7XHJcbiAgICAgICAgJGJ5aS1saWdodGljb246ICNmMGYwZjA7XHJcbiAgICAgICAgJGJ5aS10b29sdGlwLWJnOiAjMzMzO1xyXG4gICAgICAgICRieWktdG9vbHRpcC10ZXh0OiAjRkZGO1xyXG4gICAgICAgICRieWktYm9yZGVyLWNvbG9yOiAjNjc2NzY3O1xyXG4gICAgICAgICRieWktcmFuZ2UtYmc6IGxpZ2h0ZW4oIzQ3NDc0NywgMTUlKTtcclxuICAgICAgICAkYnlpLXNpZGVjaGFuZ2UtaWNvbjogI2YwZjBmMDtcclxufSIsIi8qIGJ5aSB0aGVtZSBjb2xvciBtYWluICovXG4vKiB0cnVlIGlmIGRhcmsgbW9kZSBpcyBvbiAqL1xuLyogYmxhY2sgKi9cbi8qIHdoaXRlICovXG4vKiBlcnJvciBjb2xvciAqL1xuLyogd2FybmluZyBjb2xvciAqL1xuLyogYnlpIGZvbnRzICovXG4vKiBkZWZhdWx0IHRhYiBpY29uIGNvbG9yICovXG4vKiBhY3RpdmUgdGFiIGljb24gY29sb3IgKi9cbi8qIGhlYWRlciBmb290ZXIgYmFja2dyb3VuZCBjb2xvciAodXNlZCBAIG90aGVyIHBsYWNlcyB3aGVyZSBpdCBuZWVkcykgKi9cbi8qIG1vYmlsZSBzdWIgaGVhZGVyIGJhY2tncm91bmQgY29sb3IgKi9cbi8qIG1haW4gY2FudmFzIGJhY2tncm91bmQgY29sb3IgKi9cbi8qIG5vcm1hbCB0ZXh0IGNvbG9yICovXG4vKiBkZWZhdWx0IGFjY29yZGlvbiB0ZXh0IGNvbG9yICovXG4vKiBhY3RpdmUgYWNjb3JkaW9uIHRleHQgY29sb3IgKi9cbi8qIGFjY29yZGlvbiBiYWNrZ3JvdW5kIGNvbG9yICovXG4vKiBhY2NvcmRpb24gYmFja2dyb3VuZCBjb2xvciBpbiBwcm9kdWN0IG9wdGlvbnMgKi9cbi8qIGlucHV0IGl0ZW0gYmFja2dyb3VkIChpbnB1dCAsIHNlbGVjdCwgdGV4dGFyZWEsIGV0Yy4pICovXG4vKiBsZWZ0IGFuZCByaWdodCBwYW5lbCBiYWNrZ3JvdW5kIGFuZCBhY3RpdmUgdGFiIGJhY2tncm91bmQgKi9cbi8qIHJpZ2h0IHBhbmVsIGRhcmsgaWNvbiBjb2xvciAqL1xuLyogcmlnaHQgcGFuZWwgZGFyayBpY29uIGNvbG9yIGhvdmVyICovXG4vKiBsaWdodCBpY29uIGNvbG9yIChoZWFkZXIgaWNvbnMsIGZvb3RlciBpY29ucywgbGF5ZXIgaWNvbiwgZXRjLikgKi9cbi8qIHRvb2x0aXAgYmFja2dyb3VuZCBjb2xvciAqL1xuLyogdG9vbHRpcCB0ZXh0IGNvbG9yICovXG4vKiBib3JkZXIgY29sb3IgZm9yIGlucHV0IGl0ZW0gZHJvcGRvd25zIGNhdGFnb3J5IGxpc3QgZXRjLiAqL1xuLyogcmFuZ2Ugc2VsZWN0b3IgYmFja2dyb3VuZCBjb2xvciAqL1xuLyogc2lkZSBjaGFuZ2UgaWNvbiBjb2xvciBjYW52YXMgYXJlYSAqL1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgQ29sb3IgU2NoZW1lIChEYXJrIFRoZW1lKVxyXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIEltYWdlIEVmZmVjdCBQcm8gVmVyc2lvblxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi5ieWktaW1nLWVmZmVjdCB1bCBsaSBhLnNlbGVjdGVkOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB6LWluZGV4OiAyO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTsgfVxuXG4uYnlpLWltZy1lZmZlY3QgLmJ5aS1lZmZlY3Qtc2xpZGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgdG9wOiAyMHB4O1xuICB6LWluZGV4OiAzO1xuICBwYWRkaW5nOiA1cHg7XG4gIG1hcmdpbjogMCA1cHg7IH1cbiAgLmJ5aS1pbWctZWZmZWN0IC5ieWktZWZmZWN0LXNsaWRlciBpbnB1dFt0eXBlPVwicmFuZ2VcIl0ge1xuICAgIHdpZHRoOiAxMDAlOyB9XG5cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwMjRweCkge1xuICAuYnlpLWltZy1lZmZlY3QgLmJ5aS1lZmZlY3Qtc2xpZGVyIHtcbiAgICBtYXJnaW46IDAgMTVweCAwIDVweDsgfSB9XG5cbi5ieWktaW1nLWZpbHRlcnMge1xuICBtYXJnaW4tdG9wOiAxMHB4OyB9XG4gIC5ieWktaW1nLWZpbHRlcnMgLmJ5aS1yYW5nZS1ib3ggPiBsYWJlbCBzdmcge1xuICAgIHdpZHRoOiAxNXB4O1xuICAgIGhlaWdodDogMTVweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICBmaWxsOiAjMjYyNjI2OyB9XG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwMjRweCkge1xuICAgIC5ieWktaW1nLWZpbHRlcnMgLmJ5aWUtb3B0aW9uIHtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcbiAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgICBwYWRkaW5nOiAzcHggMCA1cHggMDtcbiAgICAgIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsgfVxuICAgIC5ieWktaW1nLWZpbHRlcnMgLmJ5aS1yYW5nZS1ib3gge1xuICAgICAgcG9zaXRpb246IHN0YXRpYzsgfVxuICAgICAgLmJ5aS1pbWctZmlsdGVycyAuYnlpLXJhbmdlLWJveDplbXB0eSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7IH1cbiAgICAgIC5ieWktaW1nLWZpbHRlcnMgLmJ5aS1yYW5nZS1ib3guYWN0aXZlIC5ieWktcmFuZ2UtYm94LWZpbHRlciB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrOyB9XG4gICAgICAuYnlpLWltZy1maWx0ZXJzIC5ieWktcmFuZ2UtYm94LmFjdGl2ZSA+IGxhYmVsIHtcbiAgICAgICAgY29sb3I6ICNmMDU5Mjk7IH1cbiAgICAgICAgLmJ5aS1pbWctZmlsdGVycyAuYnlpLXJhbmdlLWJveC5hY3RpdmUgPiBsYWJlbCBzdmcge1xuICAgICAgICAgIGZpbGw6ICNmMDU5Mjk7IH1cbiAgICAgIC5ieWktaW1nLWZpbHRlcnMgLmJ5aS1yYW5nZS1ib3ggLmJ5aS1yYW5nZS1ib3gtZmlsdGVyIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IC0zMHB4O1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMzBweDtcbiAgICAgICAgei1pbmRleDogOTsgfVxuICAgICAgLmJ5aS1pbWctZmlsdGVycyAuYnlpLXJhbmdlLWJveCA+IGxhYmVsIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgd2lkdGg6IDg1cHg7XG4gICAgICAgIC13ZWJraXQtYm94LWZsZXg6IDA7XG4gICAgICAgIC1tcy1mbGV4OiAwIDAgODVweDtcbiAgICAgICAgZmxleDogMCAwIDg1cHg7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgcGFkZGluZzogNXB4IDA7XG4gICAgICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XG4gICAgICAgIC13ZWJraXQtYm94LWRpcmVjdGlvbjogcmV2ZXJzZTtcbiAgICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xuICAgICAgICBjb2xvcjogIzI2MjYyNjtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2Q5ZDlkOTsgfVxuICAgICAgICAuYnlpLWltZy1maWx0ZXJzIC5ieWktcmFuZ2UtYm94ID4gbGFiZWwgc3ZnIHtcbiAgICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICAgICAgbWFyZ2luOiA1cHggYXV0byBhdXRvIGF1dG87XG4gICAgICAgICAgZmlsbDogIzI2MjYyNjsgfVxuICAgICAgICAuYnlpLWltZy1maWx0ZXJzIC5ieWktcmFuZ2UtYm94ID4gbGFiZWwgc3BhbiB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyB9IH1cbiIsIkBpbXBvcnQgXCJzcmMvYXNzZXRzL3Nhc3MvdGhlbWUtc3dpdGNoLnNjc3NcIjtcbkBpbXBvcnQgXCJzcmMvYXNzZXRzL3Nhc3MvdmFyaWFibGVzLnNjc3NcIjtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIEltYWdlIEVmZmVjdCBQcm8gVmVyc2lvblxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi5ieWktaW1nLWVmZmVjdCB7XG4gIHVsIGxpIGEge1xuICAgICYuc2VsZWN0ZWQge1xuICAgICAgJjpiZWZvcmUge1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgei1pbmRleDogMjtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKCRieWktbGlnaHQsIDAuNSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC5ieWktZWZmZWN0LXNsaWRlciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgdG9wOiAyMHB4O1xuICAgIHotaW5kZXg6IDM7XG4gICAgcGFkZGluZzogNXB4O1xuICAgIG1hcmdpbjogMCA1cHg7XG4gICAgaW5wdXRbdHlwZT1cInJhbmdlXCJdIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cbiAgfVxuICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMDI0cHgpIHtcbiAgICAuYnlpLWVmZmVjdC1zbGlkZXIge1xuICAgICAgbWFyZ2luOiAwIDE1cHggMCA1cHg7XG4gICAgfVxuICB9XG59XG5cbi5ieWktaW1nLWZpbHRlcnMge1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICAuYnlpLXJhbmdlLWJveCB7XG4gICAgPiBsYWJlbCB7XG4gICAgICBzdmcge1xuICAgICAgICB3aWR0aDogMTVweDtcbiAgICAgICAgaGVpZ2h0OiAxNXB4O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICAgICAgZmlsbDogJGJ5aS10ZXh0LWNvbG9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMDI0cHgpIHtcbiAgICAuYnlpZS1vcHRpb24ge1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xuICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgIHBhZGRpbmc6IDNweCAwIDVweCAwO1xuICAgICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xuICAgIH1cbiAgICAuYnlpLXJhbmdlLWJveCB7XG4gICAgICBwb3NpdGlvbjogc3RhdGljO1xuICAgICAgJjplbXB0eSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAmLmFjdGl2ZSB7XG4gICAgICAgIC5ieWktcmFuZ2UtYm94LWZpbHRlciB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cbiAgICAgICAgPiBsYWJlbCB7XG4gICAgICAgICAgY29sb3I6ICRieWktdGhlbWU7XG4gICAgICAgICAgc3ZnIHtcbiAgICAgICAgICAgIGZpbGw6ICRieWktdGhlbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAuYnlpLXJhbmdlLWJveC1maWx0ZXIge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogLTMwcHg7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAzMHB4O1xuICAgICAgICB6LWluZGV4OiA5O1xuICAgICAgfVxuICAgICAgPiBsYWJlbCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIHdpZHRoOiA4NXB4O1xuICAgICAgICAtd2Via2l0LWJveC1mbGV4OiAwO1xuICAgICAgICAtbXMtZmxleDogMCAwIDg1cHg7XG4gICAgICAgIGZsZXg6IDAgMCA4NXB4O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIHBhZGRpbmc6IDVweCAwO1xuICAgICAgICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xuICAgICAgICAtd2Via2l0LWJveC1kaXJlY3Rpb246IHJldmVyc2U7XG4gICAgICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcbiAgICAgICAgY29sb3I6ICRieWktdGV4dC1jb2xvcjtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgbGlnaHRlbigkYnlpLWJvcmRlci1jb2xvciwgNSUpO1xuICAgICAgICBzdmcge1xuICAgICAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgICBtYXJnaW46IDVweCBhdXRvIGF1dG8gYXV0bztcbiAgICAgICAgICBmaWxsOiAkYnlpLXRleHQtY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgc3BhbiB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/common/components/image-effects/image-effects.component.ts\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/common/components/image-effects/image-effects.component.ts ***!\n  \\****************************************************************************/\n/*! exports provided: ImageEffectsComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageEffectsComponent\", function() { return ImageEffectsComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var _image_effects_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./image-effects.service */ \"./src/app/common/components/image-effects/image-effects.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\n\n\n\n\nvar ImageEffectsComponent = /** @class */ (function () {\n    function ImageEffectsComponent(cacheService, mainService, eventService, canvasService, cdr, imageEffectsService, tabsService) {\n        this.cacheService = cacheService;\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.cdr = cdr;\n        this.imageEffectsService = imageEffectsService;\n        this.tabsService = tabsService;\n        this.svgColorArr = [];\n        this.colorarr = [];\n        this.hideColorToggle = 1;\n        this.isSvgColorsDisplay = false;\n        this.effectArray = [];\n        this.displayEffects = true;\n        this.componentHide = true;\n        this.addTransition = 0;\n        this.openAccordian = false;\n        this.openAccordianEffect = false;\n        this.sliderValue = [];\n        this.sliderHistory = [];\n        this.defaultSliderData = [];\n        // Loader\n        this.isLeft = false;\n        this.isApplyOneFilter = false;\n        this.tabsService.registerTabs('image-effects', 'clipart');\n        this.tabsService.registerTabs('image-effects', 'image-upload');\n        this.getColors();\n        this.EffectDataCacheKey = 'imageEffect' + this.mainService.productId + '-' + this.mainService.baseUrl;\n    }\n    ImageEffectsComponent.prototype.getColors = function () {\n        var _this = this;\n        if (!this.defaultColor) {\n            this.defaultColor = this.mainService.colorData.defaultColor;\n            this.colorarr = this.mainService.colorData.color;\n        }\n        this.eventService.$sub('getColors').subscribe(function (colorData) {\n            _this.defaultColor = colorData.defaultColor;\n            _this.colorarr = colorData.color;\n            if (_this.loaderComponent) {\n                _this.loaderComponent.showSubLoader = false;\n            }\n        }, function (err) { return console.log(err); });\n    };\n    ImageEffectsComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        var params = {}, url = 'productdesigner/Index/getImageEffects', cacheKey = this.EffectDataCacheKey;\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\n            _this.cacheService.set(_this.EffectDataCacheKey, data, { maxAge: 15 * 60 });\n            _this.imageEffects = data.effects;\n            _this.prepareInitialData();\n        }).catch(function (err) { return console.log(err); });\n        this.subscribeEvents();\n    };\n    ImageEffectsComponent.prototype.setEffects = function (obj) {\n        var _this = this;\n        this.effectArray = [];\n        obj.filters.filter(function (object) {\n            if (object.type == \"HueRotation\") {\n                _this.sliderHistory[object.type] = object[\"rotation\"];\n            }\n            else if (object.type.toLowerCase() != undefined && object.type != \"Pixelate\") {\n                _this.sliderHistory[object.type] = object[object.type.toLowerCase()];\n            }\n            else {\n                _this.sliderHistory[object.type] = object[\"blocksize\"];\n            }\n            if (object.type == \"HueRotation\") {\n                _this.effectArray.push('Hue');\n                if (_this.sliderValue[\"Hue\"] != undefined && object.sliderValue != null) {\n                    _this.sliderValue['Hue'] = object.sliderValue;\n                }\n                else if (object.sliderValue == null && object.type.toLowerCase() != undefined) {\n                    _this.sliderValue[\"Hue\"] = object[\"rotation\"];\n                }\n            }\n            else if (object.type == \"Convolute\") {\n                var emboss = [1, 1, 1, 1, 0.7, -1, -1, -1, -1];\n                var sharpen = [0, -1, 0, -1, 5, -1, 0, -1, 0];\n                if (JSON.stringify(emboss) == JSON.stringify(object.matrix)) {\n                    _this.effectArray.push('Emboss');\n                }\n                if (JSON.stringify(sharpen) == JSON.stringify(object.matrix)) {\n                    _this.effectArray.push('Sharpen');\n                }\n            }\n            else {\n                _this.effectArray.push(object.type);\n                if (_this.sliderValue[object.type] != undefined && object.sliderValue != null) {\n                    _this.sliderValue[object.type] = object.sliderValue;\n                }\n                else if (object.sliderValue == null && object.type.toLowerCase() != undefined) {\n                    _this.sliderValue[object.type] = object[object.type.toLowerCase()];\n                }\n            }\n        });\n    };\n    ImageEffectsComponent.prototype.prepareInitialData = function () {\n        var _this = this;\n        if (this.imageEffects) {\n            this.imageEffects.filter(function (imageEffectObj, i) {\n                if (imageEffectObj.slider_value != null) {\n                    var val = imageEffectObj.slider_value;\n                    var key = imageEffectObj.effect_name;\n                    _this.sliderValue[key] = val;\n                    _this.defaultSliderData[key] = val;\n                }\n            });\n        }\n    };\n    ImageEffectsComponent.prototype.changeEffect = function (effect, sliderValue, sliderIndex, type) {\n        var _this = this;\n        if (sliderValue === void 0) { sliderValue = null; }\n        if (sliderIndex === void 0) { sliderIndex = null; }\n        if (type === void 0) { type = null; }\n        var checkObj = this.mainService.canvasService.currentCanvas.getActiveObjects();\n        this.eventService.$pub('showMainLoader');\n        setTimeout(function () {\n            if (checkObj[0].filters.length == 0) {\n                if (!_this.isApplyOneFilter) {\n                }\n            }\n            else {\n                _this.isApplyOneFilter = true;\n            }\n            var obj = _this.canvasService.currentCanvas.getActiveObject();\n            var canvas = _this.canvasService.currentCanvas;\n            _this.selectedItem = effect;\n            if (sliderValue == null) {\n                sliderValue = _this.defaultSliderData[effect];\n                _this.sliderValue[effect] = sliderValue;\n                _this.sliderHistory[effect] = sliderValue;\n                if (_this.effectArray.indexOf(effect) < 0) {\n                    if (type == null) {\n                        _this.effectArray.push(effect);\n                    }\n                }\n                else {\n                    _this.sliderHistory[effect] = null;\n                    _this.effectArray.splice(_this.effectArray.indexOf(effect), 1);\n                }\n            }\n            else {\n                if (_this.effectArray.indexOf(effect) < 0) {\n                    _this.effectArray.push(effect);\n                }\n                _this.sliderHistory[effect] = sliderValue;\n            }\n            var selectedObjs = _this.mainService.canvasService.currentCanvas.getActiveObjects();\n            selectedObjs.filter(function (object) {\n                var properties = {\n                    effectArray: _this.effectArray,\n                    effect: effect,\n                    imageEffects: _this.imageEffects,\n                    sliderValue: sliderValue,\n                    sliderHistory: _this.sliderHistory\n                };\n                var params = {\n                    obj: object,\n                    properties: properties,\n                    crudServiceString: 'this.imageEffectsService',\n                };\n                _this.canvasService.objectCRUD(params);\n            });\n        }, 100);\n        setTimeout(function () {\n            _this.eventService.$pub('hideMainLoader');\n        }, 1000);\n    };\n    ImageEffectsComponent.prototype.resetEffects = function (effect) {\n        this.changeEffect(effect, null, null, 'reset');\n    };\n    ImageEffectsComponent.prototype.ngAfterViewInit = function () {\n        if (this.loaderComponent) {\n            this.loaderComponent.showSubLoader = true;\n        }\n        this.cdr.detectChanges();\n    };\n    ImageEffectsComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this.componentHide = true;\n            _this.openAccordian = null;\n            _this.openAccordianEffect = null;\n        });\n        var self = this;\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            _this.enableComponent(obj);\n            _this.showHideComponent(obj);\n            if (obj.tab == \"clipart\" || obj.tab == \"upload\") {\n                _this.openAccordian = true;\n            }\n            if (_this.isSvgColorsDisplay) {\n                _this.colorChange();\n            }\n            if (obj.type == \"image\") {\n                _this.setEffects(obj);\n            }\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            _this.enableComponent(obj);\n            _this.showHideComponent(obj);\n            if (obj.tab == \"clipart\" || obj.tab == \"upload\") {\n                _this.openAccordian = true;\n            }\n            if (_this.isSvgColorsDisplay) {\n                _this.colorChange();\n            }\n            if (obj.type == \"image\") {\n                _this.setEffects(obj);\n            }\n        });\n        this.eventService.$sub('objectUpdated', function (obj) {\n            _this.enableComponent(obj);\n            _this.showHideComponent(obj);\n            if (obj.tab == \"clipart\" || obj.tab == \"upload\") {\n                _this.openAccordian = true;\n            }\n            if (_this.isSvgColorsDisplay) {\n                _this.colorChange();\n            }\n            if (obj.type == \"image\") {\n                _this.setEffects(obj);\n            }\n        });\n        this.eventService.$sub('objectAdded', function (obj) {\n            _this.sliderHistory = [];\n            _this.enableComponent(obj);\n            if (obj.tab == \"clipart\" || obj.tab == \"upload\") {\n                _this.openAccordian = true;\n            }\n            if (_this.isSvgColorsDisplay) {\n                _this.colorChange();\n            }\n            if (obj.type == \"image\") {\n                _this.setEffects(obj);\n            }\n            _this.prepareInitialData();\n        });\n        this.eventService.$sub('objectRemoved', function (obj) {\n            _this.componentHide = true;\n            _this.openAccordian = null;\n            _this.openAccordianEffect = null;\n        });\n        this.eventService.$sub('closeColorPicker', function () {\n            _this.hideColorToggle = 1;\n            var rightPanel = document.getElementsByClassName('byi-right-panel');\n            if (rightPanel && rightPanel.length > 0) {\n                rightPanel[0].classList.remove(\"byi-picker-active\");\n            }\n        });\n    };\n    ImageEffectsComponent.prototype.changeSlider = function (effect, value, index) {\n        this.changeEffect(effect, value, index);\n    };\n    ImageEffectsComponent.prototype.showHideComponent = function (obj) {\n        if (obj.type == 'activeSelection') {\n            var allObj = obj._objects, findNonImageObj = allObj.indexOf(allObj.find(function (currObj) { return (currObj.tab != 'clipart' && currObj.tab != 'upload'); })), show = null;\n            if (findNonImageObj == -1) {\n                var isAllSvg = allObj.indexOf(allObj.find(function (currObj) { return (currObj.isSvg == false); }));\n                if (isAllSvg == -1) {\n                    this.isSvgColorsDisplay = true;\n                    this.displayEffects = false;\n                    show = true;\n                }\n                else {\n                    var findNonSvg = allObj.indexOf(allObj.find(function (currObj) { return (currObj.isSvg == true); }));\n                    if (findNonSvg == -1) {\n                        this.isSvgColorsDisplay = false;\n                        this.displayEffects = true;\n                        show = true;\n                    }\n                }\n            }\n            this.openAccordian = show;\n            this.componentHide = (show == true) ? null : true;\n        }\n        else if (obj.tab == \"clipart\" || obj.tab == \"upload\") {\n            this.openAccordian = true;\n        }\n    };\n    ImageEffectsComponent.prototype.enableComponent = function (obj) {\n        if (!Array.isArray(obj)) {\n            if (obj.objType == 'image' && obj.isSvg == true) {\n                this.componentHide = null;\n                this.isSvgColorsDisplay = true;\n                this.displayEffects = false;\n            }\n            else if (obj.objType == 'image' && obj.isSvg == false) {\n                this.componentHide = null;\n                this.isSvgColorsDisplay = false;\n                this.displayEffects = true;\n            }\n            else {\n                this.componentHide = true;\n            }\n        }\n    };\n    ImageEffectsComponent.prototype.colorChange = function (changeActiveColor) {\n        var _this = this;\n        if (changeActiveColor === void 0) { changeActiveColor = true; }\n        var selectedObj = this.mainService.canvasService.currentCanvas.getActiveObjects();\n        this.isSvgColorsDisplay = true;\n        this.svgColorArr = [];\n        selectedObj.filter(function (obj) {\n            if (obj && obj._objects && obj._objects.length > 0) {\n                obj._objects.forEach(function (data) {\n                    if (data.fill) {\n                        if (_this.svgColorArr.indexOf(data.fill) == -1) {\n                            _this.svgColorArr.push(data.fill);\n                        }\n                    }\n                });\n            }\n        });\n    };\n    ImageEffectsComponent.prototype.setFill = function (color) {\n        var _this = this;\n        this.selectedItem = color;\n        var selectedObjs = this.mainService.canvasService.currentCanvas.getActiveObjects();\n        var properties = {\n            fill: color,\n            old_fill: this.fillcolor\n        };\n        this.fillcolor = color;\n        selectedObjs.filter(function (obj) {\n            var params = {\n                obj: obj,\n                properties: properties,\n                crudServiceString: 'this.updateObjectService',\n                isCenter: false,\n                isHistory: true,\n                isSvg: true,\n            };\n            _this.mainService.canvasService.objectCRUD(params);\n        });\n        this.colorChange(false);\n    };\n    ImageEffectsComponent.prototype.colorPickerToggle = function (color, event) {\n        var rightPanel = document.getElementsByClassName('byi-right-panel');\n        if (this.hideColorToggle == 0 && this.selectedItem === color) {\n            this.hideColorToggle = 1;\n            if (rightPanel && rightPanel.length > 0) {\n                rightPanel[0].classList.remove(\"byi-picker-active\");\n            }\n            return;\n        }\n        if (rightPanel && rightPanel.length > 0) {\n            rightPanel[0].classList.add(\"byi-picker-active\");\n        }\n        this.hideColorToggle = 0;\n        this.fillcolor = color;\n        this.selectedItem = color;\n        this.cdr.detectChanges();\n        // desktop view\n        if (!this.mainService.isResponsive) {\n            var el = event.srcElement.offsetLeft;\n            var elTop = event.srcElement.offsetTop;\n            var colorPickerContainerWidth = this.colorPickerContainer.nativeElement.offsetWidth;\n            var svgColorContainer = this.colorContainer.nativeElement.offsetWidth + 30;\n            // set default place for color picker\n            if ((el + colorPickerContainerWidth) < svgColorContainer) {\n                this.isLeft = true;\n                this.colorPickerContainer.nativeElement.style.left = (el) + 'px';\n                this.colorPickerContainer.nativeElement.style.top = (elTop + 50) + 'px';\n            }\n            else {\n                this.isLeft = false;\n                this.colorPickerContainer.nativeElement.style.left = (el - 30) + 'px';\n                this.colorPickerContainer.nativeElement.style.top = (elTop + 50) + 'px';\n            }\n            // if scrolled\n            var isScrolled = (this.svgColorContainer.nativeElement.scrollTop > 0) ? true : false;\n            if (isScrolled) {\n                var svgContainer = this.svgColorContainer.nativeElement, currentTop = elTop + 50;\n                currentTop -= svgContainer.scrollTop;\n                this.colorPickerContainer.nativeElement.style.top = currentTop + 'px';\n            }\n        }\n        // mobile view\n        if (this.mainService.isResponsive) {\n            var windowWidth = window.outerWidth / 2, selectedElemLeft = event.target.getBoundingClientRect().left, colorPickerWidth = this.colorPickerContainer.nativeElement.offsetWidth;\n            selectedElemLeft += 13;\n            if (selectedElemLeft > windowWidth && colorPickerWidth < selectedElemLeft) {\n                this.isLeft = true;\n                this.colorPickerContainer.nativeElement.style.left = (selectedElemLeft) + 'px';\n            }\n            else {\n                this.colorPickerContainer.nativeElement.style.left = (selectedElemLeft - 30) + 'px';\n                this.isLeft = false;\n            }\n        }\n    };\n    ImageEffectsComponent.prototype.activeEffect = function (newValue) {\n        this.selectedResponsiveItem = newValue;\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('colorPickerContainer'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\n    ], ImageEffectsComponent.prototype, \"colorPickerContainer\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('loaderComponent'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\n    ], ImageEffectsComponent.prototype, \"loaderComponent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('svgColorContainer'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\n    ], ImageEffectsComponent.prototype, \"svgColorContainer\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('colorContainer'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\n    ], ImageEffectsComponent.prototype, \"colorContainer\", void 0);\n    ImageEffectsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: '[image-effects]',\n            template: __webpack_require__(/*! ./image-effects.component.html */ \"./src/app/common/components/image-effects/image-effects.component.html\"),\n            styles: [__webpack_require__(/*! ./image-effects.component.scss */ \"./src/app/common/components/image-effects/image-effects.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ng2_cache__WEBPACK_IMPORTED_MODULE_7__[\"CacheService\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_8__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"],\n            _image_effects_service__WEBPACK_IMPORTED_MODULE_5__[\"ImageEffectsService\"],\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__[\"TabsService\"]])\n    ], ImageEffectsComponent);\n    return ImageEffectsComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/common/components/image-effects/image-effects.service.ts\":\n/*!**************************************************************************!*\\\n  !*** ./src/app/common/components/image-effects/image-effects.service.ts ***!\n  \\**************************************************************************/\n/*! exports provided: ImageEffectsService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageEffectsService\", function() { return ImageEffectsService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar ImageEffectsService = /** @class */ (function () {\n    function ImageEffectsService() {\n        /**\n         * Init the service for operation : It initialise the variables\n         */\n        this.init = function (params) {\n            var obj = params.obj, properties = params.properties, canvasService = params.service, eventService = params.eventService;\n            // if no object is passed, we will get active object\n            if (obj == null)\n                obj = canvasService.getActiveObject();\n            // if no active object found, return from here\n            if (obj == false)\n                return;\n            var oldProperties = [];\n            if (Array.isArray(obj)) {\n                oldProperties = obj[0].filters;\n            }\n            else {\n                oldProperties = obj.filters;\n            }\n            return {\n                /**\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\n                 *\n                 */\n                exec: function () {\n                    // if no active object found, return from here\n                    if (obj == false)\n                        return;\n                    // set properties to current object\n                    obj.filters = [];\n                    fabric.textureSize = 4096;\n                    properties.imageEffects.forEach(function (object, index) {\n                        var _a;\n                        var name = object.label.toLowerCase();\n                        if (properties.effectArray.indexOf(object.effect_name) >= 0) {\n                            if (object.effect_name == 'Sharpen') {\n                                obj.filters.push(new fabric.Image.filters.Convolute({ matrix: [0, -1, 0, -1, 5, -1, 0, -1, 0] }));\n                            }\n                            else if (object.effect_name == 'Emboss') {\n                                obj.filters.push(new fabric.Image.filters.Convolute({ matrix: [1, 1, 1, 1, 0.7, -1, -1, -1, -1] }));\n                            }\n                            else if (object.effect_name == 'Hue') {\n                                var value = (properties.sliderValue != null) ? parseFloat(properties.sliderValue) : parseFloat(object.value);\n                                var objKeys = Object.keys(properties.sliderHistory);\n                                var getIndex = objKeys.indexOf(\"HueRotation\");\n                                if (getIndex != -1 && object.effect_name != properties.effect) {\n                                    value = properties.sliderHistory[objKeys[getIndex]];\n                                }\n                                var eff = new fabric.Image.filters.HueRotation({ rotation: value });\n                                if (object.effect_name == properties.effect) {\n                                    eff = Object.assign(eff, { sliderValue: properties.sliderValue });\n                                }\n                                else {\n                                    eff = Object.assign(eff, { sliderValue: properties.sliderHistory[objKeys[getIndex]] });\n                                }\n                                obj.filters.push(eff);\n                            }\n                            else {\n                                if (object.value != 0) {\n                                    var value = (properties.sliderValue != null) ? parseFloat(properties.sliderValue) : parseFloat(object.value);\n                                    var objKeys = Object.keys(properties.sliderHistory);\n                                    var getIndex = objKeys.indexOf(object.effect_name);\n                                    if (getIndex != -1 && object.effect_name != properties.effect) {\n                                        value = properties.sliderHistory[objKeys[getIndex]];\n                                    }\n                                    var eff = new fabric.Image.filters[object.effect_name]((_a = {}, _a[name] = value, _a));\n                                    if (object.effect_name == properties.effect) {\n                                        eff = Object.assign(eff, { sliderValue: properties.sliderValue });\n                                    }\n                                    else {\n                                        eff = Object.assign(eff, { sliderValue: properties.sliderHistory[objKeys[getIndex]] });\n                                    }\n                                    obj.filters.push(eff);\n                                }\n                                else {\n                                    obj.filters.push(new fabric.Image.filters[object.effect_name]());\n                                }\n                            }\n                        }\n                    });\n                    obj.dirty = true;\n                    obj.setCoords();\n                    obj.applyFilters();\n                    // finally update the canvas object\n                    canvasService.currentCanvas.calcOffset();\n                    setTimeout(function () {\n                        canvasService.currentCanvas.renderAll();\n                        // Publish an event when new object is updated\n                        eventService.$pub('objectUpdated', obj);\n                    }, 50);\n                },\n                /**\n                 * This function is used to revert back the last updated object while using undo redo\n                 */\n                unexec: function () {\n                    var canvas = canvasService.currentCanvas;\n                    // if no canvas is selected\n                    if (!canvas)\n                        return;\n                    // return of obj is null\n                    if (!obj)\n                        return;\n                    obj.filters = [];\n                    oldProperties.forEach(function (prop, index) {\n                        obj.filters.push(prop);\n                    });\n                    obj.applyFilters();\n                    // finally update the canvas object\n                    canvasService.currentCanvas.renderAll();\n                    eventService.$pub('objectUpdated', obj);\n                }\n            };\n        };\n    }\n    ImageEffectsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], ImageEffectsService);\n    return ImageEffectsService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.html\":\n/*!*********************************************************************************************************************!*\\\n  !*** ./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.html ***!\n  \\*********************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byic-color\\\" *ngIf=\\\"isComponentLoad && type == 'simple'\\\">\\n\\t<button class=\\\"byic_color_action\\\" [style.background]=\\\"activeColor\\\" (click)=\\\"colorPickerToggleFont();\\\" title=\\\"{{'Select color'}}\\\"></button>\\n\\t<div class=\\\"byic-colors-select byic-text-colors\\\" [attr.hidden]=\\\"hideColorToggle ? true : null\\\">\\n\\t    <ul>\\n\\t        <li *ngFor=\\\"let color of colorarr\\\" [class.active]=\\\"color.color_code === activeColor\\\" (mousedown)=\\\"changeColor(color.color_code);\\\">\\n\\t            <span [style.background]=\\\"color.color_code\\\" class=\\\"color_picker_item\\\" title=\\\"{{color.color_name}}\\\"></span>\\n\\t        </li>\\n\\t    </ul>\\n\\t</div>\\n</div> \\n<ng-container *ngIf=\\\"isComponentLoad && type == 'background'\\\">\\n\\t<li *ngFor=\\\"let color of colorarr\\\" [class.active]=\\\"color.color_code === activeColor\\\" [style.background-color]=\\\"color.color_code\\\" (click)=\\\"changeBackgroundColor(color)\\\" title=\\\"{{color.color_name}}\\\"></li>\\n\\t<li class=\\\"byi-color-reset\\\" [style.background-color]=\\\"'#fff'\\\" (click)=\\\"resetBackground()\\\" title=\\\"{{'Reset Background'}}\\\"></li>\\n</ng-container>\\n<ul *ngIf=\\\"isComponentLoad && type == 'imageEffect'\\\">\\n\\t<label>{{'Change Color'}}</label>\\n\\t<li [class.active]=\\\"pcolor.color_code === activeColor\\\" *ngFor=\\\"let pcolor of colorarr\\\"\\n\\t(mousedown)=\\\"changeColor(pcolor.color_code)\\\" title=\\\"{{pcolor.color_name}}\\\">\\n\\t\\t<span [style.background]=\\\"pcolor.color_code\\\" class=\\\"color_picker_item\\\"></span>\\n\\t</li>\\n</ul>\"\n\n/***/ }),\n\n/***/ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.scss\":\n/*!*********************************************************************************************************************!*\\\n  !*** ./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.scss ***!\n  \\*********************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbW1vbi9tb2R1bGVzL2N1c3RvbS1jb2xvci1waWNrZXIvY29tcG9uZW50L2N1c3RvbS1jb2xvci1waWNrZXIvY3VzdG9tLWNvbG9yLXBpY2tlci5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.ts\":\n/*!*******************************************************************************************************************!*\\\n  !*** ./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.ts ***!\n  \\*******************************************************************************************************************/\n/*! exports provided: CustomColorPickerComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomColorPickerComponent\", function() { return CustomColorPickerComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n\n\n\n\n\nvar CustomColorPickerComponent = /** @class */ (function () {\n    //Constructor\n    function CustomColorPickerComponent(mainService, eventService, canvasService) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.colorPickerToggle = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.changeColorEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.resetBackgroundEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.colorarr = [];\n        this.isComponentLoad = false;\n    }\n    //On INIT\n    CustomColorPickerComponent.prototype.ngOnInit = function () {\n        this.getColors();\n    };\n    CustomColorPickerComponent.prototype.getColors = function () {\n        var _this = this;\n        if (this.mainService.colorData.color) {\n            this.colorarr = this.mainService.colorData.color;\n            this.isComponentLoad = true;\n        }\n        else {\n            this.eventService.$sub('getColors', function (colorData) {\n                _this.colorarr = colorData.color;\n                _this.mainService.colorData.defaultColor = colorData.defaultColor;\n                _this.isComponentLoad = true;\n            });\n        }\n    };\n    CustomColorPickerComponent.prototype.colorPickerToggleFont = function () {\n        this.colorPickerToggle.next('hideColorToggleFont');\n    };\n    CustomColorPickerComponent.prototype.changeColor = function (colorCode) {\n        this.changeColorEvent.next(colorCode);\n    };\n    CustomColorPickerComponent.prototype.changeBackgroundColor = function (color) {\n        this.changeColorEvent.next(color);\n    };\n    CustomColorPickerComponent.prototype.resetBackground = function () {\n        this.resetBackgroundEvent.next();\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], CustomColorPickerComponent.prototype, \"activeColor\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], CustomColorPickerComponent.prototype, \"type\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], CustomColorPickerComponent.prototype, \"hideColorToggle\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], CustomColorPickerComponent.prototype, \"colorPickerToggle\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], CustomColorPickerComponent.prototype, \"changeColorEvent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], CustomColorPickerComponent.prototype, \"resetBackgroundEvent\", void 0);\n    CustomColorPickerComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[custom-color-picker]',\n            template: __webpack_require__(/*! ./custom-color-picker.component.html */ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.html\"),\n            styles: [__webpack_require__(/*! ./custom-color-picker.component.scss */ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"]])\n    ], CustomColorPickerComponent);\n    return CustomColorPickerComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/common/modules/custom-color-picker/custom-color-picker.module.ts\":\n/*!**********************************************************************************!*\\\n  !*** ./src/app/common/modules/custom-color-picker/custom-color-picker.module.ts ***!\n  \\**********************************************************************************/\n/*! exports provided: CustomColorPickerModule */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomColorPickerModule\", function() { return CustomColorPickerModule; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm5/common.js\");\n/* harmony import */ var _component_custom_color_picker_custom_color_picker_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component/custom-color-picker/custom-color-picker.component */ \"./src/app/common/modules/custom-color-picker/component/custom-color-picker/custom-color-picker.component.ts\");\n\n\n\n\nvar CustomColorPickerModule = /** @class */ (function () {\n    function CustomColorPickerModule() {\n    }\n    CustomColorPickerModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\n            declarations: [_component_custom_color_picker_custom_color_picker_component__WEBPACK_IMPORTED_MODULE_3__[\"CustomColorPickerComponent\"]],\n            imports: [\n                _angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"]\n            ],\n            exports: [_component_custom_color_picker_custom_color_picker_component__WEBPACK_IMPORTED_MODULE_3__[\"CustomColorPickerComponent\"]]\n        })\n    ], CustomColorPickerModule);\n    return CustomColorPickerModule;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/demostore/product-demo/product-demo.component.html\":\n/*!********************************************************************!*\\\n  !*** ./src/app/demostore/product-demo/product-demo.component.html ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<ng-container *ngIf=\\\"loadContent == 'reqForDemo' && !mainService.isResponsive\\\">\\n  <a class=\\\"byi-btn byi-livechat-btn\\\" href=\\\"javascript:void()\\\" (click)=\\\"showLiveChat()\\\">\\n    <i class=\\\"byi-btn__icon\\\">\\n      <svg class=\\\"icon icon-livechat\\\" viewBox=\\\"0 0 50 50\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-livechat\\\"></use>\\n      </svg>\\n    </i>\\n    <span>Live Chat</span>\\n  </a>\\n</ng-container>\\n\\n<div *ngIf=\\\"loadContent == 'pricePage' && pricePageUrl != '#' && pricePageUrl !== '' && !mainService.isResponsive\\\" class=\\\"byi-pricepage-link\\\">\\n  <div loader #loaderComponent></div>\\n  <a href=\\\"javascript:void(0)\\\" class=\\\"byi-product-demo-btn\\\" id=\\\"demo_personalized\\\" (click)=\\\"productDemoPopupOpen()\\\">\\n    <i class=\\\"byi-btn__icon\\\">\\n      <svg class=\\\"icon icon-support\\\" viewBox=\\\"0 0 50 50\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-support\\\"></use>\\n      </svg>\\n    </i>\\n    <span>{{productDemoButtonText || 'Personalised Demo' | translate}}</span>\\n  </a>\\n  <a [href]=\\\"pricePageUrl\\\" target=\\\"_blank\\\" id=\\\"demo_pricing\\\" >\\n    <i class=\\\"byi-btn__icon\\\">\\n      <svg class=\\\"icon icon-pricing\\\" viewBox=\\\"0 0 50 50\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-pricing\\\"></use>\\n      </svg>\\n    </i>\\n    <span>{{priceButtonText || 'Pricing' | translate}}</span>\\n  </a>\\n</div>\\n<ng-container *ngIf=\\\"loadContent == 'reqForDemo'\\\">\\n  <div class=\\\"byi-fab\\\" [class.byi-fab-active]=\\\"isFabOpen\\\" [attr.hidden]=\\\"(!mainService.isResponsive) ? true : null\\\">\\n    <button class=\\\"byi-fab-action\\\" type=\\\"button\\\" (click)=\\\"openFloatingAction()\\\">\\n      <span></span>\\n    </button>\\n    <div class=\\\"byi-fab-btn-list\\\">\\n      <button class=\\\"byi-fab-btn byi-fab-reqdemo\\\" id=\\\"demo_personalized\\\" (click)=\\\"productDemoPopupOpen()\\\">\\n        <span>{{productDemoButtonText || 'Personalised Demo' | translate}}</span>\\n        <i class=\\\"byi-fab-btn-icon\\\">\\n          <svg class=\\\"icon icon-support\\\" viewBox=\\\"0 0 50 50\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-support\\\"></use>\\n          </svg>\\n        </i>\\n      </button>\\n      <a class=\\\"byi-fab-btn byi-fab-livechat\\\" href=\\\"javascript:void()\\\" (click)=\\\"showLiveChat()\\\">\\n        <span>Live Chat</span>\\n        <i class=\\\"byi-fab-btn-icon\\\">\\n          <svg class=\\\"icon icon-livechat\\\" viewBox=\\\"0 0 50 50\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-livechat\\\"></use>\\n          </svg>\\n        </i>\\n      </a>\\n      <a [href]=\\\"pricePageUrl\\\" id=\\\"demo_pricing\\\" class=\\\"byi-fab-btn byi-fab-pricing\\\" target=\\\"_blank\\\">\\n        <span>{{priceButtonText || 'Pricing' | translate}}</span>\\n        <i class=\\\"byi-fab-btn-icon\\\">\\n          <svg class=\\\"icon icon-pricing\\\" viewBox=\\\"0 0 50 50\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-pricing\\\"></use>\\n          </svg>\\n        </i>\\n      </a>\\n    </div>\\n  </div>\\n</ng-container>\\n\\n<ng-template #requestDemomodel>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">{{'Request Personalized Demo' | translate}}</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closeModel()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div class=\\\"byi-login-tab\\\">\\n      <form [formGroup]=\\\"requestDemoForm\\\" (ngSubmit)=\\\"requestDemoSubmit()\\\">\\n        <div class=\\\"byi-group-element\\\">\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"customerName\\\">{{'Your Name' | translate}} *</label>\\n            <input type=\\\"text\\\" formControlName=\\\"customerName\\\" placeholder=\\\"Enter your name\\\" />\\n            <span class=\\\"byi-error\\\"\\n              *ngIf=\\\"requestDemoForm.get('customerName').value == '' && requestDemoForm.get('customerName').touched\\\">{{'Your name is required' | translate}}</span>\\n          </div>\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"customerEmail\\\">{{'Your Email' | translate}} *</label>\\n            <input type=\\\"text\\\" formControlName=\\\"customerEmail\\\" placeholder=\\\"Enter your email\\\" />\\n            <span class=\\\"byi-error\\\"\\n              *ngIf=\\\"requestDemoForm.get('customerEmail').value == '' && requestDemoForm.get('customerEmail').touched\\\">{{'Your email is required' | translate}}</span>\\n          </div>\\n        </div>\\n        <div class=\\\"byi-group-element\\\">\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"companyName\\\">{{'Your Company Name' | translate}}</label>\\n            <input type=\\\"text\\\" formControlName=\\\"companyName\\\" placeholder=\\\"Enter your company name\\\" />\\n          </div>\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"phoneNumber\\\">{{'Phone Number' | translate}}</label>\\n            <input type=\\\"text\\\" formControlName=\\\"phoneNumber\\\" placeholder=\\\"Enter your phone number\\\" />\\n          </div>\\n        </div>\\n        <div class=\\\"byi-group-element\\\">\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"website\\\">{{'Website' | translate}}</label>\\n            <input type=\\\"text\\\" formControlName=\\\"website\\\" placeholder=\\\"Enter your website\\\" />\\n          </div>\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"technology\\\">{{'Select Technology' | translate}}</label>\\n            <div class=\\\"byi-select\\\">\\n              <select formControlName=\\\"technology\\\" required>\\n                <option selected disabled value=\\\"\\\">Select Technology</option>\\n                <option *ngFor=\\\"let data of technologies\\\" [value]=\\\"data\\\">{{data}}</option>\\n              </select>\\n              <span class=\\\"caret\\\"></span>\\n            </div>\\n            <p *ngIf=\\\"requestDemoForm.get('technology').value == '' && requestDemoForm.get('technology').touched\\\">\\n              {{'Please select technology' | translate}}</p>\\n          </div>\\n        </div>\\n        <div class=\\\"byi-group-element\\\">\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"country\\\">{{'Select Country' | translate}}</label>\\n            <div class=\\\"byi-select\\\">\\n              <select formControlName=\\\"country\\\">\\n                <option selected disabled value=\\\"\\\">Select Country</option>\\n                <option *ngFor=\\\"let countryData of countries\\\" [value]=\\\"countryData.name\\\"\\n                  [selected]=\\\"countryData.id == selectedCountry\\\">\\n                  {{countryData.name}}</option>\\n              </select>\\n              <span class=\\\"caret\\\"></span>\\n            </div>\\n          </div>\\n          <div class=\\\"byi-float-label\\\">\\n            <label for=\\\"message\\\">{{\\\"Your message\\\" | translate}}</label>\\n            <textarea class=\\\"byi-input\\\" rows=\\\"3\\\" formControlName=\\\"message\\\" placeholder=\\\"Enter your message\\\"></textarea>\\n          </div>\\n        </div>\\n        <div class=\\\"byi-group-element\\\">\\n          <div class=\\\"byi-float-checkbox\\\">\\n            <label class=\\\"byi-checkbox\\\">\\n              <input type=\\\"checkbox\\\" formControlName=\\\"confirmCheckbox\\\" />\\n              <span></span>\\n              {{'Please click here to confirm that you are happy to share above listed information with us.' | translate}}\\n            </label>\\n            <p class=\\\"byi-error\\\"\\n              *ngIf=\\\"requestDemoForm.get('confirmCheckbox').value == '' && requestDemoForm.get('confirmCheckbox').touched\\\">\\n              {{'Your confirmation is required.' | translate}}</p>\\n          </div>\\n        </div>\\n        <div class=\\\"byi-group-element\\\">\\n          <re-captcha (resolved)=\\\"resolved($event)\\\" [siteKey]=\\\"recaptchaKey\\\"></re-captcha>\\n        </div>\\n        <div class=\\\"byi-form-action\\\">\\n          <button class=\\\"byi-btn\\\" type=\\\"submit\\\" [disabled]=\\\"!isEnable\\\">Submit</button>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/demostore/product-demo/product-demo.component.scss\":\n/*!********************************************************************!*\\\n  !*** ./src/app/demostore/product-demo/product-demo.component.scss ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RlbW9zdG9yZS9wcm9kdWN0LWRlbW8vcHJvZHVjdC1kZW1vLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/demostore/product-demo/product-demo.component.ts\":\n/*!******************************************************************!*\\\n  !*** ./src/app/demostore/product-demo/product-demo.component.ts ***!\n  \\******************************************************************/\n/*! exports provided: ProductDemoComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductDemoComponent\", function() { return ProductDemoComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\n/* harmony import */ var ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-bootstrap/modal */ \"./node_modules/ngx-bootstrap/modal/fesm5/ngx-bootstrap-modal.js\");\n/* harmony import */ var _services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n\n\n\n\n\n\n\n\nvar ProductDemoComponent = /** @class */ (function () {\n    function ProductDemoComponent(modalService, formBuilder, mainService, cacheService, cdr) {\n        this.modalService = modalService;\n        this.formBuilder = formBuilder;\n        this.mainService = mainService;\n        this.cacheService = cacheService;\n        this.cdr = cdr;\n        this.modalClass = '';\n        this.technologies = [\"Magento\"];\n        this.countries = [];\n        this.country = \"\";\n        this.recaptchaKey = '';\n        this.pricePageUrl = '';\n        this.priceButtonText = '';\n        this.productDemoButtonText = '';\n        this.isFabOpen = false;\n        this.liveChatStatus = false;\n        this.isEnable = false;\n    }\n    ProductDemoComponent.prototype.ngOnInit = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getFormData()];\n                    case 1:\n                        _a.sent();\n                        this.openProductDemoPopup();\n                        this.requestDemoForm = this.formBuilder.group({\n                            customerName: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__[\"Validators\"].required],\n                            customerEmail: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__[\"Validators\"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__[\"Validators\"].pattern(\"[^ @]*@[^ @]*\")]],\n                            companyName: [''],\n                            phoneNumber: [''],\n                            website: [''],\n                            technology: [this.technology, _angular_forms__WEBPACK_IMPORTED_MODULE_2__[\"Validators\"].required],\n                            country: [''],\n                            message: [''],\n                            confirmCheckbox: ['']\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ProductDemoComponent.prototype.openProductDemoPopup = function () {\n        var url = new URL(window.location.href);\n        var paramValue = url.searchParams.get(\"req\");\n        if (paramValue) {\n            this.params = paramValue;\n            var cacheKey = 'reqDemoPopup' + this.mainService.baseUrl;\n            var data = '';\n            if (!this.cacheService.exists(cacheKey)) {\n                var thisVar_1 = this;\n                setTimeout(function () {\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.fire({\n                        title: thisVar_1.reqDemoPopTitle ? thisVar_1.reqDemoPopTitle : 'Request Demo',\n                        text: thisVar_1.reqDemoPopText ? thisVar_1.reqDemoPopText : \"How are you liking the demo so far? Hope you are having a good time playing around with our tool. Want to explore more with us? Our executives will help you with a FREE personalized demo. They can help you find the perfect solution for your business challenges.\",\n                        type: 'info',\n                        showCancelButton: true,\n                        confirmButtonText: thisVar_1.productDemoButtonText ? thisVar_1.productDemoButtonText : 'Personalised Product Demo',\n                        cancelButtonText: thisVar_1.reqDemoPopCancelbtnText ? thisVar_1.reqDemoPopCancelbtnText : 'Let Me Explore Myself',\n                        allowOutsideClick: false\n                    }).then(function (data) {\n                        if (data.value) {\n                            var url_1 = 'productdesigner/index/requestPopUpDemo';\n                            var params = {\n                                'reqParams': thisVar_1.params\n                            };\n                            thisVar_1.mainService.post(url_1, params, null).then(function (resp) {\n                                sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.fire({\n                                    title: 'Alert!',\n                                    text: thisVar_1.reqDemoThankyouPopupText ? thisVar_1.reqDemoThankyouPopupText : \"Thank you for request\",\n                                    type: 'success',\n                                    showCancelButton: false,\n                                    confirmButtonText: 'OK',\n                                    allowOutsideClick: false\n                                });\n                            }).catch(function (err) {\n                                console.log(err);\n                            });\n                        }\n                    });\n                }, 60000);\n                thisVar_1.cacheService.set(cacheKey, data, { maxAge: 1000 * 60 });\n            }\n        }\n    };\n    ProductDemoComponent.prototype.getFormData = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var cacheKey, data, url, params;\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        cacheKey = 'requestfordemo-' + this.mainService.baseUrl;\n                        if (!this.cacheService.exists(cacheKey)) return [3 /*break*/, 1];\n                        data = this.cacheService.get(cacheKey);\n                        this.recaptchaKey = data.recaptchaKey;\n                        this.pricePageUrl = (data.pricingPageUrl == '' || data.pricingPageUrl == undefined || data.pricingPageUrl == null) ? '#' : data.pricingPageUrl;\n                        this.priceButtonText = data.priceButtonText;\n                        this.productDemoButtonText = data.productDemoButtonText;\n                        this.countries = data.countries;\n                        this.technologies = data.technologies;\n                        this.technology = this.technologies[0];\n                        this.reqDemoPopTitle = data.reqDemoPopTitle;\n                        this.reqDemoPopText = data.reqDemoPopText;\n                        this.reqDemoPopCancelbtnText = data.reqDemoPopCancelbtnText;\n                        this.reqDemoThankyouPopupText = data.reqDemoThankyouPopupText;\n                        this.cdr.detectChanges();\n                        return [3 /*break*/, 3];\n                    case 1:\n                        url = 'productdesigner/index/getRequestDemoData';\n                        params = {};\n                        return [4 /*yield*/, this.mainService.getData(url, params, cacheKey).then(function (data) {\n                                _this.cacheService.set(cacheKey, data, { maxAge: 15 * 60 });\n                                _this.recaptchaKey = data.recaptchaKey;\n                                _this.pricePageUrl = (data.pricingPageUrl == '' || data.pricingPageUrl == undefined || data.pricingPageUrl == null) ? '#' : data.pricingPageUrl;\n                                _this.priceButtonText = data.priceButtonText;\n                                _this.productDemoButtonText = data.productDemoButtonText;\n                                _this.countries = data.countries;\n                                _this.technologies = data.technologies;\n                                _this.technology = _this.technologies[0];\n                                _this.reqDemoPopTitle = data.reqDemoPopTitle;\n                                _this.reqDemoPopText = data.reqDemoPopText;\n                                _this.reqDemoPopCancelbtnText = data.reqDemoPopCancelbtnText;\n                                _this.reqDemoThankyouPopupText = data.reqDemoThankyouPopupText;\n                                _this.cdr.detectChanges();\n                            })];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ProductDemoComponent.prototype.productDemoPopupOpen = function () {\n        this.modalRef = this.modalService.show(this.requestDemomodel, Object.assign({}, { class: 'byi-reqdemo-modal' }));\n    };\n    ProductDemoComponent.prototype.requestDemoSubmit = function () {\n        var _this = this;\n        if (this.requestDemoForm.valid) {\n            this.modalRef.hide();\n            this.loaderComponent.showMainLoader = true;\n            var url = 'productdesigner/index/requestDemo';\n            var param = {\n                formData: this.requestDemoForm.value\n            };\n            this.mainService.post(url, param, null).then(function (resp) {\n                _this.requestDemoForm.reset();\n                _this.technology = _this.technologies[0];\n                _this.country = \"\";\n                _this.loaderComponent.showMainLoader = false;\n                _this.showSuccessAlert();\n            }).catch(function (err) {\n                console.log(err);\n            });\n        }\n        else {\n            return;\n        }\n    };\n    ProductDemoComponent.prototype.showSuccessAlert = function () {\n        sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.fire({\n            title: 'Alert!',\n            text: this.reqDemoThankyouPopupText ? this.reqDemoThankyouPopupText : \"Thank you for request\",\n            type: 'success',\n            confirmButtonText: 'OK',\n            allowOutsideClick: false\n        }).then(function (data) {\n            if (data.value) {\n            }\n        });\n    };\n    ProductDemoComponent.prototype.resolved = function (event) {\n        if (event) {\n            this.isEnable = true;\n        }\n    };\n    ProductDemoComponent.prototype.closeModel = function () {\n        this.modalRef.hide();\n    };\n    ProductDemoComponent.prototype.openFloatingAction = function () {\n        this.isFabOpen = !this.isFabOpen;\n    };\n    ProductDemoComponent.prototype.showLiveChat = function () {\n        if (Tawk_API.isChatHidden()) {\n            Tawk_API.showWidget();\n            Tawk_API.maximize();\n        }\n        else {\n            Tawk_API.hideWidget();\n        }\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('requestDemomodel'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ProductDemoComponent.prototype, \"requestDemomodel\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('loaderComponent'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_7__[\"LoaderComponent\"])\n    ], ProductDemoComponent.prototype, \"loaderComponent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ProductDemoComponent.prototype, \"loadContent\", void 0);\n    ProductDemoComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[product-demo]',\n            template: __webpack_require__(/*! ./product-demo.component.html */ \"./src/app/demostore/product-demo/product-demo.component.html\"),\n            styles: [__webpack_require__(/*! ./product-demo.component.scss */ \"./src/app/demostore/product-demo/product-demo.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_3__[\"BsModalService\"],\n            _angular_forms__WEBPACK_IMPORTED_MODULE_2__[\"FormBuilder\"],\n            _services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_5__[\"CacheService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"]])\n    ], ProductDemoComponent);\n    return ProductDemoComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/background-color/background-color.component.html\":\n/*!****************************************************************************************!*\\\n  !*** ./src/app/essentials/components/background-color/background-color.component.html ***!\n  \\****************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div loader #loaderComponent></div>\\n<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div *ngIf=\\\"loaderComponent.showSubLoader === false && loadContent\\\" class=\\\"byi-colors-list\\\">\\n    <ul class=\\\"byie-custom-color\\\" *ngIf=\\\"isChildColorComponentLoad\\\" custom-color-picker [type]=\\\"'background'\\\" [activeColor]=\\\"selectedColor\\\" [hideColorToggle]=\\\"hideColorToggleBackground\\\" (colorPickerToggle)=\\\"colorPickerToggleBackground($event)\\\" (changeColorEvent)=\\\"changeBackgroundColor($event)\\\" (resetBackgroundEvent)=\\\"resetBackground()\\\"></ul> \\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/background-color/background-color.component.scss\":\n/*!****************************************************************************************!*\\\n  !*** ./src/app/essentials/components/background-color/background-color.component.scss ***!\n  \\****************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9iYWNrZ3JvdW5kLWNvbG9yL2JhY2tncm91bmQtY29sb3IuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/background-color/background-color.component.ts\":\n/*!**************************************************************************************!*\\\n  !*** ./src/app/essentials/components/background-color/background-color.component.ts ***!\n  \\**************************************************************************************/\n/*! exports provided: BackgroundColorComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackgroundColorComponent\", function() { return BackgroundColorComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\n\n\nvar BackgroundColorComponent = /** @class */ (function () {\n    function BackgroundColorComponent(mainService, cacheService, pubsub, canvasService) {\n        var _this = this;\n        this.mainService = mainService;\n        this.cacheService = cacheService;\n        this.pubsub = pubsub;\n        this.canvasService = canvasService;\n        this.currentTab = 4;\n        this.hideColorToggleBackground = 1;\n        this.accordianId = 0;\n        this.isChildColorComponentLoad = false;\n        this.pubsub.$sub('getSubTabs', function (mainTabId) {\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\n                _this.getSubTabs(mainTabId);\n            }\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\n        });\n        this.pubsub.$sub('canvasBackgroundChange', function () {\n            _this.selectedColor = _this.canvasService.currentCanvas.backgroundColor;\n        });\n    }\n    BackgroundColorComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.pubsub.$sub('imageSideChanged', function () {\n            _this.selectedColor = '#fffff';\n            _this.selectedColor = _this.canvasService.currentCanvas.backgroundColor;\n        });\n        this.pubsub.$sub('closeColorPicker', function () {\n            _this.hideColorToggleBackground = 1;\n        });\n        this.isChildColorComponentLoad = true;\n    };\n    BackgroundColorComponent.prototype.closeLoader = function () {\n        if (this.loaderComponent && this.loaderComponent.showSubLoader) {\n            this.loaderComponent.showSubLoader = false;\n        }\n    };\n    BackgroundColorComponent.prototype.getSubTabs = function (mainTabId) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var data;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                data = this.mainService.tabsFlow[mainTabId];\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\n                if (this.subTabsData && this.subTabsData.length > 0) {\n                    this.accordianId = this.subTabsData[0].id;\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    BackgroundColorComponent.prototype.changeBackgroundColor = function (color) {\n        this.selectedColor = color.color_code;\n        var params = {\n            properties: {\n                backgroundColor: color.color_code\n            },\n            crudServiceString: 'this.canvasUpdateService',\n            isHistory: true,\n        };\n        this.canvasService.objectCRUD(params);\n        this.canvasService.usedColorsCounter();\n    };\n    BackgroundColorComponent.prototype.resetBackground = function () {\n        this.selectedColor = null;\n        var params = {\n            properties: {\n                backgroundColor: null\n            },\n            crudServiceString: 'this.canvasUpdateService',\n            isHistory: true,\n        };\n        this.canvasService.objectCRUD(params);\n        this.canvasService.usedColorsCounter();\n    };\n    BackgroundColorComponent.prototype.colorPickerToggleBackground = function (event) {\n        if (this.hideColorToggleBackground == 1) {\n            this.hideColorToggleBackground = 0;\n        }\n        else if (this.hideColorToggleBackground == 0) {\n            this.hideColorToggleBackground = 1;\n        }\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], BackgroundColorComponent.prototype, \"loadContent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\n    ], BackgroundColorComponent.prototype, \"loaderComponent\", void 0);\n    BackgroundColorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: '[background-color]',\n            template: __webpack_require__(/*! ./background-color.component.html */ \"./src/app/essentials/components/background-color/background-color.component.html\"),\n            styles: [__webpack_require__(/*! ./background-color.component.scss */ \"./src/app/essentials/components/background-color/background-color.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_5__[\"CacheService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"]])\n    ], BackgroundColorComponent);\n    return BackgroundColorComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/cart/cart.component.html\":\n/*!****************************************************************!*\\\n  !*** ./src/app/essentials/components/cart/cart.component.html ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<button *ngIf=\\\"!mainService.isResponsive && mainService.isAdmin == false\\\" type=\\\"button\\\" class=\\\"byi-atc-btn\\\"\\n  (click)=\\\"openModal(template)\\\">{{'Add to\\n  Cart' | translate}}</button>\\n<button *ngIf=\\\"mainService.isResponsive\\\" type=\\\"button\\\" class=\\\"byiu-right-icon\\\" (click)=\\\"openModal(template)\\\">\\n  <svg class=\\\"icon icon-cart\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-cart\\\"></use>\\n  </svg>\\n</button>\\n\\n<ng-template #template>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">{{'Add to Cart' | translate}}</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closeModal()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div class=\\\"byi-addtocart-box \\\">\\n\\n\\n      <!-- Custom Options Section -->\\n      <div class=\\\"byi-cart-custom\\\" custom-options *ngIf=\\\"customOptionsData && customOptionsData.length\\\">\\n      </div>\\n      <form [formGroup]=\\\"customForm\\\" name=\\\"customForm\\\" id=\\\"customForm\\\">\\n        <div printing-methods [parentFormGroup]=\\\"customForm\\\" [isClickedAddtoCart]=\\\"isClickedAddtoCart\\\"></div>\\n      </form>\\n      <!-- END OF Custom Options Section -->\\n\\n      <!-- Simple Product Section -->\\n      <div class=\\\"qty-container\\\" *ngIf=\\\"mainService.productType == 'simple'\\\">\\n        <label>{{'Quantity' | translate}}</label>\\n        <input class=\\\"byi-input size-qty\\\" name=\\\"qty\\\" [(ngModel)]=\\\"qty\\\" type=\\\"text\\\"\\n          (keypress)=\\\"confProductService.keyPress($event)\\\" (input)=\\\"simpleProductQtyUpdated($event.target.value)\\\">\\n        <span *ngIf=\\\"qty <= 0\\\" class=\\\"text-danger\\\">\\n          Invalid Quantity\\n        </span>\\n      </div>\\n      <!-- END OF Simple product section -->\\n\\n\\n      <!-- Product Attribute Selection section -->\\n      <div *ngIf=\\\"showConfigurableOptions()\\\" conf-product-attr [confProductOptionsObject]=\\\"confProductOptionsObject\\\">\\n      </div>\\n      <!-- END OF Product Attribute Selection section -->\\n\\n      <div class=\\\"byi-cart-note\\\">\\n        <label>Add Note</label>\\n        <input class=\\\"byi-input\\\" type=\\\"textarea\\\" name=\\\"note\\\" [(ngModel)]=\\\"addnote\\\">\\n      </div>\\n      <div class=\\\"byi-used-colors\\\" *ngIf=\\\"canvasService.usedColorCounter\\\">\\n        <label>Used Colors <span>{{ '(' + canvasService.usedColorCounter + ')'}}</span></label>\\n      </div>\\n\\n      <!-- Cart Footer Section -->\\n      <div class=\\\"byi-cart-footer\\\">\\n        <div class=\\\"byic-left\\\">\\n          <span class=\\\"byic-price\\\">{{priceService.getPrice()}}</span>\\n          <span *ngIf=\\\"showBothPrices\\\">(Excl. Tax: {{productPriceExclTax}})</span>\\n        </div>\\n        <div class=\\\"byic-right\\\">\\n          <button type=\\\"button\\\" class=\\\"byi-atc-btn\\\" (click)=\\\"validateCartData()\\\">{{'Add to Cart' | translate}}</button>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"tierPriceData && tierPriceData.length > 0\\\" class=\\\"byi-tierprice-info\\\">\\n        <p *ngFor=\\\"let data of tierPriceData\\\">Buy {{data.price_qty}} for {{formatCurrency(data.price_with_Tax)}} <span\\n            *ngIf=\\\"showBothPrices\\\">(Excl. Tax:{{formatCurrency(data.website_price)}})</span> each and save\\n          {{data.percentage_value}}%</p>\\n      </div>\\n      <!-- END OF Cart Footer Section -->\\n\\n    </div>\\n  </div>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/cart/cart.component.scss\":\n/*!****************************************************************!*\\\n  !*** ./src/app/essentials/components/cart/cart.component.scss ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jYXJ0L2NhcnQuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/cart/cart.component.ts\":\n/*!**************************************************************!*\\\n  !*** ./src/app/essentials/components/cart/cart.component.ts ***!\n  \\**************************************************************/\n/*! exports provided: CartComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CartComponent\", function() { return CartComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var _custom_options_custom_options_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../custom-options/custom-options.service */ \"./src/app/essentials/components/custom-options/custom-options.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\n/* harmony import */ var _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../conf-product-attr/conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_12__);\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar CartComponent = /** @class */ (function () {\n    function CartComponent(mainService, eventService, designService, confProductService, translate, customOptionsService, canvasService, priceService) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.designService = designService;\n        this.confProductService = confProductService;\n        this.translate = translate;\n        this.customOptionsService = customOptionsService;\n        this.canvasService = canvasService;\n        this.priceService = priceService;\n        this.isLessPrintingMinmumQty = false;\n        this.isClickedAddtoCart = false;\n        this.lastSavedDesignId = [];\n    }\n    /**\n     * Angular Init function\n     */\n    CartComponent.prototype.ngOnInit = function () {\n        this.customForm = new _angular_forms__WEBPACK_IMPORTED_MODULE_11__[\"FormGroup\"]({\n            method: new _angular_forms__WEBPACK_IMPORTED_MODULE_11__[\"FormControl\"]()\n        });\n        this.init();\n    };\n    CartComponent.prototype.formatCurrency = function (price) {\n        if (price != null) {\n            return Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_8__[\"FormatCurrency\"])(price, this.confProductService.priceFormat, '');\n        }\n    };\n    /**\n     * Assign default values here\n     */\n    CartComponent.prototype.init = function () {\n        this.qty = 0;\n        this.customOptionsData = [];\n        this.customOptionsFileData = [];\n        this.defaultSelectedAttributes = {};\n        this.subscribeEvents();\n    };\n    /**\n     * Subscrine events and perform actions for  the same\n     */\n    CartComponent.prototype.subscribeEvents = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                /*Get Cart Data From Price Component*/\n                this.eventService.$sub('getCartData', function (data) {\n                    _this.confProductService.priceFormat = data.priceFormat;\n                    _this.confProductService.finalPrice = data.finalPrice;\n                    _this.confProductService.cartTotalAmount = Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_8__[\"FormatCurrency\"])(data.finalPrice, data.priceFormat, '');\n                    _this.tierPriceData = data.tierPriceData;\n                    _this.showBothPrices = data.showBothPrices;\n                    _this.productPriceExclTax = data.productPriceExclTax;\n                });\n                // subscribe event when product options data is fetched\n                this.eventService.$sub('productOptionsFetched', function (resp) {\n                    _this.confProductOptionsObject = Object.assign({}, resp);\n                    // set initial default selected super attributes\n                    _this.confProductService.defaultSelectedOptions = Object.assign({}, resp.selectedOptions);\n                });\n                // when user changes product\n                this.eventService.$sub('productChanged', function (resp) {\n                    // set new super attributes\n                    _this.confProductService.resetMe = true;\n                    _this.confProductService.defaultSelectedOptions = Object.assign({}, resp.defaultSelectedOptions);\n                    _this.confProductService.defaultSelectedOptionsValues = Object.assign({}, resp.defaultSelectedOptionsValues);\n                    _this.confProductService.fixDefaultSelectedOptions = Object.assign({}, resp.defaultSelectedOptionsValues);\n                });\n                this.eventService.$sub('resetCart', function (removedNameNumberObj) {\n                    _this.confProductService.init();\n                    if (_this.confProductService.isNameNumber && removedNameNumberObj != null && _this.confProductService.cartData && _this.confProductService.cartData.length > 0) {\n                        if (removedNameNumberObj.hasOwnProperty('nameNumberData') && removedNameNumberObj.hasOwnProperty('type'))\n                            removedNameNumberObj.nameNumberData.filter(function (removedObj) {\n                                _this.confProductService.nameNumberReset(removedObj, removedNameNumberObj.type);\n                            });\n                        else if (removedNameNumberObj.hasOwnProperty('id')) {\n                            _this.confProductService.nameNumberReset(removedNameNumberObj);\n                        }\n                    }\n                    else {\n                        _this.confProductService.totalRows = [];\n                        _this.confProductService.cartData = [];\n                        if (_this.confProductService.nameNumberData.newRow.length > 0) {\n                            // set reset price flag\n                            var resetPrice = (removedNameNumberObj && removedNameNumberObj.hasOwnProperty('resetPrice')) ? removedNameNumberObj.resetPrice : false, \n                            // set default qty to set based on reset price flag\n                            // if reset price flag is true, default qty to sub will be total name number rows - 1\n                            defaultQtyToSubtract = (resetPrice) ? _this.confProductService.nameNumberData.newRow.length - 1 : 1;\n                            // calc new total qty\n                            _this.priceService.totalQty -= (_this.priceService.totalQty > 1) ? defaultQtyToSubtract : 0;\n                            // set extra product price\n                            _this.priceService.extraPriceToBeAdded.productPrice -= (_this.priceService.extraPriceToBeAdded.productPrice <= 0) ? 0 : (_this.priceService.defaultPrice * (defaultQtyToSubtract));\n                            // finally recalculate price\n                            _this.priceService.addThisPrice();\n                        }\n                        else {\n                            _this.priceService.totalQty = 1;\n                            _this.priceService.extraPriceToBeAdded.productPrice = 0;\n                            _this.priceService.addThisPrice();\n                        }\n                    }\n                });\n                this.eventService.$sub('objectAdded', function (obj) {\n                    obj = (Array.isArray(obj)) ? obj[0] : obj;\n                    if (_this.confProductService.isNameNumber && _this.confProductService.cartData && _this.confProductService.cartData.length && _this.confProductService.totalRows && _this.confProductService.totalRows.length && obj.hasOwnProperty('addObj') && (obj.addObj == 'name' || obj.addObj == 'number')) {\n                        _this.updateCartObject(obj.addObj, obj.text);\n                    }\n                });\n                this.eventService.$sub('objectUpdated', function (obj) {\n                    if (!_this.confProductService.cartData || !_this.confProductService.cartData.length)\n                        return;\n                    obj = (Array.isArray(obj)) ? obj[0] : obj;\n                    if (obj.hasOwnProperty('addObj') && (obj.addObj == 'name' || obj.addObj == 'number')) {\n                        var newText = obj.text, oldText = obj._stateProperties.text, type = obj.addObj;\n                        if (newText != oldText) {\n                            _this.updateCartObject(type, newText);\n                        }\n                    }\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    CartComponent.prototype.updateCartObject = function (type, newText) {\n        var nameNumberId = this.confProductService.nameNumberData.newRow.find(function (nameNumberObj) { return (nameNumberObj[type] == newText); });\n        if (nameNumberId) {\n            nameNumberId = nameNumberId.id;\n            var findCartItem = null, totalCart = this.confProductService.cartData.length, tmpCartItem = void 0, index = void 0;\n            for (var i = 0; i < totalCart; i++) {\n                tmpCartItem = this.confProductService.cartData[i];\n                if (tmpCartItem.hasOwnProperty('additional_options') && tmpCartItem.additional_options.length) {\n                    index = tmpCartItem.additional_options.indexOf(tmpCartItem.additional_options.find(function (additionalOpt) { return (additionalOpt.id == nameNumberId); }));\n                    if (index >= 0) {\n                        findCartItem = tmpCartItem;\n                        findCartItem.additional_options[index][type] = newText;\n                        break;\n                    }\n                }\n            }\n            if (findCartItem != null) {\n                this.confProductService.cartData[this.confProductService.cartData.indexOf(findCartItem)] = findCartItem;\n            }\n        }\n    };\n    /**\n     * Custom Options File upload process\n     * We are returning promise here, as there could be more than one files, add to cart proccess needs to wait till this process is finished\n     *\n     * @param fileList\n     */\n    CartComponent.prototype.uploadFilesToServer = function (fileList) {\n        var _this = this;\n        // declare promise here\n        return new Promise(function (resolve, reject) {\n            // if no files are found, return from here\n            if (!fileList || fileList.length == 0)\n                resolve(true);\n            // variable declaration\n            var formData = new FormData(), url = \"productdesigner/Cart/uploadCustomOptionFile\", totalFiles = fileList.length, totalProccessed = 0, tmpFileObj;\n            // travers file object one by one\n            fileList.filter(function (file) {\n                // initialize fresh form data object\n                formData = new FormData();\n                // prepare form data\n                formData.append('file', file);\n                formData.append('allowedExtensions', file.allowedExtensions);\n                // send post request with above data\n                // as we are not performing any process after file is uploaded successfully\n                // we are dealing with finally() directly \n                // logic here is, as soon as totalFiles matches with totalProccessed, we will return from here \n                _this.mainService.postFile(url, formData)\n                    .then(function (resp) {\n                    tmpFileObj = {\n                        fileName: resp.name,\n                        filePath: resp.url\n                    };\n                    tmpFileObj = Object.assign(tmpFileObj, file.fileInfo);\n                    _this.customOptionsFileData.push(tmpFileObj);\n                }).finally(function () {\n                    formData = null;\n                    totalProccessed++;\n                    if (totalProccessed == totalFiles)\n                        resolve(true);\n                });\n            });\n        });\n    };\n    /**\n     * Open add to cart popup\n     * @param template\n     */\n    CartComponent.prototype.openModal = function (template) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.canvasService.hasCanvasObjectOrBackgroundAll()) {\n                            this.mainService.swal(this.translate.instant('Alert'), this.translate.instant('Please design the product !'), \"warning\");\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.getCustomOptions()];\n                    case 1:\n                        _a.sent();\n                        this.modalRef = this.mainService.openThisModal(template, 'byi-cart-modal');\n                        this.canvasService.deselectAllObjects();\n                        this.confProductService.init();\n                        //allow add more in add to cart\n                        /*let self = this;\n                        setTimeout(() => {\n                          self.confProductService.displayAddMore = self.allowAddMore;\n                        }, 500);*/\n                        this.confProductService.displayAddMore = this.allowAddMore;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Get custom options\n     */\n    CartComponent.prototype.getCustomOptions = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var url, param;\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"productdesigner/Cart/getCustomOptions\", param = {\n                            product_id: this.mainService.productId\n                        };\n                        // check if item id is present\n                        if (this.mainService.itemId)\n                            param = Object.assign(param, { itemId: this.mainService.itemId });\n                        // get custom option data from here\n                        return [4 /*yield*/, this.mainService.getData(url, param, 'cartCustomOptions-' + this.mainService.productId + '-' + this.mainService.itemId, null, true)\n                                .then(function (response) {\n                                // if no data is returned or error occured, display error message and return from here\n                                if ((response && response.status == \"failure\") || !(response && response.custom_options && response.status == \"Success\")) {\n                                    var msg = (response && response.log) ? response.log : _this.translate.instant(\"Something went wrong\");\n                                    _this.mainService.swal(_this.translate.instant(\"Error\"), _this.translate.instant(msg), \"error\");\n                                    return;\n                                }\n                                _this.allowAddMore = response.allow_add_more;\n                                // else store custom options data into variable\n                                _this.customOptionsData = [].concat(response.customOptionsData);\n                                // set custom options data to custom options component via it's service\n                                _this.customOptionsService.setCustomOptionsData(response);\n                                // if edit design is set, get qty from response\n                                var selectedQty = (response && response.selectedCustomOptions && response.selectedCustomOptions.qty) ? response.selectedCustomOptions.qty : null;\n                                // if user has set qty and then hit on Design it button\n                                if (selectedQty == null) {\n                                    selectedQty = document.getElementsByClassName('qty');\n                                    if (selectedQty && selectedQty[0] && selectedQty[0].value) {\n                                        selectedQty = selectedQty[0].value;\n                                    }\n                                    else {\n                                        selectedQty = null;\n                                    }\n                                }\n                                // if none of the above, set default qty to 1\n                                selectedQty = (selectedQty == null) ? 1 : selectedQty;\n                                // set qty for simple product\n                                if (_this.mainService.productType == 'simple')\n                                    _this.qty = _this.priceService.totalQty > 1 ? _this.priceService.totalQty : selectedQty;\n                                // set qty for configurable product\n                                else if (_this.mainService.productType == 'configurable')\n                                    _this.confProductService.defaultQty = selectedQty;\n                                // this.confProductService.qtyUpdated(selectedQty);\n                            }).catch(function (err) { return console.log(_this.translate.instant(\"get Custom Options Catch::::\"), err); })];\n                    case 1:\n                        // get custom option data from here\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * As soon as user clicks on add to cart button this function is triggered,\n     * if custom option is detected, we will publish an event that will validate custom options data\n     * in custom options component and will return the response for the same\n     */\n    CartComponent.prototype.validateCartData = function () {\n        if (this.customForm) {\n            this.isClickedAddtoCart = true;\n            if (!this.customForm.valid) {\n                this.eventService.$pub('showError', true);\n                return;\n            }\n            else {\n                if (parseFloat(this.priceService.printingMethodMinimumQty) > parseFloat(this.priceService.totalQty)) {\n                    this.isLessPrintingMinmumQty = true;\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_12___default.a.fire({\n                        customClass: 'potrait-mode-popup',\n                        title: this.translate.instant(\"Error\"),\n                        text: this.translate.instant('Minimum quantity required is ' + this.priceService.printingMethodMinimumQty),\n                        confirmButtonText: this.translate.instant('OK'),\n                        allowOutsideClick: false\n                    });\n                    return;\n                }\n            }\n        }\n        // set configurable product flag\n        this.isProductConf = (this.mainService.productType == 'configurable') ? true : false;\n        // if product is configurable, check for it's validation\n        if (this.isProductConf) {\n            var error = this.confProductService.isConfDataInvalid();\n            // if error found, return from here only\n            if (error === true)\n                return;\n        }\n        this.isClickedAddtoCart = false;\n        this.isLessPrintingMinmumQty = false;\n        // if no custom option data is found, call save design and add to cart directly\n        if (!this.customOptionsData || this.customOptionsData.length == 0) {\n            this.saveDesign();\n            return;\n        }\n        // else validate custom options data and proceed further\n        this.validateCustomOptionsData();\n    };\n    /**\n     * Validate custom options data\n     */\n    CartComponent.prototype.validateCustomOptionsData = function () {\n        var _this = this;\n        // show main loader\n        this.eventService.$pub('showMainLoader');\n        // and check for validation process\n        var validationResp = this.customOptionsService.validateCustomOptionsData();\n        // if validation check returns true, display message accordingly\n        if (validationResp.isInvalid == true) {\n            setTimeout(function () {\n                _this.eventService.$pub('hideMainLoader');\n            }, 500);\n        }\n        // here we will manage file upload\n        // if any error occured, will display error for the same here\n        else {\n            this.uploadFilesToServer(validationResp.files).then(function () {\n                _this.saveDesign(validationResp.customOptions);\n            });\n        }\n    };\n    /**\n     * This method will save the current design and then add product into cart\n     */\n    CartComponent.prototype.saveDesign = function (customOptionsData) {\n        if (customOptionsData === void 0) { customOptionsData = null; }\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var data, self, msg;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // if product type is simple\n                        if (this.isCartInvalid()) {\n                            this.eventService.$pub('hideMainLoader');\n                            return [2 /*return*/];\n                        }\n                        ;\n                        // if no error found\n                        if (this.isProductConf)\n                            this.configurableAttributeData = this.confProductService.getCartData();\n                        data = {\n                            sweetAlert: false\n                        };\n                        self = this;\n                        /**\n                         * This method first save all the canvases data url into text file\n                         */\n                        return [4 /*yield*/, this.designService.saveAllSidesCanvasData().then(function (resp) {\n                                data.canvas_dataurl_file = resp.timestamp;\n                            }).catch(function (err) { return console.log(err); })];\n                    case 1:\n                        /**\n                         * This method first save all the canvases data url into text file\n                         */\n                        _a.sent();\n                        /**\n                         * This method fetch the all canvases json file and save the first image data url\n                         */\n                        data.cartData = this.configurableAttributeData;\n                        this.lastSavedDesignId = [];\n                        data.addnote = this.addnote;\n                        if (this.customOptionsService.selectedCustomOptionsTotal > 0) {\n                            data.customOptionsPrice = this.customOptionsService.selectedCustomOptionsTotal;\n                        }\n                        if (this.mainService.productType == 'simple') {\n                            data.qty = this.qty;\n                        }\n                        return [4 /*yield*/, this.designService.saveDesignData(data).then(function (resp) {\n                                for (var i = 0; i < Object.keys(resp).length; i++) {\n                                    var design = resp[i];\n                                    if (!design) {\n                                        break;\n                                    }\n                                    self.lastSavedDesignId.push(design.designId);\n                                }\n                            }).catch(function (err) { return console.log(err); })];\n                    case 2:\n                        _a.sent();\n                        /**\n                        * This method add product to cart\n                        */\n                        if (this.lastSavedDesignId.length > 0) {\n                            this.addToCart(customOptionsData);\n                        }\n                        else {\n                            msg = this.translate.instant(\"Something went wrong\");\n                            this.mainService.swal(this.translate.instant(\"Error\"), msg, \"error\");\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * This function will validate cart data ie. attributes(in case of configurable), qty etc\n     *\n     * @param validationInProcess in case of custom option validation, we are showing main loader, so we need to hide the same\n     */\n    CartComponent.prototype.addToCart = function (customOptionsData) {\n        var _this = this;\n        if (customOptionsData === void 0) { customOptionsData = null; }\n        // process for cart validation\n        var url = \"productdesigner/Cart/Save\", params = {\n            productId: this.mainService.productId,\n            qty: this.qty,\n            designId: this.lastSavedDesignId,\n            printingMethodId: this.customForm.get('method').value,\n        };\n        // set custom options into params if available\n        if (customOptionsData != null) {\n            this.eventService.$pub('hideMainLoader');\n            params = Object.assign(params, { customOptions: customOptionsData });\n            params = Object.assign(params, { customOptionPrice: this.customOptionsService.selectedCustomOptionsTotal });\n        }\n        // set additional price if available\n        if (this.priceService.additionalPrice && this.priceService.additionalPrice > 0) {\n            params = Object.assign(params, { additionalPrice: this.priceService.additionalPrice });\n        }\n        // set custom options file upload data to params\n        if (this.customOptionsFileData && this.customOptionsFileData.length > 0) {\n            params = Object.assign(params, { customOptionFile: this.customOptionsFileData });\n        }\n        // if configurable attribute\n        if (this.isProductConf) {\n            params = Object.assign(params, { confProductData: this.configurableAttributeData });\n        }\n        // if item id is present\n        params = (this.mainService.itemId) ? Object.assign(params, { itemId: this.mainService.itemId }) : params;\n        // add to cart\n        this.mainService.post(url, params, true).then(function (resp) {\n            if (resp && resp.status == \"success\") {\n                window.addEventListener(\"beforeunload\", function (t) {\n                });\n                // reset custom options file upload data object\n                _this.customOptionsFileData = [];\n                _this.customOptionsService.selectedCustomOptionsTotal = 0;\n                _this.mainService.swal(_this.translate.instant(\"Success\"), _this.translate.instant(\"Product added to cart successfully\"), \"success\").finally(function () {\n                    _this.canvasService.disableAddToCartAlert = true;\n                    if (window.location != window.parent.location) {\n                        window.top.location.href = resp.url;\n                    }\n                    else {\n                        window.location.href = resp.url;\n                    }\n                });\n                return;\n            }\n            var msg = (resp && resp.message) ? resp.message : _this.translate.instant(\"Something went wrong\");\n            _this.mainService.swal(_this.translate.instant(\"Error\"), _this.translate.instant(msg), \"error\");\n        }).catch(function (err) { return console.log(_this.translate.instant(\"Error in add to cart: \"), err); });\n    };\n    /**\n     *\n     */\n    CartComponent.prototype.isCartInvalid = function () {\n        if (this.mainService.productType == 'simple' && this.qty <= 0) {\n            this.mainService.swal(this.translate.instant(\"Error\"), this.translate.instant(\"Please enter valid quantity first!\"), 'error');\n            return true;\n        }\n    };\n    /**\n     * return true if product type is configurable and configurable attr obj is ready\n     */\n    CartComponent.prototype.showConfigurableOptions = function () {\n        return (this.mainService.productType == 'configurable' && this.confProductOptionsObject && this.defaultSelectedAttributes);\n    };\n    /**\n     *\n     * @param qty\n     */\n    CartComponent.prototype.simpleProductQtyUpdated = function (qty) {\n        if (qty >= 1) {\n            var price = this.confProductService.getProductPrice(this.mainService.productId, qty);\n            if (price != this.priceService.defaultPrice)\n                this.priceService.defaultPrice = price;\n            price *= (qty - 1);\n            this.priceService.extraPriceToBeAdded.productPrice = price;\n            this.priceService.totalQty = parseInt(qty);\n            this.priceService.addThisPrice();\n            // this.confProductService.qtyUpdated(1, price);\n            this.eventService.$pub('priceUpdate');\n        }\n    };\n    /**\n     * Close add to cart popup\n     */\n    CartComponent.prototype.closeModal = function () {\n        this.isClickedAddtoCart = false;\n        this.isLessPrintingMinmumQty = false;\n        this.confProductService.fixDefaultSelectedOptions = {};\n        this.modalRef.hide();\n    };\n    CartComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_7__[\"Component\"])({\n            selector: 'cart',\n            template: __webpack_require__(/*! ./cart.component.html */ \"./src/app/essentials/components/cart/cart.component.html\"),\n            styles: [__webpack_require__(/*! ./cart.component.scss */ \"./src/app/essentials/components/cart/cart.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_6__[\"DesignService\"],\n            _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_9__[\"ConfProductAttrService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__[\"TranslateService\"],\n            _custom_options_custom_options_service__WEBPACK_IMPORTED_MODULE_3__[\"CustomOptionsService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"],\n            _price_price_service__WEBPACK_IMPORTED_MODULE_1__[\"PriceService\"]])\n    ], CartComponent);\n    return CartComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/clipart/clipart.component.html\":\n/*!**********************************************************************!*\\\n  !*** ./src/app/essentials/components/clipart/clipart.component.html ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div loader #subtabLoader></div>\\n<div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent\\\">\\n   <div class=\\\"byi-top-filters\\\">\\n      <ng-container *ngIf=\\\"mainService.isResponsive\\\" [attr.hidden]=\\\"componentHide\\\">\\n         <div class=\\\"byi-fullview-toggle\\\">\\n            <button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts)\\\">\\n               <span></span>\\n               <span></span>\\n               <span></span>\\n            </button>\\n         </div>\\n      </ng-container>\\n      <div class=\\\"byi-dropdown\\\">\\n         <div class=\\\"btn-group\\\" dropdown>\\n            <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n               {{SelectedClipartCat?.name}}<span class=\\\"caret\\\"></span>\\n            </button>\\n            <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n               <li role=\\\"menuitem\\\" *ngFor=\\\"let clipArtCat of clipArtcategories\\\"\\n                  [ngClass]=\\\"clipArtCat.level == 0 ? 'main-product-category' : 'sub-product-category'\\\"\\n                  [class.selected]=\\\"clipArtCat.id === SelectedClipartCat.id\\\" (click)=\\\"changeClipartCat(clipArtCat)\\\">\\n                  <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n                     <span *ngFor=\\\"let i of getNumberArray(clipArtCat.level)\\\">-</span>\\n                     {{clipArtCat.name}}</a>\\n               </li>\\n            </ul>\\n         </div>\\n      </div>\\n\\n      <div class=\\\"byi-search\\\">\\n         <input class=\\\"byi-input\\\" name=\\\"searchText\\\" (input)=\\\"searchCliprt($event)\\\" placeholder=\\\"{{'Search Clipart' | translate}}\\\"\\n            type=\\\"text\\\">\\n         <button class=\\\"byi-search-btn\\\">\\n            <svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n               <use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n            </svg>\\n         </button>\\n      </div>\\n   </div>\\n   <div class=\\\"byi-norecord\\\"\\n      *ngIf=\\\"loaderComponent.showSubLoader === false && clipArtmedia && clipArtmedia.length == 0\\\">\\n      {{'No Cliparts Found' | translate}}\\n   </div>\\n   <div *ngIf=\\\"clipArtmedia.length > 0\\\" #mainSection class=\\\"byi-tab-cats byi-tab-cats-clipart\\\">\\n      <ul infiniteScroll [horizontal]=\\\"true\\\" [infiniteScrollDistance]=\\\"0\\\" [infiniteScrollThrottle]=\\\"1000\\\"\\n         [scrollWindow]=\\\"false\\\" [infiniteScrollDisabled]=\\\"!isEnableloadmore || !allowPlaceholderLoader\\\"\\n         (scrolled)=\\\"loadMoreClipArt()\\\" #scrollToBottom>\\n         <li *ngFor=\\\"let media of clipArtmedia\\\"\\n            [attr.hidden]=\\\"(showPlaceholder && allowPlaceholderLoader) ? true : null\\\">\\n            <a [ngClass]=\\\"{'image-with-text': !media.label && media.price}\\\"\\n               href=\\\"javascript:void(0)\\\" (click)=\\\"addClipartToCanvas(media.medium_url,media.price,{})\\\">\\n               <span><img [src]=\\\"media.image_path\\\" [attr.tab]=\\\"'clipart'\\\" [attr.dragprice]=\\\"media.price\\\" [attr.url]=\\\"media.medium_url\\\" class=\\\"byidraggable\\\"  (error)=\\\"getDefaultImage(media)\\\"></span>\\n               <label *ngIf=\\\"media.label\\\">{{media.label}}</label>\\n               <label class=\\\"byi-cats-price\\\">\\n                  {{(media.price && media.price > 0) ? formatCurrency(media.price) : 'Free'}}\\n               </label>\\n            </a>\\n         </li>\\n         <li [attr.hidden]=\\\"(!showPlaceholder || !allowPlaceholderLoader) ? true : null\\\"\\n            *ngFor=\\\"let temp of mainService.customPlaceholderArr\\\" placeholder-loader [loaderHeight]='84'\\n            [loaderWidth]='84'></li>\\n      </ul>\\n      <div class=\\\"byi-apply-all\\\" apply-images [files]=\\\"clipArtmedia\\\" [byitab]=\\\"'clipart'\\\"></div>\\n      <div\\n         *ngIf=\\\"loadContent && isEnableloadmore && (!mainService.isResponsive || (mainService.isResponsive && showAllFonts))\\\"\\n         class=\\\"loadmore-action\\\">\\n         <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreClipArt()\\\">\\n      </div>\\n   </div>\\n</div>\\n<div loader #loaderComponent></div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/clipart/clipart.component.scss\":\n/*!**********************************************************************!*\\\n  !*** ./src/app/essentials/components/clipart/clipart.component.scss ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jbGlwYXJ0L2NsaXBhcnQuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/clipart/clipart.component.ts\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/clipart/clipart.component.ts ***!\n  \\********************************************************************/\n/*! exports provided: ClipartComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ClipartComponent\", function() { return ClipartComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var _placeholder_loader_placholder_loader_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../placeholder-loader/placholder-loader.service */ \"./src/app/essentials/components/placeholder-loader/placholder-loader.service.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ClipartComponent = /** @class */ (function () {\n    function ClipartComponent(cacheService, mainService, pubsub, translate, addImageService, tabsService, canvasService, cdr, placholderLoaderService) {\n        this.cacheService = cacheService;\n        this.mainService = mainService;\n        this.pubsub = pubsub;\n        this.translate = translate;\n        this.addImageService = addImageService;\n        this.tabsService = tabsService;\n        this.canvasService = canvasService;\n        this.cdr = cdr;\n        this.placholderLoaderService = placholderLoaderService;\n        this.clipartCategoriesCacheKey = \"\";\n        this.clipArtcategories = [];\n        this.clipArtmedia = [];\n        this.limit = 12;\n        this.loadmore = 1;\n        this.isEnableloadmore = false;\n        this.tempData = [];\n        this.finalArray = [];\n        this.currentTab = 2;\n        this.accordianId = 0;\n        this.clipartHtml = \"\";\n        this.checkClipartScroll = false;\n        this.searchText = \"\";\n        this.showAllFonts = false;\n        // infinite scroll\n        this.customPlaceholderArr = [];\n    }\n    /**\n     *\n     * @param mainTabId\n     */\n    ClipartComponent.prototype.getSubTabs = function (mainTabId) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var data;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                data = this.mainService.tabsFlow[mainTabId];\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\n                if (this.subTabsData && this.subTabsData.length > 0) {\n                    this.accordianId = this.subTabsData[0].id;\n                }\n                if (this.subtabLoader && this.subtabLoader.showSubLoader)\n                    this.subtabLoader.showSubLoader = false;\n                return [2 /*return*/];\n            });\n        });\n    };\n    ClipartComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.pubsub.$sub('displayClipartLimitError', function () {\n            _this.displayClipartLimitError();\n        });\n        this.pubsub.$sub('getSubTabs', function (mainTabId) {\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\n                _this.getSubTabs(mainTabId);\n            }\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\n        });\n        this.clipartCategoriesCacheKey = 'clipartCategories-' + this.mainService.productId + '-' + this.mainService.baseUrl;\n        this.subscribeEvents();\n        if (this.loadContent == true) {\n            this.getCliparts();\n        }\n        this.pubsub.$sub('closeFullView', function (showAllFonts) {\n            _this.showAllFonts = showAllFonts;\n            _this.showFonts(_this.showAllFonts);\n        });\n        this.allowPlaceholderLoader = this.mainService.isResponsive;\n        this.mainService.prepareTempArrForPlaceholder(this.limit);\n        if (!this.pubsub.events.addClipartImage) {\n            this.pubsub.$sub('addClipartImage', function (data) {\n                _this.addClipartToCanvas(data.img, data.price, data);\n            });\n        }\n    };\n    ClipartComponent.prototype.ngAfterViewInit = function () {\n        this.cdr.detectChanges();\n        if (!this.loadContent)\n            this.subtabLoader.showSubLoader = true;\n        if (this.loadContent) {\n            this.loaderComponent.showSubLoader = true;\n        }\n        this.cdr.detectChanges();\n    };\n    ClipartComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.pubsub.$sub('objectSelectionUpdated', function (obj) {\n            if (obj.tab == 'clipart') {\n                if (_this.mainService.isResponsive) {\n                    _this.pubsub.$pub('getActiveTabId', _this.currentTab);\n                    var self_1 = _this;\n                    setTimeout(function () {\n                        var currentSelectedObj = self_1.canvasService.getActiveObjectFromAllCanvases();\n                        if (currentSelectedObj && currentSelectedObj.tab == obj.tab) {\n                            self_1.tabsService.showChildTabs('clipart');\n                        }\n                    }, 100);\n                }\n                else {\n                    _this.pubsub.$pub('getActiveTabId', _this.currentTab);\n                }\n            }\n        });\n        this.pubsub.$sub('objectSelectionCreated', function (obj) {\n            var showSubChilds = false, childTabs;\n            if (obj.type == 'activeSelection') {\n                var nonClipartObj = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.tab == 'clipart'; }));\n                if (nonClipartObj != -1) {\n                    showSubChilds = true;\n                    var findNonImgObj = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.objType != 'image'; })) >= 0) ? true : false, findNonSvg = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.isSvg != true; })) >= 0) ? true : false, findNonPng = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.isSvg == true; })) >= 0) ? true : false;\n                    if (!findNonImgObj && (findNonSvg && !findNonPng) || (findNonPng && !findNonSvg)) {\n                        childTabs = 'clipart';\n                    }\n                    else {\n                        childTabs = 'common';\n                    }\n                }\n            }\n            else if (obj.tab == 'clipart') {\n                showSubChilds = true;\n                childTabs = 'clipart';\n            }\n            if (_this.mainService.isResponsive && showSubChilds == true) {\n                var self_2 = _this;\n                setTimeout(function () {\n                    var currentSelectedObj = self_2.canvasService.getActiveObjectFromAllCanvases();\n                    if (currentSelectedObj && currentSelectedObj.tab == obj.tab) {\n                        self_2.tabsService.showChildTabs('clipart');\n                    }\n                }, 100);\n                _this.pubsub.$pub('getActiveTabId', _this.currentTab);\n            }\n        });\n        this.pubsub.$sub('objectRemoved', function (obj) {\n            if (obj.tab == 'clipart') {\n                _this.pubsub.$pub('getActiveTabId', _this.currentTab);\n            }\n        });\n    };\n    ClipartComponent.prototype.scrollToBottom = function () {\n        try {\n            if (!this.mainService.isResponsive)\n                this.ScrollContainer.nativeElement.scrollTop = this.ScrollContainer.nativeElement.scrollHeight;\n            else if (this.mainService.isResponsive && !this.allowPlaceholderLoader)\n                this.mainSection.nativeElement.scrollTop = this.mainSection.nativeElement.scrollHeight;\n            else {\n                var scrollWidth = this.ScrollContainer.nativeElement.scrollWidth;\n                scrollWidth = scrollWidth - ((scrollWidth * 25) / 100);\n                this.ScrollContainer.nativeElement.scrollLeft = scrollWidth;\n            }\n        }\n        catch (err) { }\n    };\n    /**\n     *\n     * @param price\n     */\n    ClipartComponent.prototype.formatCurrency = function (price) {\n        if (price != null) {\n            return Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_8__[\"FormatCurrency\"])(price, this.priceFormat, '');\n        }\n    };\n    ClipartComponent.prototype.getCliparts = function () {\n        var _this = this;\n        this.mainService.clipartRequest = false;\n        var params = { 'limit': this.limit, 'search': '', 'product_id': this.mainService.productId, 'page': this.loadmore, 'type': 'clipart' }, url = 'productdesigner/cliparts/getClipartCategories', cacheKey = this.clipartCategoriesCacheKey;\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\n            _this.mainService.clipartRequest = true;\n            _this.cacheService.set(_this.clipartCategoriesCacheKey, data, { maxAge: 15 * 60 });\n            var defaultCacheData = {\n                clipart_images: data.default_clipart_images,\n                priceFormat: data.priceFormat,\n                loadMoreFlag: data.loadMoreFlag,\n                page: 1\n            };\n            var defaultCategoryCacheKey = \"clipartImages - \" + data.default_category_id + _this.loadmore + _this.limit;\n            ;\n            _this.cacheService.set(defaultCategoryCacheKey, defaultCacheData, { maxAge: 15 * 60 });\n            _this.processClipartsData(data);\n        }).catch(function (err) { return console.log(err); });\n    };\n    /**\n     *\n     * @param value\n     */\n    ClipartComponent.prototype.getNumberArray = function (value) {\n        var items = [];\n        for (var i = 1; i <= value; i++) {\n            items.push(i);\n        }\n        return items;\n    };\n    /**\n     *\n     * @param data\n     */\n    ClipartComponent.prototype.processClipartsData = function (data) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                this.priceFormat = data.priceFormat;\n                this.clipArtcategories = data.clipArtcategories;\n                this.isEnableloadmore = (data.loadMoreFlag == 0) ? false : true;\n                this.setImagesData(data.default_clipart_images, true);\n                this.currentClipArtId = data.default_category_id;\n                this.SelectedClipartCat = {\n                    id: data.default_category_id,\n                    name: data.default_clipart_label\n                };\n                this.clipartLimitEnable = data.clipart_limit;\n                this.canvasService.objectLimit = Object.assign(this.canvasService.objectLimit, { clipartImageLimit: parseInt(data.clipart_upload_limit) });\n                this.clipartAlert = data.clipart_alert;\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     *\n     * @param ImgData\n     */\n    ClipartComponent.prototype.setImagesData = function (ImgData, resetMedia) {\n        if (resetMedia === true)\n            this.clipArtmedia = [];\n        for (var i = 0; i < ImgData.length; i++) {\n            this.clipArtmedia.push(ImgData[i]);\n        }\n        this.pubsub.$pub('fileUploaded');\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showSubLoader) {\n            this.loaderComponent.showSubLoader = false;\n            this.cdr.detectChanges();\n        }\n    };\n    /**\n     *\n     * @param data\n     */\n    ClipartComponent.prototype.processClipartsMedia = function (data, resetMedia) {\n        this.priceFormat = data.priceFormat;\n        this.isEnableloadmore = (data.loadMoreFlag == 0) ? false : true;\n        this.setImagesData(data.clipart_images, resetMedia);\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showMainLoader)\n            this.loaderComponent.showSubLoader = false;\n        this.showPlaceholder = false;\n        if (this.checkClipartScroll && resetMedia === false) {\n            this.cdr.detectChanges();\n            this.scrollToBottom();\n        }\n    };\n    /**\n     *\n     * @param $event\n     */\n    ClipartComponent.prototype.searchCliprt = function ($event) {\n        if (!$event || !$event.target || !$event.target.value) {\n            this.loadmore = 1;\n        }\n        ;\n        this.searchText = $event.target.value.toString();\n        this.getClipArtImages(this.currentClipArtId, null, this.searchText);\n    };\n    /**\n     * get clipart by category or by search\n     *\n     * @param clipartId\n     * @param cacheKey\n     * @param searchText\n     */\n    ClipartComponent.prototype.getClipArtImages = function (clipartId, cacheKey, searchText, resetMedia) {\n        var _this = this;\n        if (cacheKey === void 0) { cacheKey = null; }\n        if (searchText === void 0) { searchText = \"\"; }\n        if (resetMedia === void 0) { resetMedia = true; }\n        // show placeholder loader\n        if (this.mainService.isResponsive && !this.showAllFonts)\n            this.showPlaceholder = true;\n        else\n            this.loaderComponent.showSubLoader = true;\n        this.cdr.detectChanges();\n        // prepare params and url\n        var params = {\n            'clipart_id': clipartId,\n            'limit': this.limit,\n            'search': searchText,\n            'product_id': this.mainService.productId,\n            'page': this.loadmore\n        }, url = 'productdesigner/cliparts/getClipartImages';\n        cacheKey = \"clipartImages - \" + clipartId + searchText + this.loadmore + this.limit;\n        // if cahcekey is not null that means user has changed clipart category\t\t\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\n            _this.cacheService.set(cacheKey, data, { maxAge: 15 * 60 });\n            _this.processClipartsMedia(data, resetMedia);\n        }).catch(function (err) { return console.log(err); });\n    };\n    /**\n     *\n     * @param clipArtCat\n     */\n    ClipartComponent.prototype.changeClipartCat = function (clipArtCat) {\n        this.clipArtmedia = [];\n        this.loadmore = 1;\n        this.clipartHtml = \"\";\n        this.SelectedClipartCat = clipArtCat;\n        this.currentClipArtId = clipArtCat.id;\n        this.clipArtmediaCacheKey = 'clipartMedia' + '-' + clipArtCat.id + '-' + this.loadmore;\n        this.getClipArtImages(this.currentClipArtId, this.clipArtmediaCacheKey);\n    };\n    ClipartComponent.prototype.loadMoreClipArt = function () {\n        this.loadmore++;\n        this.clipArtmediaCacheKey = 'clipartMedia' + '-' + this.currentClipArtId;\n        this.cacheService.set(this.clipArtmediaCacheKey, '');\n        this.checkClipartScroll = true;\n        this.getClipArtImages(this.currentClipArtId, this.clipArtmediaCacheKey, this.searchText, false);\n    };\n    /**\n     *\n     * @param img\n     * @param clipartPrice\n     */\n    ClipartComponent.prototype.addClipartToCanvas = function (img, clipartPrice, data) {\n        var getTotalClipart = this.canvasService.getObjectTypeFromAllCanvas('tab', 'clipart');\n        if ((this.clipartLimitEnable == 1) && parseInt(getTotalClipart) >= this.canvasService.objectLimit.clipartImageLimit) {\n            this.displayClipartLimitError();\n        }\n        else {\n            var properties = { tab: 'clipart', price: clipartPrice };\n            if (data.canvas) {\n                properties.canvas = data.canvas;\n            }\n            this.addImageService.addImage(img, properties);\n            this.showFonts(true);\n        }\n    };\n    ClipartComponent.prototype.displayClipartLimitError = function () {\n        sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\n            title: this.translate.instant('Error'),\n            text: this.translate.instant(this.clipartAlert),\n            type: \"warning\",\n            confirmButtonText: this.translate.instant('OK'),\n        });\n    };\n    /**\n     *\n     * @param showAllFonts\n     */\n    ClipartComponent.prototype.showFonts = function (showAllFonts) {\n        this.showAllFonts = !showAllFonts;\n        this.allowPlaceholderLoader = showAllFonts;\n        this.pubsub.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Clipart' });\n    };\n    /**\n     *\n     * @param currentObj\n     */\n    ClipartComponent.prototype.getDefaultImage = function (currentObj) {\n        var found = this.clipArtmedia.find(function (clipartMediaObj) { return (clipartMediaObj.image_id == currentObj.image_id && clipartMediaObj.clipart_id && currentObj.clipart_id); });\n        found.image_path = found.medium_url;\n        this.clipArtmedia[this.clipArtmedia.indexOf(found)] = found;\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ClipartComponent.prototype, \"loadContent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('loaderComponent'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\n    ], ClipartComponent.prototype, \"loaderComponent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('subtabLoader'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\n    ], ClipartComponent.prototype, \"subtabLoader\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('scrollToBottom'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\n    ], ClipartComponent.prototype, \"ScrollContainer\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('mainSection'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\n    ], ClipartComponent.prototype, \"mainSection\", void 0);\n    ClipartComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: '[clipart]',\n            template: __webpack_require__(/*! ./clipart.component.html */ \"./src/app/essentials/components/clipart/clipart.component.html\"),\n            styles: [__webpack_require__(/*! ./clipart.component.scss */ \"./src/app/essentials/components/clipart/clipart.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ng2_cache__WEBPACK_IMPORTED_MODULE_3__[\"CacheService\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__[\"TranslateService\"],\n            src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_7__[\"AddImageService\"],\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_9__[\"CanvasService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"],\n            _placeholder_loader_placholder_loader_service__WEBPACK_IMPORTED_MODULE_12__[\"PlacholderLoaderService\"]])\n    ], ClipartComponent);\n    return ClipartComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/common-tabs/common-tabs.component.html\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/common-tabs/common-tabs.component.html ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byip-subTabs\\\">\\n\\t<accordion [closeOthers]=\\\"true\\\" *ngIf=\\\"!mainService.isResponsive\\\" class=\\\"byi-accordion\\\" [isAnimated]=\\\"true\\\">\\n\\t\\t<accordion-group (click)=\\\"setAccordion(subTab.id)\\\" class=\\\"byi-accord byi-tooltip-{{subTab.component}}\\\" *ngFor=\\\"let subTab of subTabsData;\\\" [isOpen]=\\\"activeAccordion == subTab.id\\\">\\n\\t\\t\\t<button class=\\\"byi-accordion-title btn btn-link btn-block clearfix\\\" accordion-heading>\\n\\t\\t\\t\\t<span>{{subTab.label | translate}}</span>\\n\\t\\t\\t</button>\\n\\t\\t\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t\\t\\t<ng-container [ngTemplateOutlet]=\\\"tabs\\\" [ngTemplateOutletContext]=\\\"{subTab:subTab}\\\">\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t</accordion-group>\\n\\t</accordion>\\n\\t<tabset *ngIf=\\\"mainService.isResponsive\\\" [hidden]=\\\"tabsService.showChild\\\">\\n\\t\\t<ng-container *ngFor=\\\"let subTab of subTabsData;\\\">\\n\\t\\t\\t<tab [active]=\\\"subTab.id == activeAccordion\\\" (selectTab)=\\\"selectTab(subTab.id)\\\">\\n\\t\\t\\t\\t<ng-template tabHeading>\\n\\t\\t\\t\\t\\t<span>{{subTab.label}}</span>\\n\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t<ng-container [ngTemplateOutlet]=\\\"tabs\\\" [ngTemplateOutletContext]=\\\"{subTab:subTab}\\\">\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</tab>\\n\\t\\t</ng-container>\\n\\t</tabset>\\n\\t<ng-template #tabs let-subTab='subTab'>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" plain-text *ngIf=\\\"subTab.id == 1\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" clipart *ngIf=\\\"subTab.id == 2\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" image-upload *ngIf=\\\"subTab.id == 3\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" background-color *ngIf=\\\"subTab.id == 4\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" my-designs *ngIf=\\\"subTab.id == 5\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" my-templates *ngIf=\\\"subTab.id == 5\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" name-number *ngIf=\\\"subTab.id == 6\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" design-templates *ngIf=\\\"subTab.id == 7\\\" [loadContent]=\\\"true\\\"></div>\\n\\t\\t<div class=\\\"byi-accord-inner\\\" background-patterns *ngIf=\\\"subTab.id == 8\\\" [loadContent]=\\\"true\\\"></div>\\n\\t</ng-template>\\n\\t<tabset *ngIf=\\\"mainService.isResponsive\\\" [hidden]=\\\"!tabsService.showChild\\\">\\n\\t\\t<button type=\\\"button\\\" class=\\\"byi-back-btn\\\" (click)=\\\"tabsService.backTab();cdr.detectChanges();\\\"\\n\\t\\t\\t*ngIf=\\\"!backArrow\\\">\\n\\t\\t\\t<span></span>\\n\\t\\t</button>\\n\\t\\t<button type=\\\"button\\\" class=\\\"byi-close-btn\\\" (click)=\\\"closeFullView(backArrow)\\\" *ngIf=\\\"backArrow\\\">\\n\\t\\t\\t<span></span>\\n\\t\\t</button> \\n\\t\\t<div class=\\\"byie-option-wrap\\\" font></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" stroke></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" drop-shadow></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" image-effects></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" opacity></div>\\n\\t\\t<!-- <div class=\\\"byie-option-wrap\\\" arc></div> -->\\n\\t\\t<div class=\\\"byie-option-wrap\\\" skew></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" object-position></div>\\n\\t\\t<div class=\\\"byie-option-wrap\\\" background-pattern-controls></div>\\n\\t</tabset>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/common-tabs/common-tabs.component.scss\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/common-tabs/common-tabs.component.scss ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jb21tb24tdGFicy9jb21tb24tdGFicy5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/common-tabs/common-tabs.component.ts\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/essentials/components/common-tabs/common-tabs.component.ts ***!\n  \\****************************************************************************/\n/*! exports provided: CommonTabsComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CommonTabsComponent\", function() { return CommonTabsComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\n\n\nvar CommonTabsComponent = /** @class */ (function () {\n    /**\n     * dependancy injector\n     */\n    function CommonTabsComponent(cacheService, mainService, pubsub, tabsService, cdr) {\n        this.cacheService = cacheService;\n        this.mainService = mainService;\n        this.pubsub = pubsub;\n        this.tabsService = tabsService;\n        this.cdr = cdr;\n        this.backArrow = false;\n        this.isActiveTabId = false;\n    }\n    CommonTabsComponent.prototype.setAccordion = function (id) {\n        this.activeAccordion = id;\n    };\n    /**\n     * angular lifecycle init function\n     */\n    CommonTabsComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.init();\n        var self = this;\n        this.pubsub.$sub('getActiveTabId', function (Id) {\n            if (Id != \"\" && Id != 0) {\n                self.activeAccordion = Id;\n                self.cdr.detectChanges();\n                _this.isActiveTabId = true;\n            }\n        });\n        this.pubsub.$sub('getSubTabs', function (Id) {\n            if (Id != \"\" && Id != 0 && _this.isActiveTabId == false) {\n                self.activeAccordion = Id;\n                self.cdr.detectChanges();\n            }\n            else {\n                _this.isActiveTabId = false;\n            }\n            var index = self.mainService.tabsFlow[Id].filter(function (data) { return data == self.activeAccordion; });\n            if (index.length == 0) {\n                _this.activeAccordion = Id;\n            }\n        });\n        this.pubsub.$sub('introTabActive', function (Id) {\n            if (Id != \"\" && Id != 0) {\n                self.activeAccordion = Id;\n                self.openIntroAccordian = Id;\n            }\n        });\n        this.pubsub.$sub('activeTabOnLoadDesign', function (Id) {\n            var obj = _this.mainService.canvasService.currentCanvas.getActiveObject();\n            Id = _this.getSelectedObjTabId(obj);\n            if (Id != \"\" && Id != 0) {\n                Id = (obj && obj.hasOwnProperty('tab')) ? _this.getSelectedObjTabId(obj) : Id;\n                _this.activeAccordion = Id;\n            }\n        });\n        this.pubsub.$sub('showFonts', function (resp) {\n            _this.backArrow = resp.showAllFonts;\n        });\n    };\n    CommonTabsComponent.prototype.getSelectedObjTabId = function (obj) {\n        if (!obj) {\n            return 0;\n        }\n        var tab = obj.tab, tabId = 0;\n        switch (tab) {\n            case 'text':\n                tabId = 1;\n                break;\n            case 'clipart':\n                tabId = 2;\n                break;\n            case 'upload':\n                tabId = 3;\n                break;\n            case 'namenumber':\n                tabId = 6;\n                break;\n        }\n        return tabId;\n    };\n    /**\n     * show loader on init\n     */\n    CommonTabsComponent.prototype.init = function () { };\n    /**\n     * as we have used @Input.. we can only access this variable after ng view content initialization is complete\n     * we can insure that response is done on ng after content init function\n     *\n     * NOTE: Need to handle if no subtabs are recieved\n     */\n    CommonTabsComponent.prototype.selectTab = function (id) {\n        this.activeAccordion = id;\n    };\n    CommonTabsComponent.prototype.closeFullView = function (backArrow) {\n        this.pubsub.$pub('closeFullView', backArrow);\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", String)\n    ], CommonTabsComponent.prototype, \"subTabsData\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], CommonTabsComponent.prototype, \"activeAccordion\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\n    ], CommonTabsComponent.prototype, \"loaderComponent\", void 0);\n    CommonTabsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: 'common-tabs',\n            template: __webpack_require__(/*! ./common-tabs.component.html */ \"./src/app/essentials/components/common-tabs/common-tabs.component.html\"),\n            styles: [__webpack_require__(/*! ./common-tabs.component.scss */ \"./src/app/essentials/components/common-tabs/common-tabs.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ng2_cache__WEBPACK_IMPORTED_MODULE_3__[\"CacheService\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"]])\n    ], CommonTabsComponent);\n    return CommonTabsComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.html\":\n/*!******************************************************************************************!*\\\n  !*** ./src/app/essentials/components/conf-product-attr/conf-product-attr.component.html ***!\n  \\******************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byi-attr-tables\\\" *ngIf=\\\"confAttrs\\\">\\n  <div class=\\\"byi-attr-wrapper\\\">\\n\\n    <!-- Name Number -->\\n    <ng-container *ngIf=\\\"confProductService.isNameNumber\\\">\\n      <accordion [closeOthers]=\\\"true\\\" class=\\\"byi-accordion\\\" [isAnimated]=\\\"true\\\">\\n        <accordion-group class=\\\"byi-accord byi-attr-content\\\"\\n          *ngFor=\\\"let nameNumberData of confProductService.cartData;let i = index\\\">\\n          <button class=\\\"byi-accordion-title btn btn-link btn-block clearfix\\\" accordion-heading>\\n            <span\\n              *ngIf=\\\"confProductService.nameNumberData.addName && confProductService.nameNumberData.addNumber\\\">{{nameNumberData?.additional_options[0]?.name + \\\"-\\\" + nameNumberData?.additional_options[0]?.number}}</span>\\n            <span\\n              *ngIf=\\\"confProductService.nameNumberData.addName && !confProductService.nameNumberData.addNumber\\\">{{nameNumberData?.additional_options[0]?.name}}</span>\\n            <span\\n              *ngIf=\\\"!confProductService.nameNumberData.addName && confProductService.nameNumberData.addNumber\\\">{{nameNumberData?.additional_options[0]?.number}}</span>\\n          </button>\\n          <div class=\\\"byi-accord-content\\\">\\n            <ng-container [ngTemplateOutlet]=\\\"confAttributeSelection\\\" [ngTemplateOutletContext]=\\\"{i:i}\\\">\\n            </ng-container>\\n          </div>\\n        </accordion-group>\\n      </accordion>\\n    </ng-container>\\n\\n    <!-- Not Name Number -->\\n    <ng-container *ngIf=\\\"!confProductService.isNameNumber\\\">\\n      <div class=\\\"byi-attr-content\\\" *ngFor=\\\"let row of confProductService.totalRows; let i = index;\\\">\\n        <button class=\\\"byi-attr-delete\\\" *ngIf=\\\"confProductService.totalRows.length > 1\\\" (click)=\\\"removeRow(i)\\\">\\n          <span></span>\\n        </button>\\n        <ng-container [ngTemplateOutlet]=\\\"confAttributeSelection\\\" [ngTemplateOutletContext]=\\\"{i:i}\\\">\\n        </ng-container>\\n      </div>\\n    </ng-container>\\n\\n    <!-- Conf Product Attr Selection -->\\n    <ng-template #confAttributeSelection let-i=\\\"i\\\">\\n      <!-- swatch section -->\\n      <div class=\\\"byi-swatch-container\\\" *ngIf=\\\"hasSwatch\\\">\\n        <div class=\\\"byi-swatch-item\\\" *ngFor=\\\"let confAttrObj of confAttrs; let j = index\\\">\\n          <label>{{'Select ' + filterLabel(confAttrObj.label) + ' Value' | translate}}</label>\\n          <div class=\\\"byi-colors-list\\\">\\n            <ul>\\n              <ng-container *ngFor=\\\"let optionValueObj of confAttrObj.values\\\">\\n                <li class=\\\"byi-swatch\\\"\\n                  [ngClass]=\\\"{'active': confProductService.cartData[i].super_attribute[confAttrObj.id] == optionValueObj.value_index, disabled: disableMe(optionValueObj.value_index, i, j)}\\\"\\n                  (click)=\\\"setSelectedOptions(optionValueObj.value_index, confAttrObj.id, i, j)\\\">\\n                  <span *ngIf=\\\"optionValueObj.type == 'color'\\\" class=\\\"swatch-color\\\"\\n                    [style.background]=\\\"optionValueObj.value\\\"></span>\\n                  <img *ngIf=\\\"optionValueObj.type == 'image'\\\" class=\\\"swatch-image\\\" [src]=\\\"optionValueObj.value\\\">\\n                </li>\\n              </ng-container>\\n            </ul>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <!-- Swatch is false -->\\n      <div class=\\\"byi-attr-row\\\" *ngIf=\\\"!hasSwatch\\\">\\n        <div class=\\\"byi-attr-item\\\" *ngFor=\\\"let confAttrObj of confAttrs; let j = index\\\">\\n          <label>{{'Select ' + filterLabel(confAttrObj.label) + ' Value' | translate}}</label>\\n          <div class=\\\"byi-select\\\">\\n            <select name=\\\"brand\\\" [(ngModel)]=\\\"confProductService.cartData[i].super_attribute[confAttrObj.id]\\\"\\n              (change)=\\\"setSelectedOptions($event.target.value, confAttrObj.id, i, j)\\\"\\n              [id]=\\\"'dropdown_' + i + '_' + confAttrObj.id\\\">\\n              <option *ngFor=\\\"let optionValueObj of confAttrObj.values\\\" [value]=\\\"optionValueObj.value_index\\\"\\n                [disabled]=\\\"disableMe(optionValueObj.value_index, i, j)\\\">\\n                {{optionValueObj.label | translate}}\\n              </option>\\n            </select>\\n            <span class=\\\"caret\\\"></span>\\n          </div>\\n          <!-- error for specific attribute dropdown -->\\n          <span class=\\\"text-danger\\\" *ngIf=\\\"confProductService.isSubmitted && getCartObj(i, confAttrObj.id) == 'null'\\\">\\n            {{'This Attribute is required' | translate}}\\n          </span>\\n        </div>\\n      </div>\\n\\n      <!-- QTY Container -->\\n      <div class=\\\"qty-container\\\">\\n        <label>{{'Quantity' | translate}}</label>\\n        <input class=\\\"byi-input size-qty\\\" type=\\\"text\\\" [(ngModel)]=\\\"confProductService.cartData[i].qty\\\"\\n          (keypress)=\\\"confProductService.keyPress($event)\\\" (input)=\\\"qtyUpdated($event.target.value)\\\"\\n          [attr.data-productid]=\\\"confProductService.cartData[i].productId\\\">\\n\\n        <!-- error for qty -->\\n        <span class=\\\"text-danger\\\" *ngIf=\\\"confProductService.isSubmitted && confProductService.cartData[i].qty <= 0\\\">\\n          {{'Invalid Qty' | translate}}\\n        </span>\\n        <button class=\\\"btn-add-more\\\"\\n          *ngIf=\\\"i == confProductService.totalRows.length - 1 && confProductService.displayAddMore && !confProductService.isNameNumber\\\"\\n          (click)=\\\"addRow()\\\">\\n          <span class=\\\"icon icon-plus\\\"></span>\\n          <span>{{'Add More' | translate}}</span>\\n        </button>\\n      </div>\\n      <!-- End of qty container -->\\n    </ng-template>\\n  </div>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.scss\":\n/*!******************************************************************************************!*\\\n  !*** ./src/app/essentials/components/conf-product-attr/conf-product-attr.component.scss ***!\n  \\******************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jb25mLXByb2R1Y3QtYXR0ci9jb25mLXByb2R1Y3QtYXR0ci5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.ts\":\n/*!****************************************************************************************!*\\\n  !*** ./src/app/essentials/components/conf-product-attr/conf-product-attr.component.ts ***!\n  \\****************************************************************************************/\n/*! exports provided: ConfProductAttrComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfProductAttrComponent\", function() { return ConfProductAttrComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\n/* harmony import */ var _custom_options_custom_options_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../custom-options/custom-options.service */ \"./src/app/essentials/components/custom-options/custom-options.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _conf_product_attr_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\n\n\n\n\n\n\nvar ConfProductAttrComponent = /** @class */ (function () {\n    /**\n     * Dependancy Injection\n     */\n    function ConfProductAttrComponent(confProductService, eventService, cdr, customOptionService, priceService) {\n        this.confProductService = confProductService;\n        this.eventService = eventService;\n        this.cdr = cdr;\n        this.customOptionService = customOptionService;\n        this.priceService = priceService;\n        // this will indicate how many rows to add initially\n        this.numberOfTimes = 0;\n    }\n    /**\n     * Angular Init Function\n     */\n    ConfProductAttrComponent.prototype.ngOnInit = function () {\n        this.subscribeEvents();\n        this.reset();\n    };\n    /**\n     * Assign Default Values\n     */\n    ConfProductAttrComponent.prototype.reset = function () {\n        this.confProductService.totalRows = (this.confProductService.totalRows && this.confProductService.totalRows.length > 0 && this.confProductService.resetMe == false) ? this.confProductService.totalRows : [];\n        this.confProductService.cartData = (this.confProductService.cartData && this.confProductService.cartData.length > 0) ? this.confProductService.cartData : [];\n        this.confProductService.selectedOptionString = (this.confProductService.selectedOptionString && this.confProductService.selectedOptionString.length > 0) ? this.confProductService.selectedOptionString : [];\n    };\n    /**\n     * Subscribe Events\n     */\n    ConfProductAttrComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('qtyUpdated', function () {\n            _this.qtyUpdated();\n        });\n    };\n    /**\n     * Access @Input Values here\n    */\n    ConfProductAttrComponent.prototype.ngAfterViewInit = function () {\n        this.init();\n        if (this.confProductService.totalRows.length == 0 && !this.confProductService.isNameNumber)\n            this.addRow();\n    };\n    /**\n     *\n     */\n    ConfProductAttrComponent.prototype.init = function () {\n        // if no prod options is not found in response object, return\n        if (!this.confProductOptionsObject || !this.confProductOptionsObject.productOptions || !this.confProductOptionsObject.productsCombination)\n            return;\n        // else set data\n        this.confAttrs = Object.assign([], this.confProductOptionsObject.productOptions);\n        this.hasSwatch = (this.confAttrs.indexOf(this.confAttrs.find(function (confAttrObj) { return confAttrObj.hasSwatch === 0; })) >= 0) ? false : true;\n        this.confProductService.productsCombination = Object.assign({}, this.confProductOptionsObject.productsCombination);\n        // \n        if (this.confProductService.totalRows && this.confProductService.totalRows.length <= 0 && (this.confProductService.resetMe == true || this.confProductService.resetMe == null)) {\n            this.confProductService.resetMe = false;\n        }\n        // in case of name number \n        if (this.confProductService.isNameNumber) {\n            // check if any new row is added in name number\n            var totalNameNumbers = this.confProductService.nameNumberData.newRow.length, totalCartItems = this.confProductService.cartData.length;\n            // if not added, create newly added name/number rows in cart\n            if (totalNameNumbers != totalCartItems) {\n                // find the difference\n                this.numberOfTimes = totalNameNumbers - totalCartItems;\n                // add name number one by one\n                for (var i = 0; i < this.numberOfTimes; i++) {\n                    this.addRow();\n                }\n            }\n        }\n        // this.customOptionService.calcPrice();\n    };\n    /**\n     * Add new row on init/each time user clicks on add row button\n     */\n    ConfProductAttrComponent.prototype.addRow = function () {\n        if (this.confProductService.cartData && this.confProductService.isConfDataInvalid())\n            return;\n        var rowIndex = this.confProductService.totalRows.length;\n        this.confProductService.totalRows.push(1);\n        this.confProductService.selectedOptionString[rowIndex] = {};\n        this.confProductService.initCartObject(rowIndex, this.confAttrs);\n        this.initSelectionValues(rowIndex);\n        this.qtyUpdated();\n    };\n    /**\n     * this variables will keep track of selected attribute values\n     */\n    ConfProductAttrComponent.prototype.initSelectionValues = function (index) {\n        this.confProductService.selectedOptionString[index] = Object.values(this.confProductService.fixDefaultSelectedOptions).join(\"_\");\n    };\n    /**\n     * remove specified row\n     *\n     * @param rowIndex row number\n     */\n    ConfProductAttrComponent.prototype.removeRow = function (rowIndex) {\n        // then remove that row from html\n        this.confProductService.totalRows.splice(rowIndex, 1);\n        // remove cart data first\n        this.confProductService.removeRow(rowIndex);\n        // \n        this.confProductService.selectedOptionString.splice(rowIndex, 1);\n        this.qtyUpdated();\n    };\n    /**\n     * to save complexity in html, we will be preparing cart object from service and return the same\n     *\n     * @param rowIndex current row index\n     * @param id conf attr id\n     */\n    ConfProductAttrComponent.prototype.getCartObj = function (rowIndex, id) {\n        return this.confProductService.cartData[rowIndex].super_attribute[id];\n    };\n    /**\n     * When user changes attribute selection, we will call this function and will update selectionsoptions object\n     *\n     * @param value value_index of selected attribute\n     * @param attId attribute id(eg. id of color, size)\n     * @param rowIndex current row number\n     */\n    ConfProductAttrComponent.prototype.setSelectedOptions = function (value, attId, rowIndex, attrIndex) {\n        // if swatch is enabled, we need to manually add selected data to our cart object\n        if (this.hasSwatch) {\n            this.confProductService.cartData[rowIndex].super_attribute[attId] = value;\n        }\n        // we will created fresh new array of selected options    \n        var selectedOptions = this.confProductService.selectedOptionString[rowIndex].split(\"_\");\n        selectedOptions[attrIndex] = value;\n        this.confProductService.selectedOptionString[rowIndex] = Object.values(selectedOptions).join(\"_\");\n        // check for duplicate selection\n        // if (this.confProductService.totalRows.length > 1) this.checkForDuplicateSelection();\n        // this object will keep the track of current selected super attributes \n        // in array format\n        // this is been used for fetching product id based on current selected super attributes\n        this.confProductService.allDefaultSelectedAttrs[rowIndex][attrIndex] = value;\n        // fetch and set product id for current selected super attributes\n        if (this.confProductService.cartData[rowIndex] && this.confProductService.cartData[rowIndex].productId) {\n            // fetch new product id, and store old product id into local variable\n            var productId = this.confProductService.getProductId(rowIndex), oldProductId = this.confProductService.cartData[rowIndex].productId;\n            // if old and new id's don't match\n            // update new product id in cart and recalculate price\n            if (oldProductId != productId) {\n                this.confProductService.cartData[rowIndex].productId = productId;\n                this.qtyUpdated();\n            }\n        }\n    };\n    /**\n     * as per html default behavior, even if ngModel has different value, html by default takes previous dropdown value\n     * so we manually need to reselect values after removing duplicate dropdown section\n     *\n     * @param rowIndex index been removed\n     */\n    ConfProductAttrComponent.prototype.setSelection = function (rowIndex) {\n        if (!this.confProductService || !this.confProductService.cartData || !this.confProductService.cartData[rowIndex] || !this.confProductService.cartData[rowIndex].super_attribute)\n            return;\n        var keys = Object.keys(this.confAttrs), totalAttr = keys.length, i, dropDownIdLabel, domElement, selectedVal, superAttrObj = this.confProductService.cartData[rowIndex].super_attribute;\n        for (i = 0; i < totalAttr; i++) {\n            dropDownIdLabel = 'dropdown_' + rowIndex + '_' + this.confAttrs[i].id;\n            domElement = document.getElementById(dropDownIdLabel);\n            selectedVal = superAttrObj[this.confAttrs[i].id];\n            domElement.selectedIndex = this.confAttrs[i].values.find(function (optionValueObj) { return optionValueObj.value_index == selectedVal; });\n        }\n    };\n    /**\n     * this function is called each time for assigning disable class/attribute to respective dom element\n     *\n     * @param currentValue current value index\n     * @param rowIndex row index\n     * @param optionIndex option index\n     */\n    ConfProductAttrComponent.prototype.disableMe = function (currentValue, rowIndex, optionIndex) {\n        if (!this.confProductService.selectedOptionString || !this.confProductService.selectedOptionString[rowIndex] || Object.keys(this.confProductService.selectedOptionString[rowIndex]).length == 0)\n            return false;\n        // get current row selected attributes\n        var selectedOptions = this.confProductService.selectedOptionString[rowIndex].split(\"_\");\n        // set current specifed value index to our confProductService.selectedOptionString array\n        selectedOptions[optionIndex] = currentValue;\n        // rejoin the same by '_'\n        var currentOption = selectedOptions.join(\"_\");\n        // returns true if current specifed pair does not exist in product combination object\n        var combination = Object.values(this.confProductService.productsCombination);\n        if (combination.indexOf(currentOption) == -1) {\n            return true;\n        }\n        // false if combination found\n        return false;\n    };\n    /**\n     * for configurable product we need to pass total number of qty\n     */\n    ConfProductAttrComponent.prototype.qtyUpdated = function (qty) {\n        var _this = this;\n        if (qty === void 0) { qty = null; }\n        // if qty is invalid of 0, return\n        if (qty != null && qty < 1)\n            return;\n        // variable delcaration\n        var finalPrice = 0, foundPrice;\n        // traverse through cart array\n        this.confProductService.cartData.filter(function (cartItem) {\n            // get product price by product id\n            // here we are passign qty as well in case of tier price\n            foundPrice = _this.confProductService.getProductPrice(cartItem.productId, cartItem.qty);\n            // calculate final price by multiplying it with qty\n            finalPrice += (foundPrice * parseInt(cartItem.qty));\n        });\n        // set total qty\n        this.priceService.totalQty = this.getTotalQty();\n        // in case of configurable product\n        // if qty is 1, set latest price as default price\n        if (this.priceService.totalQty == 1) {\n            this.priceService.defaultPrice = finalPrice;\n        }\n        // in case of configurable,\n        // when user clicks on add more button, all the selected product's prices\n        // are added in different variable\n        if (finalPrice >= this.priceService.defaultPrice) {\n            this.priceService.extraPriceToBeAdded.productPrice = finalPrice - this.priceService.defaultPrice;\n        }\n        // finally go for calculation\n        this.priceService.addThisPrice();\n        // publish event that price has been updated\n        this.eventService.$pub('priceUpdate');\n    };\n    /**\n     * calculate total price\n     */\n    ConfProductAttrComponent.prototype.getTotalQty = function () {\n        // variable declaration\n        var qty = 0;\n        // calculate qty\n        this.confProductService.cartData.filter(function (cartObj) {\n            qty += parseInt(cartObj.qty);\n        });\n        qty = (qty <= 0) ? 1 : qty;\n        // return qty\n        return parseInt(qty);\n    };\n    /**\n     * Replace '_' with white space in label and\n     * also make uppercase to each first character of the same\n     *\n     * @param label\n     */\n    ConfProductAttrComponent.prototype.filterLabel = function (label) {\n        // replace underscore with white space\n        label = label.replace(\"_\", \" \");\n        // uppercase each first character of string\n        label = label.toLowerCase().replace(/\\b[a-z]/g, function (letter) {\n            return letter.toUpperCase();\n        });\n        // return final o/p\n        return label;\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Input\"])('confProductOptionsObject'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ConfProductAttrComponent.prototype, \"confProductOptionsObject\", void 0);\n    ConfProductAttrComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\n            selector: '[conf-product-attr]',\n            template: __webpack_require__(/*! ./conf-product-attr.component.html */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.html\"),\n            styles: [__webpack_require__(/*! ./conf-product-attr.component.scss */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_5__[\"ConfProductAttrService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ChangeDetectorRef\"],\n            _custom_options_custom_options_service__WEBPACK_IMPORTED_MODULE_2__[\"CustomOptionsService\"],\n            _price_price_service__WEBPACK_IMPORTED_MODULE_1__[\"PriceService\"]])\n    ], ConfProductAttrComponent);\n    return ConfProductAttrComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\":\n/*!**************************************************************************************!*\\\n  !*** ./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts ***!\n  \\**************************************************************************************/\n/*! exports provided: ConfProductAttrService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfProductAttrService\", function() { return ConfProductAttrService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\n\n\n\n\n\n\nvar ConfProductAttrService = /** @class */ (function () {\n    /**\n     * Dependancy injection\n     */\n    function ConfProductAttrService(mainService, eventService, priceService) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.priceService = priceService;\n        this.isSubmitted = false;\n        this.defaultQty = 1;\n        this.allDefaultSelectedAttrs = [];\n        // flag that will force cart to reset\n        this.resetMe = null;\n        this.displayAddMore = false;\n        this.nameNumberData = {};\n        this.subscribeEvents();\n    }\n    ConfProductAttrService.prototype.init = function () {\n        // this.isNameNumber = (this.nameNumberService.addName || this.nameNumberService.addNumber) ? true : false;\n    };\n    ConfProductAttrService.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('addCustomPriceToTotal', function () {\n            _this.qtyUpdated(1);\n        });\n        this.eventService.$sub('nameNumberDisabled', function () {\n            _this.isNameNumber = false;\n        });\n        this.eventService.$sub('nameNumberEnabled', function (nameNumberData) {\n            _this.isNameNumber = true;\n            _this.nameNumberData = nameNumberData;\n        });\n    };\n    /**\n     * Initialize cart object to null for each attribute index\n     *\n     * @param rowIndex Row Index\n     * @param confAttrs configurable attributes array\n     */\n    ConfProductAttrService.prototype.initCartObject = function (rowIndex, confAttrs) {\n        var _this = this;\n        // as default options values changes each time,\n        // we will be storing it's values for the first time in our variable\n        // this variable will be used each time when new row needs to be added\n        if (!this.fixDefaultSelectedOptions ||\n            Object.keys(this.fixDefaultSelectedOptions).length == 0)\n            this.fixDefaultSelectedOptions = Object.assign({}, this.defaultSelectedOptionsValues);\n        // reset isSubmitted flag to false each time new row is added\n        this.isSubmitted = false;\n        // initialize cart data object for current row index\n        this.cartData[rowIndex] = { super_attribute: {} };\n        // if name number\n        if (this.isNameNumber) {\n            // initialize empty name number object\n            var additional_options = [{}];\n            // set id first\n            additional_options[0] = Object.assign(additional_options[0], { id: this.nameNumberData.newRow[rowIndex].id });\n            // check if name exists\n            if (this.nameNumberData.addName)\n                additional_options[0] = Object.assign(additional_options[0], { name: this.nameNumberData.newRow[rowIndex].name });\n            // check if number exists\n            if (this.nameNumberData.addNumber)\n                additional_options[0] = Object.assign(additional_options[0], { number: this.nameNumberData.newRow[rowIndex].number });\n            // finally add this object to cartData object\n            this.cartData[rowIndex] = Object.assign(this.cartData[rowIndex], { additional_options: additional_options });\n        }\n        // store fix default options into tmp variable\n        var tmpSelectedValues = Object.assign({}, this.fixDefaultSelectedOptions);\n        // filter conf attr array to get attr id\n        confAttrs.filter(function (confAttrArr, index) {\n            _this.cartData[rowIndex].super_attribute[confAttrArr.id] = tmpSelectedValues[index];\n        });\n        // store selected values to all default selected \n        this.allDefaultSelectedAttrs[rowIndex] = Object.assign({}, tmpSelectedValues);\n        // delete tmpSelectedValues;\n        var productId = this.getProductId(rowIndex);\n        this.cartData[rowIndex] = Object.assign(this.cartData[rowIndex], { productId: productId });\n        // finally assign qty object to cart data object\n        this.cartData[rowIndex] = Object.assign(this.cartData[rowIndex], { qty: this.defaultQty });\n    };\n    /**\n     * This function is triggered when name/number row is removed\n     * Here we will remove that row too from cart item\n     * and subtract the price of the same\n     *\n     * @param removedNameNumberObj\n     */\n    ConfProductAttrService.prototype.nameNumberReset = function (removedNameNumberObj, selectedKey) {\n        if (selectedKey === void 0) { selectedKey = null; }\n        // if no cart data found, return\n        if (!this.cartData || !this.cartData.length)\n            return;\n        // when key is not specified\n        // we will manually determine the key\n        if (selectedKey == null) {\n            // if both name and number selected\n            if (this.nameNumberData.addName && this.nameNumberData.addNumber) {\n                selectedKey = 'both';\n            }\n            // if only name is selected\n            else if (this.nameNumberData.addName && !this.nameNumberData.addNumber) {\n                selectedKey = 'name';\n            }\n            // if only number is selected\n            else if (!this.nameNumberData.addName && this.nameNumberData.addNumber) {\n                selectedKey = 'number';\n            }\n        }\n        // if key is specified(eg. name)\n        else {\n            // determine the other key(eg. number)\n            var otherKey = (selectedKey == 'addName') ? 'addNumber' : 'addName';\n            // check if other key is enabled\n            // eg if user had selected both name and number and then he deselects name\n            // in this case this function will also been triggered\n            // so we are checking if number is still checked, skip the process\n            if (this.nameNumberData[otherKey] == true) {\n                selectedKey = null;\n            }\n            // if selected key is not null\n            // determine the key value\n            selectedKey = (selectedKey != null && selectedKey == 'addName') ? 'name' : 'number';\n        }\n        // if key is null, return\n        if (selectedKey == null)\n            return;\n        // variable declaration    \n        var additionalOptions, foundCartItem = null, totalCartItems = this.cartData.length, cartItem;\n        // loop traversal\n        for (var i = 0; i < totalCartItems && foundCartItem == null; i++) {\n            // store cart data to custom var\n            cartItem = this.cartData[i];\n            // get addition option object\n            additionalOptions = cartItem.additional_options[0];\n            // check if removed name number id matches to current name number id\n            if (removedNameNumberObj.id == additionalOptions.id) {\n                // check key value for both name and number selection\n                if (selectedKey == 'both' && (removedNameNumberObj.name == additionalOptions.name && removedNameNumberObj.number == additionalOptions.number)) {\n                    foundCartItem = cartItem;\n                }\n                // else check with specific key\n                else if ((removedNameNumberObj[selectedKey] == additionalOptions[selectedKey])) {\n                    foundCartItem = cartItem;\n                }\n            }\n        }\n        // if found cart item is not null\n        // remove that item from cart\n        // subtract price of that item as well\n        if (foundCartItem != null) {\n            this.totalRows.splice(this.cartData.indexOf(foundCartItem), 1);\n            this.cartData.splice(this.cartData.indexOf(foundCartItem), 1);\n            this.eventService.$pub('qtyUpdated');\n        }\n    };\n    /**\n     *\n     * @param superAttribute\n     */\n    ConfProductAttrService.prototype.getProductId = function (rowIndex) {\n        var superAttribute = this.allDefaultSelectedAttrs[rowIndex], selectedAttrs = Object.values(superAttribute).join('_'), productIds = Object.keys(this.productsCombination), productAttrs = Object.values(this.productsCombination), index;\n        index = productAttrs.indexOf(selectedAttrs);\n        return productIds[index];\n    };\n    /**\n     * remove cart object on click on remove icon\n     *\n     * @param rowIndex\n     */\n    ConfProductAttrService.prototype.removeRow = function (rowIndex, cartData) {\n        if (cartData === void 0) { cartData = null; }\n        if (cartData != null) {\n            if (cartData && cartData[rowIndex])\n                cartData.splice(rowIndex, 1);\n        }\n        else {\n            if (this.cartData && this.cartData[rowIndex])\n                this.cartData.splice(rowIndex, 1);\n        }\n    };\n    /**\n     * cart data validation\n     *\n     * @return boolean value(true if cart is )\n     */\n    ConfProductAttrService.prototype.isConfDataInvalid = function () {\n        // set is submitted flag to true to display error messages\n        this.isSubmitted = true;\n        // variable declaration\n        var i, error = false, totalCartData = this.cartData.length, cartObj, superAttribute;\n        // as we need to stop iteration as soon as we found error in any of the validation,\n        // we are using for loop here\n        for (i = 0; i < totalCartData && error === false; i++) {\n            // store current cart data object to local variable      \n            cartObj = this.cartData[i];\n            // if cart data obj is not initialized,\n            // or qty is not initialized\n            // or qty is <= 0\n            // or super attribute object is not assigned, set error to true and break loop\n            if (!cartObj || !cartObj.qty || cartObj.qty <= 0 || !cartObj.super_attribute) {\n                error = true;\n                break;\n            }\n            // store super attribute to local variable\n            superAttribute = cartObj.super_attribute;\n            // traverse each super attribute one by one\n            for (var key in superAttribute) {\n                // check if any of the attribute has null value,\n                // if yes, then set error to true and stop iteration\n                if (superAttribute.hasOwnProperty(key) && superAttribute[key] == \"null\") {\n                    error = true;\n                    break;\n                }\n            }\n        }\n        // return true/false based on above actions\n        return error;\n    };\n    /**\n     * simply just set method to return cart data object\n     */\n    ConfProductAttrService.prototype.getCartData = function () {\n        var customCartData = [];\n        this.cartData.filter(function (cartItem) {\n            customCartData.push(JSON.parse(JSON.stringify(cartItem)));\n        });\n        if (this.isNameNumber)\n            customCartData = this.addQtyToAdditionalOptions(customCartData);\n        customCartData = this.checkForDuplicateSelection(customCartData);\n        return customCartData;\n    };\n    ConfProductAttrService.prototype.addQtyToAdditionalOptions = function (customCartData) {\n        var qtyToBeAssigned, additionalOptions;\n        customCartData.filter(function (cartItemObj) {\n            qtyToBeAssigned = parseInt(cartItemObj.qty);\n            if (cartItemObj.hasOwnProperty('additional_options')) {\n                additionalOptions = cartItemObj.additional_options[0];\n                additionalOptions = Object.assign(additionalOptions, { qty: qtyToBeAssigned });\n                cartItemObj.additional_options[0] = additionalOptions;\n            }\n        });\n        return customCartData;\n    };\n    /**\n     * check for duplicate selected pairs and remove duplicate one and add it's qty to matching pair\n     */\n    ConfProductAttrService.prototype.checkForDuplicateSelection = function (customCartData) {\n        var i, j, totalCartData = customCartData.length, tmp = [], removedItemQty;\n        for (i = 0; i < totalCartData; i++) {\n            removedItemQty = 0;\n            for (j = 1; j < totalCartData; j++) {\n                if (i === j)\n                    continue;\n                if (this.isCommon(customCartData[i].super_attribute, customCartData[j].super_attribute)) {\n                    removedItemQty = parseInt(customCartData[j].qty);\n                    customCartData[i].qty = parseInt(customCartData[i].qty) + removedItemQty;\n                    if (customCartData[i].hasOwnProperty('additional_options')) {\n                        customCartData[i].additional_options = customCartData[i].additional_options.concat(customCartData[j].additional_options);\n                    }\n                    this.removeRow(j, customCartData);\n                    totalCartData--;\n                    j--;\n                }\n            }\n        }\n        // customCartData.filter(cartItem => {\n        //   cartItem.additional_options = JSON.stringify(cartItem.additional_options);\n        // });\n        return customCartData;\n    };\n    /**\n     * Check both objects for matching values\n     *\n     * @param obj1\n     * @param obj2\n     */\n    ConfProductAttrService.prototype.isCommon = function (obj1, obj2) {\n        obj1 = Object.values(obj1);\n        obj2 = Object.values(obj2);\n        var totalValues = obj1.length, matchCounter = 0, i = 0;\n        for (i = 0; i < totalValues; i++) {\n            if (obj1[i] == obj2[i])\n                matchCounter++;\n        }\n        return (matchCounter == totalValues) ? true : false;\n    };\n    /**\n     * prevent user from entering invalid keys in qty input\n     *\n     * @param event\n     */\n    ConfProductAttrService.prototype.keyPress = function (event) {\n        var pattern = /[0-9\\+\\-\\ ]/;\n        var inputChar = String.fromCharCode(event.charCode);\n        if (event.keyCode != 8 && !pattern.test(inputChar)) {\n            event.preventDefault();\n        }\n    };\n    ConfProductAttrService.prototype.qtyUpdated = function (qtyVal, priceToBeCount) {\n        if (priceToBeCount === void 0) { priceToBeCount = 0; }\n        if (qtyVal <= 0)\n            qtyVal = 1;\n        var finalPrice = (priceToBeCount > 0) ? (priceToBeCount) : this.mainService.calcFinalPrice(qtyVal);\n        this.cartTotalAmount = Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_3__[\"FormatCurrency\"])(finalPrice, this.priceFormat, '');\n        this.eventService.$pub('setPrice', finalPrice);\n    };\n    /**\n     * get product price based on product id\n     * if tier price is set, same will be return, product price will be returned otherwise\n     *\n     * @param productId\n     * @param qty\n     */\n    ConfProductAttrService.prototype.getProductPrice = function (productId, qty) {\n        var keys, values, price = null;\n        if (this.tierPrice && Object.keys(this.tierPrice).length > 0) {\n            keys = Object.keys(this.tierPrice);\n            values = Object.values(this.tierPrice);\n            price = values[keys.indexOf(productId)];\n            // if tier price found\n            if (price && price.length > 0) {\n                var found_1;\n                price.filter(function (tierPriceObj) {\n                    if (parseInt(qty) >= parseInt(tierPriceObj.price_qty))\n                        found_1 = tierPriceObj;\n                });\n                price = ((found_1 && found_1.price)) ? found_1.price : null;\n            }\n            else {\n                price = null;\n            }\n        }\n        // if tier price not found\n        if (price == null) {\n            keys = Object.keys(this.productPrice);\n            values = Object.values(this.productPrice);\n            price = values[keys.indexOf(productId)];\n        }\n        // remove tax from price\n        if (this.priceService.tax > 0) {\n            price = (parseInt(price) / (100 + parseInt(this.priceService.tax))) * 100;\n        }\n        return price;\n    };\n    ConfProductAttrService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\n            _price_price_service__WEBPACK_IMPORTED_MODULE_5__[\"PriceService\"]])\n    ], ConfProductAttrService);\n    return ConfProductAttrService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/context-menu/context-menu.component.html\":\n/*!********************************************************************************!*\\\n  !*** ./src/app/essentials/components/context-menu/context-menu.component.html ***!\n  \\********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"context-menu\\\" style=\\\"position:absolute;z-index:9999;display: block;width: 20px\\\">\\n\\t<ul class=\\\"context-menu-list context-menu-root\\\" [attr.hidden]=\\\"hideContextMenu\\\">\\n\\t\\t<li class=\\\"context-menu-item labels context-menu-visible\\\" (click)=\\\"canvasService.Flip('horizontal')\\\">\\n\\t\\t\\t<label title=\\\"{{'Horizantal Flip' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-flip-v\\\" viewBox=\\\"0 0 30 30\\\" title=\\\"{{'Vertical Flip' | translate}}\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-flip-v\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t\\t<li class=\\\"context-menu-item labels\\\" (click)=\\\"canvasService.Flip('vertical')\\\">\\n\\t\\t\\t<label title=\\\"{{'Vertical Flip' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-flip-h\\\" viewBox=\\\"0 0 30 30\\\" title=\\\"{{'Horizantal Flip' | translate}}\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-flip-h\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t\\t<li class=\\\"context-menu-item labels\\\" (click)=\\\"canvasService.ObjectLayer('forward')\\\"\\n\\t\\t\\t[ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('bringToFront') != -1}\\\">\\n\\t\\t\\t<label title=\\\"{{'Front' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-layer-top\\\" viewBox=\\\"0 0 30 30\\\" title=\\\"{{'Front' | translate}}\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-layer-top\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t\\t<li class=\\\"context-menu-item labels\\\" (click)=\\\"canvasService.ObjectLayer('backward')\\\"\\n\\t\\t[ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('sendToBack') != -1}\\\">\\n\\t\\t\\t<label title=\\\"{{'Back' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-layer-bottom\\\" viewBox=\\\"0 0 30 30\\\" title=\\\"{{'Back' | translate}}\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-layer-bottom\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t\\t<li class=\\\"context-menu-item labels\\\" (click)=\\\"canvasService.deleteObject()\\\">\\n\\t\\t\\t<label title=\\\"{{'Delete' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 30\\\" title=\\\"{{'Delete' | translate}}\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</label>\\n\\t\\t</li>\\n\\t</ul>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/context-menu/context-menu.component.scss\":\n/*!********************************************************************************!*\\\n  !*** ./src/app/essentials/components/context-menu/context-menu.component.scss ***!\n  \\********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jb250ZXh0LW1lbnUvY29udGV4dC1tZW51LmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/context-menu/context-menu.component.ts\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/context-menu/context-menu.component.ts ***!\n  \\******************************************************************************/\n/*! exports provided: ContextMenuComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ContextMenuComponent\", function() { return ContextMenuComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var _right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../right-panel/right-panel.service */ \"./src/app/essentials/components/right-panel/right-panel.service.ts\");\n\n\n\n\n\nvar ContextMenuComponent = /** @class */ (function () {\n    function ContextMenuComponent(eventService, canvasService, rightPanelService) {\n        var _this = this;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.rightPanelService = rightPanelService;\n        this.hideContextMenu = true;\n        this.eventService.$sub('updateContextMenu', function (obj) {\n            _this.hideContextMenu = (_this.hideContextMenu == true) ? null : true;\n            if (_this.hideContextMenu) {\n                if (document.getElementsByClassName(\"total-sides\").length > 0) {\n                    document.getElementsByClassName(\"total-sides\")[0].classList.remove(\"context-menu-open\");\n                }\n            }\n            else {\n                if (document.getElementsByClassName(\"total-sides\").length > 0) {\n                    document.getElementsByClassName(\"total-sides\")[0].classList.add(\"context-menu-open\");\n                }\n            }\n            _this.updateContextMenu(obj);\n        });\n        this.eventService.$sub('objectUpdated', function (obj) {\n            if (obj.length > 0) {\n                _this.updateContextMenu(obj[0]);\n            }\n            else {\n                _this.updateContextMenu(obj);\n            }\n        });\n        this.eventService.$sub('canvasObjectMoving', function (obj) {\n            _this.removeContextMenu();\n        });\n        this.eventService.$sub('objectRemoved', function () {\n            _this.removeContextMenu();\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this.removeContextMenu();\n        });\n        this.eventService.$sub('objectSelectionUpdated', function () {\n            _this.removeContextMenu();\n        });\n        this.eventService.$sub('imageSideChanged', function () {\n            if (_this.canvasService && _this.canvasService.currentCanvas) {\n                var obj = _this.canvasService.currentCanvas.getActiveObject();\n                if (!obj) {\n                    _this.removeContextMenu();\n                }\n            }\n        });\n    }\n    ContextMenuComponent.prototype.ngOnInit = function () {\n    };\n    ContextMenuComponent.prototype.removeContextMenu = function () {\n        this.hideContextMenu = true;\n        if (document.getElementsByClassName(\"total-sides\").length > 0) {\n            document.getElementsByClassName(\"total-sides\")[0].classList.remove(\"context-menu-open\");\n        }\n    };\n    ContextMenuComponent.prototype.updateContextMenu = function (obj) {\n        this.rightPanelService.enableForMultipleObject();\n        this.rightPanelService.manageFlagForEnableDisable();\n        if (!obj)\n            return;\n        var contextMenu = document.querySelector(\".context-menu\");\n        var element = document.querySelector(\".product-designer-main-content.active\");\n        var dim = this.canvasService.currentCanvas.dim;\n        var left = element.offsetLeft + ((parseFloat(dim.x1) - this.canvasService.clipX[dim.designareaId] / 2) / this.canvasService.scaleFactor);\n        var top = element.offsetTop + ((parseFloat(dim.y1) - this.canvasService.clipY[dim.designareaId] / 2) / this.canvasService.scaleFactor);\n        var matrix = obj.calcTransformMatrix();\n        var absCoords = {\n            left: matrix[4],\n            top: obj.top + (obj.height * obj.scaleY)\n        };\n        if (obj.angle) {\n            absCoords.left = obj.oCoords.mb.x,\n                absCoords.top = obj.oCoords.mb.y;\n        }\n        contextMenu.style.left = (left + absCoords.left - 10) + 'px';\n        contextMenu.style.top = (top + absCoords.top) + 'px';\n    };\n    ContextMenuComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: 'context-menu',\n            template: __webpack_require__(/*! ./context-menu.component.html */ \"./src/app/essentials/components/context-menu/context-menu.component.html\"),\n            styles: [__webpack_require__(/*! ./context-menu.component.scss */ \"./src/app/essentials/components/context-menu/context-menu.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            _right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__[\"RightPanelService\"]])\n    ], ContextMenuComponent);\n    return ContextMenuComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/cropper/cropper-update.service.ts\":\n/*!*************************************************************************!*\\\n  !*** ./src/app/essentials/components/cropper/cropper-update.service.ts ***!\n  \\*************************************************************************/\n/*! exports provided: CropperUpdateService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CropperUpdateService\", function() { return CropperUpdateService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar CropperUpdateService = /** @class */ (function () {\n    function CropperUpdateService() {\n        /**\n         * Init the service for operation : It initialise the variables\n         */\n        this.init = function (params) {\n            var obj = params.obj, newSrc = params.newSrc, canvasService = params.service, eventService = params.eventService;\n            // if no object is passed, we will get active object\n            if (obj == null)\n                obj = canvasService.getActiveObject();\n            // if no active object found, return from here\n            if (obj == false)\n                return;\n            // if (isCenter === true) obj.center();\n            // fetch object's current property in array\n            var oldSrc = obj.getSrc();\n            return {\n                /**\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\n                 *\n                 */\n                exec: function () {\n                    // if no active object found, return from here\n                    if (obj == false)\n                        return;\n                    obj.setSrc(newSrc, function () {\n                        canvasService.currentCanvas.renderAll();\n                        eventService.$pub('imageCropped');\n                    });\n                },\n                /**\n                 * This function is used to revert back the last updated object while using undo redo\n                 */\n                unexec: function () {\n                    var canvas = canvasService.currentCanvas;\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    // return of obj is null\n                    if (!obj)\n                        return;\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    obj.setSrc(oldSrc, function () {\n                        canvasService.currentCanvas.renderAll();\n                        eventService.$pub('objectUpdated', obj);\n                    });\n                }\n            };\n        };\n    }\n    CropperUpdateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], CropperUpdateService);\n    return CropperUpdateService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/cropper/cropper.component.html\":\n/*!**********************************************************************!*\\\n  !*** ./src/app/essentials/components/cropper/cropper.component.html ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<ng-template #cropperModal>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">{{'Crop Image' | translate}}</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div class=\\\"byi-img-crop\\\">\\n      <img [src]=\\\"currentImage\\\" #currentCanvasImage id=\\\"currentCanvasImage\\\" class=\\\"cropper-image\\\" height=\\\"auto\\\" width=\\\"auto\\\"\\n      crossOrigin=\\\"Anonymous\\\">\\n    </div>\\n    <div class=\\\"byi-ic-action\\\">\\n      <button class=\\\"byi-btn\\\" (click)=\\\"saveCroppedImage()\\\">{{'Apply Crop' | translate}}</button>\\n    </div>\\n  </div>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/cropper/cropper.component.scss\":\n/*!**********************************************************************!*\\\n  !*** ./src/app/essentials/components/cropper/cropper.component.scss ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jcm9wcGVyL2Nyb3BwZXIuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/cropper/cropper.component.ts\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/cropper/cropper.component.ts ***!\n  \\********************************************************************/\n/*! exports provided: CropperComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CropperComponent\", function() { return CropperComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var cropperjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cropperjs */ \"./node_modules/cropperjs/dist/cropper.js\");\n/* harmony import */ var cropperjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(cropperjs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n\n\n\n\n\n\n\nvar CropperComponent = /** @class */ (function () {\n    function CropperComponent(addImageService, mainService, cdr, canvasSevice, translate) {\n        this.addImageService = addImageService;\n        this.mainService = mainService;\n        this.cdr = cdr;\n        this.canvasSevice = canvasSevice;\n        this.translate = translate;\n    }\n    CropperComponent.prototype.ngOnInit = function () {\n        this.initData();\n    };\n    CropperComponent.prototype.initData = function () {\n        var _this = this;\n        this.cropperSettings = {\n            checkCrossOrigin: false,\n            viewMode: 2,\n            background: false,\n            zoomOnWheel: false,\n            minContainerWidth: 100,\n            minContainerHeight: 150,\n            ready: function () {\n                _this.applyCustomClassesToCropper();\n            }\n        };\n    };\n    CropperComponent.prototype.cropImage = function (imageUrl) {\n        // this.cropperModal.show();\n        var obj = this.canvasSevice.getActiveObject();\n        this.currentImage = obj.getSrc();\n        this.modalRef = this.mainService.openThisModal(this.cropperModal, 'byi-img-crop-popup');\n        this.setCropper();\n    };\n    CropperComponent.prototype.setCropper = function () {\n        var _this = this;\n        var self = this;\n        setTimeout(function () {\n            var img = document.getElementById('currentCanvasImage');\n            var image = new Image();\n            image.src = img.src;\n            image.crossOrigin = 'Anonymous';\n            image.onload = function () {\n                self.cropper = new cropperjs__WEBPACK_IMPORTED_MODULE_5___default.a(img, _this.cropperSettings);\n                self.cdr.detectChanges();\n            };\n        }, 100);\n    };\n    CropperComponent.prototype.saveCroppedImage = function () {\n        var _this = this;\n        this.canvasSevice.eventService.$pub('showMainLoader');\n        this.croppedImage = this.cropper.getCroppedCanvas().toDataURL();\n        var params = {\n            imageData: this.croppedImage\n        }, url = \"productdesigner/index/saveCroppedImage\", self = this;\n        this.mainService.post(url, params).then(function (resp) {\n            self.addCroppedImageToCanvas(resp.outputImage);\n        }).catch(function (err) {\n            console.log(_this.translate.instant(\"Error in save cropped image: \"), err);\n        }).finally(function () {\n            _this.canvasSevice.eventService.$pub('hideMainLoader');\n        });\n    };\n    CropperComponent.prototype.addCroppedImageToCanvas = function (croppedImage) {\n        var img = croppedImage;\n        // let img = \"assets/img/15559082051519329576.png\";\n        this.addImageService.updateImage(img);\n        this.modalRef.hide();\n    };\n    CropperComponent.prototype.applyCustomClassesToCropper = function () {\n        var cropperModal = document.getElementsByClassName('cropper-modal'), cropperImg = document.getElementsByClassName('cropper-hide');\n        if (cropperModal && cropperModal[0] && cropperModal[0].classList) {\n            cropperModal[0].setAttribute('style', 'background: #ccc');\n        }\n        if (cropperImg && cropperImg[0] && cropperImg[0].classList) {\n            cropperImg[0].setAttribute('style', 'border: dotted 1px #f00');\n        }\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('cropperModal'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], CropperComponent.prototype, \"cropperModal\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('currentCanvasImage'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], CropperComponent.prototype, \"image\", void 0);\n    CropperComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\n            selector: 'cropper',\n            template: __webpack_require__(/*! ./cropper.component.html */ \"./src/app/essentials/components/cropper/cropper.component.html\"),\n            styles: [__webpack_require__(/*! ./cropper.component.scss */ \"./src/app/essentials/components/cropper/cropper.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_2__[\"AddImageService\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ChangeDetectorRef\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_1__[\"CanvasService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__[\"TranslateService\"]])\n    ], CropperComponent);\n    return CropperComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/custom-options/custom-options.component.html\":\n/*!************************************************************************************!*\\\n  !*** ./src/app/essentials/components/custom-options/custom-options.component.html ***!\n  \\************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<!-- check if form group object is ready -->\\n<ng-container *ngIf=\\\"customOptionsService.customOptionFormGroup\\\"\\n  [formGroup]=\\\"customOptionsService.customOptionFormGroup\\\">\\n\\n  <!-- Traversal -->\\n  <ng-container *ngFor=\\\"let customOptionObj of customOptionsService.customOptionsData; let i = index\\\">\\n\\n    <!-- This section will display input type fields like text, date, datetime, time, file -->\\n    <div *ngIf=\\\"customOptionsService.typeCheck(customOptionObj.type, 'input')\\\" class=\\\"byi-cart-option byi-float-label\\\">\\n      <label>{{customOptionObj.title | translate}}{{(customOptionObj.isRequire) ? '*' : ''}}</label>\\n      <input [type]=\\\"customOptionsService.getInputType(customOptionObj.type)\\\" [id]=\\\"customOptionObj.id\\\"\\n        [formControlName]=\\\"customOptionsService.getControlName(customOptionObj)\\\"\\n        (input)=\\\"customOptionsService.calcPrice()\\\">\\n      <span class=\\\"text-danger\\\" *ngIf=\\\"isError(customOptionObj)\\\">{{'This field is\\n        required' | translate}}</span>\\n    </div>\\n\\n    <!-- As input type file field requires addition operations and validation we need to specify it here -->\\n    <div *ngIf=\\\"customOptionObj.type == 'file'\\\" class=\\\"byi-cart-option byi-float-label\\\">\\n      <label>{{customOptionObj.title | translate}}{{(customOptionObj.isRequire) ? '*' : ''}}</label>\\n      <input type=\\\"file\\\" [id]=\\\"customOptionObj.title + '_' + customOptionObj.id\\\"\\n        (change)=\\\"handleFileUpload(customOptionObj, $event)\\\">\\n      <span *ngIf=\\\"customOptionObj.fileTypeError\\\" class=\\\"text-danger\\\">{{'Invalid File' | translate}}</span>\\n    </div>\\n\\n    <!-- This section will display select fields like dropdown, multiple dropdown -->\\n    <div *ngIf=\\\"customOptionObj.type == 'drop_down'\\\" class=\\\"byi-cart-option\\\">\\n      <label>{{customOptionObj.title | translate}}{{(customOptionObj.isRequire) ? '*' : ''}}</label>\\n      <div class=\\\"byi-select\\\">\\n        <select [id]=\\\"customOptionObj.id\\\" [formControlName]=\\\"customOptionsService.getControlName(customOptionObj)\\\"\\n          (change)=\\\"customOptionsService.calcPrice()\\\">\\n          <option value=\\\"\\\">{{'None' | translate}}</option>\\n          <option *ngFor=\\\"let dropdownObj of customOptionObj.options_values\\\" [value]=\\\"dropdownObj.optionTypeId\\\">\\n            {{dropdownObj.valueTitle}}</option>\\n        </select>\\n        <span class=\\\"caret\\\"></span>\\n      </div>\\n      <span class=\\\"byi-error\\\" *ngIf=\\\"isError(customOptionObj)\\\">{{'This field is\\n        required' | translate}}</span>\\n    </div>\\n\\n    <!-- This section will display select fields like dropdown, multiple dropdown -->\\n    <div *ngIf=\\\"customOptionObj.type == 'multiple'\\\" class=\\\"byi-cart-option\\\">\\n      <label>{{customOptionObj.title | translate}}{{(customOptionObj.isRequire) ? '*' : ''}}</label>\\n      <div class=\\\"byi-select\\\">\\n        <select [id]=\\\"customOptionObj.id\\\" [formControlName]=\\\"customOptionsService.getControlName(customOptionObj)\\\"\\n          multiple (change)=\\\"checkForDropdownValues(customOptionObj, $event)\\\">\\n          <option value=\\\"\\\">{{'None' | translate}}</option>\\n          <option *ngFor=\\\"let dropdownObj of customOptionObj.options_values\\\"\\n            [id]=\\\"customOptionObj.id + '_' + dropdownObj.optionTypeId\\\">\\n            {{dropdownObj.valueTitle}}</option>\\n        </select>\\n      </div>\\n      <!-- Error -->\\n      <span class=\\\"byi-error\\\" *ngIf=\\\"isError(customOptionObj)\\\">{{'This field is\\n        required' | translate}}</span>\\n    </div>\\n\\n    <!-- This section will display selection boxes like radio button and checkbox -->\\n    <div *ngIf=\\\"customOptionsService.typeCheck(customOptionObj.type, 'selectionBox')\\\"\\n      class=\\\"byi-cart-option byi-float-checkbox\\\">      \\n      <label>{{'Select ' + customOptionObj.title | translate}}{{(customOptionObj.isRequire) ? '*' : ''}}</label>\\n      <ng-container *ngFor=\\\"let selectionOptionObj of customOptionObj.options_values\\\">\\n        <div class=\\\"byi-cr-option\\\">\\n          <label class=\\\"byi-checkbox\\\">\\n            <input [type]='customOptionObj.type' [id]='selectionOptionObj.optionTypeId'\\n              [attr.value]='selectionOptionObj.optionTypeId'\\n              [name]=\\\"customOptionsService.getControlName(customOptionObj)\\\"\\n              [formControlName]=\\\"customOptionsService.getControlName(customOptionObj)\\\"\\n              (change)=\\\"setSelectionBoxVal(customOptionObj, $event.target.checked, selectionOptionObj.optionTypeId)\\\"\\n              >\\n            <span></span>{{selectionOptionObj.valueTitle}}\\n          </label>\\n        </div>\\n      </ng-container>\\n\\n      <!-- Error -->\\n      <span class=\\\"byi-error\\\" *ngIf=\\\"isError(customOptionObj)\\\">{{'This field is\\n        required' | translate}}</span>\\n    </div>\\n  </ng-container>\\n</ng-container>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/custom-options/custom-options.component.scss\":\n/*!************************************************************************************!*\\\n  !*** ./src/app/essentials/components/custom-options/custom-options.component.scss ***!\n  \\************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \".byi-float-label input[type='file'] {\\n  width: 100%;\\n  height: 35px;\\n  padding: 4px;\\n  box-shadow: none;\\n  border-radius: 4px;\\n  font-size: 13px;\\n  border: 1px solid #cccccc; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2h0bWwvQllJVjIvbWFnMjMyL2FuZ3VsYXIvc3JjL2FwcC9lc3NlbnRpYWxzL2NvbXBvbmVudHMvY3VzdG9tLW9wdGlvbnMvY3VzdG9tLW9wdGlvbnMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFXO0VBQ1gsWUFBWTtFQUNaLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZix5QkFBeUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9jdXN0b20tb3B0aW9ucy9jdXN0b20tb3B0aW9ucy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ieWktZmxvYXQtbGFiZWwgaW5wdXRbdHlwZT0nZmlsZSddIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDM1cHg7XG4gICAgcGFkZGluZzogNHB4O1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjY2NjO1xufSJdfQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/custom-options/custom-options.component.ts\":\n/*!**********************************************************************************!*\\\n  !*** ./src/app/essentials/components/custom-options/custom-options.component.ts ***!\n  \\**********************************************************************************/\n/*! exports provided: CustomOptionsComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomOptionsComponent\", function() { return CustomOptionsComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _custom_options_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./custom-options.service */ \"./src/app/essentials/components/custom-options/custom-options.service.ts\");\n\n\n\n\nvar CustomOptionsComponent = /** @class */ (function () {\n    function CustomOptionsComponent(cdr, customOptionsService, eventService) {\n        this.cdr = cdr;\n        this.customOptionsService = customOptionsService;\n        this.eventService = eventService;\n    }\n    /**\n     * Angular lifecycle init function\n     */\n    CustomOptionsComponent.prototype.ngOnInit = function () {\n        this.customOptionsService.init();\n        this.customOptionsService.prepareFormGroup();\n        // if error occured, scroll to top\n        this.eventService.$sub('validationError', function () {\n            var elem = document.getElementsByClassName('byi-cart-custom');\n            elem = (elem && elem[0]) ? elem[0] : null;\n            if (elem)\n                setTimeout(function () {\n                    elem.scrollIntoView({ behavior: \"smooth\" });\n                }, 500);\n        });\n    };\n    /**\n     * When component is getting closd, reset data\n     */\n    CustomOptionsComponent.prototype.ngOnDestroy = function () {\n        this.customOptionsService.init();\n    };\n    /**\n     * this function is triggered as soon as user selects any file\n     *\n     * @param customOptionObj current option object\n     * @param eve event\n     */\n    CustomOptionsComponent.prototype.handleFileUpload = function (customOptionObj, eve) {\n        // if event object does not contain file, return\n        if (!eve || !eve.target || !eve.target.files || !eve.target.files[0])\n            return;\n        // get file object from eve\n        var file = eve.target.files[0];\n        // check for file validation\n        // here we are checking for file extensions\n        // if any error occured, will return false, array of allowed exntesions otherwise\n        var checkedValidationResponse = this.checkForImageValidation(customOptionObj, file);\n        // if error occured, assign fileTypeError property to show error\n        if (checkedValidationResponse == false) {\n            customOptionObj = Object.assign(customOptionObj, { fileTypeError: true });\n            return;\n        }\n        // if no errors found, assign allowedExtensions flag value to file object to send it in request param\n        file = Object.assign(file, { allowedExtensions: checkedValidationResponse });\n        // assign other important info\n        file = Object.assign(file, {\n            fileInfo: {\n                optionId: customOptionObj.id,\n                optiontitle: customOptionObj.title\n            }\n        });\n        // push current file object to our fileList object(for final operation)\n        this.customOptionsService.fileList.push(file);\n        // if current object contains fileTypeError property, remove the same\n        if (customOptionObj && customOptionObj.fileTypeError)\n            delete customOptionObj.fileTypeError;\n        // set price for the same\n        this.customOptionsService.calcPrice();\n    };\n    /**\n     * Check if current uploaded file has any errors\n     * we are just checking for file extensions\n     *\n     * @param customOptionObj\n     * @param file\n     */\n    CustomOptionsComponent.prototype.checkForImageValidation = function (customOptionObj, file) {\n        // determine file type by file's extension\n        var fileType = (file && file.type) ? file.name.substr(file.name.lastIndexOf('.') + 1) : '', \n        // prepare array of allowedExtensions string\n        allowedExtensions = (customOptionObj && customOptionObj.file_extension) ? customOptionObj.file_extension.replace(/ /g, \"\").split(\",\") : [];\n        // if file type is not found, return false(assuming invalid file)\n        if (!fileType || fileType == '')\n            return false;\n        // check whether current file type is present in allowedExtensions,\n        // if no, return false\n        if (allowedExtensions &&\n            allowedExtensions.length &&\n            allowedExtensions.indexOf(fileType) < 0)\n            return false;\n        // else return allowedExtensions\n        return allowedExtensions;\n    };\n    /**\n     * as in case of multiple dropdown, form control failes to validate the same\n     * so we need to validate it by our end\n     *\n     * @param customOptionObj current custom option object\n     * @param eve event\n     */\n    CustomOptionsComponent.prototype.checkForDropdownValues = function (customOptionObj, eve) {\n        // determine the value object\n        var val = (eve && eve.target && eve.target.value) ? eve.target.value : [], \n        // get control name\n        controlName = this.customOptionsService.getControlName(customOptionObj);\n        // find value in custom option object and store response in temp object\n        var temp = customOptionObj.options_values.find(function (customOptionChildObj) { return customOptionChildObj.valueTitle == val; });\n        // if temp object is undefined, set error for the same\n        if (!temp)\n            this.cf[controlName].setErrors({ required: true });\n        // set price for the same\n        this.customOptionsService.calcPrice();\n    };\n    /**\n     * This function is called when radio button/checkbox is selected\n     * as in form control sometimes it does not detect values automatically, so we are doing it manually here\n     *\n     * @param customOptionObj current custom option object\n     * @param isChecked boolean value whether is checked or not\n     * @param val value of selected checkbox/radio button\n     */\n    CustomOptionsComponent.prototype.setSelectionBoxVal = function (customOptionObj, isChecked, val) {\n        // store selected value to temp var\n        var selectedVal = val;\n        // determine the value, if isChecked is false we need to declare val as empty\n        val = (isChecked === true) ? val : '';\n        // get control name by current object\n        var controlName = this.customOptionsService.getControlName(customOptionObj);\n        // check if it's checkbox\n        if (customOptionObj.type == 'checkbox') {\n            var formControlValue = (this.cf[controlName].value) ? this.cf[controlName].value : [];\n            if (formControlValue && formControlValue.indexOf(',') >= 0) {\n                formControlValue = formControlValue.split(\",\");\n            }\n            var tmp = [].concat(formControlValue);\n            if (isChecked && tmp.indexOf(val) == -1)\n                tmp.push(val);\n            else if (!isChecked)\n                tmp.splice(tmp.indexOf(selectedVal), 1);\n            val = [].concat(tmp);\n        }\n        // assign value to form control object\n        // this.cf[controlName].setValue(val);\n        this.cf[controlName].setValue([].concat(val));\n        // set price for the same\n        this.customOptionsService.calcPrice();\n    };\n    /**\n      * this function will check for error for current object and will return true if found any\n      *\n      * @param customOptionObj object of custom options\n      */\n    CustomOptionsComponent.prototype.isError = function (customOptionObj) {\n        return customOptionObj.type != 'file' && this.customOptionsService.isSubmitted === true && this.cf[this.customOptionsService.getControlName(customOptionObj)].errors && this.cf[this.customOptionsService.getControlName(customOptionObj)].errors.required;\n    };\n    /**\n     * checks radio buttons and checkboxes\n     */\n    CustomOptionsComponent.prototype.isChecked = function (customOptionObj, val) {\n        var formValue = this.cf[this.customOptionsService.getControlName(customOptionObj)].value;\n        if (customOptionObj.type == 'radio')\n            return formValue == val;\n        else if (customOptionObj.type == 'checkbox')\n            return formValue.indexOf(val) >= 0;\n    };\n    Object.defineProperty(CustomOptionsComponent.prototype, \"cf\", {\n        // instance to use for current form control\n        get: function () { return this.customOptionsService.cf; },\n        enumerable: true,\n        configurable: true\n    });\n    CustomOptionsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: '[custom-options]',\n            template: __webpack_require__(/*! ./custom-options.component.html */ \"./src/app/essentials/components/custom-options/custom-options.component.html\"),\n            styles: [__webpack_require__(/*! ./custom-options.component.scss */ \"./src/app/essentials/components/custom-options/custom-options.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"],\n            _custom_options_service__WEBPACK_IMPORTED_MODULE_3__[\"CustomOptionsService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"]])\n    ], CustomOptionsComponent);\n    return CustomOptionsComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/custom-options/custom-options.service.ts\":\n/*!********************************************************************************!*\\\n  !*** ./src/app/essentials/components/custom-options/custom-options.service.ts ***!\n  \\********************************************************************************/\n/*! exports provided: CustomOptionsService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomOptionsService\", function() { return CustomOptionsService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\n/* harmony import */ var _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../conf-product-attr/conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\n\nvar CustomOptionsService = /** @class */ (function () {\n    /**\n     *\n     */\n    function CustomOptionsService(eventService, confProductService, priceService) {\n        this.eventService = eventService;\n        this.confProductService = confProductService;\n        this.priceService = priceService;\n        // Declaration\n        this.fileList = [];\n        // selected custom options\n        this.selectedCustomOptions = {};\n        // selected custom options total\n        this.selectedCustomOptionsTotal = 0;\n        // in case of configurable product, we will keep total qty here for final calculations\n        // for simple product, qty is already been assigned in price service\n        this.qtyToBeUsed = 1;\n    }\n    /**\n      * Assign default values here\n      */\n    CustomOptionsService.prototype.init = function () {\n        this.isSubmitted = false;\n        this.fileList = (this.fileList && this.fileList.length > 0) ? this.fileList : [];\n        this.initTypeCheckObject();\n    };\n    /**\n      * Initialize typecheck object\n      */\n    CustomOptionsService.prototype.initTypeCheckObject = function () {\n        if (this.typeCheckValues && this.typeCheckValues.length > 0)\n            return;\n        this.typeCheckValues = {\n            input: ['field', 'date', 'date_time', 'time'],\n            selectionBox: ['checkbox', 'radio'],\n            dropDown: ['drop_down', 'multiple']\n        };\n    };\n    /**\n     * Prepare custom form group\n     */\n    CustomOptionsService.prototype.prepareFormGroup = function () {\n        var _this = this;\n        if (this.customOptionFormGroup && this.customOptionFormGroup.controls)\n            return;\n        var group = {}, formControlName, isRequire;\n        this.customOptionsData.filter(function (customOptionObj) {\n            formControlName = _this.getControlName(customOptionObj);\n            isRequire = (customOptionObj.type == 'file') ? false : customOptionObj.isRequire;\n            group[formControlName] = _this.generateFormControl(isRequire, customOptionObj.type);\n        });\n        this.customOptionFormGroup = new _angular_forms__WEBPACK_IMPORTED_MODULE_4__[\"FormGroup\"](group);\n        (this.selectedCustomOptions) ? this.setSelectedCustomOptionsData() : this.checkForExistingOptions();\n    };\n    /**\n     *\n     */\n    CustomOptionsService.prototype.setSelectedCustomOptionsData = function () {\n        var _this = this;\n        var selectedCustomOptions = this.selectedCustomOptions, objKeys = Object.keys(selectedCustomOptions), currentOptionObjVal, foundObj;\n        objKeys.filter(function (key) {\n            if (key != 'qty') {\n                currentOptionObjVal = selectedCustomOptions[key];\n                foundObj = _this.customOptionsData.find(function (customOptionObj) { return customOptionObj.id == key; });\n                // if datetime, check if value is null, if so, skip\n                if (foundObj.type == \"date\" || foundObj.type == \"time\" || foundObj.type == \"date_time\") {\n                    if (currentOptionObjVal.date_internal)\n                        delete currentOptionObjVal.date_internal;\n                    if (Object.values(currentOptionObjVal).indexOf(null) >= 0)\n                        currentOptionObjVal = false;\n                }\n                if (currentOptionObjVal != false)\n                    _this.setSelectedCustomOptionValue(foundObj, currentOptionObjVal);\n            }\n        });\n    };\n    /**\n    * Custom selected options\n    */\n    CustomOptionsService.prototype.checkForExistingOptions = function () {\n        var customOptionsData = document.getElementsByClassName(\"options\"), val, foundObj, super_attribute;\n        // traverse through array\n        for (var i = 0; i < customOptionsData.length; i++) {\n            // fetch instance one by one\n            super_attribute = customOptionsData[i];\n            // check if value exists, return if not\n            if (!super_attribute.value || super_attribute.value == '')\n                continue;\n            // search and return custom option object by id\n            foundObj = this.customOptionsData.find(function (customOptionObj) { return customOptionObj.id == super_attribute.dataset.attrId; });\n            val = super_attribute.value;\n            if (foundObj.type == 'date') {\n                val = val.split(\",\");\n                val = {\n                    day: val[1],\n                    month: val[0],\n                    year: val[2]\n                };\n            }\n            else if (foundObj.type == \"time\") {\n                val = val.split(\",\");\n                val = {\n                    hour: val[0],\n                    minute: val[1],\n                    dayPart: val[2]\n                };\n            }\n            else if (foundObj.type == \"date_time\") {\n                val = val.split(\",\");\n                val = {\n                    day: val[1],\n                    month: val[0],\n                    year: val[2],\n                    hour: val[3],\n                    minute: val[4],\n                    dayPart: val[5] || '',\n                };\n            }\n            // \n            this.setSelectedCustomOptionValue(foundObj, val);\n        }\n    };\n    /**\n     *\n     * @param foundObj\n     * @param selectedVal\n     */\n    CustomOptionsService.prototype.setSelectedCustomOptionValue = function (foundObj, selectedVal) {\n        var val, typeArrayObj = ['multiple', 'date', 'time', 'date_time'];\n        // set value, if type is dropdown, value should be in array format, original otherwise\n        val = (foundObj.type == 'drop_down') ? [].concat(selectedVal) : selectedVal;\n        // convert comma separated values into array\n        val = (val && val.constructor == String && val.indexOf(\",\") >= 0) ? val.split(\",\") : val;\n        // if type is multiple and only one value is assigned, change it to array\n        val = (foundObj.type == 'multiple' && Array.isArray(val) === false) ? [].concat(val) : val;\n        // few types like datetime or multiple consist array of values\n        // so before procceeding ahead we will check if it's not an empty array\n        if (typeArrayObj.indexOf(foundObj.type) >= 0) {\n            // if object type is multiple, fetch value title and set selected to respective element\n            if (foundObj.type == 'multiple') {\n                // declare variables\n                var tmpVal_1 = [], tmp_1, elem_1 = [];\n                // as our value will be an array,\n                // traverse one by one\n                val.filter(function (v) {\n                    // get obj having same id as val\n                    tmp_1 = foundObj.options_values.find(function (optionValObj) { return optionValObj.optionTypeId == v; });\n                    // if found, push it to elem array for further use\n                    // and save value title to local variable which will be then replace val object\n                    if (tmp_1) {\n                        elem_1.push(foundObj.id + '_' + tmp_1.optionTypeId);\n                        tmpVal_1.push(tmp_1.valueTitle);\n                    }\n                });\n                // replace tmp val object with val\n                val = tmpVal_1;\n                // as popup takes some time to load, we need to set it after 0.5 sec\n                setTimeout(function () {\n                    elem_1.filter(function (ele) { return document.getElementById(ele).setAttribute('selected', 'true'); });\n                }, 500);\n            }\n            // if type is date\n            else if (foundObj.type == \"date\") {\n                var yyyy = void 0, MM = void 0, dd = void 0;\n                yyyy = val.year;\n                MM = val.month;\n                MM = (MM < 10) ? \"0\" + MM : MM;\n                dd = val.day;\n                dd = (dd < 10) ? \"0\" + dd : dd;\n                val = yyyy + \"-\" + MM + \"-\" + dd;\n            }\n            // if type is time\n            else if (foundObj.type == \"time\") {\n                var hr = parseInt(val.hour), min = parseInt(val.minute);\n                hr = (hr < 10) ? \"0\" + hr : hr;\n                hr = (hr == 12 && val.dayPart == 'am') ? \"00\" : hr;\n                min = (min < 10) ? \"0\" + min : min;\n                val = hr + \":\" + min;\n            }\n            // if type is dateTime\n            else if (foundObj.type == \"date_time\") {\n                var yyyy = void 0, MM = void 0, dd = void 0;\n                yyyy = val.year;\n                MM = val.month;\n                MM = (MM < 10) ? \"0\" + MM : MM;\n                dd = val.day;\n                dd = (dd < 10) ? \"0\" + dd : dd;\n                var date = yyyy + \"-\" + MM + \"-\" + dd + \"T\", hr = parseInt(val.hour), min = parseInt(val.minute);\n                hr = (hr < 10) ? \"0\" + hr : hr;\n                hr = (hr == 12 && val.dayPart == 'am') ? \"00\" : hr;\n                min = (min < 10) ? \"0\" + min : min;\n                val = date + hr + \":\" + min;\n            }\n        }\n        // finally assign these values to each form controller object\n        this.cf[this.getControlName(foundObj)].setValue(val);\n        this.calculateCustomOptionPrice(foundObj, val);\n    };\n    /**\n     * parepre/get controller name based on object\n     * we are using title and id of the object to prepare control name\n     *\n     * @param customOptionObj object of custom form\n     */\n    CustomOptionsService.prototype.getControlName = function (customOptionObj) {\n        var formControlName = (customOptionObj.title + '_' + customOptionObj.id).split(\" \").join(\"_\");\n        return formControlName;\n    };\n    /**\n    * This function will generate and return form control object\n    *\n    * @param isRequired flag value that indicates whether or not required validation is required to add or not\n    */\n    CustomOptionsService.prototype.generateFormControl = function (isRequired, customOptionObjType) {\n        var validationRule = (isRequired == true) ? _angular_forms__WEBPACK_IMPORTED_MODULE_4__[\"Validators\"].required : '', formControlDefaultVal = '';\n        if (customOptionObjType == 'multiple' || customOptionObjType == 'checkbox')\n            formControlDefaultVal = [];\n        return new _angular_forms__WEBPACK_IMPORTED_MODULE_4__[\"FormControl\"](formControlDefaultVal, validationRule);\n    };\n    /**\n     *\n     */\n    CustomOptionsService.prototype.validateCustomOptionsData = function () {\n        var self = this, eventResponse = {\n            isInvalid: self.isCustomFormHasErrors(),\n            files: this.fileList\n        };\n        if (self.isCustomFormHasErrors() == false)\n            eventResponse = Object.assign(eventResponse, {\n                customOptions: this.prepareCustomOptions()\n            });\n        return eventResponse;\n    };\n    /**\n    * this function performs following actions:\n    * i. set isSubmitted flag to true(to display error messages)\n    * ii. check for uploaded file errors\n    */\n    CustomOptionsService.prototype.isCustomFormHasErrors = function () {\n        // IF ON LOAD CHECK IS DONE\n        if (!this.customOptionFormGroup)\n            return true;\n        // set submit flag to true that will show errors\n        this.isSubmitted = true;\n        // here we will check if uploaded file has any errors    \n        var uploadedFileError = this.getUploadedFileError();\n        // store error flag to local variable\n        var isError = (this.customOptionFormGroup && this.customOptionFormGroup.invalid) || uploadedFileError;\n        // if error occured, publish an event for the same\n        if (isError)\n            this.eventService.$pub('validationError');\n        // finally return boolean value(true if error found)\n        return isError;\n    };\n    /**\n     * check for uploaded file errors\n     * if any file upload dom element has errors, we have assigned fileTypeError object to custom option object variable\n     */\n    CustomOptionsService.prototype.getUploadedFileError = function () {\n        // variable declaration\n        var totalData = this.customOptionsData.length, foundError = false, i;\n        // traverse through all custom options variable\n        for (i = 0; i < totalData && foundError == false; i++) {\n            // if obj type is not file, skip\n            if (this.customOptionsData[i].type != 'file')\n                continue;\n            // check if object has fileTypeError property set, change flag value and break the loop\n            if (this.customOptionsData[i] && this.customOptionsData[i].fileTypeError) {\n                foundError = true;\n                break;\n            }\n        }\n        // return true if errors found \n        return foundError;\n    };\n    /**\n      * Prepare custom options payload\n      */\n    CustomOptionsService.prototype.prepareCustomOptions = function () {\n        var _this = this;\n        // set default values\n        this.selectedCustomOptions = 0;\n        this.selectedCustomOptionsTotal = 0;\n        var formControlObj, customOptionsData = {}, val, tmp, dateArr = [\"date\", \"date_time\", \"time\"];\n        // traversal\n        this.customOptionsData.filter(function (customOptionsObj) {\n            // as we are not checking file\n            if (customOptionsObj.type != 'file') {\n                // \n                formControlObj = Object.assign(_this.cf[_this.getControlName(customOptionsObj)]);\n                // when the input type is text or date\n                val = formControlObj.value;\n                if (val != \"\" || dateArr.indexOf(customOptionsObj.type) >= 0) {\n                    // when element is select\n                    if (customOptionsObj.type == 'multiple') {\n                        tmp = [];\n                        val.filter(function (v) {\n                            var tt = customOptionsObj.options_values.find(function (customOptionsObj) { return customOptionsObj.valueTitle == v; });\n                            if (tt)\n                                tmp.push(tt.optionTypeId);\n                        });\n                        val = tmp;\n                    }\n                    // when element if date\n                    if (customOptionsObj.type == 'date') {\n                        var date = new Date(val);\n                        val = {\n                            month: (date && date.getMonth()) ? date.getMonth() + 1 : null,\n                            day: (date && date.getDate()) ? date.getDate() : null,\n                            year: (date && date.getFullYear()) ? date.getFullYear() : null\n                        };\n                    }\n                    // when element is dateTime\n                    if (customOptionsObj.type == 'date_time') {\n                        var date = _this.parseDateString(val), hour = (date && date.getHours()) ? date.getHours() : null, dayPart = 'am';\n                        if (hour != null && hour >= 12) {\n                            hour -= 12;\n                            dayPart = 'pm';\n                        }\n                        ;\n                        val = {\n                            month: (date && date.getMonth()) ? date.getMonth() + 1 : null,\n                            day: (date && date.getDate()) ? date.getDate() : null,\n                            year: (date && date.getFullYear()) ? date.getFullYear() : null,\n                            hour: hour,\n                            minute: (date && date.getMinutes()) ? date.getMinutes() : null,\n                            day_part: dayPart\n                        };\n                    }\n                    // when element is time\n                    if (customOptionsObj.type == 'time') {\n                        if (!val) {\n                            val = {\n                                hour: null,\n                                minute: null,\n                                day_part: null\n                            };\n                        }\n                        else {\n                            var time = (val && val.indexOf(\":\") > 0) ? val.split(\":\") : val, hour = (time && time[0]) ? time[0] : null, min = (time && time[1]) ? time[1] : null, dayPart = 'am';\n                            dayPart = (hour >= 12) ? 'pm' : 'am';\n                            hour = (hour > 12) ? hour - 12 : hour;\n                            val = {\n                                hour: hour,\n                                minute: min,\n                                day_part: dayPart\n                            };\n                        }\n                    }\n                    // store value to custom options data object\n                    if (val) {\n                        if (dateArr.indexOf(customOptionsObj.type) >= 0) {\n                            var values = void 0, found = void 0;\n                            values = Object.values(val);\n                            found = values.indexOf(null);\n                            if (found == -1) {\n                                _this.calculateCustomOptionPrice(customOptionsObj, val);\n                            }\n                        }\n                        else {\n                            _this.calculateCustomOptionPrice(customOptionsObj, val);\n                        }\n                        customOptionsData[customOptionsObj.id] = val;\n                    }\n                }\n            }\n        });\n        return customOptionsData;\n    };\n    /**\n     *\n     * @param customOptionObj\n     * @param selectedVal\n     */\n    CustomOptionsService.prototype.calculateCustomOptionPrice = function (customOptionObj, selectedVal) {\n        var _this = this;\n        var price;\n        if (customOptionObj && customOptionObj.price) {\n            price = customOptionObj.price;\n            price = (price.indexOf(\"$\") >= 0) ? parseFloat(price.substr(1)) : parseFloat(price);\n            if (price > 0)\n                this.selectedCustomOptionsTotal += price;\n        }\n        else if (customOptionObj && customOptionObj.options_values) {\n            var tmp_2;\n            if (Array.isArray(selectedVal)) {\n                selectedVal.filter(function (val) {\n                    tmp_2 = customOptionObj.options_values.find(function (optionValObj) { return optionValObj.optionTypeId == val; });\n                    if (tmp_2 && tmp_2.price) {\n                        price = tmp_2.price;\n                        price = (price.indexOf(\"$\") >= 0) ? parseFloat(price.substr(1)) : parseFloat(price);\n                        if (price > 0)\n                            _this.selectedCustomOptionsTotal += price;\n                    }\n                });\n            }\n            else {\n                tmp_2 = customOptionObj.options_values.find(function (optionValObj) { return optionValObj.optionTypeId == selectedVal; });\n                if (tmp_2 && tmp_2.price) {\n                    price = tmp_2.price;\n                    price = (price.indexOf(\"$\") >= 0) ? parseFloat(price.substr(1)) : parseFloat(price);\n                    if (price > 0)\n                        this.selectedCustomOptionsTotal += price;\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param date\n     */\n    CustomOptionsService.prototype.parseDateString = function (date) {\n        if (date.indexOf('T') < 0)\n            return null;\n        date = date.replace('T', '-');\n        var parts = date.split('-');\n        var timeParts = parts[3].split(':');\n        // new Date(year, month [, day [, hours[, minutes[, seconds[, ms]]]]])\n        return new Date(parts[0], parts[1] - 1, parts[2], timeParts[0], timeParts[1]); // Note: months are 0-based\n    };\n    /**\n     * as backend does'nt provide exact input type field, we need to manupulate the type\n     * this function checks the type and return the input type for the same\n     *\n     * @param customOptionObjType custom options object\n     */\n    CustomOptionsService.prototype.getInputType = function (customOptionObjType) {\n        return (customOptionObjType == 'field') ? 'text' : ((customOptionObjType == 'date_time') ? 'datetime-local' : customOptionObjType);\n    };\n    /**\n     * this function is helpful to decide what dom element to use(eg. input, select)\n     *\n     * @param customOptionObjType current object type(field, drop_down, date_time etc)\n     * @param typeCheckVal typecheck val category(input, dropDown, selectionBox)\n     */\n    CustomOptionsService.prototype.typeCheck = function (customOptionObjType, typeCheckVal) {\n        return (this.typeCheckValues[typeCheckVal] && this.typeCheckValues[typeCheckVal].indexOf(customOptionObjType) >= 0);\n    };\n    Object.defineProperty(CustomOptionsService.prototype, \"cf\", {\n        // instance to use for current form control\n        get: function () { return this.customOptionFormGroup.controls; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * set customOptionsData\n     *\n     * @param customOptionsData customOptionsData\n     */\n    CustomOptionsService.prototype.setCustomOptionsData = function (customOptionsDataResp) {\n        this.customOptionsData = customOptionsDataResp.custom_options;\n        this.selectedCustomOptions = (customOptionsDataResp.selectedCustomOptions) ? Object.assign({}, customOptionsDataResp.selectedCustomOptions) : false;\n    };\n    /**\n     * here we will calculate custom options price each time user makes changes to custom options elements\n     * finally we will call qtyUpdated function that will calculate final price by adding custom options price\n     */\n    CustomOptionsService.prototype.calcPrice = function () {\n        this.prepareCustomOptions();\n        this.priceService.extraPriceToBeAdded.customOptionsPrice = this.selectedCustomOptionsTotal;\n        this.priceService.addThisPrice();\n        this.eventService.$pub('priceUpdate');\n    };\n    CustomOptionsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\n            _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_2__[\"ConfProductAttrService\"],\n            _price_price_service__WEBPACK_IMPORTED_MODULE_1__[\"PriceService\"]])\n    ], CustomOptionsService);\n    return CustomOptionsService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/design-area/design-area.component.html\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/design-area/design-area.component.html ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byi-output\\\">\\n\\t<div class=\\\"byi-design\\\">\\n\\t\\t<div class=\\\"print-area-warning\\\" [hidden]=\\\"mainService.nameNumber || mainService.isGenerateSVGDesign\\\" [class.show]=\\\"displayWarning\\\" *ngIf=\\\"displayWarning\\\">\\n\\t\\t\\t<span>{{print_warning | translate}}</span>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"low-resolution-warning\\\" [hidden]=\\\"mainService.nameNumber || mainService.isGenerateSVGDesign\\\" [class.show]=\\\"lowresolution\\\" *ngIf=\\\"lowresolution\\\">\\n\\t\\t\\t<span>{{resolution_warning | translate}}</span>\\n\\t\\t</div>\\n\\t\\t<layer-management [hidden]=\\\"mainService.nameNumber || mainService.isGenerateSVGDesign\\\"></layer-management>\\t\\t\\n\\t\\t<product-options [hidden]=\\\"mainService.nameNumber || mainService.isGenerateSVGDesign\\\" *ngIf=\\\"productType == 'configurable'\\\" [selected_super_attributes]=\\\"selected_super_attributes\\\">\\n\\t\\t</product-options>\\n\\t\\t<ng-container *ngIf=\\\"allImageDimensions != undefined\\\">\\n\\t\\t\\t<div class=\\\"byi-svg-editor-box\\\"\\n\\t\\t\\t\\t[ngStyle]=\\\"{'height':calCulateDragContainer('height')+'px','width':calCulateDragContainer('width')+'px'}\\\"\\n\\t\\t\\t\\t[ngClass]=\\\"{'dragscroll': activeDrag }\\\">\\n\\t\\t\\t\\t<ng-container *ngFor=\\\"let currentImageDimensions of allImageDimensions\\\">\\n\\t\\t\\t\\t\\t<div id=\\\"productdesigner-image-{{currentImageDimensions.image_id}}\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"product-designer-main-content\\\"\\n\\t\\t\\t\\t\\t\\t[ngStyle]=\\\"{'background': 'url(' + currentImageDimensions.url + ') center center / 100% no-repeat','height':calCulateImageHeightWidth(currentImageDimensions,'height')+'px','width':calCulateImageHeightWidth(currentImageDimensions,'width')+'px'}\\\"\\n\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{active: currentImageDimensions.image_id === activeImageId}\\\">\\n\\n\\t\\t\\t\\t\\t\\t<div class=\\\"design-container\\\" id=\\\"designArea-{{dim.designareaId}}\\\"\\n\\t\\t\\t\\t\\t\\t\\tattr.selection_area=\\\"@{{dim.image_id}}&{{dim.designareaId}}\\\"\\n\\t\\t\\t\\t\\t\\t\\tattr.designareaid=\\\"{{dim.designareaId}}\\\" *ngFor=\\\"let dim of currentImageDimensions.dim\\\"\\n\\t\\t\\t\\t\\t\\t\\t[ngStyle]=\\\"{'height':calCulateDimWithCanvasRatio(dim,'height')+ 'px','width':calCulateDimWithCanvasRatio(dim,'width')+ 'px','margin-left':calCulateDimWithCanvasRatio(dim,'left')+ 'px','margin-top':calCulateDimWithCanvasRatio(dim,'top')+ 'px','position':'absolute'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t(click)=\\\"setActiveCanvas(dim.image_id , dim.designareaId)\\\">\\n\\t\\t\\t\\t\\t\\t\\t<canvas id=\\\"canvas-{{dim.designareaId}}\\\" style=\\\"z-index: 9999\\\"></canvas>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t<context-menu></context-menu>\\n\\t\\t\\t\\t<div drag-drop></div>\\n\\t\\t\\t</div>\\n\\t\\t</ng-container>\\n\\t</div>\\n\\t<image-sides *ngIf=\\\"allImageIds != undefined\\\" [activeImageId]=\\\"activeImageId\\\">\\n\\t</image-sides>\\n</div>\\n<div object-alignment-position></div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/design-area/design-area.component.scss\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/design-area/design-area.component.scss ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9kZXNpZ24tYXJlYS9kZXNpZ24tYXJlYS5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/design-area/design-area.component.ts\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/essentials/components/design-area/design-area.component.ts ***!\n  \\****************************************************************************/\n/*! exports provided: DesignAreaComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignAreaComponent\", function() { return DesignAreaComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../conf-product-attr/conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/fabric.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\n\n\n\n\nvar DesignAreaComponent = /** @class */ (function () {\n    function DesignAreaComponent(mainService, canvasService, cacheService, eventService, confProductService, designService) {\n        var _this = this;\n        this.mainService = mainService;\n        this.canvasService = canvasService;\n        this.cacheService = cacheService;\n        this.eventService = eventService;\n        this.confProductService = confProductService;\n        this.designService = designService;\n        this.allImageDimensions = [];\n        this.allProductsData = [];\n        this.allImageIds = [];\n        this.activeDrag = true;\n        this.clipX = {};\n        this.clipY = {};\n        this.selected_super_attributes = {};\n        this.lowresolution = false;\n        this.displayWarning = false;\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            _this.activeDrag = false;\n            setTimeout(function () {\n                dragscroll.reset();\n            }, 100);\n        });\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            _this.activeDrag = false;\n            setTimeout(function () {\n                dragscroll.reset();\n            }, 100);\n        });\n        this.eventService.$sub('objectSelectionCleared', function (obj) {\n            _this.activeDrag = true;\n            setTimeout(function () {\n                dragscroll.reset();\n            }, 100);\n        });\n    }\n    DesignAreaComponent.prototype.ngOnInit = function () {\n        this.getProductParams();\n        this.loadProduct(this.selected_super_attributes);\n        this.subscribeEvents();\n        this.getConfiguration();\n    };\n    DesignAreaComponent.prototype.ngAfterViewInit = function () {\n        var _this = this;\n        this.eventService.$sub('designLoaded', function (data) {\n            if (_this.mainService.isGenerateSVGDesign) {\n                for (var _i = 0, _a = Object.keys(_this.canvasService.containerCanvases); _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    var canvas = _this.canvasService.containerCanvases[key];\n                    var obj = void 0, canvasObjects = _this.canvasService.getObjects(canvas);\n                    for (var _b = 0, canvasObjects_1 = canvasObjects; _b < canvasObjects_1.length; _b++) {\n                        obj = canvasObjects_1[_b];\n                        var properties = { selectable: false };\n                        _this.canvasService.deselectAllObjects();\n                        if (obj) {\n                            var params = {\n                                obj: obj,\n                                properties: properties,\n                                crudServiceString: 'this.updateObjectService',\n                                canvas: canvas\n                            };\n                            _this.canvasService.objectCRUD(params);\n                        }\n                    }\n                }\n                var designArea = document.getElementsByClassName('design-container');\n                for (var i = 0; i < designArea.length; i++) {\n                    designArea[i].children[1].innerHTML = '<style></style>';\n                }\n            }\n        });\n    };\n    /**\n     * fetch Product's options\n     * @return Object\n     */\n    DesignAreaComponent.prototype.getProductParams = function () {\n        var super_attributes = document.getElementsByClassName(\"super_attribute\");\n        for (var i = 0; i < super_attributes.length; i++) {\n            var super_attribute = super_attributes[i];\n            if (super_attribute.value) {\n                this.selected_super_attributes[super_attribute.dataset.attrId] = super_attribute.value;\n            }\n        }\n        return this.selected_super_attributes;\n    };\n    /**\n    * Events are been published from several components\n    * Whichever events are required to be subscribed in this component, this method will handle it\n    */\n    DesignAreaComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        // For Low resolution Warning\n        var self = this;\n        this.eventService.$sub('canvasObjectScaled', function (obj) {\n            _this.lowresolution = _this.canvasService.calculateLowResolutionWarning();\n        });\n        this.eventService.$sub('objectAdded', function (obj) {\n            _this.lowresolution = _this.canvasService.calculateLowResolutionWarning();\n        });\n        this.eventService.$sub('objectUpdated', function (obj) {\n            _this.lowresolution = _this.canvasService.calculateLowResolutionWarning();\n            _this.objOutsideDesignArea();\n        });\n        this.eventService.$sub('objectRemoved', function (obj) {\n            _this.lowresolution = _this.canvasService.calculateLowResolutionWarning();\n            _this.displayWarning = false;\n        });\n        // Subscribe Image Side change event to set current image id\n        this.eventService.$sub('imageSideChangeBefore', function (data) {\n            // this.canvasService.deselectAllObjects();\n            if (typeof data == 'object' && data.hasOwnProperty('image_id')) {\n                _this.setCurrentImageId(data.image_id, data.design_area_id);\n            }\n            else {\n                _this.setCurrentImageId(data);\n            }\n        });\n        // Subscribe product change event to load associated product\n        this.eventService.$sub('productChanged', function (selectedOption) {\n            _this.eventService.$pub('showMainLoader');\n            _this.loadSelectedAssociatedProduct(selectedOption);\n        });\n        // Subscribe product zoom\n        this.eventService.$sub('zoomCanvas', function (zoom) {\n            _this.reGenerateCanvas(zoom);\n        });\n        // Subscribe product zoom\n        this.eventService.$sub('windowResize', function () {\n            /**\n             * This method will update canvas based on window size\n             */\n            _this.reGenerateCanvas(_this.canvasService.zoom);\n        });\n        this.eventService.$sub('canvasObjectModified', function (obj) {\n            _this.lowresolution = _this.canvasService.calculateLowResolutionWarning();\n            _this.objOutsideDesignArea();\n        });\n    };\n    /**\n    * [Load Product Images, Dimensions and image sides]\n    */\n    DesignAreaComponent.prototype.loadProduct = function (selectedOptions) {\n        var _this = this;\n        var selectedOptionsString = '';\n        if (selectedOptions) {\n            selectedOptionsString = this.mainService.joinObject(selectedOptions);\n        }\n        var designId = (this.designService.designId) ? this.designService.designId : '';\n        /**\n         * Dynamic Key\n         */\n        var optionCacheKey = '';\n        for (var _i = 0, _a = this.mainService.otherOptions; _i < _a.length; _i++) {\n            var option = _a[_i];\n            var key = Object.keys(option)[0];\n            var value = Object.values(option)[0];\n            optionCacheKey += key + '_' + value;\n        }\n        var params = {\n            'product_id': this.mainService.productId,\n            'selectedOptions': selectedOptions,\n            'otherOptions': this.mainService.otherOptions,\n            'optionCacheKey': optionCacheKey\n        }, url = 'productdesigner/index/loadProduct', cacheKey = 'loadProduct' + this.mainService.productId + '-' + this.mainService.baseUrl + selectedOptionsString + designId + optionCacheKey;\n        params = (this.designService.designId) ? Object.assign(params, { designId: this.designService.designId }) : params;\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\n            if (data && data.productType)\n                _this.mainService.productType = data.productType;\n            if (data && data.associatedProductId)\n                _this.canvasService.associatedProductId = data.associatedProductId;\n            _this.confProductService.defaultSelectedOptionsValues = data.selectedOptionsValues;\n            _this.processLoadProduct(data);\n            _this.mainService.loadedProductData = data;\n            _this.eventService.$pub('loadProduct', data);\n            if (data.productType == \"simple\") {\n                _this.cacheService.set(\"product-tooltip-data\", false, { maxAge: 0 });\n            }\n        }).catch(function (err) { return console.log(err); });\n    };\n    /**\n    Get Configuration\n    **/\n    DesignAreaComponent.prototype.getConfiguration = function () {\n        var _this = this;\n        var configPaths = [\n            'productdesigner/dynamic_message/print_area_warning',\n            'productdesigner/dynamic_message/low_resolution_warning'\n        ];\n        var params = { configPaths: configPaths, key: 'warning-messages' }, url = 'productdesigner/index/getConfiguration', cacheKey = 'configuration-warning-messages' + this.mainService.baseUrl;\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\n            _this.print_warning = (data[0] != null) ? data[0] : 'Some objects are outside the printing area and should be adjusted';\n            _this.resolution_warning = (data[1] != null) ? data[1] : 'Low Resolution Warning';\n        }).catch(function (err) { return console.log(err); });\n    };\n    /**\n    * [Process response data of load Product request]\n    * @param {object} data [product image, dimesions, image sides data]\n    */\n    DesignAreaComponent.prototype.processLoadProduct = function (data) {\n        this.productType = data.productType;\n        if (data.dimensions.length > 0) {\n            this.mainService.loadedProductData = data;\n            this.canvasService.allImages = this.allImageDimensions = data.dimensions;\n            this.mainService.associatedProductId = data.associatedProductId;\n            this.selectedOptionsString = this.mainService.joinObject(data.selectedOptions);\n            this.mainService.selectedProductOptions = data.selectedOptions;\n            this.allProductsData[this.selectedOptionsString] = data;\n            /**\n             * [activeImageId set active image side]\n             */\n            this.canvasService.firstImageId = this.canvasService.activeImageId = this.activeImageId = data.dimensions[0].image_id;\n            this.canvasRatio = data.canvasRatio;\n            var self_1 = this;\n            setTimeout(function () {\n                self_1.createCanvas(data);\n            }, 100);\n        }\n        this.eventService.$pub('processLoadProduct');\n    };\n    /**\n    * [Create canvas based on load product data]\n    * @param  data [dimension data]\n    */\n    DesignAreaComponent.prototype.createCanvas = function (data) {\n        var _this = this;\n        /**\n         * [All images dimesions]\n         */\n        this.allImageIds = [];\n        this.canvasService.containerCanvases = [];\n        this.canvasService.allImagesWithIds = {};\n        for (var key in this.allImageDimensions) {\n            var currentImage = this.allImageDimensions[key];\n            this.allImageIds.push(currentImage.image_id);\n            this.canvasService.allImagesWithIds[currentImage.image_id] = currentImage;\n            var counter = 0;\n            for (var key_1 in currentImage.dim) {\n                var dim = currentImage.dim[key_1];\n                this.initCanvasRatio(dim, currentImage);\n                var canvas = new fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Canvas('canvas-' + dim.designareaId, {\n                    selection: this.mainService.enableMultipleSelection\n                });\n                canvas.setHeight(this.calCulateDimWithCanvasRatio(dim, 'height'));\n                canvas.setWidth(this.calCulateDimWithCanvasRatio(dim, 'width'));\n                canvas.renderAll();\n                this.setCanvasProperties(canvas, dim, currentImage);\n                this.clipCanvas(canvas, dim);\n                if (dim.mask) {\n                    this.applyMakig(canvas, dim);\n                }\n                this.eventService.$pub('canvasCreated', canvas);\n                /**\n                 * [All dimensions of single image]\n                 */\n                this.canvasService.containerCanvases['@' + currentImage.image_id + '&' + dim.designareaId] = canvas;\n                /**\n                 * Set design area black border\n                 */\n                this.setDesignAreaBorder(dim, '');\n                /**\n                 * [if image id is active image side and first dimension]\n                 */\n                if (currentImage.image_id == this.activeImageId && counter == 0) {\n                    this.canvasService.currentCanvas = canvas;\n                    this.activeDesignAreaId = dim.designareaId;\n                    this.setDesignAreaBorderCurrentCanvas(dim.designareaId);\n                }\n                counter++;\n            }\n        }\n        this.eventService.$pub('allcanvasCreated', this.allImageIds);\n        setTimeout(function () {\n            _this.eventService.$pub('hideMainLoader');\n        }, 300);\n    };\n    /**\n    * [set properites of canvas]\n    * @param  canvas       [current canvas]\n    * @param  dim          [current dimension]\n    * @param  currentImage [current image data]\n    */\n    DesignAreaComponent.prototype.setCanvasProperties = function (canvas, dim, currentImage) {\n        canvas.controlsAboveOverlay = true;\n        canvas.preserveObjectStacking = true;\n        canvas.stateful = true;\n        canvas.designarea_id = dim.designareaId;\n        canvas.image_id = dim.image_id;\n        canvas.image_side = currentImage.image_side;\n        canvas.dim = dim;\n        canvas.size = currentImage.size;\n        canvas.url = currentImage.url;\n        fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Object.NUM_FRACTION_DIGITS = 17;\n    };\n    /**\n    * [Clip canvas based on clip value]\n    * @param  canvas [current canvas]\n    * @param  dim    [dimension]\n    */\n    DesignAreaComponent.prototype.clipCanvas = function (canvas, dim) {\n        //if(!(this.canvasService.clipX[dim.designareaId] == 0 && this.canvasService.clipY[dim.designareaId] == 0)){\n        var position = this.calCulateBorderPosition(dim);\n        var rect = new fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Rect({\n            left: position['left'],\n            top: position['top'],\n            width: parseFloat(dim.width) / this.canvasService.scaleFactor,\n            height: parseFloat(dim.height) / this.canvasService.scaleFactor,\n            fill: 'transparent',\n            objectCaching: false,\n            selectable: false,\n            originX: 'left',\n            originY: 'top',\n        });\n        /*canvas.clipTo = function (ctx) {\n            ctx.save();\n            ctx.transform(canvas.getZoom(), 0, 0, canvas.getZoom(), 0, 0);\n            rect.render(ctx);\n            ctx.restore();\n        };*/\n        canvas.clipPath = rect;\n    };\n    DesignAreaComponent.prototype.applyMakig = function (canvas, dim) {\n        var _this = this;\n        var self = this;\n        if (!dim.pathMasking && dim.mask) {\n            fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].loadSVGFromURL(dim.mask, function (svgImgObject, options) {\n                var imgObj = fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].util.groupSVGElements(svgImgObject, options);\n                var weight = canvas.width - _this.clipX[dim.designareaId];\n                var height = canvas.height - _this.clipY[dim.designareaId];\n                imgObj.left = _this.clipX[dim.designareaId] / 2;\n                imgObj.top = _this.clipY[dim.designareaId] / 2;\n                imgObj.fill = 'transparent';\n                imgObj.objectCaching = false;\n                imgObj.scaleY = (height) / imgObj.height;\n                imgObj.scaleX = (weight) / imgObj.width;\n                /*canvas.clipTo = function (ctx) {\n                    ctx.save();\n                    ctx.transform(canvas.getZoom(), 0, 0, canvas.getZoom(), 0, 0);\n                    imgObj.render(ctx);\n                    ctx.restore();\n                };*/\n                canvas.clipPath = imgObj;\n                canvas.renderAll();\n            });\n        }\n    };\n    /**\n    * [initiate canvasRatio value based on product dimension]\n    * @param  dim          [dimension]\n    * @param  currentImage [current image data]\n    */\n    DesignAreaComponent.prototype.initCanvasRatio = function (dim, currentImage) {\n        if (currentImage.enable_handles == true) {\n            if (parseFloat(dim.width) + parseFloat(this.canvasRatio) > currentImage.width) {\n                this.canvasService.clipX[dim.designareaId] = this.clipX[dim.designareaId] = currentImage.width / parseFloat(dim.width);\n            }\n            else {\n                this.canvasService.clipX[dim.designareaId] = this.clipX[dim.designareaId] = parseFloat(this.canvasRatio);\n            }\n            if (parseFloat(dim.height) + parseFloat(this.canvasRatio) > currentImage.height) {\n                this.canvasService.clipY[dim.designareaId] = this.clipY[dim.designareaId] = currentImage.height / parseFloat(dim.height);\n            }\n            else {\n                this.canvasService.clipY[dim.designareaId] = this.clipY[dim.designareaId] = parseFloat(this.canvasRatio);\n            }\n        }\n        else {\n            this.canvasService.clipX[dim.designareaId] = this.clipX[dim.designareaId] = 0;\n            this.canvasService.clipY[dim.designareaId] = this.clipY[dim.designareaId] = 0;\n        }\n    };\n    /**\n    * [Set black dashed border to all canvases]\n    * @param {object} dim [dimension of processed canvas]\n    */\n    DesignAreaComponent.prototype.setDesignAreaBorder = function (dim, action) {\n        var designArea = document.getElementById('designArea-' + dim.designareaId);\n        if (!designArea) {\n            return;\n        }\n        var position = this.calCulateBorderPosition(dim);\n        var html = '#designArea-' + dim.designareaId + ':after{height:' + (parseFloat(dim.height) / this.canvasService.scaleFactor + 2) + 'px;width:' + (parseFloat(dim.width) / this.canvasService.scaleFactor + 2) + 'px;border:1px dashed black;position: absolute;left:' + position['left'] + 'px;top:' + position['top'] + 'px;float: left;content:\"\"}';\n        if (action == 'update') {\n            designArea.children[1].innerHTML = html;\n        }\n        else {\n            var style = document.createElement('style');\n            style.type = 'text/css';\n            style.innerHTML = html;\n            designArea.appendChild(style);\n        }\n    };\n    DesignAreaComponent.prototype.calCulateBorderPosition = function (dim) {\n        var position = [];\n        position['left'] = ((parseFloat(dim.width) + this.clipX[dim.designareaId] - parseFloat(dim.width)) / 2) / this.canvasService.scaleFactor;\n        position['top'] = ((parseFloat(dim.height) + this.clipY[dim.designareaId] - parseFloat(dim.height)) / 2) / this.canvasService.scaleFactor;\n        return position;\n    };\n    /**\n    * [change canvas on click]\n    * @param  imageId      [image id of current side]\n    * @param  designAreaId [designAreaId of clicked canvas]\n    */\n    DesignAreaComponent.prototype.setActiveCanvas = function (imageId, designAreaId) {\n        if (imageId == this.activeImageId && designAreaId == this.activeDesignAreaId)\n            return;\n        if (designAreaId == '') {\n            var designarea = document.querySelectorAll('#productdesigner-image-' + imageId + ' .design-container');\n            designAreaId = designarea[0].getAttribute('designareaid');\n        }\n        this.removeOtherActiveCanvases();\n        this.setDesignAreaBorderCurrentCanvas(designAreaId);\n        this.changeActiveCanvas(imageId, designAreaId);\n        //setTimeout(() => {\n        this.eventService.$pub('imageSideChanged', { imageId: imageId, designAreaId: designAreaId });\n        //}, 200);\n    };\n    /**\n    * [Change global var current canvas value and published event]\n    * @param  imageId      [current image id]\n    * @param  designAreaId [current designAreaId]\n    */\n    DesignAreaComponent.prototype.changeActiveCanvas = function (imageId, designAreaId) {\n        this.activeDesignAreaId = designAreaId;\n        this.canvasService.currentCanvas = this.canvasService.containerCanvases['@' + imageId + '&' + designAreaId];\n        var id = '@' + imageId + '&' + designAreaId;\n        var oldActive = this.canvasService.currentCanvas.getActiveObject();\n        for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            this.canvasService.containerCanvases[key].discardActiveObject().renderAll();\n        }\n        this.canvasService.currentCanvas.setActiveObject(oldActive).renderAll();\n    };\n    /**\n    * [Change red border to black of all canvases on click of canvas]\n    */\n    DesignAreaComponent.prototype.removeOtherActiveCanvases = function () {\n        var designAreas = document.getElementsByClassName('design-container');\n        for (var i = 0; i < designAreas.length; i++) {\n            var designArea = designAreas[i];\n            if (designArea.children[1]) {\n                var html = designArea.children[1].innerHTML.replace(\"red\", \"black\");\n                designArea.children[1].innerHTML = html;\n            }\n        }\n    };\n    /**\n    * [Set red border of design area ::after element]\n    * @param  designAreaId [designAreaId of clicked canvas]\n    */\n    DesignAreaComponent.prototype.setDesignAreaBorderCurrentCanvas = function (designAreaId) {\n        var designArea = document.getElementById('designArea-' + designAreaId);\n        var html = designArea.children[1].innerHTML.replace(\"black\", \"red\");\n        designArea.children[1].innerHTML = html;\n    };\n    /**\n    * [Set current Image id clicked through side changed]\n    * @param  image_id [image id of clicked side]\n    */\n    DesignAreaComponent.prototype.setCurrentImageId = function (image_id, designAreaId) {\n        if (designAreaId === void 0) { designAreaId = ''; }\n        this.canvasService.activeImageId = this.activeImageId = image_id;\n        this.setActiveCanvas(image_id, designAreaId);\n    };\n    /**\n    * [Calculate canvas height, width, left, top with canvasRatio]\n    * @param {any}    dim  [dimension value]\n    * @param  type [width/height/left/top]\n    */\n    DesignAreaComponent.prototype.calCulateDimWithCanvasRatio = function (dim, type) {\n        if (dim && this.clipX && this.clipY) {\n            if (type == 'width') {\n                var width = (parseFloat(dim.width) + this.clipX[dim.designareaId]) / this.canvasService.scaleFactor;\n                return parseFloat(width);\n            }\n            else if (type == 'height') {\n                var height = (parseFloat(dim.height) + this.clipY[dim.designareaId]) / this.canvasService.scaleFactor;\n                return parseFloat(height);\n            }\n            else if (type == 'left') {\n                return (dim.x1 - ((parseFloat(dim.width) + this.clipX[dim.designareaId] - parseFloat(dim.width)) / 2)) / this.canvasService.scaleFactor;\n            }\n            else if (type == 'top') {\n                return (dim.y1 - ((parseFloat(dim.height) + this.clipY[dim.designareaId] - parseFloat(dim.height)) / 2)) / this.canvasService.scaleFactor;\n            }\n        }\n    };\n    DesignAreaComponent.prototype.calCulateImageHeightWidth = function (imageData, type) {\n        if (type == 'width') {\n            var width = parseFloat(imageData.width) / this.canvasService.scaleFactor;\n            return parseFloat(width);\n        }\n        else if (type == 'height') {\n            var height = parseFloat(imageData.height) / this.canvasService.scaleFactor;\n            return parseFloat(height);\n        }\n    };\n    /**\n    * [load Associated Product combination as per selected options]\n    * @param  selectedOptions [Options which are selected from proudct option component]\n    */\n    DesignAreaComponent.prototype.loadSelectedAssociatedProduct = function (selectedOptions) {\n        selectedOptions = (selectedOptions.defaultSelectedOptions) ? selectedOptions.defaultSelectedOptions : selectedOptions;\n        var selectedOptionsString = this.mainService.joinObject(selectedOptions);\n        if (selectedOptionsString != this.selectedOptionsString) {\n            if (!this.allProductsData[selectedOptionsString]) {\n                this.loadProduct(selectedOptions);\n            }\n            else {\n                this.processLoadProduct(this.allProductsData[selectedOptionsString]);\n            }\n        }\n        else {\n            this.eventService.$pub(\"hideMainLoader\");\n        }\n    };\n    /**\n    * [Modify current canvas properties as per zoom value]\n    * @param  zoom [zoom value]\n    */\n    DesignAreaComponent.prototype.reGenerateCanvas = function (zoom) {\n        this.canvasService.zoom = zoom;\n        this.canvasService.scaleFactor = this.canvasService.initScaleFactor();\n        this.updateCanvasSize();\n    };\n    /**\n * [Update canvas size with scaleFactor]\n */\n    DesignAreaComponent.prototype.updateCanvasSize = function () {\n        for (var key in this.canvasService.containerCanvases) {\n            var canvas = this.canvasService.containerCanvases[key];\n            canvas.setHeight(this.calCulateDimWithCanvasRatio(canvas.dim, 'height'));\n            canvas.setWidth(this.calCulateDimWithCanvasRatio(canvas.dim, 'width'));\n            this.setDesignAreaBorder(canvas.dim, 'update');\n            if (this.canvasService.currentCanvas == canvas) {\n                this.setDesignAreaBorderCurrentCanvas(canvas.dim.designareaId);\n            }\n            this.clipCanvas(canvas, canvas.dim);\n            if (canvas.dim.mask) {\n                this.applyMakig(canvas, canvas.dim);\n            }\n            this.canvasService.resizeCanvasObjects(canvas);\n            canvas.renderAll();\n            // Timeout due to delay while updating variables\n            var self_2 = this;\n            //setTimeout(function () {\n            self_2.eventService.$pub('zoomCanvasUpdated', canvas);\n            //}, 50);\n        }\n    };\n    /**\n    * [calculate width of drag container]\n    * @return\n    */\n    DesignAreaComponent.prototype.calCulateDragContainer = function (type) {\n        if (!this.activeDrag) {\n            return null;\n        }\n        var element = document.querySelector(\".byi-output\");\n        if (type == 'width') {\n            return element.clientWidth;\n        }\n        else if (type == 'height') {\n            return element.clientHeight - 45;\n        }\n    };\n    DesignAreaComponent.prototype.objOutsideDesignArea = function () {\n        var n = 0;\n        var self = this;\n        self.canvasService.currentCanvas.forEachObject(function (o) {\n            if (o.group) {\n                o = o.group;\n            }\n            var l = o.getBoundingRect().left;\n            var t = o.getBoundingRect().top;\n            /*var w = (o.getBoundingRect().width < o.width) ? o.getBoundingRect().width : o.width;\n            var h = (o.getBoundingRect().height < o.height) ? o.getBoundingRect().height : o.height;*/\n            var w = o.width * o.scaleX;\n            var h = o.height * o.scaleY;\n            var f = false;\n            if (l < ((o.canvas.width - (o.canvas.width - self.canvasService.clipX[o.canvas.designarea_id])) / 2))\n                f = true;\n            if (t < ((o.canvas.height - (o.canvas.height - self.canvasService.clipY[o.canvas.designarea_id])) / 2))\n                f = true;\n            if (parseFloat(t) + parseFloat(h) > (o.canvas.height - (self.canvasService.clipY[o.canvas.designarea_id] / 2)))\n                f = true;\n            if (parseFloat(l) + parseFloat(w) > (o.canvas.width - (self.canvasService.clipX[o.canvas.designarea_id] / 2)))\n                f = true;\n            if (f) {\n                n++;\n            }\n            if (n > 0) {\n                self.displayWarning = true;\n            }\n            else {\n                self.displayWarning = false;\n            }\n        });\n    };\n    DesignAreaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: 'design-area',\n            template: __webpack_require__(/*! ./design-area.component.html */ \"./src/app/essentials/components/design-area/design-area.component.html\"),\n            styles: [__webpack_require__(/*! ./design-area.component.scss */ \"./src/app/essentials/components/design-area/design-area.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_6__[\"CacheService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_8__[\"PubSubService\"],\n            _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_1__[\"ConfProductAttrService\"],\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__[\"DesignService\"]])\n    ], DesignAreaComponent);\n    return DesignAreaComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.html\":\n/*!**********************************************************************************************!*\\\n  !*** ./src/app/essentials/components/designarea-controls/designarea-controls.component.html ***!\n  \\**********************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<ul class=\\\"byig-control\\\">\\n\\t<li [ngClass]=\\\"{'disabled': disableUndo == true}\\\">\\n\\t\\t<a href=\\\"javascript:void(0)\\\" (click)=\\\"undo()\\\" tooltip=\\\"{{'Undo' | translate}}\\\">\\n\\t\\t\\t<svg class=\\\"icon icon-undo\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-undo\\\"></use>\\n\\t\\t\\t</svg> \\n\\t\\t</a>\\n\\t</li>\\n\\t<li [ngClass]=\\\"{'disabled': disableRedo == true}\\\">\\n\\t\\t<a href=\\\"javascript:void(0)\\\" (click)=\\\"redo()\\\" tooltip=\\\"{{'Redo' | translate}}\\\">\\n\\t\\t\\t<svg class=\\\"icon icon-redo\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-redo\\\"></use>\\n\\t\\t\\t</svg>\\n\\t\\t</a>\\n\\t</li>\\n\\t<li>\\n\\t\\t<span dropdown>\\n\\t\\t\\t<a href=\\\"javascript:void(0)\\\" dropdownToggle (click)=\\\"false\\\" tooltip=\\\"{{'Zoom' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-zoom\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-zoom\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</a>\\n\\t\\t\\t<div *dropdownMenu class=\\\"dropdown-menu zoom-control\\\">\\n\\t\\t\\t\\t<label class=\\\"zoom-counter\\\">{{ canvasService.zoom }}</label>\\n\\t\\t\\t\\t<input type=\\\"range\\\" [(ngModel)]=\\\"canvasService.zoom\\\" (input)=\\\"changeZoom()\\\" step=\\\"0.1\\\" min=\\\"-0.5\\\" max=\\\"0.5\\\"  class=\\\"slider\\\">\\n\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" class=\\\"byi-reset-zoom\\\" (click)=\\\"changeZoom(true)\\\" title=\\\"{{'Reset Zoom' | translate}}\\\">\\n\\t\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</div>\\n\\t\\t</span>\\n\\t</li>\\n\\t<li>\\n\\t\\t<a href=\\\"javascript:void(0)\\\" (click)=\\\"resetDesign()\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t</svg>\\n\\t\\t</a>\\n\\t</li>\\n</ul>\\n<div *ngIf=\\\"mainService.isResponsive\\\" class=\\\"byi-mob-output-action\\\" [class.open]=\\\"isToggle\\\">\\n\\t<a class=\\\"byi-more-btn\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"hideFab(); isToggle = !isToggle\\\">\\n\\t\\t<svg class=\\\"icon icon-more-btn\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-more-btn\\\"></use>\\n\\t\\t</svg>\\n\\t</a>\\n\\t<ul class=\\\"bta-link\\\">\\n\\t\\t<li preview></li>\\n\\t\\t<li social-media-sharing></li>\\n\\t\\t<li *ngIf=\\\"mainService.isAdmin == false\\\" save-design></li>\\n\\t\\t<li design-templates [loadContent]=\\\"'header'\\\"></li>\\n\\t\\t<li download></li>\\n\\t</ul>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.scss\":\n/*!**********************************************************************************************!*\\\n  !*** ./src/app/essentials/components/designarea-controls/designarea-controls.component.scss ***!\n  \\**********************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9kZXNpZ25hcmVhLWNvbnRyb2xzL2Rlc2lnbmFyZWEtY29udHJvbHMuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.ts\":\n/*!********************************************************************************************!*\\\n  !*** ./src/app/essentials/components/designarea-controls/designarea-controls.component.ts ***!\n  \\********************************************************************************************/\n/*! exports provided: DesignareaControlsComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignareaControlsComponent\", function() { return DesignareaControlsComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_history_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/history.service */ \"./src/app/services/history.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\nvar DesignareaControlsComponent = /** @class */ (function () {\n    function DesignareaControlsComponent(mainService, eventService, historyService, canvasService) {\n        var _this = this;\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.historyService = historyService;\n        this.canvasService = canvasService;\n        this.disableUndo = true;\n        this.disableRedo = true;\n        this.isToggle = false;\n        this.eventService.$sub('closeHeaderIcon', function () {\n            _this.isToggle = false;\n        });\n        this.eventService.$sub('undoRedo', function () {\n            _this.toggleUndoRedo();\n        });\n        this.eventService.$sub('imageSideChanged', function () {\n            _this.toggleUndoRedo();\n        });\n    }\n    DesignareaControlsComponent.prototype.toggleUndoRedo = function () {\n        var designarea_id = this.canvasService.currentCanvas.designarea_id;\n        if (this.historyService.undoStack[designarea_id] && this.historyService.undoStack[designarea_id].length > 0) {\n            this.disableUndo = false;\n        }\n        else {\n            this.disableUndo = true;\n        }\n        if (this.historyService.redoStack[designarea_id] && this.historyService.redoStack[designarea_id].length > 0) {\n            this.disableRedo = false;\n        }\n        else {\n            this.disableRedo = true;\n        }\n    };\n    DesignareaControlsComponent.prototype.ngOnInit = function () { };\n    DesignareaControlsComponent.prototype.changeZoom = function (reset) {\n        if (reset) {\n            this.canvasService.zoom = 0;\n        }\n        this.eventService.$pub('zoomCanvas', this.canvasService.zoom);\n    };\n    DesignareaControlsComponent.prototype.resetDesign = function () {\n        var _this = this;\n        sweetalert2__WEBPACK_IMPORTED_MODULE_6___default.a.fire({\n            title: 'Are you sure to reset?',\n            text: \"It will remove the unsaved designs from the design area.\",\n            type: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Yes',\n            allowOutsideClick: false\n        }).then(function (resetDesign) {\n            if (resetDesign.value) {\n                _this.canvasService.clearCanvas(null);\n                if (Object.keys(_this.mainService.lastSavedData).length > 0) {\n                    _this.canvasService.loadDesign(_this.mainService.lastSavedData);\n                }\n                _this.canvasService.clearHistory();\n                _this.toggleUndoRedo();\n            }\n        });\n    };\n    DesignareaControlsComponent.prototype.undo = function () {\n        this.historyService.undo();\n        this.toggleUndoRedo();\n    };\n    DesignareaControlsComponent.prototype.redo = function () {\n        this.historyService.redo();\n        this.toggleUndoRedo();\n    };\n    DesignareaControlsComponent.prototype.hideFab = function () {\n        document.querySelector('.byi-fab').classList.toggle(\"hide\");\n    };\n    DesignareaControlsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: 'designarea-controls',\n            template: __webpack_require__(/*! ./designarea-controls.component.html */ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.html\"),\n            styles: [__webpack_require__(/*! ./designarea-controls.component.scss */ \"./src/app/essentials/components/designarea-controls/designarea-controls.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\n            src_app_services_history_service__WEBPACK_IMPORTED_MODULE_3__[\"HistoryService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"]])\n    ], DesignareaControlsComponent);\n    return DesignareaControlsComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/download/download.component.html\":\n/*!************************************************************************!*\\\n  !*** ./src/app/essentials/components/download/download.component.html ***!\n  \\************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div [attr.hidden]=\\\"(mainService.displayDownload) ? null : true\\\">\\n\\t<a href=\\\"javascript:void(0)\\\" tooltip=\\\"{{'Download' | translate}}\\\">\\n\\t\\t<svg class=\\\"icon icon-download\\\" viewBox=\\\"0 0 30 30\\\" (click)=\\\"onDownloadClick()\\\">\\n\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-download\\\"></use>\\n\\t\\t</svg>\\n\\t</a>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/download/download.component.scss\":\n/*!************************************************************************!*\\\n  !*** ./src/app/essentials/components/download/download.component.scss ***!\n  \\************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9kb3dubG9hZC9kb3dubG9hZC5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/download/download.component.ts\":\n/*!**********************************************************************!*\\\n  !*** ./src/app/essentials/components/download/download.component.ts ***!\n  \\**********************************************************************/\n/*! exports provided: DownloadComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DownloadComponent\", function() { return DownloadComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser */ \"./node_modules/@angular/platform-browser/fesm5/platform-browser.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\nvar DownloadComponent = /** @class */ (function () {\n    // CONSTRUCTOR\n    function DownloadComponent(canvasService, mainService, eventService, translate, sanitizer) {\n        this.canvasService = canvasService;\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.translate = translate;\n        this.sanitizer = sanitizer;\n        this.downloadLinks = \"javascript:void(0)\";\n        this.doenload = false;\n        this.enableDownload = 0;\n        this.initEvents();\n        this.downloadConfiguration();\n    }\n    DownloadComponent.prototype.downloadConfiguration = function () {\n        var _this = this;\n        var params = {}, url = 'productdesigner/index/downloadConfiguration', cacheKey = 'downloadConfiguration' + this.mainService.baseUrl;\n        this.mainService.getData(url, params, cacheKey).then(function (downloadData) {\n            _this.enableDownload = downloadData.enableDownload;\n            if (_this.enableDownload == 1) {\n                _this.mainService.displayDownload = true;\n            }\n        }).catch(function (err) { return console.log(err); });\n    };\n    DownloadComponent.prototype.initEvents = function () {\n        var _this = this;\n        this.eventService.$sub('allcanvasCreated', function (allImageIds) {\n            _this.allImageIds = allImageIds;\n            _this.activeImageId = allImageIds[0];\n        });\n    };\n    DownloadComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.eventService.$sub('getCartData', function (data) {\n            _this.productName = data.productName;\n        });\n    };\n    DownloadComponent.prototype.onDownloadClick = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var url, currentImgUrl, extension, getImgName;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.canvasService.hasCanvasObjectOrBackground(this.canvasService.currentCanvas)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.mainService.getCanvasDataUrl(true, \"\")];\n                    case 1:\n                        url = _a.sent();\n                        currentImgUrl = this.canvasService.allImagesWithIds[this.canvasService.activeImageId]['url'];\n                        extension = \"\";\n                        if (currentImgUrl) {\n                            getImgName = currentImgUrl.split('/');\n                            extension = getImgName[getImgName.length - 1].split('.').pop();\n                        }\n                        this.mainService.downloadFiles(url, extension);\n                        return [3 /*break*/, 3];\n                    case 2:\n                        sweetalert2__WEBPACK_IMPORTED_MODULE_8___default.a.fire({\n                            title: this.translate.instant('Alert'),\n                            text: this.translate.instant('Please design the product in order to download !'),\n                            type: \"warning\",\n                            confirmButtonText: this.translate.instant('OK'),\n                            allowOutsideClick: false\n                        });\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('downloadLink'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\n    ], DownloadComponent.prototype, \"downloadLink\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('loaderComponent'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\n    ], DownloadComponent.prototype, \"loaderComponent\", void 0);\n    DownloadComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: '[download]',\n            template: __webpack_require__(/*! ./download.component.html */ \"./src/app/essentials/components/download/download.component.html\"),\n            styles: [__webpack_require__(/*! ./download.component.scss */ \"./src/app/essentials/components/download/download.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__[\"TranslateService\"],\n            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__[\"DomSanitizer\"]])\n    ], DownloadComponent);\n    return DownloadComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.html\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/drop-shadow/drop-shadow.component.html ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [hidden]=\\\"componentHide\\\">\\n\\t<button class=\\\"byi-accordion-title\\\" accordion-heading>\\n\\t\\t<span>{{'Drop Shadow' | translate}}</span>\\n\\t</button>\\n\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t<ng-container [ngTemplateOutlet]=\\\"dropShadow\\\"></ng-container>\\n\\t</div>\\n</accordion-group>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('drop-shadow')\\\" [attr.hidden]=\\\"componentHide\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n\\t<ng-template tabHeading>\\n\\t\\t<span>{{'Drop Shadow' | translate}}</span>\\n\\t</ng-template>\\n\\t<ng-container [ngTemplateOutlet]=\\\"dropShadow\\\"></ng-container>\\n</tab>\\n<ng-template #dropShadow>\\n\\t<div class=\\\"byie-option\\\">\\n\\t\\t<div class=\\\"byi-global-reset\\\">\\n\\t\\t\\t<div class=\\\"byie-custom-color\\\">\\n\\t\\t\\t\\t<div *ngIf=\\\"selectedColor\\\" [type]=\\\"'simple'\\\" custom-color-picker [activeColor]=\\\"selectedColor\\\"\\n\\t\\t\\t\\t\\t[hideColorToggle]=\\\"hideColorToggleShadow\\\" (colorPickerToggle)=\\\"colorPickerToggleShadow($event)\\\"\\n\\t\\t\\t\\t\\t(changeColorEvent)=\\\"changeColorShadow($event)\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<button class=\\\"byi-range-reset-link\\\" (click)=\\\"resetShadow()\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t<label>{{'X-offset' | translate}}</label>\\n\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{offsetX}}</span>\\n\\t\\t\\t\\t<input type=\\\"range\\\" [(ngModel)]=\\\"offsetX\\\" min=\\\"-25\\\" max=\\\"25\\\" step=\\\"1\\\" value='0' (input)=\\\"changeShadow()\\\"\\n\\t\\t\\t\\t\\t(mousedown)=\\\"setPrevValue('offsetX', offsetX)\\\" class=\\\"slider\\\" (change)=\\\"stackToUndo('offsetX')\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t<label>{{'Y-offset' | translate}}</label>\\n\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{offsetY}}</span>\\n\\t\\t\\t\\t<input type=\\\"range\\\" [(ngModel)]=\\\"offsetY\\\" min=\\\"-25\\\" max=\\\"25\\\" step=\\\"1\\\" value='0'\\n\\t\\t\\t\\t\\t(input)=\\\"changeShadow(true)\\\" (mousedown)=\\\"setPrevValue('offsetY', offsetY)\\\" class=\\\"slider\\\"\\n\\t\\t\\t\\t\\t(change)=\\\"stackToUndo('offsetY')\\\" class=\\\"slider\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.scss\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/drop-shadow/drop-shadow.component.scss ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9kcm9wLXNoYWRvdy9kcm9wLXNoYWRvdy5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.ts\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/essentials/components/drop-shadow/drop-shadow.component.ts ***!\n  \\****************************************************************************/\n/*! exports provided: DropShadowComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DropShadowComponent\", function() { return DropShadowComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n\n\n\n\n\n\nvar DropShadowComponent = /** @class */ (function () {\n    function DropShadowComponent(canvasService, eventService, mainService, tabsService) {\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.mainService = mainService;\n        this.tabsService = tabsService;\n        this.hideColorToggleShadow = 1;\n        this.componentHide = true;\n        // undo redo\n        this.prevShadow = {};\n        this.tabsService.registerTabs('drop-shadow', 'plain-text');\n        this.tabsService.registerTabs('drop-shadow', 'name-number');\n    }\n    DropShadowComponent.prototype.ngOnInit = function () {\n        this.initData();\n        this.offsetX = '0';\n        this.offsetY = '0';\n        this.blur = '0';\n        this.subscribeEvents();\n    };\n    DropShadowComponent.prototype.initData = function () {\n        if (this.mainService.colorData.defaultColor) {\n            this.selectedColor = Object.assign({}, this.mainService.colorData.defaultColor);\n        }\n        var shadow = this.canvasService.getActiveObjectValue('text', 'shadow');\n        this.offsetX = (shadow && shadow.offsetX) ? shadow.offsetX : '0';\n        this.offsetY = (shadow && shadow.offsetY) ? shadow.offsetY : '0';\n    };\n    DropShadowComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        var self = this;\n        this.eventService.$sub('objectAdded', function (obj) {\n            self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n        });\n        this.eventService.$sub('objectRemoved', function (obj) {\n            self.componentHide = true;\n        });\n        this.eventService.$sub('objectUpdated', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.updateShadow(obj);\n        });\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            if (obj.type == 'activeSelection') {\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\n                if (isObjText == -1) {\n                    self.componentHide = null;\n                }\n                else {\n                    self.componentHide = true;\n                }\n            }\n            else {\n                self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n            }\n            _this.updateShadow(obj);\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n            if (obj.type == 'activeSelection') {\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\n                if (isObjText == -1) {\n                    self.componentHide = null;\n                }\n                else {\n                    self.componentHide = true;\n                }\n            }\n            else {\n                _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n            }\n            _this.updateShadow(obj);\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this.componentHide = true;\n            _this.blur = '0';\n            if (_this.mainService.colorData.defaultColor) {\n                _this.selectedColor = Object.assign({}, _this.mainService.colorData.defaultColor);\n            }\n            _this.initData();\n        });\n        this.eventService.$sub('imageSideChanged', function () {\n            _this.initData();\n        });\n        this.eventService.$sub('closeColorPicker', function () {\n            _this.hideColorToggleShadow = 1;\n        });\n    };\n    DropShadowComponent.prototype.changeShadow = function (changeShadowY) {\n        var _this = this;\n        if (changeShadowY === void 0) { changeShadowY = false; }\n        var selectedObjects = this.canvasService.currentCanvas.getActiveObjects();\n        if (selectedObjects.length > 0) {\n            var shadow = {\n                offsetX: this.offsetX,\n                offsetY: this.offsetY,\n                blur: this.blur,\n                color: this.selectedColor,\n            };\n            var properties_1 = {\n                shadow: shadow\n            };\n            selectedObjects.filter(function (obj) {\n                obj = Object.assign(obj, properties_1);\n                _this.canvasService.currentCanvas.renderAll();\n            });\n        }\n    };\n    DropShadowComponent.prototype.setPrevValue = function (key, value) {\n        if (!this.prevShadow || this.prevShadow[key] == null) {\n            this.prevShadow[key] = value;\n        }\n    };\n    DropShadowComponent.prototype.stackToUndo = function (key) {\n        // Init empty shadow object here\n        var properties = { shadow: {} };\n        // set selecte shadow value(eg. offsetX, offsetY)\n        properties.shadow = Object.assign(properties.shadow, this.prevShadow);\n        // determine other shadow key(eg. offsetX, offsetY)\n        var otherKey = (key == 'offsetX') ? 'offsetY' : 'offsetX', \n        // determine other shadow value\n        otherKeyVal = (otherKey == 'offsetX') ? this.offsetX : this.offsetY;\n        // check if otherKyeVal is null, set it to 0\n        // this will only occur on first time\n        otherKeyVal = (!otherKeyVal) ? 0 : otherKeyVal;\n        // set other shadow property to properties object\n        properties.shadow[otherKey] = otherKeyVal;\n        // finally pass the property object to rangeSliderUndoRedo\n        this.canvasService.rangeSliderUndoRedo(properties);\n        // set selected shadow to null\n        this.prevShadow[key] = null;\n    };\n    DropShadowComponent.prototype.updateShadow = function (obj) {\n        if (obj.length > 0) {\n            if (obj[0]) {\n                this.offsetX = (obj[0].shadow && obj[0].shadow.offsetX != undefined) ? obj[0].shadow.offsetX : 0;\n                this.offsetY = (obj[0].shadow && obj[0].shadow.offsetY != undefined) ? obj[0].shadow.offsetY : 0;\n                this.blur = (obj[0].shadow && obj[0].shadow.blur != undefined) ? obj[0].shadow.blur : 0;\n                this.selectedColor = (obj[0].shadow && obj[0].shadow.color != undefined) ? obj[0].shadow.color : this.mainService.colorData.defaultColor.color_code;\n                [0];\n            }\n            [0];\n        }\n        else {\n            this.offsetX = (obj.shadow && obj.shadow.offsetX != undefined) ? obj.shadow.offsetX : 0;\n            this.offsetY = (obj.shadow && obj.shadow.offsetY != undefined) ? obj.shadow.offsetY : 0;\n            this.blur = (obj.shadow && obj.shadow.blur != undefined) ? obj.shadow.blur : 0;\n            this.selectedColor = (obj.shadow && obj.shadow.color != undefined) ? obj.shadow.color : this.mainService.colorData.defaultColor.color_code;\n        }\n    };\n    DropShadowComponent.prototype.resetShadow = function () {\n        var _this = this;\n        if (!this.canvasService.currentCanvas)\n            return;\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects();\n        selectedObjs.filter(function (obj) {\n            _this.offsetX = '0';\n            _this.offsetY = '0';\n            _this.blur = '0';\n            if (obj) {\n                var shadow = {\n                    offsetX: 0,\n                    offsetY: 0,\n                    blur: 0,\n                    color: _this.mainService.colorData.defaultColor.color_code,\n                };\n                var properties = {\n                    shadow: shadow\n                };\n                if (_this.mainService.colorData.defaultColor) {\n                    _this.selectedColor = Object.assign({}, _this.mainService.colorData.defaultColor.color_code);\n                }\n                var params = {\n                    obj: obj,\n                    properties: properties,\n                    crudServiceString: 'this.updateObjectService',\n                };\n                _this.canvasService.objectCRUD(params);\n            }\n        });\n    };\n    DropShadowComponent.prototype.colorPickerToggleShadow = function () {\n        if (this.hideColorToggleShadow == 1) {\n            this.hideColorToggleShadow = 0;\n        }\n        else if (this.hideColorToggleShadow == 0) {\n            this.hideColorToggleShadow = 1;\n        }\n    };\n    DropShadowComponent.prototype.changeColorShadow = function (shadowColor) {\n        if (!this.canvasService.currentCanvas)\n            return;\n        this.selectedColor = shadowColor;\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects();\n        var shadow = {\n            offsetX: this.offsetX,\n            offsetY: this.offsetY,\n            blur: this.blur,\n            color: shadowColor\n        };\n        var properties = {\n            shadow: shadow\n        };\n        this.mainService.updateObjectProperties(selectedObjs, properties);\n    };\n    DropShadowComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[drop-shadow]',\n            template: __webpack_require__(/*! ./drop-shadow.component.html */ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.html\"),\n            styles: [__webpack_require__(/*! ./drop-shadow.component.scss */ \"./src/app/essentials/components/drop-shadow/drop-shadow.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"], src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"]])\n    ], DropShadowComponent);\n    return DropShadowComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/font/font.component.html\":\n/*!****************************************************************!*\\\n  !*** ./src/app/essentials/components/font/font.component.html ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<ul class=\\\"hide-fonts\\\">\\n    <li *ngFor=\\\"let object of fontService.fontarr\\\">\\n        <span [style.font-family]=\\\"object.font_label\\\"> </span>\\n    </li>\\n</ul>\\n\\n<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [isOpen]=\\\"openAccordian\\\" [hidden]=\\\"componentHide\\\">\\n    <button class=\\\"byi-accordion-title btn btn-link btn-block clearfix\\\" accordion-heading>\\n        <span>{{'Font' | translate}}</span>\\n    </button>\\n    <div class=\\\"byi-accord-content byi-tooltip-font\\\">\\n        <div class=\\\"byie-option byie-font-dropdown\\\">\\n            <div class=\\\"byi-fonts\\\" [class.open]=\\\"isToggle\\\">\\n                <button  type=\\\"button\\\" class=\\\"byi-button\\\" (click)=\\\"isToggleOpen()\\\"\\n                    tooltip=\\\"{{'Select Font' | translate}}\\\"> <span [style.font-family]=\\\"fontService.activeFontFamily?.font_label\\\">{{fontService.activeFontFamily?.font_label}}</span><span\\n                        class=\\\"caret\\\" ></span></button>\\n                <ng-container [ngTemplateOutlet]=\\\"fontFamily\\\"></ng-container>\\n            </div>\\n            <ng-container [ngTemplateOutlet]=\\\"colors\\\"></ng-container>\\n        </div>\\n        <ng-container [ngTemplateOutlet]=\\\"fonts\\\"></ng-container>\\n\\n    </div>\\n</accordion-group>\\n\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('font')\\\" [attr.hidden]=\\\"componentHide\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n    <ng-template tabHeading>\\n        <span>{{'Font' | translate}}</span>\\n    </ng-template>\\n    <ng-container [ngTemplateOutlet]=\\\"fonts\\\"></ng-container>\\n    <ng-container [ngTemplateOutlet]=\\\"colors\\\"></ng-container>\\n</tab>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('font')\\\" [attr.hidden]=\\\"componentHide\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n    <ng-template tabHeading>\\n        <span>{{'Font Family' | translate}}</span>\\n    </ng-template>\\n    <ng-container [ngTemplateOutlet]=\\\"fontFamily\\\"></ng-container>\\n</tab>\\n<ng-template #fontFamily>\\n    <ng-container *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('font')\\\"\\n        [attr.hidden]=\\\"componentHide\\\">\\n        <div class=\\\"byi-fullview-toggle\\\">\\n            <button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts,backArrow)\\\">\\n                <span></span>\\n                <span></span>\\n                <span></span>\\n            </button>\\n        </div>\\n    </ng-container>\\n    <div class=\\\"byi-fonts-wrap\\\" [class.byi-fonts-wrap-mob]=\\\"mainService.isResponsive\\\">\\n        <ul #scrollToBottom *ngIf=\\\"!mainService.isResponsive\\\">\\n            <li tooltip=\\\"{{object.font_label}}\\\" role=\\\"menuitem\\\" *ngFor=\\\"let object of fontService.fontarr\\\"\\n                (click)=\\\"changeFontFamily(object)\\\"\\n                [ngClass]=\\\"{'selected': fontService.activeFontFamily.font_label == object.font_label }\\\"\\n                class=\\\"font-item\\\">\\n                <span *ngIf=\\\"!object.font_image\\\" [style.font-family]=\\\"object.font_label\\\">{{object.font_label}}</span>\\n                <img [src]=\\\"object.font_image\\\" *ngIf=\\\"object.font_image\\\" />\\n            </li>\\n            <div *ngIf=\\\"isEnableloadmore && !mainService.isResponsive\\\" class=\\\"loadmore-action font-loadMore\\\">\\n                <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreFont()\\\">\\n            </div>\\n        </ul>\\n        <ul #scrollToBottom *ngIf=\\\"mainService.isResponsive\\\" infiniteScroll [horizontal]=\\\"true\\\"\\n            [infiniteScrollDistance]=\\\"0\\\" [infiniteScrollThrottle]=\\\"1000\\\" [scrollWindow]=\\\"false\\\"\\n            (scrolled)=\\\"loadMoreFont()\\\" #scrollToBottom\\n            [infiniteScrollDisabled]=\\\"!isEnableloadmore || !allowPlaceholderLoader\\\">\\n            <li tooltip=\\\"{{object.font_label}}\\\" role=\\\"menuitem\\\" *ngFor=\\\"let object of fontService.fontarr\\\"\\n                (click)=\\\"changeFontFamily(object)\\\"\\n                [ngClass]=\\\"{'selected': fontService.activeFontFamily.font_label == object.font_label }\\\"\\n                class=\\\"font-item mobile\\\">\\n                <span *ngIf=\\\"!object.font_image\\\" [style.font-family]=\\\"object.font_label\\\">{{object.font_label}}</span>\\n                <img [src]=\\\"object.font_image\\\" *ngIf=\\\"object.font_image\\\" />\\n            </li>\\n            <li [attr.hidden]=\\\"(!showPlaceholder) ? true : null\\\" *ngFor=\\\"let temp of mainService.customPlaceholderArr\\\"\\n                placeholder-loader [loaderHeight]='25' [loaderWidth]='100'></li>\\n            <div *ngIf=\\\"isEnableloadmore && mainService.isResponsive && showAllFonts\\\"\\n                class=\\\"loadmore-action font-loadMore\\\">\\n                <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreFont()\\\">\\n            </div>\\n        </ul>\\n    </div>\\n    <div *ngIf=\\\"isEnableloadmore && !mainService.isResponsive && showAllFonts\\\" class=\\\"loadmore-action font-loadMore\\\">\\n        <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreFont()\\\">\\n    </div>\\n</ng-template>\\n<ng-template #colors>\\n    <div class=\\\"byie-custom-color\\\">\\n        <div custom-color-picker [type]=\\\"'simple'\\\" [activeColor]=\\\"selectedColor\\\" [hideColorToggle]=\\\"hideColorToggleFont\\\"\\n            (colorPickerToggle)=\\\"colorPickerToggleFont($event)\\\" (changeColorEvent)=\\\"changeFontColor($event)\\\"></div>\\n    </div>\\n</ng-template>\\n<ng-template #fonts>\\n    <div class=\\\"byie-option byie-font-size\\\">\\n        <label>{{'Size' | translate}}</label>\\n        <div class=\\\"byi-range-box byie-count-wrap\\\">\\n            <div class=\\\"byi-rb-input\\\">\\n                <span class=\\\"byie-count\\\">{{fontSize}}</span>\\n                <input type=\\\"range\\\" [(ngModel)]=\\\"fontSize\\\" (input)=\\\"changeFontSize()\\\"\\n                    (mousedown)=\\\"setPrevValue($event.target.value)\\\" (change)=\\\"stackToUndo()\\\" step=\\\"1\\\" min=\\\"12\\\" max=\\\"60\\\"\\n                    class=\\\"slider\\\">\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"byie-option byie-font-style\\\">\\n        <ul class=\\\"byie-deco\\\">\\n            <li>\\n                <button class=\\\"byi-i byi-b\\\" (click)=\\\"changeFontStyle('bold')\\\"\\n                    [ngClass]=\\\"{'selected': fontStyleArr.indexOf('bold') >= 0}\\\" tooltip=\\\"{{'Bold' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-bold\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-bold\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n            <li>\\n                <button class=\\\"byi-i byi-it\\\" (click)=\\\"changeFontStyle('italic')\\\"\\n                    [ngClass]=\\\"{'selected': fontStyleArr.indexOf('italic') >= 0}\\\" tooltip=\\\"{{'Italic' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-italic\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-italic\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n            <li>\\n                <button class=\\\"byi-i byi-u\\\" (click)=\\\"changeFontStyle('underline')\\\"\\n                    [ngClass]=\\\"{'selected': fontStyleArr.indexOf('underline') >= 0}\\\"\\n                    tooltip=\\\"{{'Underline' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-underline\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-underline\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n        </ul>\\n        <ul class=\\\"byie-deco byie-text-align\\\">\\n            <li>\\n                <button [class.disabled]=\\\"enableForMultiLine\\\" class=\\\"byi-i byi-al\\\"\\n                    [ngClass]=\\\"{'selected': textAlign == 'left' }\\\" (click)=\\\"setTextAlign('left')\\\"\\n                    tooltip=\\\"{{'Left' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-aleft\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-aleft\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n            <li>\\n                <button class=\\\"byi-i byi-ac\\\" [ngClass]=\\\"{'selected': textAlign == 'center' }\\\"\\n                    (click)=\\\"setTextAlign('center')\\\" [class.disabled]=\\\"enableForMultiLine\\\"\\n                    tooltip=\\\"{{'Center' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-acenter\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-acenter\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n            <li>\\n                <button class=\\\"byi-i byi-ar\\\" [ngClass]=\\\"{'selected': textAlign == 'right' }\\\"\\n                    (click)=\\\"setTextAlign('right')\\\" [class.disabled]=\\\"enableForMultiLine\\\"\\n                    tooltip=\\\"{{'Right' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-aright\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-aright\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n            <li>\\n                <button class=\\\"byi-i byi-aj\\\" [ngClass]=\\\"{'selected': textAlign == 'justify' }\\\"\\n                    (click)=\\\"setTextAlign('justify')\\\" [class.disabled]=\\\"enableForMultiLine\\\"\\n                    tooltip=\\\"{{'Justify' | translate}}\\\">\\n                    <svg class=\\\"icon icon-text-ajustify\\\" viewBox=\\\"0 0 30 30\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-text-ajustify\\\"></use>\\n                    </svg>\\n                </button>\\n            </li>\\n        </ul>\\n    </div>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/font/font.component.scss\":\n/*!****************************************************************!*\\\n  !*** ./src/app/essentials/components/font/font.component.scss ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9mb250L2ZvbnQuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/font/font.component.ts\":\n/*!**************************************************************!*\\\n  !*** ./src/app/essentials/components/font/font.component.ts ***!\n  \\**************************************************************/\n/*! exports provided: FontComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FontComponent\", function() { return FontComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _font_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./font.service */ \"./src/app/essentials/components/font/font.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var _placeholder_loader_placholder_loader_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../placeholder-loader/placholder-loader.service */ \"./src/app/essentials/components/placeholder-loader/placholder-loader.service.ts\");\n\n\n\n\n\n\n\n\n\nvar FontComponent = /** @class */ (function () {\n    function FontComponent(canvasService, eventService, mainService, tabsService, fontService, cdr, placholderLoaderService) {\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.mainService = mainService;\n        this.tabsService = tabsService;\n        this.fontService = fontService;\n        this.cdr = cdr;\n        this.placholderLoaderService = placholderLoaderService;\n        this.fontFamily = 'select font style';\n        this.isDisplay = false;\n        this.fontSizeArray = ['12', '14', '16', '18', '20', '22'];\n        this.fontStyleArr = [];\n        this.colorarr = [];\n        this.hideColorToggleFont = 1;\n        this.componentHide = true;\n        // Resolve sync issue for load fonts and load colors\n        this.isColorLoaded = false;\n        this.isToggle = false;\n        this.fontImg = [];\n        this.imageExists = true;\n        this.notImg = false;\n        this.showAllFonts = false;\n        this.backArrow = false;\n        this.loadPlaintext = false;\n        this.openAccordian = false;\n        this.loadmore = 0;\n        this.isEnableloadmore = false;\n        this.checkFontScroll = false;\n        // infinite scroll\n        this.customPlaceholderArr = [];\n        this.tabsService.registerTabs('font', 'plain-text');\n        this.tabsService.registerTabs('font', 'name-number');\n        this.enableDisableAlignment();\n    }\n    FontComponent.prototype.enableDisableAlignment = function () {\n        this.enableForMultiLine = this.enableForMultipleObject();\n    };\n    FontComponent.prototype.enableForSingleObj = function () {\n        var obj = this.canvasService.getActiveObject();\n        if (obj == false)\n            return false;\n        return true;\n    };\n    FontComponent.prototype.enableForMultipleObject = function () {\n        var totalAddedObjects = (this.canvasService.currentCanvas && this.canvasService.currentCanvas.getActiveObject() && this.canvasService.currentCanvas.getActiveObject().type == \"text\") ? this.canvasService.currentCanvas.getActiveObject()._textLines.length : 0;\n        if (this.enableForSingleObj() === true && totalAddedObjects > 1)\n            return null;\n        return true;\n    };\n    FontComponent.prototype.ngOnInit = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                this.allowPlaceholderLoader = this.mainService.isResponsive;\n                this.loadMoreFont(true);\n                this.subscribeEvents();\n                this.eventService.$sub('closeFullView', function (backArrow) {\n                    _this.showAllFonts = backArrow;\n                    _this.showFonts(_this.showAllFonts);\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    FontComponent.prototype.ngAfterViewChecked = function () {\n        try {\n            if (this.checkFontScroll) {\n                this.scrollToBottom();\n                this.checkFontScroll = false;\n            }\n        }\n        catch (err) { }\n    };\n    FontComponent.prototype.scrollToBottom = function () {\n        try {\n            if (!this.mainService.isResponsive)\n                this.ScrollContainer.nativeElement.scrollTop = this.ScrollContainer.nativeElement.scrollHeight;\n        }\n        catch (err) { }\n    };\n    FontComponent.prototype.updateProperties = function () {\n        var _this = this;\n        if (!this.canvasService.currentCanvas)\n            return;\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects();\n        this.isEnableloadmore = this.fontService.isEnableloadmore;\n        selectedObjs.filter(function (obj) {\n            if (obj.type != \"text\") {\n                _this.resetFontProperties();\n                return;\n            }\n            ;\n            if (_this.fontService.isFontLoaded === true) {\n                if (obj.fontFamily && _this.fontService.activeFontFamily.font_label != obj.fontFamily) {\n                    _this.fontService.activeFontFamily.font_label = obj.fontFamily;\n                }\n                if (obj.fontSize && _this.fontSize != obj.fontSize) {\n                    _this.fontSize = obj.fontSize;\n                }\n            }\n            if (obj.textAlign && _this.textAlign != obj.textAlign) {\n                _this.textAlign = obj.textAlign;\n            }\n            _this.fontStyleArr = [];\n            if (obj.fontWeight == 'bold') {\n                _this.fontStyleArr.push('bold');\n            }\n            if (obj.fontStyle == 'italic') {\n                _this.fontStyleArr.push('italic');\n            }\n            if (obj.underline == true) {\n                _this.fontStyleArr.push('underline');\n            }\n            if (obj) {\n                _this.selectedColor = obj.fill;\n                obj.dirty = true;\n            }\n            // sort and set selected font as first in the list\n            if (!_this.isToggle && !_this.mainService.isResponsive)\n                _this.sortFontFamilyList();\n        });\n    };\n    FontComponent.prototype.sortFontFamilyList = function (obj) {\n        if (obj === void 0) { obj = null; }\n        obj = (obj == null) ? this.canvasService.getActiveObject() : obj;\n        if (!obj)\n            return;\n        var originalIndex = this.fontService.fontarr.findIndex(function (data) { return data.font_label === obj.fontFamily; });\n        if (originalIndex != -1) {\n            var tmp = this.fontService.fontarr[0];\n            this.fontService.fontarr[0] = this.fontService.fontarr[originalIndex];\n            this.fontService.fontarr[originalIndex] = tmp;\n        }\n    };\n    FontComponent.prototype.resetFontProperties = function () {\n        if (this.mainService.colorData.defaultColor && this.mainService.colorData.defaultColor.color_code) {\n            this.eventService.$pub('changedColor', this.mainService.colorData.defaultColor.color_code);\n            this.selectedColor = this.mainService.colorData.defaultColor.color_code;\n        }\n    };\n    FontComponent.prototype.loadMoreFont = function (resetArr) {\n        if (resetArr === void 0) { resetArr = false; }\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.showPlaceholder = true;\n                        this.loadmore++;\n                        if (!!this.fontService.fontLoadRequested) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.fontService.getFonts(this.loadmore, resetArr)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        if (this.fontService.fontarr && this.fontService.fontarr.length) {\n                            this.updateProperties();\n                            this.loadFonts();\n                            this.checkFontScroll = true;\n                            this.showPlaceholder = false;\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    FontComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        var self = this;\n        this.eventService.$sub('objectAdded', function (obj) {\n            self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n            self.openAccordian = (obj.type == \"text\") ? true : null;\n            _this.cdr.detectChanges();\n        });\n        this.eventService.$sub('objectRemoved', function (obj) {\n            if (obj && (obj.type == \"text\" || Array.isArray(obj) && obj[0] && obj[0].type == 'text')) {\n                _this.resetFontProperties();\n                self.openAccordian = null;\n                self.componentHide = true;\n            }\n        });\n        this.eventService.$sub('objectUpdated', function (obj) {\n            _this.enableDisableAlignment();\n            _this.updateProperties();\n        });\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            _this.enableDisableAlignment();\n            /*if(self.canvasService.getObjectType(obj,\"text\") && !Array.isArray(obj)){*/\n            if (obj.type == 'activeSelection') {\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\n                if (isObjText == -1) {\n                    self.componentHide = null;\n                    self.openAccordian = true;\n                }\n                else {\n                    self.componentHide = true;\n                    self.openAccordian = null;\n                }\n            }\n            else {\n                self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n                self.openAccordian = (obj.type == \"text\") ? true : null;\n            }\n            if (self.componentHide == null) {\n                _this.sortFontFamilyList();\n            }\n            _this.cdr.detectChanges();\n            _this.updateProperties();\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            _this.enableDisableAlignment();\n            if (obj.type == 'activeSelection') {\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\n                if (isObjText == -1) {\n                    self.componentHide = null;\n                    self.openAccordian = true;\n                }\n                else {\n                    self.componentHide = true;\n                    self.openAccordian = null;\n                }\n            }\n            else {\n                _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n                self.openAccordian = (obj.type == \"text\") ? true : null;\n            }\n            _this.updateProperties();\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this.enableDisableAlignment();\n            _this.componentHide = true;\n            _this.openAccordian = null;\n            _this.updateProperties();\n        });\n        this.eventService.$sub('imageSideChanged', function () {\n            _this.updateProperties();\n        });\n        this.eventService.$sub('canvasObjectScaled', function () {\n            _this.changeFontScale();\n        });\n        this.eventService.$sub('closeColorPicker', function () {\n            _this.hideColorToggleFont = 1;\n        });\n        this.eventService.$sub('canvasObjectModified', function (obj) {\n            _this.enableDisableAlignment();\n            _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n            self.openAccordian = (obj.type == \"text\") ? true : null;\n            _this.updateProperties();\n        });\n        this.eventService.$sub('closeFontWrapper', function () {\n            _this.isToggle = false;\n        });\n        this.eventService.$sub('loadTheseFonts', function (jsonObjects) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                this.fetchFontListFromJsonObjects(jsonObjects);\n                return [2 /*return*/];\n            });\n        }); });\n    };\n    FontComponent.prototype.fetchFontListFromJsonObjects = function (jsonObjects) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var fontList, canvasKey, selectedObj_1;\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        fontList = [];\n                        for (canvasKey in jsonObjects) {\n                            if (jsonObjects[canvasKey] && jsonObjects[canvasKey].hasOwnProperty('objects') && jsonObjects[canvasKey].objects.length) {\n                                jsonObjects[canvasKey].objects.filter(function (obj) {\n                                    if (obj.type == 'text' && obj.hasOwnProperty('fontFamily') && obj.fontFamily) {\n                                        fontList.push(obj.fontFamily);\n                                    }\n                                });\n                            }\n                        }\n                        if (!fontList.length) return [3 /*break*/, 2];\n                        this.fontService.loadTheseFonts = fontList;\n                        return [4 /*yield*/, this.fontService.getFonts(this.loadmore, true)];\n                    case 1:\n                        _a.sent();\n                        selectedObj_1 = this.canvasService.getActiveObject();\n                        this.canvasService.deselectAllObjects();\n                        this.loadFonts();\n                        setTimeout(function () {\n                            if (selectedObj_1)\n                                _this.applyFonts(selectedObj_1);\n                        }, 200);\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    FontComponent.prototype.loadFonts = function () {\n        //to load fontfile \n        var fonts = this.fontService.fontarr;\n        if (fonts) {\n            var style_1 = document.createElement('style');\n            style_1.type = 'text/css';\n            var fontFamily_1 = '';\n            fonts.filter(function (fontObj) {\n                fontFamily_1 = fontObj.font_file;\n                var css = \" @font-face{ font-family:'\" + fontObj.font_label + \"'; src:url('\" + fontFamily_1 + \"'); }\";\n                var length = document.getElementsByTagName('style').length - 1;\n                if (document.getElementsByTagName('style')[length].getAttribute(\"class\") == \"font-css\") {\n                    style_1.innerHTML += css;\n                }\n                else {\n                    style_1.setAttribute(\"class\", \"font-css\");\n                    style_1.innerHTML += css;\n                }\n            });\n            document.getElementsByTagName('head')[0].appendChild(style_1);\n        }\n    };\n    FontComponent.prototype.applyFonts = function (selectedObj) {\n        var _this = this;\n        var allObj = this.canvasService.getObjects();\n        allObj.filter(function (obj) {\n            _this.canvasService.currentCanvas.setActiveObject(obj).renderAll();\n        });\n        this.canvasService.currentCanvas.setActiveObject(selectedObj).renderAll();\n    };\n    FontComponent.prototype.changeFontFamily = function (object) {\n        this.fontService.activeFontFamily = Object.assign({}, object);\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\n        properties.fontFamily = this.fontService.activeFontFamily.font_label;\n        properties.font_file = this.fontService.activeFontFamily.font_file;\n        properties.dirty = true;\n        this.mainService.updateObjectProperties(selectedObjs, properties);\n        this.showFonts(true);\n    };\n    FontComponent.prototype.changeFontSize = function () {\n        var _this = this;\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\n        selectedObjs.filter(function (currObj) {\n            currObj.fontSize = _this.fontSize;\n        });\n        this.canvasService.currentCanvas.renderAll();\n        // properties.fontSize = this.fontSize;\n        // this.mainService.updateObjectProperties(selectedObjs, properties);\n    };\n    FontComponent.prototype.setPrevValue = function (val) {\n        if (this.prevFontSize == null)\n            this.prevFontSize = val;\n    };\n    FontComponent.prototype.stackToUndo = function () {\n        this.canvasService.rangeSliderUndoRedo({ 'fontSize': this.prevFontSize });\n        this.prevFontSize = null;\n    };\n    FontComponent.prototype.changeFontStyle = function (fontStyle) {\n        // variable declaration\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects(), found = this.fontStyleArr.indexOf(fontStyle);\n        // if obj is found and specified font style exists in our stored fontStyleArr obj\n        // remove the same from object, else push it into the object\n        if (selectedObjs && found >= 0) {\n            this.fontStyleArr.splice(found, 1);\n        }\n        else {\n            this.fontStyleArr.push(fontStyle);\n        }\n        // style variable here works as a flag variable\n        // that will toggle the font style,(apply/remove based on found variable)\n        var style = (found >= 0) ? 'normal' : fontStyle, properties = {};\n        // set property object\n        switch (fontStyle) {\n            case \"bold\":\n                properties.fontWeight = style;\n                break;\n            case \"italic\":\n                properties.fontStyle = style;\n                break;\n            case \"underline\":\n                properties.underline = (style == 'normal') ? false : true;\n                break;\n        }\n        // For underline\n        properties.dirty = true;\n        // Update canvas text object with new properties\n        this.mainService.updateObjectProperties(selectedObjs, properties);\n    };\n    FontComponent.prototype.setTextAlign = function (align) {\n        var obj = this.canvasService.getActiveObject(), properties = {};\n        if (obj) {\n            properties.textAlign = align;\n            this.textAlign = align;\n            var params = {\n                obj: obj,\n                properties: properties,\n                crudServiceString: 'this.updateObjectService',\n            };\n            this.canvasService.objectCRUD(params);\n        }\n    };\n    FontComponent.prototype.colorPickerToggleFont = function (event) {\n        if (this.hideColorToggleFont == 1) {\n            this.hideColorToggleFont = 0;\n        }\n        else if (this.hideColorToggleFont == 0) {\n            this.hideColorToggleFont = 1;\n        }\n    };\n    FontComponent.prototype.changeFontColor = function (color) {\n        this.selectedColor = color;\n        this.eventService.$pub('changedColor', color);\n        var obj = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\n        if (obj) {\n            properties.fill = color;\n            properties.dirty = true;\n            this.mainService.updateObjectProperties(obj, properties);\n        }\n    };\n    FontComponent.prototype.changeFontScale = function () {\n        var obj = this.canvasService.currentCanvas.getActiveObjects();\n        if (obj && obj.length > 0) {\n            obj = obj[0];\n        }\n        if (obj && obj.type != \"text\") {\n            return;\n        }\n        var scaleY = obj.scaleY, properties = {}, newfontsize = (obj.fontSize * obj.scaleX);\n        properties.fontSize = parseInt(newfontsize, 10);\n        this.fontSize = parseInt(newfontsize, 10);\n        properties.scaleX = 1;\n        properties.scaleY = 1;\n        obj.set(properties);\n        this.canvasService.currentCanvas.renderAll();\n    };\n    FontComponent.prototype.isToggleOpen = function () {\n        var _this = this;\n        this.isToggle = !this.isToggle;\n        if (!this.isToggle) {\n            setTimeout(function () {\n                _this.sortFontFamilyList();\n            }, 200);\n        }\n    };\n    FontComponent.prototype.showFonts = function (showAllFonts) {\n        this.showAllFonts = !showAllFonts;\n        this.eventService.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Change Font Family' });\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_7__[\"LoaderComponent\"])\n    ], FontComponent.prototype, \"loaderComponent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('scrollToBottom'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\n    ], FontComponent.prototype, \"ScrollContainer\", void 0);\n    FontComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: '[font]',\n            template: __webpack_require__(/*! ./font.component.html */ \"./src/app/essentials/components/font/font.component.html\"),\n            styles: [__webpack_require__(/*! ./font.component.scss */ \"./src/app/essentials/components/font/font.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__[\"MainService\"],\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__[\"TabsService\"],\n            _font_service__WEBPACK_IMPORTED_MODULE_1__[\"FontService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"],\n            _placeholder_loader_placholder_loader_service__WEBPACK_IMPORTED_MODULE_8__[\"PlacholderLoaderService\"]])\n    ], FontComponent);\n    return FontComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/font/font.service.ts\":\n/*!************************************************************!*\\\n  !*** ./src/app/essentials/components/font/font.service.ts ***!\n  \\************************************************************/\n/*! exports provided: FontService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FontService\", function() { return FontService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\n\n\nvar FontService = /** @class */ (function () {\n    function FontService(mainService, eventService) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.fontarr = [];\n        this.defaultFontFamily = [];\n        this.isFontLoaded = false;\n        this.isEnableloadmore = false;\n        // if call is already made, \n        // don't repeat again,\n        this.fontLoadRequested = false;\n        // force load these fonts\n        this.loadTheseFonts = [];\n    }\n    FontService.prototype.getFonts = function (page, resetArr) {\n        if (page === void 0) { page = 1; }\n        if (resetArr === void 0) { resetArr = false; }\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var params, url, cacheKey;\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.fontLoadRequested = true;\n                        if (resetArr === true)\n                            this.fontarr = [];\n                        params = { page: page }, url = 'productdesigner/text/getFonts', cacheKey = 'getFonts' + this.mainService.baseUrl + page;\n                        if (this.loadTheseFonts.length) {\n                            this.mainService.cacheService.remove(cacheKey);\n                            params = Object.assign(params, { fontList: this.loadTheseFonts });\n                        }\n                        return [4 /*yield*/, this.mainService.getData(url, params, cacheKey).then(function (fontData) {\n                                _this.fontLoadRequested = false;\n                                _this.isEnableloadmore = fontData.loadMoreFlag;\n                                _this.fontarr = _this.fontarr.concat(fontData.fonts);\n                                _this.defaultFontFamily = _this.activeFontFamily = fontData.defaultFontFamily;\n                                _this.defaultFontSize = fontData.defaultFontSize;\n                                _this.isFontLoaded = true;\n                                _this.textLimitEnable = fontData.textLimitEnable;\n                                _this.textLimitCounter = fontData.textLimitCounter;\n                                _this.limitAlert = fontData.limitAlert;\n                                _this.loadTheseFonts = [];\n                            }).catch(function (err) { return console.log(err); })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    FontService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"]])\n    ], FontService);\n    return FontService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/footer/footer.component.html\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/footer/footer.component.html ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byi-footer\\\">\\n  <div class=\\\"design-area-footer\\\">\\n    <designarea-controls></designarea-controls>\\n  </div>\\n  <div class=\\\"byif-right\\\">\\n    <div class=\\\"byi-cart-wrap\\\">\\n      <price></price>\\n      <div class=\\\"byi-cart-action\\\">\\n        <cart></cart>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"byi-footer-cta\\\" product-demo [loadContent]=\\\"'reqForDemo'\\\"></div>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/footer/footer.component.scss\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/footer/footer.component.scss ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9mb290ZXIvZm9vdGVyLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/footer/footer.component.ts\":\n/*!******************************************************************!*\\\n  !*** ./src/app/essentials/components/footer/footer.component.ts ***!\n  \\******************************************************************/\n/*! exports provided: FooterComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FooterComponent\", function() { return FooterComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\nvar FooterComponent = /** @class */ (function () {\n    function FooterComponent(eventService) {\n        this.eventService = eventService;\n    }\n    FooterComponent.prototype.ngOnInit = function () {\n    };\n    FooterComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: 'footer',\n            template: __webpack_require__(/*! ./footer.component.html */ \"./src/app/essentials/components/footer/footer.component.html\"),\n            styles: [__webpack_require__(/*! ./footer.component.scss */ \"./src/app/essentials/components/footer/footer.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"]])\n    ], FooterComponent);\n    return FooterComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/header/header.component.html\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/header/header.component.html ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div *ngIf=\\\"!mainService.isResponsive\\\" class=\\\"byi-header\\\">\\n\\t<div class=\\\"byii-left\\\">\\n\\t\\t<div class=\\\"byi-brand\\\">\\n\\t\\t\\t<h1>\\n\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" (click)=\\\"redirectHomePage(homePageLink)\\\">\\n\\t\\t\\t\\t\\t<img src=\\\"{{logoSrc}}\\\" alt=\\\"{{logoAlt}}\\\" tooltip=\\\"{{logoAlt}}\\\">\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</h1>\\n\\t\\t</div>\\n\\t\\t<div products class=\\\"byi-products\\\"></div>\\n\\t</div>\\n\\t<div class=\\\"byi-output-action\\\">\\n\\t\\t<ul class=\\\"bta-link\\\">\\t\\t\\t\\n\\t\\t\\t<li preview></li>\\n\\t\\t\\t<li social-media-sharing></li>\\n\\t\\t\\t<li *ngIf=\\\"mainService.isAdmin == false\\\" save-design></li>\\n\\t\\t\\t<li design-templates [loadContent]=\\\"'header'\\\"></li>\\n\\t\\t\\t<li download [attr.hidden]=\\\"(mainService.displayDownload) ? null : true\\\"></li>\\n\\t\\t</ul>\\n\\t</div>\\n\\t<div class=\\\"byia-right\\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li product-demo [loadContent]=\\\"'pricePage'\\\"></li>\\n\\t\\t\\t<li class=\\\"byi-product-intro\\\" intro></li>\\n\\t\\t\\t<li class=\\\"byi-customer-info\\\" customer-login></li>\\n\\t\\t</ul>\\n\\t</div>\\n</div>\\n\\n<div *ngIf=\\\"mainService.isResponsive\\\" class=\\\"byi-header-mob\\\">\\n\\t<div class=\\\"byih-left\\\">\\n\\t\\t<div class=\\\"byi-brand\\\">\\n\\t\\t\\t<h1>\\n\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" (click)=\\\"redirectHomePage(homePageLink)\\\">\\n\\t\\t\\t\\t\\t<img src=\\\"{{logoSrc}}\\\" alt=\\\"{{logoAlt}}\\\" title=\\\"{{logoAlt}}\\\">\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</h1>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"byi-products-mob\\\">\\n\\t\\t<div products class=\\\"byi-products-list\\\"></div>\\n\\t</div>\\n\\t<div class=\\\"byih-right\\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li class=\\\"byi-customer-info\\\" customer-login></li>\\n\\t\\t\\t<li class=\\\"byi-top-cart\\\">\\n\\t\\t\\t\\t<cart></cart>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t</div>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/header/header.component.scss\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/header/header.component.scss ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/header/header.component.ts\":\n/*!******************************************************************!*\\\n  !*** ./src/app/essentials/components/header/header.component.ts ***!\n  \\******************************************************************/\n/*! exports provided: HeaderComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HeaderComponent\", function() { return HeaderComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n\n\n\n\nvar HeaderComponent = /** @class */ (function () {\n    function HeaderComponent(mainService, eventService) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        var logoUrl = this.mainService.baseUrl;\n        if (this.mainService.isAdmin) {\n            var elem = document.getElementsByName('redirectBackUrl');\n            if (elem && elem[0] && elem[0].value) {\n                logoUrl = elem[0].value;\n            }\n        }\n        this.homePageLink = logoUrl;\n    }\n    HeaderComponent.prototype.getPageConfiguration = function () {\n        var _this = this;\n        var params = {}, url = 'productdesigner/index/getPageConfiguration', cacheKey = 'getPageConfiguration' + this.mainService.baseUrl;\n        this.mainService.getData(url, params, cacheKey).then(function (pageData) {\n            _this.logoSrc = pageData.logo_src;\n            _this.logoAlt = pageData.logo_alt;\n        }).catch(function (err) { return console.log(err); });\n    };\n    HeaderComponent.prototype.redirectHomePage = function (homePageLink) {\n        if (window.location != window.parent.location) {\n            window.top.location.href = homePageLink;\n        }\n        else {\n            window.location.href = homePageLink;\n        }\n    };\n    HeaderComponent.prototype.ngOnInit = function () {\n        this.getPageConfiguration();\n    };\n    HeaderComponent.prototype.openLoginModal = function () {\n        this.eventService.$pub('openLoginModal');\n    };\n    HeaderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: 'header',\n            template: __webpack_require__(/*! ./header.component.html */ \"./src/app/essentials/components/header/header.component.html\"),\n            styles: [__webpack_require__(/*! ./header.component.scss */ \"./src/app/essentials/components/header/header.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"]])\n    ], HeaderComponent);\n    return HeaderComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/image-sides/image-sides.component.html\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/image-sides/image-sides.component.html ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byi-image-sides\\\"  *ngIf=\\\"mainService.loadedProductData && mainService.loadedProductData.isImageThumnailEnable  && canvasService.allImages.length > 1\\\">\\n\\t<div image-slider [canvasImages]=\\\"canvasService.allImages\\\" [activeSlide]=\\\"activeImageId\\\" (changeSlider)=\\\"changeImageSider($event)\\\"></div>\\n</div>\\n<div class=\\\"total-sides\\\"  *ngIf=\\\"mainService.loadedProductData && !mainService.loadedProductData.isImageThumnailEnable && canvasService.allImages.length > 1\\\">\\n\\t<div class=\\\"total-sides-mob\\\">\\n\\t\\t<button container=\\\"body\\\" class=\\\"byi-side-btn byi-prev-side\\\" *ngIf=\\\"enablePrev\\\" (click)=\\\"changeNextPrevSide('prev')\\\" tooltip=\\\"{{'Previous Side' | translate}}\\\">\\n\\t\\t\\t<span>\\n\\t\\t\\t\\t<svg class=\\\"icon icon-side-prev\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-side-prev\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</span>\\n\\t\\t</button>\\n\\t\\t<ul>\\n\\t\\t\\t<li *ngFor=\\\"let image of canvasService.allImages;let i=index;\\\" [ngClass]=\\\"{active: activeImageId == image.image_id}\\\" id=\\\"side_{{i+1}}\\\"\\n\\t\\t\\t(click)=\\\"changeImageSide(image.image_id,i)\\\"><span></span></li>\\n\\t\\t</ul>\\n\\t\\t<button container=\\\"body\\\" class=\\\"byi-side-btn byi-next-side\\\" *ngIf=\\\"enableNext\\\" (click)=\\\"changeNextPrevSide('next')\\\" tooltip=\\\"{{'Next Side' | translate}}\\\">\\n\\t\\t\\t<span>\\n\\t\\t\\t\\t<svg class=\\\"icon icon-side-next\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-side-next\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</span>\\n\\t\\t</button>\\n\\t</div>\\n</div>\\n\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/image-sides/image-sides.component.scss\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/image-sides/image-sides.component.scss ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9pbWFnZS1zaWRlcy9pbWFnZS1zaWRlcy5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/image-sides/image-sides.component.ts\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/essentials/components/image-sides/image-sides.component.ts ***!\n  \\****************************************************************************/\n/*! exports provided: ImageSidesComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageSidesComponent\", function() { return ImageSidesComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\nvar ImageSidesComponent = /** @class */ (function () {\n    function ImageSidesComponent(eventService, canvasService, mainService) {\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.mainService = mainService;\n        this.enableNext = true;\n        this.pointerCount = 1;\n    }\n    ImageSidesComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.eventService.$sub('changeImageSide', function (data) {\n            if (data && data.hasOwnProperty('canvas')) {\n                var index = data.hasOwnProperty('index') ? data.hasOwnProperty('index') : null;\n                _this.changeImageSide(data.canvas['image_id'], index, data.canvas['designarea_id']);\n            }\n        });\n        this.eventService.$sub('changeSide', function (changeSideObj) {\n            _this.changeImageSide(changeSideObj.image_id, changeSideObj.index);\n        });\n    };\n    ImageSidesComponent.prototype.ngAfterViewInit = function () {\n        this.imagesLength = (this.canvasService.allImages.length > 5) ? 5 : this.canvasService.allImages.length;\n    };\n    ImageSidesComponent.prototype.changeImageSider = function (event) {\n        this.changeImageSide(event.image_id, event.slide);\n    };\n    /**\n     * [changeImageSide Change image side]\n     * @param  image_id [image id of desired side]\n     */\n    ImageSidesComponent.prototype.changeImageSide = function (image_id, index, designAreaId) {\n        if (designAreaId === void 0) { designAreaId = null; }\n        if (index != null) {\n            this.indexOfActiveImage = index;\n            this.updateNextPrev();\n        }\n        var eventData = (designAreaId == null) ? image_id : { image_id: image_id, design_area_id: designAreaId };\n        this.eventService.$pub('imageSideChangeBefore', eventData);\n    };\n    ImageSidesComponent.prototype.changeNextPrevSide = function (type) {\n        var self = this;\n        this.indexOfActiveImage = this.canvasService.allImages.indexOf(this.canvasService.allImages.find(function (obj) { return (obj.image_id == self.activeImageId); }));\n        var index;\n        if (type == 'prev') {\n            index = this.indexOfActiveImage - this.pointerCount;\n        }\n        else if (type == 'next') {\n            index = this.indexOfActiveImage + this.pointerCount;\n        }\n        var updatedImageId = this.canvasService.allImages.find(function (x, i) {\n            return i == index;\n        }).image_id;\n        if (updatedImageId) {\n            this.changeImageSide(updatedImageId, index);\n        }\n    };\n    ImageSidesComponent.prototype.updateNextPrev = function () {\n        var self = this;\n        if (!this.canvasService.allImages.length)\n            return;\n        var prevImage = this.canvasService.allImages.find(function (x, i) {\n            return i == self.indexOfActiveImage - self.pointerCount;\n        });\n        var nextImage = this.canvasService.allImages.find(function (x, i) {\n            return i == self.indexOfActiveImage + self.pointerCount;\n        });\n        if (prevImage) {\n            this.enablePrev = 1;\n        }\n        else {\n            this.enablePrev = 0;\n        }\n        if (nextImage) {\n            this.enableNext = 1;\n        }\n        else {\n            this.enableNext = 0;\n        }\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ImageSidesComponent.prototype, \"activeImageId\", void 0);\n    ImageSidesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: 'image-sides',\n            template: __webpack_require__(/*! ./image-sides.component.html */ \"./src/app/essentials/components/image-sides/image-sides.component.html\"),\n            styles: [__webpack_require__(/*! ./image-sides.component.scss */ \"./src/app/essentials/components/image-sides/image-sides.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"]])\n    ], ImageSidesComponent);\n    return ImageSidesComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/image-upload/image-upload.component.html\":\n/*!********************************************************************************!*\\\n  !*** ./src/app/essentials/components/image-upload/image-upload.component.html ***!\n  \\********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div loader #subtabLoader></div>\\n\\n\\n<div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent\\\">\\n\\t<div class=\\\"byi-top-filters\\\" *ngIf=\\\"uploadFile && uploadFile.length > 0\\\">\\n\\t\\t<ng-container *ngIf=\\\"mainService.isResponsive\\\">\\n\\t\\t\\t<div class=\\\"byi-fullview-toggle\\\">\\n\\t\\t\\t\\t<button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts)\\\">\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t</ng-container>\\n\\t</div>\\n\\t<div class=\\\"byi-img-upload-wrap\\\">\\n\\t\\t<div id=\\\"upload_agreement_box\\\" [ngClass]=\\\"confimationclass ? 'focused' : ''\\\" class=\\\"upload-agreement-box\\\"\\n\\t\\t\\t*ngIf=\\\"confirmImageUpload\\\" [hidden]=\\\"showAllFonts\\\" (change)=\\\"changeconfimationvalue()\\\">\\n\\t\\t\\t<label class=\\\"byi-checkbox\\\">\\n\\t\\t\\t\\t<input id=\\\"upload_agreement\\\" type=\\\"checkbox\\\"> {{confirmImageText}}\\n\\t\\t\\t\\t<span></span>\\n\\t\\t\\t</label>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-img-upload\\\" [class.byi-img-upload-mob]=\\\"mainService.isResponsive\\\">\\n\\t\\t\\t<div class=\\\"byi-uploader\\\">\\n\\t\\t\\t\\t<div class=\\\"byi-file-upload\\\" *ngIf=\\\"!mainService.isResponsive\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"upload-icon\\\">\\n\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-upload\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-upload\\\"></use>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>{{'Choose a file or drag it here.' | translate}}</span>\\n\\t\\t\\t\\t\\t<ng-container [ngTemplateOutlet]=\\\"uploader\\\"></ng-container>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<ng-container *ngIf=\\\"mainService.isResponsive && !showAllFonts\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"upload-icon\\\">\\n\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-upload-mob\\\" viewBox=\\\"0 0 40 40\\\">\\n\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-upload-mob\\\"></use>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<ng-container [ngTemplateOutlet]=\\\"uploader\\\"></ng-container>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-social-media-import\\\" social-media-import [hidden]=\\\"showAllFonts\\\"></div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-social-media-listing\\\" social-media-listing></div>\\n\\t\\t<div class=\\\"byi-upload-list\\\" *ngIf=\\\"uploadFile && uploadFile.length > 0\\\">\\n\\t\\t\\t<ul>\\n\\t\\t\\t\\t<li *ngFor=\\\"let imgData of uploadFile; let i = index\\\">\\n\\t\\t\\t\\t\\t<span>\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" (click)=\\\"deleteImg(imgData.url, imgData.id,i)\\\" class=\\\"byi-icon-delete\\\">\\n\\t\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 38\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n\\t\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t\\t<img draggable=\\\"true\\\" [src]=\\\"imgData.url\\\" [attr.url]=\\\"imgData.medium_url\\\" class=\\\"byidraggable\\\" [attr.tab]=\\\"'upload'\\\" [attr.drop]=\\\"imgData.drop\\\"  (click)=\\\"addImageToCanvas(imgData.medium_url,{})\\\"\\n\\t\\t\\t\\t\\t\\t\\t(error)=\\\"getDefaultImage(imgData)\\\" alt=\\\"\\\">\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"loadmore-action\\\" *ngIf=\\\"mainService.isResponsive && isEnableloadmore\\\">\\n\\t\\t\\t<input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreDesigns()\\\">\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-list-loader\\\" loader #loaderComponent></div>\\n\\t\\t<div class=\\\"loadmore-action\\\" *ngIf=\\\"!mainService.isResponsive && isEnableloadmore\\\">\\n\\t\\t\\t<input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreImages()\\\">\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-info-note\\\" *ngIf=\\\"showInstruction && !showAllFonts\\\">\\n\\t\\t\\t<p>{{instructionText}}</p>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-customer-login\\\" *ngIf=\\\"!mainService.userLoggedIn && mainService.isAdmin == false\\\"\\n\\t\\t\\t[hidden]=\\\"showAllFonts\\\">\\n\\t\\t\\t<button (click)=\\\"login()\\\" class=\\\"byi-btn byi-btn-xs\\\"\\n\\t\\t\\t\\ttype=\\\"button\\\">{{'Get your saved images' | translate}}</button>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"byi-apply-all\\\" apply-images [files]=\\\"uploadFile\\\" [byitab]=\\\"'upload'\\\"></div>\\n\\t</div>\\n</div>\\n<ng-template #uploader>\\n\\t<form enctype=\\\"multipart/form-data\\\">\\n\\t\\t<input #myInput type=\\\"file\\\" accept=\\\"image/*\\\" (click)=\\\"checkConfirmation()\\\" (change)=\\\"drop($event,false)\\\" multiple>\\n\\t</form>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/image-upload/image-upload.component.scss\":\n/*!********************************************************************************!*\\\n  !*** ./src/app/essentials/components/image-upload/image-upload.component.scss ***!\n  \\********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9pbWFnZS11cGxvYWQvaW1hZ2UtdXBsb2FkLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/image-upload/image-upload.component.ts\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/image-upload/image-upload.component.ts ***!\n  \\******************************************************************************/\n/*! exports provided: ImageUploadComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageUploadComponent\", function() { return ImageUploadComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common/http */ \"./node_modules/@angular/common/fesm5/http.js\");\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nvar ImageUploadComponent = /** @class */ (function () {\n    function ImageUploadComponent(http, mainService, canvasService, cacheService, pubsub, addImageService, translate, tabsService, cdr) {\n        this.http = http;\n        this.mainService = mainService;\n        this.canvasService = canvasService;\n        this.cacheService = cacheService;\n        this.pubsub = pubsub;\n        this.addImageService = addImageService;\n        this.translate = translate;\n        this.tabsService = tabsService;\n        this.cdr = cdr;\n        this.currentTab = 3;\n        this.accordianId = 0;\n        this.uploadFile = [];\n        this.uploadedImages = 0;\n        this.imagUrls = [];\n        this.imageData = {};\n        this.checkConfimation = 0;\n        this.totalpages = 0;\n        this.page = 1;\n        this.isEnableloadmore = false;\n        this.imageLimit = 12;\n        this.showAllFonts = false;\n        this.ImageDataCacheKey = 'ImageData - ' + this.mainService.baseUrl;\n    }\n    ImageUploadComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.pubsub.$sub('displayUploadImageLimitError', function () {\n            _this.displayUploadImageLimitError();\n        });\n        this.pubsub.$sub('getSubTabs', function (mainTabId) {\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\n                _this.getSubTabs(mainTabId);\n            }\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\n        });\n        if (this.loadContent && this.mainService.userLoggedIn) {\n            this.getUserImages();\n        }\n        if (!this.pubsub.events.customerLoggedIn) {\n            this.pubsub.$sub('customerLoggedIn', function () {\n                _this.cdr.detectChanges();\n                _this.getUserImages();\n            });\n        }\n        this.pubsub.$sub('objectSelectionUpdated', function (obj) {\n            if (obj.tab == 'upload') {\n                if (_this.mainService.isResponsive) {\n                    var self_1 = _this;\n                    _this.pubsub.$pub('getActiveTabId', _this.currentTab);\n                    setTimeout(function () {\n                        var currentSelectedObj = self_1.canvasService.getActiveObjectFromAllCanvases();\n                        if (currentSelectedObj && currentSelectedObj.tab == obj.tab) {\n                            self_1.tabsService.showChildTabs('image-upload');\n                        }\n                    }, 100);\n                }\n                else {\n                    _this.pubsub.$pub('getActiveTabId', _this.currentTab);\n                }\n            }\n        });\n        this.pubsub.$sub('objectSelectionCreated', function (obj) {\n            var showSubChilds = false, childTabs;\n            if (obj.type == 'activeSelection') {\n                var anyUploadImgObj = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.tab == 'upload'; }));\n                if (anyUploadImgObj != -1) {\n                    showSubChilds = true;\n                    var findNonImgObj = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.objType != 'image'; })) >= 0) ? true : false, findNonSvg = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.isSvg != true; })) >= 0) ? true : false, findNonPng = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.isSvg == true; })) >= 0) ? true : false;\n                    if (!findNonImgObj && (findNonSvg && !findNonPng) || (findNonPng && !findNonSvg)) {\n                        childTabs = 'image-upload';\n                    }\n                    else {\n                        childTabs = 'common';\n                    }\n                }\n            }\n            else if (obj.tab == 'upload') {\n                showSubChilds = true;\n                childTabs = 'image-upload';\n            }\n            if (_this.mainService.isResponsive && showSubChilds == true) {\n                var self_2 = _this;\n                setTimeout(function () {\n                    var currentSelectedObj = self_2.canvasService.getActiveObjectFromAllCanvases();\n                    if (currentSelectedObj && currentSelectedObj.tab == obj.tab) {\n                        self_2.tabsService.showChildTabs('image-upload');\n                    }\n                }, 100);\n                _this.pubsub.$pub('getActiveTabId', _this.currentTab);\n            }\n        });\n        this.pubsub.$sub('objectRemoved', function (obj) {\n            if (obj.tab == 'upload') {\n                _this.pubsub.$pub('getActiveTabId', _this.currentTab);\n            }\n        });\n        this.pubsub.$sub('objectAdded', function (obj) {\n            if (obj.tab == 'upload') {\n                _this.showFonts(true);\n            }\n        });\n        if (!this.pubsub.events.addUploadImage) {\n            this.pubsub.$sub('addUploadImage', function (data) {\n                _this.addImageToCanvas(data.img, data);\n            });\n        }\n        this.pubsub.$sub('UploadDropImage', function (event) {\n            _this.checkConfirmation();\n            _this.drop(event, true);\n        });\n    };\n    ImageUploadComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.subscribeEvents();\n        if (this.mainService.imageConfigRequest == true) {\n            this.mainService.imageConfigRequest = false;\n            var params = { 'product_id': this.mainService.productId }, url = 'productdesigner/ImageUpload/getImageConfiguration', cacheKey = this.ImageDataCacheKey;\n            this.mainService.getData(url, params, cacheKey).then(function (data) {\n                _this.mainService.imageConfigRequest = true;\n                _this.setUploadData(data);\n                _this.cacheService.set(_this.ImageDataCacheKey, data, { maxAge: 15 * 60 });\n            }).catch(function (err) { return console.log(err); });\n        }\n        this.pubsub.$sub('closeFullView', function (showAllFonts) {\n            _this.showAllFonts = showAllFonts;\n            _this.showFonts(showAllFonts);\n        });\n    };\n    ImageUploadComponent.prototype.ngAfterViewInit = function () {\n        this.cdr.detectChanges();\n    };\n    ImageUploadComponent.prototype.getUserImages = function () {\n        var _this = this;\n        var url = 'productdesigner/Customer/getCustomerImages', params = { 'page': this.page, 'limit': this.imageLimit };\n        var cacheKey = null;\n        this.mainService.getData(url, params, cacheKey).then(function (customerImages) {\n            _this.userImages = customerImages.images;\n            _this.isEnableloadmore = (customerImages.loadMore == 0) ? false : true;\n            if (_this.mainService.userLoggedIn && _this.userImages) {\n                for (var i = 0; i < _this.userImages.length; i++) {\n                    _this.imageData = {};\n                    _this.imageData.url = _this.userImages[i].url;\n                    _this.imageData.medium_url = _this.userImages[i].medium_url;\n                    _this.imageData.id = _this.userImages[i].id;\n                    _this.uploadFile.push(_this.imageData);\n                }\n                _this.pubsub.$pub('fileUploaded');\n            }\n        }).catch(function (err) { return console.log(err); });\n    };\n    ImageUploadComponent.prototype.loadMoreDesigns = function () {\n        this.page = this.page + 1;\n        this.getUserImages();\n    };\n    ImageUploadComponent.prototype.getSubTabs = function (mainTabId) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var data;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                data = this.mainService.tabsFlow[mainTabId];\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\n                if (this.subTabsData && this.subTabsData.length > 0) {\n                    this.accordianId = this.subTabsData[0].id;\n                }\n                if (this.subtabLoader && this.subtabLoader.showSubLoader)\n                    this.subtabLoader.showSubLoader = false;\n                return [2 /*return*/];\n            });\n        });\n    };\n    ImageUploadComponent.prototype.loadMoreImages = function () {\n        this.page++;\n        this.getUserImages();\n        if (this.page == this.totalpages)\n            this.isEnableloadmore = false;\n    };\n    ImageUploadComponent.prototype.setUploadData = function (data) {\n        this.showInstruction = data.showInstruction;\n        this.instructionText = data.instructionText;\n        this.uploadLimitEnable = data.uploadLimitEnable;\n        this.canvasService.objectLimit = Object.assign(this.canvasService.objectLimit, { uploadImageLimit: parseInt(data.uploadImageLimit) });\n        this.limitAlert = data.limitAlert;\n        this.minImageSize = data.minImageSize;\n        this.maxImageSize = data.maxImageSize;\n        this.confirmImageUpload = parseInt(data.confirmImageUpload);\n        this.confirmImageText = data.confirmImageText;\n    };\n    ImageUploadComponent.prototype.changeconfimationvalue = function () {\n        if (this.checkConfimation == 0) {\n            this.checkConfimation = 1;\n            this.confimationclass = \"\";\n        }\n        else {\n            this.checkConfimation = 0;\n        }\n    };\n    ImageUploadComponent.prototype.checkConfirmation = function () {\n        if (this.confirmImageUpload == 1) {\n            if (this.checkConfimation == 0) {\n                var input = document.getElementById(\"upload_agreement\");\n                input.focus();\n                this.confimationclass = \"focused\";\n                if (this.myInputVariable) {\n                    this.myInputVariable.nativeElement.value = \"\";\n                }\n                return false;\n            }\n            else {\n                this.confimationclass = \"\";\n                return true;\n            }\n        }\n        else {\n            this.confimationclass = \"\";\n            return true;\n        }\n    };\n    ImageUploadComponent.prototype.login = function () {\n        this.pubsub.$pub('openLoginModal', false);\n    };\n    ImageUploadComponent.prototype.drop = function (event, drop) {\n        var _this = this;\n        var file_data;\n        if (!drop) {\n            file_data = event.target.files;\n        }\n        else {\n            file_data = event.dataTransfer.files;\n        }\n        var img_form_data = new FormData();\n        var supportedExt = [\"jpg\", \"jpeg\", \"svg\", \"png\", \"JPG\", \"JPEG\", \"SVG\", \"PNG\"];\n        var counter = 0, totalFiles = file_data.length;\n        if (!this.checkConfirmation()) {\n            return false;\n        }\n        else {\n            for (var j = 0; j < totalFiles; j++) {\n                var imageExt = file_data[j].name.split('.').pop();\n                var size = file_data[j].size;\n                if (supportedExt.indexOf(imageExt) == -1) {\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\n                        title: this.translate.instant('Error'),\n                        text: this.translate.instant('Please upload valid file.'),\n                        type: \"warning\",\n                        confirmButtonText: this.translate.instant('OK'),\n                        allowOutsideClick: false\n                    });\n                    counter++;\n                }\n                else if (this.maxImageSize != \"\" && size > parseInt(this.maxImageSize) * 1024 * 1024 && this.maxImageSize != 0) {\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\n                        title: this.translate.instant('Error'),\n                        text: this.translate.instant(\"Please upload  maximum \") + parseInt(this.maxImageSize) + this.translate.instant(\" MB size !\"),\n                        type: \"warning\",\n                        confirmButtonText: this.translate.instant('OK'),\n                        allowOutsideClick: false\n                    });\n                    counter++;\n                }\n                else if (this.minImageSize != \"\" && size < parseInt(this.minImageSize) * 1024 * 1024 && this.minImageSize != 0) {\n                    sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\n                        title: this.translate.instant('Error'),\n                        text: this.translate.instant('File is too small'),\n                        type: \"warning\",\n                        confirmButtonText: this.translate.instant('OK'),\n                        allowOutsideClick: false\n                    });\n                    counter++;\n                }\n                else {\n                    this.loaderComponent.showSubLoader = true;\n                    img_form_data.append(\"file\", file_data[j]);\n                    img_form_data.append(\"product_id\", this.mainService.productId);\n                    // set headers\n                    var HttpUploadOptions = new _angular_common_http__WEBPACK_IMPORTED_MODULE_6__[\"HttpHeaders\"]();\n                    HttpUploadOptions = HttpUploadOptions.append(\"Accept\", \"application/json\");\n                    HttpUploadOptions = HttpUploadOptions.append(\"X-Requested-With\", \"XMLHttpRequest\");\n                    // send request\n                    this.mainService.post('productdesigner/Index/upload', img_form_data, false, HttpUploadOptions)\n                        .then(function (data) {\n                        counter++;\n                        if (data && data.status == true) {\n                            if (drop) {\n                                data.drop = true;\n                            }\n                            _this.uploadFile.push(data);\n                            _this.pubsub.$pub('fileUploaded');\n                        }\n                        else {\n                            _this.mainService.swal('Error', (data && data.msg) ? data.msg : 'Something went wrong', 'error');\n                        }\n                    }).catch(function (err) {\n                        var errMessage = (err && err.error && err.error.message) ? err.error.message : \"Something went wrong\";\n                        sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\n                            title: _this.translate.instant('Error'),\n                            text: errMessage,\n                            type: \"warning\",\n                            confirmButtonText: _this.translate.instant('OK'),\n                        });\n                        console.log(err);\n                        counter++;\n                    }).finally(function () {\n                        if (counter >= totalFiles) {\n                            _this.loaderComponent.showSubLoader = false;\n                        }\n                    });\n                }\n            }\n        }\n        if (this.myInputVariable) {\n            this.myInputVariable.nativeElement.value = \"\";\n        }\n    };\n    ImageUploadComponent.prototype.deleteImg = function (url, id, index) {\n        var _this = this;\n        sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\n            title: this.translate.instant('Alert'),\n            text: this.translate.instant(\"Are you sure you want to delete this image !\"),\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: this.translate.instant('Yes'),\n            cancelButtonText: this.translate.instant('No'),\n            allowOutsideClick: false\n        }).then(function (result) {\n            if (result.value) {\n                _this.uploadFile.splice(index, 1);\n                var params = { 'action': 'delete', 'url': url, 'id': id };\n                // set headers\n                var HttpUploadOptions = new _angular_common_http__WEBPACK_IMPORTED_MODULE_6__[\"HttpHeaders\"]();\n                HttpUploadOptions = HttpUploadOptions.append(\"Accept\", \"application/json\");\n                HttpUploadOptions = HttpUploadOptions.append(\"X-Requested-With\", \"XMLHttpRequest\");\n                return _this.mainService.post('productdesigner/Index/upload', params, false, HttpUploadOptions)\n                    .then(function (res) { return res; });\n            }\n        });\n    };\n    ImageUploadComponent.prototype.getImgdata = function (img_form_data, HttpUploadOptions) {\n        return this.mainService.post(this.mainService.baseUrl + 'productdesigner/Index/upload', img_form_data, false, HttpUploadOptions);\n    };\n    ImageUploadComponent.prototype.addImageToCanvas = function (img, data) {\n        var getTotalClipart = this.canvasService.getObjectTypeFromAllCanvas('tab', 'upload');\n        if ((this.uploadLimitEnable == 1) && parseInt(getTotalClipart) >= parseInt(this.canvasService.objectLimit.uploadImageLimit)) {\n            this.displayUploadImageLimitError();\n        }\n        else {\n            var properties = { tab: 'upload' };\n            if (data.canvas) {\n                properties.canvas = data.canvas;\n            }\n            this.addImageService.addImage(img, properties);\n        }\n    };\n    ImageUploadComponent.prototype.displayUploadImageLimitError = function () {\n        sweetalert2__WEBPACK_IMPORTED_MODULE_10___default.a.fire({\n            title: this.translate.instant('Error'),\n            text: this.translate.instant(this.limitAlert),\n            type: \"warning\",\n            confirmButtonText: this.translate.instant('OK'),\n        });\n    };\n    ImageUploadComponent.prototype.getDefaultImage = function (obj) {\n        var found = this.uploadFile.find(function (uploadFileObj) { return uploadFileObj.uniqueId == obj.uniqueId; });\n        found.url = this.mainService.defaultPlaceholderImage;\n        this.uploadFile[this.uploadFile.indexOf(found)] = found;\n    };\n    ImageUploadComponent.prototype.showFonts = function (showAllFonts) {\n        this.showAllFonts = !showAllFonts;\n        this.pubsub.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Show all images' });\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ImageUploadComponent.prototype, \"loadContent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])('myInput'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ElementRef\"])\n    ], ImageUploadComponent.prototype, \"myInputVariable\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\n    ], ImageUploadComponent.prototype, \"loaderComponent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"subtabLoader\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_1__[\"LoaderComponent\"])\n    ], ImageUploadComponent.prototype, \"subtabLoader\", void 0);\n    ImageUploadComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: '[image-upload]',\n            template: __webpack_require__(/*! ./image-upload.component.html */ \"./src/app/essentials/components/image-upload/image-upload.component.html\"),\n            styles: [__webpack_require__(/*! ./image-upload.component.scss */ \"./src/app/essentials/components/image-upload/image-upload.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_angular_common_http__WEBPACK_IMPORTED_MODULE_6__[\"HttpClient\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_8__[\"CanvasService\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_4__[\"CacheService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\n            src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_7__[\"AddImageService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__[\"TranslateService\"],\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_9__[\"TabsService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"]])\n    ], ImageUploadComponent);\n    return ImageUploadComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/layer-management/layer-management.component.html\":\n/*!****************************************************************************************!*\\\n  !*** ./src/app/essentials/components/layer-management/layer-management.component.html ***!\n  \\****************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div *ngIf=\\\"isEnableLayer\\\" class=\\\"byi-layer\\\" id=\\\"layers_manager\\\">\\n  <button class=\\\"byi-btn-layer\\\" (click)=\\\"showLayers()\\\" tooltip=\\\"{{'Layer' | translate}}\\\" [placement]=\\\"left\\\">\\n    <svg class=\\\"icon icon-layer\\\" viewBox=\\\"0 0 50 50\\\">\\n      <use xlink:href=\\\"assets/img/sprite.svg#icon-layer\\\"></use>\\n    </svg>\\n  </button>\\n  <div id=\\\"layers_ul\\\" class=\\\"byi-layer-box\\\" [ngClass]=\\\"showLayer ? 'open' : ''\\\">\\n    <div class=\\\"byilb-head\\\">\\n      <label class=\\\"\\\">{{'Layer' | translate}}</label>\\n      <label class=\\\"byilb-l-view\\\">{{'View' | translate}}</label>\\n      <label class=\\\"byilb-l-back\\\">{{'Back' | translate}}</label>\\n      <label class=\\\"byilb-l-front\\\">{{'Front' | translate}}</label>\\n      <label class=\\\"byilb-l-lock\\\">{{'Lock' | translate}}</label>\\n      <label class=\\\"byilb-l-delete\\\">{{'Delete' | translate}}</label>\\n    </div>\\n    <ul [class.byi-layer-noscroll]=\\\"layerArray.length == 1\\\">\\n      <li *ngFor=\\\"let object of layerArray; let first = first\\\"\\n        [ngClass]=\\\"((object.id == currentObjId) ? ((object.ultimatelock == true) ? 'active disabled' : 'active') : ((object.ultimatelock == true) ? 'disabled' : '') )\\\">\\n        <label class=\\\"layer outsideclick\\\" id=\\\"layer\\\" (click)=\\\"selectThisObject(object)\\\"\\n          tooltip=\\\"{{'Select Object' | translate}}\\\" placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\">\\n          <img *ngIf=\\\"object.type != 'text'\\\" [src]=\\\"object.src\\\" width=\\\"30\\\" id=\\\"layer\\\" class=\\\"layer\\\">\\n          <svg *ngIf=\\\"object.type == 'text'\\\" viewBox=\\\"0 0 50 50\\\" class=\\\"icon icon-textComponent outsideclick\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-textComponent\\\"></use>\\n          </svg>\\n        </label>\\n        <label class=\\\"byilb-l-view outsideclick\\\" [ngClass]=\\\"object.opacity == 0 ? 'active' : ''\\\"\\n          (click)=\\\"hideShow(object)\\\" tooltip=\\\"{{object.opacity == 0 ? 'Show Object' : 'Hide Object' | translate}}\\\"\\n          placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\">\\n          <svg class=\\\"icon icon-view-alt outsideclick\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-view-alt\\\"></use>\\n          </svg>\\n        </label>\\n        <label class=\\\"byilb-l-back outsideclick\\\" id=\\\"back\\\" (click)=\\\"canvasService.ObjectLayer('backward',object)\\\"\\n          tooltip=\\\"{{'Send Backward' | translate}}\\\" placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\"\\n          [ngClass]=\\\"{'disabled': object.disableSendToBack}\\\">\\n          <svg class=\\\"icon icon-layer-down outsideclick\\\" id=\\\"front\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-bottom\\\" id=\\\"front\\\"></use>\\n          </svg>\\n        </label>\\n        <label class=\\\"byilb-l-front outsideclick\\\" id=\\\"front\\\" (click)=\\\"canvasService.ObjectLayer('forward',object)\\\"\\n          tooltip=\\\"{{'Bring Forward' | translate}}\\\" placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\"\\n          [ngClass]=\\\"{'disabled': object.disableBringToFront}\\\">\\n          <svg class=\\\"icon icon-layer-top outsideclick\\\" id=\\\"back\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-top\\\" id=\\\"back\\\"></use>\\n          </svg>\\n        </label>\\n        <label class=\\\"byilb-l-lock outsideclick\\\" [ngClass]=\\\"(object.selectable == false) ? 'active' : ''\\\" id=\\\"lock\\\"\\n          (click)=\\\"lockObject(object)\\\" placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\"\\n          tooltip=\\\"{{(object.selectable == false) ? 'Unlock Object' : 'Lock Object' | translate}}\\\">\\n          <svg class=\\\"icon icon-t-lock outsideclick\\\" id=\\\"lock\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-t-lock\\\" id=\\\"lock\\\"></use>\\n          </svg>\\n        </label>\\n        <label class=\\\"byilb-l-delete outsideclick\\\" id=\\\"delete\\\" (click)=\\\"deleteObj(object)\\\"\\n          tooltip=\\\"{{'Delete Object' | translate}}\\\" placement=\\\"{{(first) ? 'bottom' : 'top'}}\\\">\\n          <svg class=\\\"icon icon-t-delete outsideclick\\\" id=\\\"delete\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\" id=\\\"delete\\\"></use>\\n          </svg>\\n        </label>\\n      </li>\\n    </ul>\\n  </div>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/layer-management/layer-management.component.scss\":\n/*!****************************************************************************************!*\\\n  !*** ./src/app/essentials/components/layer-management/layer-management.component.scss ***!\n  \\****************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9sYXllci1tYW5hZ2VtZW50L2xheWVyLW1hbmFnZW1lbnQuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/layer-management/layer-management.component.ts\":\n/*!**************************************************************************************!*\\\n  !*** ./src/app/essentials/components/layer-management/layer-management.component.ts ***!\n  \\**************************************************************************************/\n/*! exports provided: LayerManagementComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LayerManagementComponent\", function() { return LayerManagementComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var _right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../right-panel/right-panel.service */ \"./src/app/essentials/components/right-panel/right-panel.service.ts\");\n\n\n\n\n\nvar LayerManagementComponent = /** @class */ (function () {\n    function LayerManagementComponent(canvasService, eventService, rightPanelService) {\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.rightPanelService = rightPanelService;\n        this.isEnableLayer = false;\n        this.layerArray = [];\n        this.objCounter = 0;\n        this.showLayer = false;\n        this.hideShowClass = false;\n        this.isImageSideChange = false;\n        this.uniqueObj = [];\n    }\n    LayerManagementComponent.prototype.ngOnInit = function () {\n        this.subscribeEvents();\n    };\n    LayerManagementComponent.prototype.initData = function () {\n        this.rightPanelService.enableForMultipleObject();\n        this.checkForLayers();\n    };\n    LayerManagementComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('objectAdded', function (object) {\n            _this.initData();\n            _this.updateLayers();\n        });\n        this.eventService.$sub('objectSelectionCreated', function (object) {\n            _this.initData();\n            _this.currentObjId = object.id;\n        });\n        this.eventService.$sub('objectUpdated', function () {\n            _this.initData();\n        });\n        this.eventService.$sub('canvasObjectModified', function () {\n            _this.initData();\n        });\n        this.eventService.$sub('imageSideChanged', function () {\n            _this.initData();\n        });\n        this.eventService.$sub('allcanvasCreated', function (object) {\n            _this.updateLayers();\n        });\n        this.eventService.$sub('imageSideChangeBefore', function (object) {\n            _this.isImageSideChange = true;\n            _this.updateLayers();\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (object) {\n            _this.currentObjId = object.id;\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this.currentObjId = '';\n            _this.showLayer = false;\n        });\n        this.eventService.$sub('objectRemoved', function (removedObject) {\n            _this.updateLayers();\n        });\n        this.eventService.$sub('closeLayer', function () {\n            _this.showLayer = false;\n        });\n    };\n    LayerManagementComponent.prototype.updateLayers = function () {\n        var _this = this;\n        this.layerArray = [];\n        for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var canvas = this.canvasService.containerCanvases[key];\n            if (canvas != undefined) {\n                var getObjs = this.canvasService.getObjects(canvas);\n                if (getObjs.length > 0) {\n                    getObjs.filter(function (object) {\n                        object = (object.imageSrc) ? Object.assign(object, { src: object.imageSrc }) : object;\n                        _this.layerArray.push(object);\n                    });\n                }\n            }\n        }\n        this.isEnableLayer = (this.layerArray.length > 0) ? true : false;\n        this.showLayer = (this.isEnableLayer == false) ? false : '';\n        this.layerArray = (this.isEnableLayer == false) ? [] : this.layerArray;\n        this.checkForLayers();\n    };\n    LayerManagementComponent.prototype.checkSelectable = function (obj) {\n        return (obj.selectable) ? true : false;\n    };\n    LayerManagementComponent.prototype.hideShow = function (obj) {\n        var properties = {};\n        if (obj.opacity == 0 || obj.opacity == undefined) {\n            this.hideShowClass = false;\n            properties = { opacity: 1, hasControls: true, hasBorders: true };\n        }\n        else {\n            this.hideShowClass = true;\n            properties = { opacity: 0, hasControls: false, hasBorders: false };\n        }\n        var params = {\n            obj: obj,\n            properties: properties,\n            crudServiceString: 'this.updateObjectService',\n        };\n        var allObj = this.canvasService.getObjects();\n        var found = allObj.indexOf(allObj.find(function (currObj) { return (currObj == obj); }));\n        if (found == -1) {\n            params = Object.assign(params, { setActive: false });\n        }\n        this.canvasService.objectCRUD(params);\n    };\n    LayerManagementComponent.prototype.lockObject = function (obj) {\n        var properties = {};\n        if (obj.selectable == false) {\n            properties = { selectable: true };\n        }\n        else {\n            properties = { selectable: false };\n            this.canvasService.deselectAllObjects();\n        }\n        if (obj) {\n            var params = {\n                obj: obj,\n                properties: properties,\n                crudServiceString: 'this.updateObjectService',\n            };\n            var allObj = this.canvasService.getObjects();\n            var found = allObj.indexOf(allObj.find(function (currObj) { return (currObj == obj); }));\n            if (found == -1) {\n                params = Object.assign(params, { setActive: false });\n            }\n            this.canvasService.objectCRUD(params);\n        }\n    };\n    LayerManagementComponent.prototype.showLayers = function () {\n        if (this.showLayer == false) {\n            this.showLayer = true;\n        }\n        else {\n            this.showLayer = false;\n        }\n    };\n    LayerManagementComponent.prototype.deleteObj = function (object) {\n        var self = this;\n        var _loop_1 = function (key) {\n            var canvas = this_1.canvasService.containerCanvases[key];\n            if (canvas != undefined) {\n                var objs = this_1.canvasService.getObjects(canvas);\n                objs.forEach(function (obj, index) {\n                    if (object.id == obj.id) {\n                        var params = {\n                            obj: object,\n                            canvas: canvas,\n                            properties: null,\n                            crudServiceString: 'this.removeObjectService',\n                        };\n                        self.canvasService.objectCRUD(params);\n                        self.canvasService.currentCanvas.discardActiveObject();\n                        self.canvasService.currentCanvas.requestRenderAll();\n                    }\n                });\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(this.canvasService.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n    };\n    LayerManagementComponent.prototype.selectThisObject = function (object) {\n        // if selected object is not present in current canvas\n        // we will find that canvas and update the same\n        if (object.selectable == true) {\n            if (this.canvasService.getObjects().indexOf(object) == -1) {\n                // local vars\n                var allCanvas = this.canvasService.containerCanvases, allObj = void 0, found = void 0, canvas = void 0, index = 0;\n                // traversal\n                for (var key in allCanvas) {\n                    allObj = allCanvas[key].getObjects();\n                    found = allObj.indexOf(object);\n                    if (found >= 0) {\n                        canvas = allCanvas[key]; //Object.assign({}, allCanvas[key]);\n                        break;\n                    }\n                    index++;\n                }\n                // if we found image id and index after traversal finished,\n                // proceed to change side\n                if (found >= 0) {\n                    this.eventService.$pub('changeImageSide', { canvas: canvas, index: index });\n                    canvas.setActiveObject(object).renderAll();\n                }\n                // otherwise select object in current canvas\n            }\n            else {\n                this.canvasService.currentCanvas.setActiveObject(object).renderAll();\n            }\n        }\n    };\n    LayerManagementComponent.prototype.checkForLayers = function () {\n        var allObj = this.canvasService.getObjects(), index, isCurrentCanvasObj;\n        this.layerArray.filter(function (obj) {\n            index = allObj.indexOf(obj);\n            if (index == -1 || allObj.length == 1) {\n                obj.disableSendToBack = true;\n                obj.disableBringToFront = true;\n            }\n            else if (index == 0) {\n                obj.disableSendToBack = true;\n                if (obj.hasOwnProperty('disableBringToFront'))\n                    delete obj.disableBringToFront;\n            }\n            else if (index == allObj.length - 1) {\n                obj.disableBringToFront = true;\n                if (obj.hasOwnProperty('disableSendToBack'))\n                    delete obj.disableSendToBack;\n            }\n            else {\n                if (obj.hasOwnProperty('disableBringToFront'))\n                    delete obj.disableBringToFront;\n                if (obj.hasOwnProperty('disableSendToBack'))\n                    delete obj.disableSendToBack;\n            }\n        });\n    };\n    LayerManagementComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: 'layer-management',\n            template: __webpack_require__(/*! ./layer-management.component.html */ \"./src/app/essentials/components/layer-management/layer-management.component.html\"),\n            styles: [__webpack_require__(/*! ./layer-management.component.scss */ \"./src/app/essentials/components/layer-management/layer-management.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\n            _right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__[\"RightPanelService\"]])\n    ], LayerManagementComponent);\n    return LayerManagementComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/loader/loader.component.html\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/loader/loader.component.html ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div *ngIf=\\\"showMainLoader\\\" class=\\\"site-loader-box\\\">\\n  <svg class=\\\"sk-spinner\\\" viewBox=\\\"0 0 50 50\\\">\\n    <circle class=\\\"path\\\" cx=\\\"25\\\" cy=\\\"25\\\" r=\\\"20\\\" fill=\\\"none\\\" stroke-width=\\\"5\\\"></circle>\\n  </svg>\\n</div>\\n<div *ngIf=\\\"showSubLoader\\\" class=\\\"byi-tab-cats-loader text-center\\\">\\n  <div class=\\\"byi-spinner\\\">\\n    <div class=\\\"rect1\\\"></div>\\n    <div class=\\\"rect2\\\"></div>\\n    <div class=\\\"rect3\\\"></div>\\n    <div class=\\\"rect4\\\"></div>\\n    <div class=\\\"rect5\\\"></div>\\n  </div>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/loader/loader.component.scss\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/loader/loader.component.scss ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9sb2FkZXIvbG9hZGVyLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/loader/loader.component.ts\":\n/*!******************************************************************!*\\\n  !*** ./src/app/essentials/components/loader/loader.component.ts ***!\n  \\******************************************************************/\n/*! exports provided: LoaderComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoaderComponent\", function() { return LoaderComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar LoaderComponent = /** @class */ (function () {\n    function LoaderComponent() {\n        // main loader show hide flag\n        this.showMainLoader = false;\n        // sub  loader show hide flag\n        this.showSubLoader = false;\n    }\n    LoaderComponent.prototype.ngOnInit = function () {\n    };\n    LoaderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[loader]',\n            template: __webpack_require__(/*! ./loader.component.html */ \"./src/app/essentials/components/loader/loader.component.html\"),\n            styles: [__webpack_require__(/*! ./loader.component.scss */ \"./src/app/essentials/components/loader/loader.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], LoaderComponent);\n    return LoaderComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/my-designs/my-designs.component.html\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/essentials/components/my-designs/my-designs.component.html ***!\n  \\****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div loader #subtabLoader></div>\\n<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent\\\">\\n\\t<div class=\\\"byi-top-filters\\\" *ngIf=\\\"mainService.userLoggedIn\\\">\\n\\t\\t<ng-container *ngIf=\\\"mainService.isResponsive\\\" [attr.hidden]=\\\"componentHide\\\">\\n\\t\\t\\t<div class=\\\"byi-fullview-toggle\\\">\\n\\t\\t\\t\\t<button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts)\\\">\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t</ng-container>\\n\\t\\t<div class=\\\"byi-search\\\">\\n\\t\\t\\t<input class=\\\"byi-input\\\" name=\\\"searchText\\\" placeholder=\\\"{{'Search by Name' | translate}}\\\" type=\\\"text\\\"\\n\\t\\t\\t\\t[(ngModel)]='searchText' (keyup)=\\\"searchDesigns()\\\">\\n\\t\\t\\t<button class=\\\"byi-search-btn\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"byi-norecord\\\"\\n\\t\\t*ngIf=\\\"mainService.userLoggedIn && !loaderComponent.showSubLoade && !customerDesigns.length && !showPlaceholder\\\">\\n\\t\\t{{'No Designs Found' | translate}}\\n\\t</div>\\n\\n\\t<div class=\\\"byi-customer-login\\\" *ngIf=\\\"!mainService.userLoggedIn\\\">\\n\\t\\t<button (click)=\\\"login()\\\" class=\\\"byi-btn byi-btn-xs\\\"\\n\\t\\t\\ttype=\\\"button\\\">{{'Get your saved designs' | translate}}</button>\\n\\t</div>\\n\\n\\t<div class=\\\"byi-tab-cats byi-mydesign-list\\\">\\n\\t\\t<ul infiniteScroll [horizontal]=\\\"true\\\" [infiniteScrollDistance]=\\\"0\\\" [infiniteScrollThrottle]=\\\"1000\\\"\\n\\t\\t\\t[scrollWindow]=\\\"false\\\" [infiniteScrollDisabled]=\\\"!isEnableloadmore\\\" (scrolled)=\\\"loadMoreDesigns()\\\"\\n\\t\\t\\t#scrollToBottom>\\n\\t\\t\\t<li *ngFor=\\\"let object of customerDesigns; let i = index\\\"\\n\\t\\t\\t\\t[attr.hidden]=\\\"(showPlaceholder && mainService.isResponsive) ? true : null\\\">\\n\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" [class.image-only]=\\\"!object.title\\\">\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" (click)=\\\"deleteDesign(object.id,i)\\\" class=\\\"byi-icon-delete\\\">\\n\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 38\\\">\\n\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<span (click)=\\\"loadDesign(object.id)\\\">\\n\\t\\t\\t\\t\\t\\t<img [src]=\\\"object.path\\\" (error)=\\\"getDefaultImage(object)\\\">\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<label *ngIf=\\\"object.title\\\" (click)=\\\"loadDesign(object.id)\\\">{{object.title}}</label>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</li>\\n\\t\\t\\t<li [attr.hidden]=\\\"(!showPlaceholder || !mainService.isResponsive) ? true : null\\\"\\n\\t\\t\\t\\t*ngFor=\\\"let temp of mainService.customPlaceholderArr\\\" placeholder-loader [loaderHeight]='84'\\n\\t\\t\\t\\t[loaderWidth]='84'></li>\\n\\t\\t</ul>\\n\\t</div>\\n\\t<div loader #loaderComponent></div>\\n\\t<div class=\\\"loadmore-action\\\" *ngIf=\\\"!mainService.isResponsive && isEnableloadmore\\\">\\n\\t\\t<input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMoreDesigns()\\\">\\n\\t</div>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/my-designs/my-designs.component.scss\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/essentials/components/my-designs/my-designs.component.scss ***!\n  \\****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9teS1kZXNpZ25zL215LWRlc2lnbnMuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/my-designs/my-designs.component.ts\":\n/*!**************************************************************************!*\\\n  !*** ./src/app/essentials/components/my-designs/my-designs.component.ts ***!\n  \\**************************************************************************/\n/*! exports provided: MyDesignsComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MyDesignsComponent\", function() { return MyDesignsComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\nvar MyDesignsComponent = /** @class */ (function () {\n    /**\n     *\n     * @param mainService\n     * @param designService\n     * @param pubsub\n     * @param cdr\n     * @param cacheService\n     */\n    function MyDesignsComponent(mainService, designService, pubsub, cdr, cacheService) {\n        var _this = this;\n        this.mainService = mainService;\n        this.designService = designService;\n        this.pubsub = pubsub;\n        this.cdr = cdr;\n        this.cacheService = cacheService;\n        this.currentTab = 5;\n        this.customerDesigns = [];\n        this.searchText = '';\n        this.page = '1';\n        this.componentHide = true;\n        this.isEnableloadmore = false;\n        this.accordianId = 0;\n        this.checkDesignScroll = false;\n        this.limit = 12;\n        this.getDesignResponse = true;\n        this.showAllFonts = false;\n        this.pubsub.$sub('getSubTabs', function (mainTabId) {\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\n                _this.getSubTabs(mainTabId);\n            }\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\n        });\n    }\n    MyDesignsComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.initValues();\n        if (this.loadContent && this.loadContent == true) {\n            this.subscribeEvents();\n        }\n        this.mainService.prepareTempArrForPlaceholder(this.limit);\n        this.pubsub.$sub('closeFullView', function (showAllFonts) {\n            _this.showAllFonts = showAllFonts;\n            _this.showFonts(showAllFonts);\n        });\n    };\n    MyDesignsComponent.prototype.ngAfterViewInit = function () {\n        this.mainService.showHideSubLoader(this.subtabLoader, true);\n        this.showPlaceholder = this.mainService.showHidePlaceholder(this.showPlaceholder);\n        this.cdr.detectChanges();\n        if (this.mainService.userLoggedIn != true) {\n            this.mainService.showHideSubLoader(this.subtabLoader, true);\n            this.showPlaceholder = this.mainService.showHidePlaceholder(this.showPlaceholder);\n        }\n    };\n    MyDesignsComponent.prototype.initValues = function () {\n        this.customerId = null;\n        this.customerDesigns = [];\n        this.isEnableloadmore = false;\n        this.totalpages = 0;\n        this.checkDesignScroll = false;\n    };\n    MyDesignsComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        var self = this;\n        this.pubsub.$sub('designSaved', function (design) {\n            if (!_this.mainService.userLoggedIn)\n                return;\n            if (design && design.hasOwnProperty('clearCache') && design.clearCache == true) {\n                _this.cacheService.remove(_this.cacheKey);\n                _this.cdr.detectChanges();\n                _this.getDesigns();\n            }\n            var data = [];\n            data['id'] = design[0].designId;\n            data['product_id'] = design[0].product_id;\n            data['path'] = design[0].images.base.url;\n            data['title'] = design[0].title;\n            self.customerDesigns.push(data);\n        });\n        this.pubsub.$sub('customerLoggedIn', function () {\n            _this.cdr.detectChanges();\n            _this.getDesigns(true, true, true);\n        });\n        this.pubsub.$sub('customerLoggedOut', function () {\n            _this.initValues();\n        });\n    };\n    /**\n     *\n     * @param resetDesign\n     */\n    MyDesignsComponent.prototype.getDesigns = function (resetDesign, initLoad, waitForResponse) {\n        var _this = this;\n        if (resetDesign === void 0) { resetDesign = true; }\n        if (initLoad === void 0) { initLoad = false; }\n        if (waitForResponse === void 0) { waitForResponse = false; }\n        if (this.loadContent) {\n            this.mainService.showHideSubLoader(this.loaderComponent, true);\n            this.showPlaceholder = this.mainService.showHidePlaceholder(false);\n        }\n        var params = {\n            'product_id': this.mainService.productId,\n            'searchText': this.searchText,\n            'page': this.page,\n            'limit': this.limit\n        }, url = 'productdesigner/designs/getdesigns';\n        this.cacheKey = 'getDesigns' + this.searchText + this.page + this.mainService.baseUrl + this.mainService.loggedInUserId;\n        if (waitForResponse == true) {\n            this.cacheKey = null;\n        }\n        this.mainService.getData(url, params, this.cacheKey).then(function (designData) {\n            if (resetDesign)\n                _this.customerDesigns = [];\n            _this.customerId = designData.customer_id;\n            _this.customerDesigns = _this.customerDesigns.concat(designData.getMyDesigns);\n            _this.isEnableloadmore = (designData.loadMoreFlag == 0) ? false : true;\n            _this.totalpages = designData.totalpages;\n            _this.checkDesignScroll = true;\n        }).catch(function (err) { return console.log(err); })\n            .finally(function () {\n            if (_this.subtabLoader.showSubLoader)\n                _this.subtabLoader.showSubLoader = false;\n            if (_this.loaderComponent.showSubLoader)\n                _this.loaderComponent.showSubLoader = false;\n            _this.showPlaceholder = false;\n            _this.cdr.detectChanges();\n            if (resetDesign === false)\n                _this.scrollToBottom();\n        });\n    };\n    MyDesignsComponent.prototype.scrollToBottom = function () {\n        try {\n            if (!this.mainService.isResponsive)\n                this.ScrollContainer.nativeElement.scrollTop = this.ScrollContainer.nativeElement.scrollHeight;\n            else\n                this.ScrollContainer.nativeElement.scrollLeft = (this.ScrollContainer.nativeElement.scrollWidth - 300);\n        }\n        catch (err) { }\n    };\n    /**\n     *\n     * @param mainTabId\n     */\n    MyDesignsComponent.prototype.getSubTabs = function (mainTabId) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var data;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                data = this.mainService.tabsFlow[mainTabId];\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\n                if (this.subTabsData && this.subTabsData.length > 0) {\n                    this.accordianId = this.subTabsData[0].id;\n                }\n                if (this.subtabLoader && this.subtabLoader.showSubLoader)\n                    this.subtabLoader.showSubLoader = false;\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     *\n     * @param id\n     * @param index\n     */\n    MyDesignsComponent.prototype.deleteDesign = function (id, index) {\n        var _this = this;\n        sweetalert2__WEBPACK_IMPORTED_MODULE_7___default.a.fire({\n            title: 'Are you sure?',\n            text: \"Your design will be deleted permanently!\",\n            type: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, delete it!',\n            allowOutsideClick: false\n        }).then(function (result) {\n            if (result.value) {\n                _this.customerDesigns.splice(index, 1);\n                var params = { 'design_id': id }, url = 'productdesigner/designs/deletedesign';\n                _this.mainService.post(url, params, true).then(function (designData) {\n                    _this.cacheService.remove(_this.cacheKey);\n                }).catch(function (err) { return console.log(err); });\n            }\n        });\n    };\n    MyDesignsComponent.prototype.loadMoreDesigns = function () {\n        this.page++;\n        this.getDesigns(false);\n        if (this.page == this.totalpages)\n            this.isEnableloadmore = false;\n    };\n    MyDesignsComponent.prototype.searchDesigns = function () {\n        if (!this.mainService.userLoggedIn)\n            return;\n        this.customerDesigns = [];\n        this.page = 1;\n        this.getDesigns();\n    };\n    MyDesignsComponent.prototype.loadDesign = function (designId) {\n        this.designService.loadDesign(btoa(designId));\n    };\n    MyDesignsComponent.prototype.login = function () {\n        this.pubsub.$pub('openLoginModal', false);\n    };\n    MyDesignsComponent.prototype.getDefaultImage = function (currentObj) {\n        var found = this.customerDesigns.find(function (customDesignObj) { return (customDesignObj.id == currentObj.id && customDesignObj.product_id && currentObj.product_id); });\n        found.path = this.mainService.defaultPlaceholderImage;\n        this.customerDesigns[this.customerDesigns.indexOf(found)] = found;\n    };\n    MyDesignsComponent.prototype.showFonts = function (showAllFonts) {\n        this.showAllFonts = !showAllFonts;\n        this.pubsub.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Show all Designs' });\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('loaderComponent'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__[\"LoaderComponent\"])\n    ], MyDesignsComponent.prototype, \"loaderComponent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('subtabLoader'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__[\"LoaderComponent\"])\n    ], MyDesignsComponent.prototype, \"subtabLoader\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('scrollToBottom'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ElementRef\"])\n    ], MyDesignsComponent.prototype, \"ScrollContainer\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], MyDesignsComponent.prototype, \"loadContent\", void 0);\n    MyDesignsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\n            selector: '[my-designs]',\n            template: __webpack_require__(/*! ./my-designs.component.html */ \"./src/app/essentials/components/my-designs/my-designs.component.html\"),\n            styles: [__webpack_require__(/*! ./my-designs.component.scss */ \"./src/app/essentials/components/my-designs/my-designs.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__[\"DesignService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ChangeDetectorRef\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_1__[\"CacheService\"]])\n    ], MyDesignsComponent);\n    return MyDesignsComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/object-position/object-position.component.html\":\n/*!**************************************************************************************!*\\\n  !*** ./src/app/essentials/components/object-position/object-position.component.html ***!\n  \\**************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\"  [hidden]=\\\"componentHide\\\">\\n\\t<button class=\\\"byi-accordion-title\\\" accordion-heading>\\n\\t\\t<span>{{'Object Position' | translate}}</span>\\n\\t</button>\\n\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t<ng-container [ngTemplateOutlet]=\\\"objectPosition\\\"></ng-container>\\n\\t</div>\\n</accordion-group>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('object-position')\\\"  [attr.hidden]=\\\"componentHide\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n\\t<ng-template tabHeading>\\n\\t\\t<span>{{'Object Position' | translate}}</span>\\n\\t</ng-template>\\n\\t<ng-container [ngTemplateOutlet]=\\\"objectPosition\\\"></ng-container>\\n</tab>\\n<ng-template #objectPosition>\\n\\t<div class=\\\"byie-option\\\">\\n\\t\\t<div class=\\\"byi-inline-box\\\">\\n\\t\\t\\t<div class=\\\"byi-inline-item\\\">\\n\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t<span>{{'X' | translate}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" (mousedown)=\\\"setPrevValue('left', positionX)\\\" [(ngModel)]=\\\"positionX\\\" [min]=\\\"minX\\\" [max]=\\\"maxX\\\" step=\\\"0.1\\\" (input)=\\\"changePositionX()\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\" (change)=\\\"stackToUndo('left')\\\">\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-inline-item\\\">\\n\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t<span>{{'Y' | translate}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" (mousedown)=\\\"setPrevValue('top', positionY)\\\" [(ngModel)]=\\\"positionY\\\" [min]=\\\"minY\\\" [max]=\\\"maxY\\\" step=\\\"0.1\\\" (input)=\\\"changePositionY()\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\" (change)=\\\"stackToUndo('top')\\\">\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<button (click)=\\\"clear()\\\" class=\\\"byi-range-reset-link\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/object-position/object-position.component.scss\":\n/*!**************************************************************************************!*\\\n  !*** ./src/app/essentials/components/object-position/object-position.component.scss ***!\n  \\**************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9vYmplY3QtcG9zaXRpb24vb2JqZWN0LXBvc2l0aW9uLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/object-position/object-position.component.ts\":\n/*!************************************************************************************!*\\\n  !*** ./src/app/essentials/components/object-position/object-position.component.ts ***!\n  \\************************************************************************************/\n/*! exports provided: ObjectPositionComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectPositionComponent\", function() { return ObjectPositionComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\n\n\nvar ObjectPositionComponent = /** @class */ (function () {\n    function ObjectPositionComponent(mainService, cacheService, canvasService, pubsub, tabsService) {\n        this.mainService = mainService;\n        this.cacheService = cacheService;\n        this.canvasService = canvasService;\n        this.pubsub = pubsub;\n        this.tabsService = tabsService;\n        this.enable = 0;\n        this.componentHide = true;\n        this.minX = 0;\n        this.minY = 0;\n        // for undo redo\n        this.preObjPositionValues = {};\n        this.tabsService.registerTabs('object-position', 'plain-text');\n        this.tabsService.registerTabs('object-position', 'clipart');\n        this.tabsService.registerTabs('object-position', 'image-upload');\n        this.tabsService.registerTabs('object-position', 'name-number');\n        this.tabsService.registerTabs('object-position', 'common');\n    }\n    ObjectPositionComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.maxX = 100;\n        this.maxY = 100;\n        this.pubsub.$sub('objectAdded', function (obj) {\n            _this.setXYPostion(obj);\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\n        });\n        this.pubsub.$sub('objectUpdated', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.setXYPostion(obj);\n        });\n        this.pubsub.$sub('canvasObjectModified', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.setXYPostion(obj);\n        });\n        this.pubsub.$sub('canvasObjectScaled', function (obj) {\n            _this.setXYPostion(obj);\n        });\n        this.pubsub.$sub('objectSelectionUpdated', function (obj) {\n            _this.setXYPostion(obj);\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\n        });\n        this.pubsub.$sub('objectSelectionCreated', function (obj) {\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\n            _this.setXYPostion(obj);\n        });\n        this.pubsub.$sub('objectSelectionCleared', function () {\n            _this.componentHide = (_this.canvasService.getActiveObject()) ? null : true;\n        });\n        this.pubsub.$sub('objectRemoved', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.setXYPostion(obj);\n            _this.componentHide = (_this.canvasService.getActiveObject()) ? null : true;\n        });\n        this.pubsub.$sub('alignment', function (data) {\n            if (data.option == 'right' || data.option == 'left' || data.option == 'alignHorizontalCenter')\n                _this.posleft = data.newVal;\n            else\n                _this.postop = data.newVal;\n            console.log(_this.posleft);\n        });\n    };\n    ObjectPositionComponent.prototype.setPrevValue = function (key, value) {\n        if (!this.preObjPositionValues || this.preObjPositionValues[key] == null) {\n            this.preObjPositionValues[key] = value;\n        }\n    };\n    ObjectPositionComponent.prototype.stackToUndo = function (key) {\n        // Init empty shadow object here\n        var properties = {};\n        // set selecte shadow value(eg. offsetX, offsetY)\n        properties = Object.assign({}, this.preObjPositionValues);\n        // determine other shadow key(eg. offsetX, offsetY)\n        var otherKey = (key == 'left') ? 'top' : 'left', \n        // determine other shadow value\n        otherKeyVal = (otherKey == 'left') ? this.positionX : this.positionY;\n        // check if otherKyeVal is null, set it to 0\n        // this will only occur on first time\n        otherKeyVal = (!otherKeyVal) ? 0 : otherKeyVal;\n        // set other shadow property to properties object\n        properties[otherKey] = otherKeyVal;\n        // finally pass the property object to rangeSliderUndoRedo\n        this.canvasService.rangeSliderUndoRedo(properties);\n        // set selected shadow to null\n        this.preObjPositionValues[key] = null;\n    };\n    ObjectPositionComponent.prototype.setXYPostion = function (obj) {\n        this.setMaxLeftTop(obj);\n        if (obj.originY == 'center') {\n            this.positionX = obj.left - obj.width / 2;\n        }\n        else {\n            this.positionX = obj.left;\n        }\n        if (obj.originY == 'center') {\n            this.positionY = obj.top - obj.height / 2;\n        }\n        else {\n            this.positionY = obj.top;\n        }\n    };\n    ObjectPositionComponent.prototype.setMaxLeftTop = function (obj) {\n        var clipX = this.canvasService.clipX[this.canvasService.currentCanvas.dim.designareaId] / 2, clipY = this.canvasService.clipY[this.canvasService.currentCanvas.dim.designareaId] / 2;\n        this.minX = clipX;\n        this.minY = clipY;\n        this.maxX = this.canvasService.currentCanvas.width - (obj.width * obj.scaleX) - clipX;\n        this.maxY = this.canvasService.currentCanvas.height - (obj.height * obj.scaleY) - clipX;\n    };\n    ObjectPositionComponent.prototype.changePositionY = function () {\n        var _this = this;\n        var selectedObj = this.canvasService.currentCanvas.getActiveObjects(), position = null;\n        selectedObj.filter(function (currObj) {\n            position = _this.positionY;\n            if (currObj.originY == 'center') {\n                position = _this.positionY + currObj.height / 2;\n            }\n            currObj.top = position;\n        });\n        this.canvasService.currentCanvas.renderAll();\n    };\n    ObjectPositionComponent.prototype.changePositionX = function () {\n        var _this = this;\n        var selectedObj = this.canvasService.currentCanvas.getActiveObjects(), position = null;\n        selectedObj.filter(function (currObj) {\n            position = _this.positionX;\n            if (currObj.originX == 'center') {\n                position = _this.positionX + currObj.height / 2;\n            }\n            currObj.left = position;\n        });\n        this.canvasService.currentCanvas.renderAll();\n    };\n    ObjectPositionComponent.prototype.clear = function () {\n        var canvas = this.canvasService.currentCanvas;\n        var canvasService = this.canvasService;\n        var obj = canvas.getActiveObject();\n        var posmiddle = (canvas.height / 2) - (obj.height * obj.scaleY / 2);\n        var poscenter = (canvas.width / 2) - (obj.width * obj.scaleX / 2);\n        var properties = {};\n        if (obj) {\n            if (obj.originX == 'center') {\n                poscenter = canvas.width / 2;\n            }\n            if (obj.originY == 'center') {\n                posmiddle = canvas.height / 2;\n            }\n            properties = { top: posmiddle, left: poscenter };\n        }\n        this.positionX = '';\n        this.positionY = '';\n        obj.setCoords();\n        canvas.setActiveObject(obj);\n        var params = {\n            obj: obj,\n            properties: properties,\n            crudServiceString: 'this.updateObjectService',\n        };\n        canvasService.objectCRUD(params);\n    };\n    ObjectPositionComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[object-position]',\n            template: __webpack_require__(/*! ./object-position.component.html */ \"./src/app/essentials/components/object-position/object-position.component.html\"),\n            styles: [__webpack_require__(/*! ./object-position.component.scss */ \"./src/app/essentials/components/object-position/object-position.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_3__[\"CacheService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"], src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"]])\n    ], ObjectPositionComponent);\n    return ObjectPositionComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.html\":\n/*!********************************************************************************************!*\\\n  !*** ./src/app/essentials/components/placeholder-loader/placeholder-loader.component.html ***!\n  \\********************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"linear-background\\\" [style.height.px]='loaderHeight' [style.width.px]='loaderWidth'></div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.scss\":\n/*!********************************************************************************************!*\\\n  !*** ./src/app/essentials/components/placeholder-loader/placeholder-loader.component.scss ***!\n  \\********************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"@-webkit-keyframes placeHolderShimmer {\\n  0% {\\n    background-position: -468px 0; }\\n  100% {\\n    background-position: 468px 0; } }\\n\\n@keyframes placeHolderShimmer {\\n  0% {\\n    background-position: -468px 0; }\\n  100% {\\n    background-position: 468px 0; } }\\n\\n.linear-background {\\n  -webkit-animation-duration: 1s;\\n          animation-duration: 1s;\\n  -webkit-animation-fill-mode: forwards;\\n          animation-fill-mode: forwards;\\n  -webkit-animation-iteration-count: infinite;\\n          animation-iteration-count: infinite;\\n  -webkit-animation-name: placeHolderShimmer;\\n          animation-name: placeHolderShimmer;\\n  -webkit-animation-timing-function: linear;\\n          animation-timing-function: linear;\\n  background: #f6f7f8;\\n  background: linear-gradient(to right, #eeeeee 8%, #dddddd 18%, #eeeeee 33%);\\n  background-size: 1000px 104px;\\n  position: relative;\\n  overflow: hidden;\\n  height: 80px;\\n  border-radius: 5px; }\\n\\n.inter-draw {\\n  background: #FFF;\\n  width: 100%;\\n  height: 100px;\\n  position: absolute;\\n  top: 100px; }\\n\\n.inter-right--top {\\n  background: #FFF;\\n  width: 100%;\\n  height: 20px;\\n  position: absolute;\\n  top: 20px;\\n  left: 100px; }\\n\\n.inter-right--bottom {\\n  background: #FFF;\\n  width: 100%;\\n  height: 50px;\\n  position: absolute;\\n  top: 60px;\\n  left: 100px; }\\n\\n.inter-crop {\\n  background: #FFF;\\n  width: 20px;\\n  height: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 100px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2h0bWwvQllJVjIvbWFnMjMyL2FuZ3VsYXIvc3JjL2FwcC9lc3NlbnRpYWxzL2NvbXBvbmVudHMvcGxhY2Vob2xkZXItbG9hZGVyL3BsYWNlaG9sZGVyLWxvYWRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJO0lBQ0ksNkJBQ0osRUFBQTtFQUVBO0lBQ0ksNEJBQ0osRUFBQSxFQUFBOztBQVBKO0VBQ0k7SUFDSSw2QkFDSixFQUFBO0VBRUE7SUFDSSw0QkFDSixFQUFBLEVBQUE7O0FBR0o7RUFDSSw4QkFBc0I7VUFBdEIsc0JBQXNCO0VBQ3RCLHFDQUE2QjtVQUE3Qiw2QkFBNkI7RUFDN0IsMkNBQW1DO1VBQW5DLG1DQUFtQztFQUNuQywwQ0FBa0M7VUFBbEMsa0NBQWtDO0VBQ2xDLHlDQUFpQztVQUFqQyxpQ0FBaUM7RUFDakMsbUJBQW1CO0VBQ25CLDJFQUEyRTtFQUMzRSw2QkFBNkI7RUFDN0Isa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osa0JBQWtCLEVBQUE7O0FBR3RCO0VBQ0ksZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLFVBQVUsRUFBQTs7QUFHZDtFQUNJLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsV0FBVyxFQUFBOztBQUdmO0VBQ0ksZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxXQUFXLEVBQUE7O0FBR2Y7RUFDSSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFdBQVcsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wbGFjZWhvbGRlci1sb2FkZXIvcGxhY2Vob2xkZXItbG9hZGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGtleWZyYW1lcyBwbGFjZUhvbGRlclNoaW1tZXIge1xuICAgIDAlIHtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ2OHB4IDBcbiAgICB9XG5cbiAgICAxMDAlIHtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogNDY4cHggMFxuICAgIH1cbn1cblxuLmxpbmVhci1iYWNrZ3JvdW5kIHtcbiAgICBhbmltYXRpb24tZHVyYXRpb246IDFzO1xuICAgIGFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xuICAgIGFuaW1hdGlvbi1uYW1lOiBwbGFjZUhvbGRlclNoaW1tZXI7XG4gICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyO1xuICAgIGJhY2tncm91bmQ6ICNmNmY3Zjg7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjZWVlZWVlIDglLCAjZGRkZGRkIDE4JSwgI2VlZWVlZSAzMyUpO1xuICAgIGJhY2tncm91bmQtc2l6ZTogMTAwMHB4IDEwNHB4OyAgICBcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBoZWlnaHQ6IDgwcHg7ICAgIFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuLmludGVyLWRyYXcge1xuICAgIGJhY2tncm91bmQ6ICNGRkY7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAxMDBweDtcbn1cblxuLmludGVyLXJpZ2h0LS10b3Age1xuICAgIGJhY2tncm91bmQ6ICNGRkY7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDIwcHg7XG4gICAgbGVmdDogMTAwcHg7XG59XG5cbi5pbnRlci1yaWdodC0tYm90dG9tIHtcbiAgICBiYWNrZ3JvdW5kOiAjRkZGO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNTBweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiA2MHB4O1xuICAgIGxlZnQ6IDEwMHB4O1xufVxuXG4uaW50ZXItY3JvcCB7XG4gICAgYmFja2dyb3VuZDogI0ZGRjtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAxMDBweDtcbn0iXX0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.ts\":\n/*!******************************************************************************************!*\\\n  !*** ./src/app/essentials/components/placeholder-loader/placeholder-loader.component.ts ***!\n  \\******************************************************************************************/\n/*! exports provided: PlaceholderLoaderComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlaceholderLoaderComponent\", function() { return PlaceholderLoaderComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _placholder_loader_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./placholder-loader.service */ \"./src/app/essentials/components/placeholder-loader/placholder-loader.service.ts\");\n\n\n\nvar PlaceholderLoaderComponent = /** @class */ (function () {\n    function PlaceholderLoaderComponent(placholderLoaderService) {\n        this.placholderLoaderService = placholderLoaderService;\n    }\n    PlaceholderLoaderComponent.prototype.ngOnInit = function () {\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])('loaderHeight'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], PlaceholderLoaderComponent.prototype, \"loaderHeight\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])('loaderWidth'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], PlaceholderLoaderComponent.prototype, \"loaderWidth\", void 0);\n    PlaceholderLoaderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[placeholder-loader]',\n            template: __webpack_require__(/*! ./placeholder-loader.component.html */ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.html\"),\n            styles: [__webpack_require__(/*! ./placeholder-loader.component.scss */ \"./src/app/essentials/components/placeholder-loader/placeholder-loader.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_placholder_loader_service__WEBPACK_IMPORTED_MODULE_2__[\"PlacholderLoaderService\"]])\n    ], PlaceholderLoaderComponent);\n    return PlaceholderLoaderComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/placeholder-loader/placholder-loader.service.ts\":\n/*!***************************************************************************************!*\\\n  !*** ./src/app/essentials/components/placeholder-loader/placholder-loader.service.ts ***!\n  \\***************************************************************************************/\n/*! exports provided: PlacholderLoaderService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlacholderLoaderService\", function() { return PlacholderLoaderService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar PlacholderLoaderService = /** @class */ (function () {\n    function PlacholderLoaderService() {\n        this.placholderWidth = 100;\n        this.placholderHeight = 20;\n    }\n    PlacholderLoaderService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], PlacholderLoaderService);\n    return PlacholderLoaderService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/plain-text/plain-text.component.html\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/essentials/components/plain-text/plain-text.component.html ***!\n  \\****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div loader #loaderComponent></div>\\n<div class=\\\"byi-accord-content\\\" [class.byi-mob-text]=\\\"mainService.isResponsive\\\"\\n\\t*ngIf=\\\"loaderComponent.showSubLoader === false && loadContent\\\">\\n\\t<textarea class=\\\"byi-input noDeleteObject\\\" placeholder=\\\"{{'Enter Text' | translate}}\\\" [(ngModel)]=\\\"canvasText\\\" (keyup)=\\\"addText()\\\" id=\\\"textInput\\\" autofocus></textarea>\\n\\t<button class=\\\"byi-add-btn\\\" *ngIf=\\\"showGreenTick && loadContent && mainService.isResponsive && canvasText && canvasText.length > 0\\\" (click)=\\\"showChild()\\\"></button>\\n</div>\\n\\n<common-tabs #commonTabs *ngIf=\\\"!loadContent\\\" [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\"></common-tabs>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/plain-text/plain-text.component.scss\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/essentials/components/plain-text/plain-text.component.scss ***!\n  \\****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wbGFpbi10ZXh0L3BsYWluLXRleHQuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/plain-text/plain-text.component.ts\":\n/*!**************************************************************************!*\\\n  !*** ./src/app/essentials/components/plain-text/plain-text.component.ts ***!\n  \\**************************************************************************/\n/*! exports provided: PlainTextComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlainTextComponent\", function() { return PlainTextComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _font_font_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../font/font.service */ \"./src/app/essentials/components/font/font.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n\n\n\n\n\n\n\n\n\n\nvar PlainTextComponent = /** @class */ (function () {\n    function PlainTextComponent(mainService, fontService, canvasService, eventService, translate, tabsService, cdr) {\n        var _this = this;\n        this.mainService = mainService;\n        this.fontService = fontService;\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.translate = translate;\n        this.tabsService = tabsService;\n        this.cdr = cdr;\n        this.currentTab = 1;\n        this.accordianId = 0;\n        this.eventService.$sub('getSubTabs', function (mainTabId) {\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\n                _this.getSubTabs(mainTabId);\n            }\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\n        });\n    }\n    PlainTextComponent.prototype.ngOnInit = function () {\n        if (this.loadContent && this.loadContent == true) {\n            this.loaderComponent.showSubLoader = false;\n            this.init();\n        }\n        else {\n            this.loaderComponent.showSubLoader = true;\n            this.cdr.detectChanges();\n        }\n    };\n    PlainTextComponent.prototype.init = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.subscribeEvents();\n                        if (!(!this.fontService.fontarr || this.fontService.fontarr.length <= 0)) return [3 /*break*/, 2];\n                        this.loaderComponent.showSubLoader = true;\n                        this.cdr.detectChanges();\n                        if (!!this.fontService.fontLoadRequested) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.fontService.getFonts(1, true)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        if (this.fontService.fontarr && this.fontService.fontarr.length > 0) {\n                            if (this.loaderComponent.showSubLoader === true)\n                                this.loaderComponent.showSubLoader = false;\n                            this.prepareFontValues();\n                        }\n                        this.getColors();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PlainTextComponent.prototype.ngAfterViewChecked = function () {\n        if (this.mainService.hideMe === true || this.fontService.fontarr) {\n            this.loaderComponent.showSubLoader = false;\n            this.defaultFontFamily = this.fontService.defaultFontFamily;\n        }\n    };\n    PlainTextComponent.prototype.ngAfterViewInit = function () {\n        var ele = document.getElementById('textInput');\n        if (ele && ele.id)\n            this.textInput = ele;\n    };\n    PlainTextComponent.prototype.prepareFontValues = function () {\n        this.defaultFontFamily = this.fontService.defaultFontFamily;\n        this.defaultFontSize = this.fontService.defaultFontSize;\n        this.textLimitEnable = this.fontService.textLimitEnable;\n        this.canvasService.objectLimit = Object.assign(this.canvasService.objectLimit, { textLimitCounter: parseInt(this.fontService.textLimitCounter) });\n        this.limitAlert = this.fontService.limitAlert;\n        this.initData();\n    };\n    PlainTextComponent.prototype.getColors = function () {\n        var _this = this;\n        if (!this.defaultColor) {\n            this.defaultColor = this.mainService.colorData.defaultColor;\n        }\n        this.eventService.$sub('getColors').subscribe(function (colorData) {\n            _this.defaultColor = colorData.defaultColor;\n        }, function (err) { return console.log(err); });\n    };\n    PlainTextComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('displayTextLimitError', function () {\n            _this.displayTextLimitError();\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this.initData();\n        });\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            // for mobile\n            var selectedObjs = _this.mainService.canvasService.currentCanvas.getActiveObjects(), self = _this;\n            if (selectedObjs.length > 1 && _this.mainService.isResponsive) {\n                var anyTextObj = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type == 'text'; })) >= 0) ? true : false, nonTextObj = (obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; })) >= 0) ? true : false;\n                if (anyTextObj) {\n                    var tabName_1 = (nonTextObj) ? 'common' : 'plain-text';\n                    setTimeout(function () {\n                        self.showChild(tabName_1);\n                    }, 100);\n                    _this.eventService.$pub('getActiveTabId', _this.currentTab);\n                }\n            }\n            else {\n                if (obj.tab == 'text') {\n                    _this.canvasText = obj.text;\n                    if (_this.mainService.isResponsive) {\n                        _this.tabsService.backTab();\n                        _this.eventService.$pub('getActiveTabId', _this.currentTab);\n                        _this.showGreenTick = (obj.type == \"text\" && obj.ultimatelock == true) ? null : true;\n                    }\n                    else {\n                        if (_this.textInput)\n                            _this.textInput.focus();\n                        _this.eventService.$pub('getActiveTabId', _this.currentTab);\n                    }\n                }\n                else {\n                    _this.canvasText = '';\n                }\n            }\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            if (obj.tab == 'text') {\n                _this.canvasText = obj.text;\n                if (_this.mainService.isResponsive) {\n                    _this.tabsService.backTab();\n                    _this.eventService.$pub('getActiveTabId', _this.currentTab);\n                    _this.showGreenTick = (obj.type == \"text\" && obj.ultimatelock == true) ? null : true;\n                }\n                else {\n                    if (_this.textInput)\n                        _this.textInput.focus();\n                    _this.eventService.$pub('getActiveTabId', _this.currentTab);\n                }\n            }\n            else {\n                _this.canvasText = '';\n            }\n        });\n        this.eventService.$sub('objectRemoved', function (obj) {\n            if (obj.tab == 'text') {\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\n            }\n        });\n        this.eventService.$sub('imageSideChanged', function () {\n            _this.initData();\n        });\n    };\n    PlainTextComponent.prototype.initData = function () {\n        this.canvasText = (this.canvasService.getActiveObjectValue('text', 'text') != false) ? this.canvasService.getActiveObjectValue('text', 'text') : '';\n    };\n    PlainTextComponent.prototype.getSubTabs = function (mainTabId) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var data;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                data = this.mainService.tabsFlow[mainTabId];\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\n                if (this.subTabsData && this.subTabsData.length > 0) {\n                    this.accordianId = this.subTabsData[0].id;\n                }\n                if (this.loaderComponent && this.loaderComponent.showSubLoader)\n                    this.loaderComponent.showSubLoader = false;\n                return [2 /*return*/];\n            });\n        });\n    };\n    PlainTextComponent.prototype.addText = function () {\n        var obj = this.canvasService.getActiveObject(), properties = {};\n        if ((this.canvasText.length == 0 && !obj) || obj.text == this.canvasText) {\n            return;\n        }\n        if (this.canvasText.length == 0 && obj) {\n            var params = {\n                obj: obj,\n                properties: properties,\n                crudServiceString: 'this.removeObjectService',\n            };\n            this.canvasService.objectCRUD(params);\n            return;\n        }\n        if (obj && obj.tab == 'text') {\n            properties.text = this.canvasText;\n            var params = {\n                obj: obj,\n                properties: properties,\n                crudServiceString: 'this.updateObjectService',\n            };\n            this.canvasService.objectCRUD(params);\n        }\n        else {\n            if (this.textLimitEnable == 1) {\n                var objCount = this.canvasService.getObjectTypeFromAllCanvas('tab', 'text');\n                if (!obj) {\n                    objCount = (objCount) ? objCount : 0;\n                }\n                if (objCount >= this.canvasService.objectLimit.textLimitCounter) {\n                    this.displayTextLimitError();\n                    this.canvasText = '';\n                    return;\n                }\n            }\n            var fontColor_1 = (this.defaultColor.color_code) ? this.defaultColor.color_code : null;\n            this.eventService.$sub('changedColor', function (data) {\n                fontColor_1 = data ? data : fontColor_1;\n            });\n            var fontFamily = (this.defaultFontFamily.font_label) ? this.defaultFontFamily.font_label : null;\n            var font_file = (this.defaultFontFamily.font_file) ? this.defaultFontFamily.font_file : null;\n            var properties_1 = {\n                left: 10,\n                top: 20,\n                opacity: 1,\n                fontSize: (this.defaultFontSize) ? parseInt(this.defaultFontSize) : 16,\n                objType: 'text',\n                strokeWidth: 0,\n                tab: \"text\"\n            };\n            if (fontColor_1 && fontColor_1 != null)\n                properties_1.fill = fontColor_1;\n            if (fontFamily && fontFamily != null)\n                properties_1.fontFamily = fontFamily;\n            if (font_file && font_file != null)\n                properties_1.font_file = font_file;\n            var textObj = new fabric.Text(this.canvasText);\n            var params = {\n                obj: textObj,\n                properties: properties_1,\n                crudServiceString: 'this.insertObjectService',\n                isCenter: true,\n            };\n            this.canvasService.objectCRUD(params);\n        }\n    };\n    PlainTextComponent.prototype.displayTextLimitError = function () {\n        sweetalert2__WEBPACK_IMPORTED_MODULE_7___default.a.fire({\n            title: this.translate.instant('Alert'),\n            text: this.limitAlert,\n            type: \"warning\",\n            confirmButtonText: this.translate.instant('OK'),\n        });\n    };\n    PlainTextComponent.prototype.showChild = function (childTabs) {\n        if (childTabs === void 0) { childTabs = 'plain-text'; }\n        this.tabsService.showChildTabs(childTabs);\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], PlainTextComponent.prototype, \"loadContent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ViewChild\"])(\"loaderComponent\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_9__[\"LoaderComponent\"])\n    ], PlainTextComponent.prototype, \"loaderComponent\", void 0);\n    PlainTextComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: '[plain-text]',\n            template: __webpack_require__(/*! ./plain-text.component.html */ \"./src/app/essentials/components/plain-text/plain-text.component.html\"),\n            styles: [__webpack_require__(/*! ./plain-text.component.scss */ \"./src/app/essentials/components/plain-text/plain-text.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            _font_font_service__WEBPACK_IMPORTED_MODULE_1__[\"FontService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__[\"TranslateService\"],\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ChangeDetectorRef\"]])\n    ], PlainTextComponent);\n    return PlainTextComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/preview/preview.component.html\":\n/*!**********************************************************************!*\\\n  !*** ./src/app/essentials/components/preview/preview.component.html ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<a href=\\\"javascript:void(0)\\\" id='preview_btn' (click)=\\\"createPreview(template)\\\" attr.disabled=\\\"disabled\\\"\\n\\ttooltip=\\\"{{'Preview' | translate}}\\\">\\n\\t<svg class=\\\"icon icon-view\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-view\\\"></use>\\n\\t</svg>\\n\\t<div loader #loaderComponent></div>\\n</a>\\n\\n\\n<ng-template #template>\\n\\t<div class=\\\"modal-header\\\">\\n\\t\\t<h4 class=\\\"modal-title pull-left\\\">{{'Preview' | translate}}</h4>\\n\\t\\t<button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n\\t\\t\\t<span aria-hidden=\\\"true\\\">&times;</span>\\n\\t\\t</button>\\n\\t</div>\\n\\t<div class=\\\"modal-body\\\">\\n\\t\\t<div class=\\\"product-zoom-container\\\">\\n\\t\\t\\t<div class=\\\"preview-image\\\">\\n\\t\\t\\t\\t<img src=\\\"{{previewImages[activeImageId]}}\\\" />\\n\\t\\t\\t\\t<button *ngIf=\\\"mainService.displayDownload\\\" class=\\\"byi-btn byi-btn-download\\\" (click)=\\\"downloadFunction()\\\"\\n\\t\\t\\t\\t\\ttooltip=\\\"{{'Download Design' | translate}}\\\">\\n\\t\\t\\t\\t\\t<svg class=\\\"icon icon-download\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-download\\\"></use>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t<span>Download</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"total-sides\\\" *ngIf=\\\"allImageIds && allImageIds.length > 1\\\">\\n\\t\\t\\t\\t<div class=\\\"total-sides-mob\\\">\\n\\t\\t\\t\\t\\t<button container=\\\"body\\\" class=\\\"byi-side-btn byi-prev-side\\\" *ngIf=\\\"enablePrev\\\"\\n\\t\\t\\t\\t\\t\\t(click)=\\\"changeNextPrevPreviewSide('prev')\\\" tooltip=\\\"{{'Previous Side' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t<span>\\n\\t\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-side-prev\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-side-prev\\\"></use>\\n\\t\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t<li *ngFor=\\\"let image_id of allImageIds;let i=index;\\\"\\n\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{active: activeImageId == image_id}\\\" (click)=\\\"changePreviewSide(image_id,true)\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t<button container=\\\"body\\\" class=\\\"byi-side-btn byi-next-side\\\" *ngIf=\\\"enableNext\\\"\\n\\t\\t\\t\\t\\t\\t(click)=\\\"changeNextPrevPreviewSide('next')\\\" tooltip=\\\"{{'Next Side' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t<span>\\n\\t\\t\\t\\t\\t\\t\\t<svg class=\\\"icon icon-side-next\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-side-next\\\"></use>\\n\\t\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/preview/preview.component.scss\":\n/*!**********************************************************************!*\\\n  !*** ./src/app/essentials/components/preview/preview.component.scss ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wcmV2aWV3L3ByZXZpZXcuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/preview/preview.component.ts\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/preview/preview.component.ts ***!\n  \\********************************************************************/\n/*! exports provided: PreviewComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PreviewComponent\", function() { return PreviewComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n\n\n\n\n\n\n\nvar PreviewComponent = /** @class */ (function () {\n    function PreviewComponent(mainService, eventService, canvasService, translate) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.translate = translate;\n        this.previewImages = {};\n        this.zipfile = [];\n        this.firstTimeNext = true;\n        // call to method that will create initial events\n        this.initiateEvents();\n    }\n    PreviewComponent.prototype.ngOnInit = function () {\n    };\n    PreviewComponent.prototype.initiateEvents = function () {\n        var _this = this;\n        this.eventService.$sub('allcanvasCreated', function (allImageIds) {\n            _this.allImageIds = allImageIds;\n            _this.changePreviewSide(allImageIds[0], false);\n        });\n        this.eventService.$sub('objectUpdated', function () {\n            _this.mainService.objectModification = true;\n        });\n        this.eventService.$sub('objectRemoved', function () {\n            _this.mainService.objectModification = true;\n            _this.previewImages[_this.canvasService.activeImageId] = '';\n            _this.mainService.generatedImage[_this.canvasService.activeImageId] = '';\n        });\n        this.eventService.$sub('objectAdded', function () {\n            _this.mainService.objectModification = true;\n        });\n        this.eventService.$sub('canvasBackgroungChange', function () {\n            _this.mainService.objectModification = true;\n        });\n    };\n    PreviewComponent.prototype.createPreview = function (template) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.loaderComponent.showMainLoader = true;\n                        return [4 /*yield*/, this.getCanvasDataUrl(true, '')];\n                    case 1:\n                        _a.sent();\n                        this.loaderComponent.showMainLoader = false;\n                        this.modalRef = this.mainService.openThisModal(template, 'byi-preview-modal modal-lg');\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PreviewComponent.prototype.changePreviewSide = function (image_id, generatePreview) {\n        this.activeImageId = image_id;\n        this.indexOfActiveImage = this.allImageIds.indexOf(image_id);\n        this.updateNextPrev();\n        if (generatePreview) {\n            this.getCanvasDataUrl(false, image_id);\n        }\n    };\n    PreviewComponent.prototype.changeNextPrevPreviewSide = function (type) {\n        if (this.mainService.objectModification == true || this.firstTimeNext == true) {\n            this.mainService.objectModification = true;\n            this.firstTimeNext = false;\n        }\n        this.indexOfActiveImage = this.allImageIds.indexOf(this.activeImageId);\n        var updatedImageId;\n        if (type == 'prev') {\n            updatedImageId = this.allImageIds[this.indexOfActiveImage - 1];\n        }\n        else if (type == 'next') {\n            updatedImageId = this.allImageIds[this.indexOfActiveImage + 1];\n        }\n        if (updatedImageId) {\n            this.changePreviewSide(updatedImageId, true);\n        }\n    };\n    PreviewComponent.prototype.updateNextPrev = function () {\n        if (this.allImageIds[this.indexOfActiveImage - 1]) {\n            this.enablePrev = 1;\n        }\n        else {\n            this.enablePrev = 0;\n        }\n        if (this.allImageIds[this.indexOfActiveImage + 1]) {\n            this.enableNext = 1;\n        }\n        else {\n            this.enableNext = 0;\n        }\n    };\n    PreviewComponent.prototype.getCanvasDataUrl = function (isFirst, currentImageId) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var response;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (isFirst) {\n                            currentImageId = this.canvasService.activeImageId;\n                        }\n                        if (!(!this.previewImages[currentImageId] || this.previewImages[currentImageId] == '' || this.mainService.objectModification == true)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.mainService.getCanvasDataUrl(isFirst, currentImageId, false)];\n                    case 1:\n                        response = _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        response = this.mainService.generatedImage[currentImageId];\n                        _a.label = 3;\n                    case 3:\n                        this.previewImages[currentImageId] = response.base.url;\n                        this.changePreviewSide(currentImageId, false);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PreviewComponent.prototype.downloadFunction = function () {\n        var _this = this;\n        var imageIds = this.canvasService.allImagesWithIds;\n        var images = [];\n        for (var id in imageIds) {\n            images.push(this.canvasService.getCanvasDataUrl(id));\n        }\n        var params = {\n            'dataUrl': images,\n            'product_image_data': this.canvasService.allImagesWithIds,\n            'previewImages': 1\n        };\n        this.mainService.post('productdesigner/index/download', params).then(function (data) {\n            _this.zipfile = data.zipfile;\n            _this.mainService.downloadFiles(_this.zipfile, 'zip');\n        }).catch(function (err) {\n            console.log(_this.translate.instant(\"Error in loading download\"), err);\n        });\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('loaderComponent'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_6__[\"LoaderComponent\"])\n    ], PreviewComponent.prototype, \"loaderComponent\", void 0);\n    PreviewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[preview]',\n            template: __webpack_require__(/*! ./preview.component.html */ \"./src/app/essentials/components/preview/preview.component.html\"),\n            styles: [__webpack_require__(/*! ./preview.component.scss */ \"./src/app/essentials/components/preview/preview.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateService\"]])\n    ], PreviewComponent);\n    return PreviewComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/price/price.component.html\":\n/*!******************************************************************!*\\\n  !*** ./src/app/essentials/components/price/price.component.html ***!\n  \\******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byi-cart-price\\\" *ngIf=\\\"mainService.isAdmin == false\\\">\\n\\t<label *ngIf=\\\"priceService.totalQty > 1\\\">{{'Total' | translate}} ({{priceService.totalQty}})</label>\\n\\t<span class=\\\"cart-amt\\\">{{priceService.getPrice()}}</span>\\n\\t<span price-info></span>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/price/price.component.scss\":\n/*!******************************************************************!*\\\n  !*** ./src/app/essentials/components/price/price.component.scss ***!\n  \\******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wcmljZS9wcmljZS5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/price/price.component.ts\":\n/*!****************************************************************!*\\\n  !*** ./src/app/essentials/components/price/price.component.ts ***!\n  \\****************************************************************/\n/*! exports provided: PriceComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PriceComponent\", function() { return PriceComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _price_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./price.service */ \"./src/app/essentials/components/price/price.service.ts\");\n/* harmony import */ var _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../conf-product-attr/conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n\n\n\n\n\n\n\n\n\nvar PriceComponent = /** @class */ (function () {\n    function PriceComponent(mainService, eventService, canvasService, confProductService, priceService, translate) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.confProductService = confProductService;\n        this.priceService = priceService;\n        this.translate = translate;\n        this.data = [];\n        this.isDisplayPriceInfo = false;\n        this.showPriceInfo = false;\n        this.priceInfoData = [];\n        this.currentProductOtion = \"\";\n        this.subscribeEvents();\n    }\n    PriceComponent.prototype.getPrice = function () {\n        var _this = this;\n        var params = {\n            'product_id': this.mainService.productId,\n            'associated_id': this.mainService.associatedProductId\n        }, url = 'productdesigner/index/loadPrice', cacheKey = 'getPrice' + this.mainService.productId + '-' + this.mainService.associatedProductId + '-' + this.mainService.baseUrl;\n        this.mainService.getData(url, params, cacheKey).then(function (priceData) {\n            _this.priceService.priceAllData = JSON.parse(JSON.stringify(priceData.data));\n            _this.confProductService.productPrice = Object.assign({}, _this.priceService.priceAllData.productPrice);\n            _this.confProductService.tierPrice = Object.assign({}, _this.priceService.priceAllData.tierPrice);\n            _this.fixedPrice = _this.priceService.priceAllData.additionalFixedPrice ? _this.priceService.priceAllData.additionalFixedPrice : 0;\n            _this.calculatePrice();\n            _this.eventService.$pub('priceUpdate');\n        }).catch(function (err) { return console.log(err); });\n    };\n    PriceComponent.prototype.ngOnInit = function () {\n        this.loadedDesignPrice = 0;\n        this.loadedDesignQty = 1;\n    };\n    PriceComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('objectAdded', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.calcAllObjPrice();\n        });\n        this.eventService.$sub('objectRemoved', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.calcAllObjPrice();\n        });\n        this.eventService.$sub('processLoadProduct', function () {\n            _this.getPrice();\n        });\n    };\n    /* For Price Management*/\n    PriceComponent.prototype.calculatePrice = function () {\n        this.priceFormat = this.priceService.priceAllData.priceFormat;\n        var prices = {\n            textPrice: this.priceService.priceAllData.addedTextPrice,\n            addImagePrice: this.priceService.priceAllData.addedImagePrice,\n            uploadPrice: this.priceService.priceAllData.customAddedImagePrice,\n            tax: this.priceService.priceAllData.tax,\n            addTax: (this.priceService.priceAllData.showIncludeTax || this.priceService.priceAllData.showBothPrices)\n        };\n        var ObjPrice = this.canvasService.fetchAllObjectPrices(prices);\n        var OriginalProductPrice;\n        var taxPrice = 0;\n        this.productPrice = this.priceService.priceAllData.priceExclTax;\n        if (this.priceService.priceAllData.productPrice && Object.keys(this.priceService.priceAllData.productPrice).length && this.mainService.associatedProductId && this.priceService.priceAllData.productPrice[this.mainService.associatedProductId])\n            this.productPrice = this.priceService.priceAllData.productPrice[this.mainService.associatedProductId];\n        if (this.priceService.priceAllData.showIncludeTax) {\n            OriginalProductPrice = this.priceService.priceAllData.priceInclTax;\n            taxPrice = (parseFloat(this.priceService.priceAllData.priceExclTax) * parseFloat(this.priceService.priceAllData.tax)) / 100;\n            this.productPrice = (parseFloat(this.data.priceInclTax) / (100 + parseFloat(this.data.tax))) * 100;\n        }\n        else if (this.priceService.priceAllData.showExcludeTax) {\n            OriginalProductPrice = this.priceService.priceAllData.priceInclTax;\n            this.productPrice = this.priceService.priceAllData.priceExclTax;\n        }\n        else {\n            this.productPrice = this.priceService.priceAllData.productPrice[this.mainService.associatedProductId];\n        }\n        if (this.priceService.priceAllData.showBothPrices) {\n            taxPrice = (parseFloat(this.priceService.priceAllData.priceExclTax) * parseFloat(this.priceService.priceAllData.tax)) / 100;\n            OriginalProductPrice = parseFloat(this.priceService.priceAllData.priceInclTax);\n            var forBothPrice = parseFloat(this.priceService.priceAllData.priceExclTax) + parseFloat(this.fixedPrice) + parseFloat(ObjPrice.totalTextExcluTaxPrice) + parseFloat(ObjPrice.totalClipartImgExcluTaxPrice) + parseFloat(ObjPrice.totalUploadImgExcluTaxPrice);\n            this.productPriceExclTax = Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_7__[\"FormatCurrency\"])(forBothPrice, this.priceFormat, '');\n        }\n        this.priceService.tax = (parseFloat(this.priceService.priceAllData.tax) > 0 && (this.priceService.priceAllData.showIncludeTax || this.priceService.priceAllData.showBothPrices)) ? parseInt(this.priceService.priceAllData.tax) : null;\n        this.mainService.productPrice = parseFloat(this.productPrice);\n        this.mainService.otherPrices = parseFloat(this.fixedPrice);\n        // in case of configurable product, when user changes qty or \n        // attributes in add to cart popup, we find different prices based on input\n        // so we need to add fixed price to the new price\n        // hence we are saving fixed price in service\n        this.priceService.fixedPrice = parseFloat(this.fixedPrice);\n        this.calcAllObjPrice();\n        var finalPrice;\n        var tierPriceData;\n        tierPriceData = this.priceService.priceAllData.tierPrice[this.mainService.associatedProductId];\n        if (tierPriceData != undefined) {\n            tierPriceData.filter(function (obj) {\n                if (OriginalProductPrice <= obj.website_price) {\n                    tierPriceData = [];\n                }\n            });\n        }\n        finalPrice = this.mainService.calcFinalPrice(1);\n        this.productName = this.priceService.priceAllData.productName;\n        var cartData = {\n            productName: this.priceService.priceAllData.productName,\n            totalAmount: this.mainService.productPrice,\n            priceFormat: this.priceFormat,\n            showBothPrices: this.priceService.priceAllData.showBothPrices,\n            tierPriceData: tierPriceData,\n            productPriceExclTax: this.productPriceExclTax,\n            finalPrice: finalPrice\n        };\n        this.eventService.$pub('getCartData', cartData);\n        this.priceService.defaultPrice = this.productPrice;\n        this.priceService.addThisPrice();\n        this.priceService.priceFormat = this.priceFormat;\n        this.finalPrice = Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_7__[\"FormatCurrency\"])(finalPrice, this.priceFormat, '');\n        this.calcAllObjPrice();\n    };\n    /**\n     *\n     * @param obj\n     */\n    PriceComponent.prototype.calcAllObjPrice = function () {\n        // if price has not been loaded yet\n        if (!this.priceService.priceAllData)\n            return;\n        // variable declaration\n        var textPrice = (this.priceService.priceAllData.addedTextPrice == null) ? 0 : parseFloat(this.priceService.priceAllData.addedTextPrice), imagePrice = (this.priceService.priceAllData.addedImagePrice == null) ? 0 : parseFloat(this.priceService.priceAllData.addedImagePrice), customImagePrice = (this.priceService.priceAllData.customAddedImagePrice == null) ? 0 : parseFloat(this.priceService.priceAllData.customAddedImagePrice), allCanvases = this.mainService.canvasService.containerCanvases, tmpCanavs, allObjects, finalPrice = (this.priceService.fixedPrice) ? this.priceService.fixedPrice : 0;\n        // traverse through each canvas one by one\n        for (var key in allCanvases) {\n            // store current canvas in tmp var\n            tmpCanavs = allCanvases[key];\n            // fetch all objects of tmp canvas\n            allObjects = this.mainService.canvasService.getObjects(tmpCanavs);\n            // traverse through each object\n            allObjects.filter(function (currObj) {\n                // if object is of type text\n                if (currObj.type == 'text' && textPrice) {\n                    finalPrice += textPrice;\n                }\n                // if object is of type image\n                // we will determine price by tab\n                else if (currObj.hasOwnProperty('tab')) {\n                    // if tab is clipart, add image price to final\n                    if (currObj.tab == 'clipart' && imagePrice) {\n                        finalPrice += imagePrice;\n                    }\n                    // if tab is upload, add image price and custom image upload price\n                    else if (currObj.tab == 'upload' && customImagePrice && imagePrice) {\n                        finalPrice += imagePrice + customImagePrice;\n                    }\n                }\n                // if current object has price property\n                // add the same\n                if (currObj.hasOwnProperty('price') && parseFloat(currObj.price) > 0) {\n                    finalPrice += parseFloat(currObj.price);\n                }\n            });\n        }\n        // finally add final price to service object\n        this.mainService.otherPrices = finalPrice;\n        // recalcuate the price\n        this.priceService.addThisPrice();\n    };\n    PriceComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\n            selector: 'price',\n            template: __webpack_require__(/*! ./price.component.html */ \"./src/app/essentials/components/price/price.component.html\"),\n            styles: [__webpack_require__(/*! ./price.component.scss */ \"./src/app/essentials/components/price/price.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_6__[\"CanvasService\"],\n            _conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_2__[\"ConfProductAttrService\"],\n            _price_service__WEBPACK_IMPORTED_MODULE_1__[\"PriceService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__[\"TranslateService\"]])\n    ], PriceComponent);\n    return PriceComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/price/price.service.ts\":\n/*!**************************************************************!*\\\n  !*** ./src/app/essentials/components/price/price.service.ts ***!\n  \\**************************************************************/\n/*! exports provided: PriceService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PriceService\", function() { return PriceService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\n\n\n\n\nvar PriceService = /** @class */ (function () {\n    function PriceService(mainService) {\n        this.mainService = mainService;\n        this.additionalPrice = 0;\n        this.fixedPrice = 0;\n        this.finalPrice = 0;\n        this.defaultPrice = 0;\n        this.totalQty = 1;\n        this.tax = null;\n        this.fixedPrice = 0;\n        this.extraPriceToBeAdded = {\n            productPrice: 0,\n            customOptionsPrice: 0\n        };\n    }\n    PriceService.prototype.getPrice = function () {\n        if (this.finalPrice && this.priceFormat)\n            return Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_3__[\"FormatCurrency\"])(this.finalPrice, this.priceFormat, '');\n    };\n    PriceService.prototype.getIntPrice = function () {\n        if (this.finalPrice && this.priceFormat)\n            return (this.finalPrice);\n    };\n    PriceService.prototype.addThisPrice = function () {\n        this.finalPrice = parseFloat(this.defaultPrice) + parseFloat(this.extraPriceToBeAdded.productPrice) + ((parseFloat(this.extraPriceToBeAdded.customOptionsPrice) + parseFloat(this.additionalPrice) + this.mainService.otherPrices) * parseFloat(this.totalQty));\n        if (this.tax && this.tax > 0) {\n            this.finalPrice += ((this.finalPrice * this.tax) / 100);\n        }\n    };\n    PriceService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__[\"MainService\"]])\n    ], PriceService);\n    return PriceService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/product-options/product-options.component.html\":\n/*!**************************************************************************************!*\\\n  !*** ./src/app/essentials/components/product-options/product-options.component.html ***!\n  \\**************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byi-product-attr\\\" [class.open]=\\\"productOptionsOpened\\\" *ngIf=\\\"options\\\">\\n\\t<button type=\\\"button\\\" class=\\\"byi-attr-btn\\\" (click)=\\\"toggleOptions()\\\" tooltip=\\\"{{'Product Options' | translate}}\\\">\\n\\t\\t<i class=\\\"byii-icon\\\">\\n\\t\\t\\t<svg class=\\\"icon icon-setting\\\" viewBox=\\\"0 0 54 54\\\">\\n\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-setting\\\"></use>\\n\\t\\t\\t</svg>\\n\\t\\t</i>\\n\\t\\t<span>{{'Product Options' | translate}}</span>\\n\\t</button>\\n\\t<div class=\\\"byip-options\\\">\\n\\t\\t<accordion class=\\\"byi-accordion\\\" [closeOthers]=\\\"true\\\" [isAnimated]=\\\"true\\\">\\n\\t\\t\\t<accordion-group class=\\\"byi-accord\\\" [isOpen]=\\\"i == 0\\\" *ngFor=\\\"let option of options;let i = index\\\"\\n\\t\\t\\t\\t[isOpen]=\\\"true\\\">\\n\\t\\t\\t\\t<button class=\\\"byi-accord-title\\\" accordion-heading>\\n\\t\\t\\t\\t\\t<span>{{option.label}}</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"byi-prod-color-list\\\" *ngIf=\\\"option.hasSwatch\\\">\\n\\t\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t\\t<li class=\\\"prod-color\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{active: selectedOptions[option.id] == value.value_index,disabled: checkProductOptionsValidation(value,i) }\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[title]=\\\"value.label\\\" *ngFor=\\\"let value of option.values;\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"changeProduct(value,option.id,i)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"value.type == 'image'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\\\"{{value.value}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"value.type == 'color'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span [style.background-color]=\\\"value.value\\\"></span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"byi-prod-color-list\\\" *ngIf=\\\"!option.hasSwatch\\\">\\n\\t\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t\\t<li class=\\\"prod-text\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{active: selectedOptions[option.id] == value.value_index ,disabled: checkProductOptionsValidation(value,i)}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[title]=\\\"value.label\\\" *ngFor=\\\"let value of option.values\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t(click)=\\\"changeProduct(value,option.id,i)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"value.type == 'text'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span>{{value.value}}</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</accordion-group>\\n\\t\\t</accordion>\\n\\t</div>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/product-options/product-options.component.scss\":\n/*!**************************************************************************************!*\\\n  !*** ./src/app/essentials/components/product-options/product-options.component.scss ***!\n  \\**************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wcm9kdWN0LW9wdGlvbnMvcHJvZHVjdC1vcHRpb25zLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/product-options/product-options.component.ts\":\n/*!************************************************************************************!*\\\n  !*** ./src/app/essentials/components/product-options/product-options.component.ts ***!\n  \\************************************************************************************/\n/*! exports provided: ProductOptionsComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductOptionsComponent\", function() { return ProductOptionsComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n\n\n\n\n\n\n\nvar ProductOptionsComponent = /** @class */ (function () {\n    function ProductOptionsComponent(mainService, cacheService, eventService, canvasService, designService) {\n        this.mainService = mainService;\n        this.cacheService = cacheService;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.designService = designService;\n        this.productOptionsOpened = false;\n        this.productOptionsCacheKey = 'productOptions' + this.mainService.productId + '-' + this.mainService.baseUrl;\n    }\n    ProductOptionsComponent.prototype.ngOnInit = function () {\n        this.getProductOptions();\n        this.subscribeEvents();\n    };\n    ProductOptionsComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('closeProductOptions', function () {\n            _this.productOptionsOpened = false;\n        });\n    };\n    ProductOptionsComponent.prototype.getProductOptions = function () {\n        var _this = this;\n        var selectedOptionsString = '';\n        if (this.selected_super_attributes) {\n            selectedOptionsString = this.mainService.joinObject(this.selected_super_attributes);\n        }\n        var params = {\n            'product_id': this.mainService.productId,\n            'selectedOptions': this.selected_super_attributes\n        }, url = 'productdesigner/index/productOptions', cacheKey = this.productOptionsCacheKey + selectedOptionsString;\n        params = (this.designService.designId) ? Object.assign(params, { designId: this.designService.designId }) : params;\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\n            _this.eventService.$pub('productOptionsFetched', data);\n            _this.processProductOptions(data);\n        }).catch(function (err) { return console.log(err); });\n    };\n    ProductOptionsComponent.prototype.processProductOptions = function (data) {\n        this.options = data.productOptions;\n        this.mainService.productOptions = data.productOptions;\n        this.eventService.$pub('priceUpdate');\n        this.productsCombination = data.productsCombination;\n        this.selectedOptions = data.selectedOptions;\n        this.selectedOptionsValues = data.selectedOptionsValues;\n        this.selectedOptionString = Object.values(this.selectedOptionsValues).join(\"_\");\n        this.allProducts = data.allProducts;\n        if (this.cacheService.exists(\"product-tooltip-data\") && this.cacheService.get(\"product-tooltip-data\") == true) {\n            var tootltipData = [];\n            var productIntro = (this.mainService.productTooltipData[0] != \"\") ? this.mainService.productTooltipData[0] : \"\";\n            tootltipData.push({ element: \".byi-product-attr\", intro: productIntro, position: 'right' });\n            this.mainService.processToolTip(tootltipData, true);\n            this.toggleOptions();\n            this.cacheService.set(\"product-tooltip-data\", false, { maxAge: 0 });\n        }\n        if (this.options) {\n            if (document.querySelector('.byi-fab')) {\n                document.querySelector('.byi-fab').classList.add('byi-fab-option-active');\n            }\n        }\n    };\n    ProductOptionsComponent.prototype.toggleOptions = function () {\n        if (this.productOptionsOpened) {\n            this.productOptionsOpened = false;\n            if (document.querySelector('.byi-fab')) {\n                document.querySelector('.byi-fab').classList.remove('hide');\n            }\n        }\n        else {\n            this.productOptionsOpened = true;\n            if (document.querySelector('.byi-fab')) {\n                document.querySelector('.byi-fab').classList.add('hide');\n            }\n        }\n    };\n    ProductOptionsComponent.prototype.changeProduct = function (value, attId, i) {\n        this.setActiveSwatch(value, attId, i);\n        /**\n         * Fetch all object from current canvas before changing product combination\n         */\n        this.canvasService.fetchAllObjects();\n        this.eventService.$pub('productChanged', {\n            defaultSelectedOptions: this.selectedOptions,\n            defaultSelectedOptionsValues: this.selectedOptionsValues\n        });\n    };\n    ProductOptionsComponent.prototype.setActiveSwatch = function (value, attId, i) {\n        this.selectedOptions[attId] = value.value_index;\n        this.selectedOptionsValues[i] = value.value_index;\n        this.selectedOptionString = Object.values(this.selectedOptionsValues).join(\"_\");\n    };\n    ProductOptionsComponent.prototype.checkProductOptionsValidation = function (currentValue, index) {\n        var selectedOptions = this.selectedOptionString.split(\"_\");\n        selectedOptions[index] = currentValue.value_index;\n        var currentOption = selectedOptions.join(\"_\");\n        var combinations = Object.values(this.productsCombination);\n        if (combinations.indexOf(currentOption) == -1) {\n            return true;\n        }\n        return false;\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ProductOptionsComponent.prototype, \"selected_super_attributes\", void 0);\n    ProductOptionsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: 'product-options',\n            template: __webpack_require__(/*! ./product-options.component.html */ \"./src/app/essentials/components/product-options/product-options.component.html\"),\n            styles: [__webpack_require__(/*! ./product-options.component.scss */ \"./src/app/essentials/components/product-options/product-options.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_6__[\"CacheService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_5__[\"DesignService\"]])\n    ], ProductOptionsComponent);\n    return ProductOptionsComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/products/products.component.html\":\n/*!************************************************************************!*\\\n  !*** ./src/app/essentials/components/products/products.component.html ***!\n  \\************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div [attr.hidden]=\\\"(displayAllProducts) ? null : true\\\">\\n  <div [attr.hidden]=\\\"(mainService.isAdmin == false) ? null : true\\\" class=\\\"byi-products-inner\\\" [class.open]=\\\"isToggle\\\">\\n    <button type=\\\"button\\\" class=\\\"byi-button\\\" (click)=\\\"isToggleOpen()\\\" tooltip=\\\"{{'Change Product' | translate}}\\\">{{productName}} <span class=\\\"caret\\\"></span></button>\\n    <div class=\\\"byi-products-wrap\\\">\\n      <div class=\\\"btc-pro-filter\\\">\\n        <div class=\\\"btc-pf-select\\\">\\n          <div class=\\\"byi-dropdown\\\" *ngIf=\\\"productsCategory?.length != 0\\\">\\n            <div class=\\\"btn-group\\\" dropdown [class.open]=\\\"isToggleCategory\\\">\\n              <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle productsContainer\\\"\\n              (click)=\\\"isToggleCategory = !isToggleCategory\\\"> {{selectedCat?.name}}\\n              <span class=\\\"caret\\\"></span>\\n            </button>\\n            <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n              <li class=\\\"productsContainer\\\" role=\\\"menuitem\\\" *ngFor=\\\"let category of productsCategory\\\" (click)=\\\"onChangeCategory(category,'')\\\"\\n              [ngClass]=\\\"{'selected': selectedCat.id == category.id }\\\">\\n              <span *ngFor=\\\"let i of getNumberArray(category.level)\\\">-</span>\\n              {{category.name}}\\n            </li>\\n          </ul>\\n        </div>\\n      </div>\\n      <div class=\\\"btc-pf-search\\\" >\\n        <div class=\\\"byi-search\\\">\\n          <input class=\\\"byi-input productsContainer\\\" (input)=\\\"searchProducts($event)\\\" [(ngModel)]=\\\"searchText\\\" name=\\\"searchText\\\"\\n          type=\\\"text\\\" placeholder=\\\"{{'Search by Name' | translate}}\\\">\\n          <button class=\\\"byi-search-btn\\\">\\n            <svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n            </svg>\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"byi-product-cat\\\">\\n    <div loader #loaderComponent></div>\\n    <div class=\\\"byi-norecord\\\" *ngIf=\\\"loaderComponent.showSubLoader === false && products.length == 0\\\">No Products\\n    Found</div>\\n    <ul *ngIf=\\\"products.length !== 0\\\" class=\\\"productsContainer\\\">\\n      <li *ngFor=\\\"let product of products\\\" title=\\\"{{product.name}}\\\">\\n        <a href=\\\"javascript:void(0)\\\" (click)=\\\"setTooltipFlag(product.href)\\\">\\n          <span>\\n            <img [src]=\\\"product.url\\\" />\\n          </span>\\n          <label>{{product.name}}</label>\\n        </a>\\n      </li>\\n    </ul>\\n  </div>\\n\\n  <div class=\\\"loadmore-action\\\" *ngIf=\\\"products.length != 0 && products.length > 16\\\">\\n    <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"Load More Products\\\" (click)=\\\"loadMoreProducts()\\\">\\n  </div>\\n</div>\\n</div>\\n\\n<div class=\\\"byi-product-wrap\\\" *ngIf=\\\"mainService.isResponsive && mainService.isAdmin == false\\\">\\n  <span class=\\\"byi-prod-name byi-caret-enable\\\" (click)=\\\"isToggleOpen()\\\">{{productName}}</span>\\n  <div class=\\\"byi-products-inner\\\" [class.open]=\\\"isToggle\\\">\\n    <div class=\\\"byi-top-head\\\">\\n      <ul class=\\\"byi-breadcrum\\\">\\n        <li *ngFor=\\\"let cat of selectedProductsCategory\\\">\\n          <a href=\\\"javascript:void(0)\\\" (click)=\\\"parseCat(cat)\\\"><span>{{cat.name}}</span></a>\\n          <ul class=\\\"byi-sub-menu\\\" [hidden]=\\\"!cat.showSub\\\">\\n            <ng-container *ngFor=\\\"let category of currentResponsiveCats\\\">\\n              <li class=\\\"level1\\\" [ngClass]=\\\"{'selected': cat.id == category.id }\\\" >\\n                <a href=\\\"javascript:void(0)\\\" (click)=\\\"onChangeCategory(category,'')\\\"><span>{{category.name}}</span></a>\\n\\n                <span class=\\\"byi-toggle-icon byi-expand\\\" *ngIf=\\\"category.subcategory && category.subcategory.length > 0 && activeSubCat != category.id && category.level == 2\\\" (click)=\\\"activeSubCat = category.id\\\">+</span>\\n                <span class=\\\"byi-toggle-icon byi-collapse\\\" *ngIf=\\\"category.subcategory && category.subcategory.length > 0 && activeSubCat == category.id && category.level == 2\\\" (click)=\\\"activeSubCat = 0\\\">-</span>\\n                <span class=\\\"byi-toggle-icon byi-back\\\" *ngIf=\\\"category.level != 2\\\" (click)=\\\"backCategory(category)\\\"> <span></span> </span>\\n                <ul class=\\\"byi-sub-menu\\\" [hidden]=\\\"activeSubCat != category.id\\\" *ngIf=\\\"category.subcategory && category.subcategory.length > 0\\\">\\n                  <ng-container *ngFor=\\\"let subcategory of category.subcategory\\\">\\n                    <li class=\\\"level1\\\">\\n                      <a href=\\\"javascript:void(0)\\\" (click)=\\\"onChangeCategory(subcategory,'')\\\"><span>{{subcategory.name}}</span></a>\\n                      <span class=\\\"byi-toggle-icon byi-sub-expand\\\" *ngIf=\\\"subcategory.subcategory && subcategory.subcategory.length > 0 \\\" (click)=\\\"updateShownCat(category.id,subcategory.id)\\\"> > </span>\\n                    </li>\\n                  </ng-container>\\n                </ul>\\n              </li>\\n            </ng-container>\\n          </ul>\\n        </li>\\n      </ul>\\n      <button class=\\\"byi-close-btn\\\" type=\\\"button\\\" (click)=\\\"isToggleOpen()\\\">\\n        <span></span>\\n      </button>\\n    </div>\\n    <div class=\\\"byi-top-filters\\\">\\n      <div class=\\\"byi-search\\\">\\n        <input class=\\\"byi-input\\\" name=\\\"searchText\\\" (input)=\\\"searchProducts($event)\\\" placeholder=\\\"Search by Name\\\"\\n        type=\\\"text\\\">\\n        <button class=\\\"byi-search-btn\\\">\\n          <svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n          </svg>\\n        </button>\\n      </div>\\n    </div>\\n    <div class=\\\"byi-product-cats\\\">\\n      <div loader #loaderComponent></div>\\n      <div class=\\\"byi-norecord\\\" *ngIf=\\\"loaderComponent.showSubLoader === false && products.length == 0\\\">No Products\\n      Found</div>\\n      <ul *ngIf=\\\"products.length !== 0\\\">\\n        <li *ngFor=\\\"let product of products\\\">\\n          <a href=\\\"javascript:void(0)\\\" (click)=\\\"setTooltipFlag(product.href)\\\">\\n            <span>\\n              <img [src]=\\\"product.url\\\" />\\n            </span>\\n            <label>{{product.name}}</label>\\n          </a>\\n        </li>\\n      </ul>\\n    </div>\\n    <div class=\\\"loadmore-action\\\" *ngIf=\\\"products.length != 0 && products.length > 16\\\">\\n      <input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More Products' | translate}}\\\"\\n      (click)=\\\"loadMoreProducts()\\\">\\n    </div>\\n  </div>\\n</div>\\n</div>\\n<div *ngIf=\\\"!displayAllProducts || mainService.isAdmin\\\">\\n  <button type=\\\"button\\\" class=\\\"byi-button\\\" *ngIf=\\\"!mainService.isResponsive\\\" >{{productName}}</button>\\n  <span class=\\\"byi-prod-name no-caret\\\" *ngIf=\\\"mainService.isResponsive\\\"  >{{productName}}</span>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/products/products.component.scss\":\n/*!************************************************************************!*\\\n  !*** ./src/app/essentials/components/products/products.component.scss ***!\n  \\************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9wcm9kdWN0cy9wcm9kdWN0cy5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/products/products.component.ts\":\n/*!**********************************************************************!*\\\n  !*** ./src/app/essentials/components/products/products.component.ts ***!\n  \\**********************************************************************/\n/*! exports provided: ProductsComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductsComponent\", function() { return ProductsComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n\n\n\n\n\n\nvar ProductsComponent = /** @class */ (function () {\n    function ProductsComponent(mainService, eventService, cdr, cacheService) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.cdr = cdr;\n        this.cacheService = cacheService;\n        this.isToggle = false;\n        this.isToggleCategory = false;\n        this.productsCategory = [];\n        this.responsiveProductsCategory = [];\n        this.currentResponsiveCats = [];\n        this.allResponsiveCats = [];\n        this.selectedProductsCategory = [];\n        this.searchText = '';\n        this.products = [];\n        this.selectedCat = {};\n        this.showSub = true;\n        this.limit = 16;\n        this.activeSubCat = 0;\n        this.displayAllProducts = false;\n    }\n    ProductsComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.loadCategory();\n        this.eventService.$sub('closeAllProducts', function () {\n            if (!_this.mainService.isResponsive) {\n                _this.isToggle = false;\n            }\n        });\n        this.eventService.$sub('getCartData', function (data) {\n            _this.productName = data.productName;\n        });\n        this.eventService.$sub('openAllProduct', function () {\n            _this.cacheService.set(\"product-tooltip-data\", true, { maxAge: 15 * 60 });\n            _this.isToggleOpen();\n        });\n    };\n    ProductsComponent.prototype.setTooltipFlag = function (link) {\n        if (window.location != window.parent.location) {\n            window.top.location.href = link;\n        }\n        else {\n            window.location.href = link;\n        }\n    };\n    ProductsComponent.prototype.loadCategory = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var params, url, cacheKey;\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        params = { limit: this.limit, 'productId': this.mainService.productId, 'search': this.searchText }, url = 'productdesigner/catalog/getCategory', cacheKey = 'getCategory' + this.mainService.baseUrl + this.mainService.productId;\n                        return [4 /*yield*/, this.mainService.getData(url, params, cacheKey).then(function (res) {\n                                if (res.enableAllProducts == 1) {\n                                    _this.displayAllProducts = true;\n                                }\n                                _this.eventService.$pub('DisplayAllProducts', _this.displayAllProducts);\n                                if (res && res.catalogCategory && res.catalogProducts.products) {\n                                    _this.productsCategory = res.catalogCategory;\n                                    _this.products = res.catalogProducts.products;\n                                    var filterArr = _this.productsCategory.filter(function (data) { return data.id == res.defaultCatId; });\n                                    if (filterArr.length == 0) {\n                                        _this.selectedCat = _this.productsCategory[0];\n                                    }\n                                    else {\n                                        _this.selectedCat = filterArr[0];\n                                    }\n                                    _this.selectedProductsCategory[0] = _this.selectedCat;\n                                    _this.activeSubCat = _this.selectedCat.id;\n                                    if (_this.mainService.isResponsive) {\n                                        _this.processProductCategory();\n                                    }\n                                }\n                            })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ProductsComponent.prototype.processProductCategory = function () {\n        var sortedArray = this.productsCategory.sort(function (a, b) {\n            return a.level - b.level;\n        });\n        var _loop_1 = function (category) {\n            if (category.parentId) {\n                var filtered = this_1.responsiveProductsCategory.filter(function (data) { return data.id == category.parentId; });\n                if (filtered.length != 0) {\n                    filtered[0]['subcategory'].push(category);\n                }\n                else {\n                    this_1.checkForParent(category);\n                }\n            }\n            else {\n                var data = [];\n                data['subcategory'] = [];\n                data['id'] = category.id;\n                data['name'] = category.name;\n                data['level'] = category.level;\n                data['path'] = category.path;\n                this_1.responsiveProductsCategory.push(data);\n            }\n            this_1.currentResponsiveCats = this_1.responsiveProductsCategory.map(function (a) { return Object.assign({}, a); });\n            this_1.allResponsiveCats[category.id] = this_1.responsiveProductsCategory.map(function (a) { return Object.assign({}, a); });\n        };\n        var this_1 = this;\n        for (var _i = 0, sortedArray_1 = sortedArray; _i < sortedArray_1.length; _i++) {\n            var category = sortedArray_1[_i];\n            _loop_1(category);\n        }\n        this.allResponsiveCats[this.selectedCat.id] = this.currentResponsiveCats.map(function (a) { return Object.assign({}, a); });\n    };\n    ProductsComponent.prototype.checkForParent = function (category) {\n        for (var _i = 0, _a = this.responsiveProductsCategory; _i < _a.length; _i++) {\n            var cat = _a[_i];\n            var filtered = cat.subcategory.filter(function (data) { return data.id == category.parentId; });\n            if (filtered.length != 0) {\n                this.parseCategory(filtered, cat, category);\n            }\n            else {\n                if (cat.subcategory.length > 0) {\n                    for (var _b = 0, _c = cat.subcategory; _b < _c.length; _b++) {\n                        var subCat = _c[_b];\n                        if (subCat.subcategory && subCat.subcategory.length > 0) {\n                            var filtered_1 = subCat.subcategory.filter(function (data) { return data.id == category.parentId; });\n                            this.parseCategory(filtered_1, subCat, category);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    ProductsComponent.prototype.parseCategory = function (filtered, subCat, category) {\n        if (filtered.length != 0) {\n            if (!filtered[0]['subcategory']) {\n                filtered[0]['subcategory'] = [];\n            }\n            filtered[0]['subcategory'].push(category);\n            var filtered1_1 = subCat.subcategory.filter(function (data) { return data.id == filtered[0].parentId; });\n            if (filtered1_1.length != 0) {\n                if (!filtered1_1[0]['subcategory']) {\n                    filtered1_1[0]['subcategory'] = [];\n                }\n                filtered1_1[0]['subcategory'].push(category);\n                var filtered2 = subCat.subcategory.filter(function (data) { return data.id == filtered1_1[0].parentId; });\n                if (filtered2.length != 0) {\n                    if (!filtered2[0]['subcategory']) {\n                        filtered2[0]['subcategory'] = [];\n                    }\n                    filtered2[0]['subcategory'].push(category);\n                }\n            }\n        }\n    };\n    ProductsComponent.prototype.getNumberArray = function (value) {\n        value = value - 2;\n        var items = [];\n        for (var i = 1; i <= value; i++) {\n            items.push(i);\n        }\n        return items;\n    };\n    ProductsComponent.prototype.onChangeCategory = function (selectedCat, searchText, showSub) {\n        var _this = this;\n        if (showSub === void 0) { showSub = true; }\n        this.selectedCat = selectedCat != null ? selectedCat : this.selectedCat;\n        this.products = [];\n        this.loaderComponent.showSubLoader = true;\n        this.cdr.detectChanges();\n        var catId = selectedCat == null ? selectedCat : selectedCat.id;\n        var params = { limit: this.limit, 'productId': this.mainService.productId, 'search': searchText, 'categoryId': catId }, url = 'productdesigner/catalog/getProducts', cacheKey = 'getProducts' + searchText + catId + this.mainService.baseUrl;\n        this.mainService.getData(url, params, cacheKey).then(function (res) {\n            if (res) {\n                _this.loaderComponent.showSubLoader = false;\n                _this.products = res.catalogProducts.products;\n            }\n        });\n        /**\n         * responsive chnages\n         */\n        if (showSub) {\n            for (var _i = 0, _a = this.selectedProductsCategory; _i < _a.length; _i++) {\n                var selectedProductCat = _a[_i];\n                selectedProductCat.showSub = false;\n            }\n            this.selectedCat.showSub = true;\n        }\n        /**\n         * Find sequence\n         */\n        this.pushCategoryPaths(this.selectedCat);\n        this.updateShownCat(this.selectedCat.parentId, this.selectedCat.id);\n    };\n    ProductsComponent.prototype.pushCategoryPaths = function (selectedCat) {\n        this.selectedProductsCategory = [];\n        if (selectedCat.level == 2) {\n            this.selectedProductsCategory.push(selectedCat);\n            return;\n        }\n        var paths = selectedCat.path.split(\"/\");\n        var _loop_2 = function (path) {\n            if (path == '1' || path == '2') {\n                return \"continue\";\n            }\n            var filter = this_2.productsCategory.filter(function (data) { return data.id == path; });\n            this_2.selectedProductsCategory.push(filter[0]);\n        };\n        var this_2 = this;\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\n            var path = paths_1[_i];\n            _loop_2(path);\n        }\n        this.selectedProductsCategory.push(selectedCat);\n    };\n    ProductsComponent.prototype.isToggleOpen = function () {\n        this.isToggle = !this.isToggle;\n    };\n    //Load more\n    ProductsComponent.prototype.loadMoreProducts = function () {\n        this.limit = this.limit + 16;\n        this.onChangeCategory(this.selectedCat.id, '');\n    };\n    //Search Products\n    ProductsComponent.prototype.searchProducts = function ($event) {\n        var searchTxt = $event.target.value.toString();\n        var catId = '';\n        if (searchTxt == \"\") {\n            catId = this.selectedCat;\n        }\n        else {\n            catId = null;\n        }\n        var self = this;\n        setTimeout(function () {\n            self.onChangeCategory(catId, searchTxt, false);\n        }, 500);\n    };\n    ProductsComponent.prototype.updateShownCat = function (parentId, currentId) {\n        var filtered = this.currentResponsiveCats.filter(function (data) { return data.id == parentId; });\n        var filtered1;\n        if (filtered[0] && filtered[0].subcategory) {\n            filtered1 = filtered[0].subcategory.filter(function (data) { return data.id == currentId; });\n        }\n        if (filtered1 && filtered1[0] && filtered1[0].level == 2) {\n            this.allResponsiveCats[currentId] = filtered[0].subcategory.map(function (a) { return Object.assign({}, a); });\n        }\n        if (filtered[0] && filtered[0].subcategory) {\n            filtered[0].subcategory = filtered1;\n            this.currentResponsiveCats = filtered[0].subcategory.map(function (a) { return Object.assign({}, a); });\n            this.activeSubCat = filtered[0].subcategory[0].id;\n        }\n        if (filtered1 && filtered1[0] && filtered1[0].level != 2) {\n            this.allResponsiveCats[currentId] = filtered[0].subcategory.map(function (a) { return Object.assign({}, a); });\n        }\n    };\n    ProductsComponent.prototype.parseCat = function (cat) {\n        this.activeSubCat = cat.id;\n        this.currentResponsiveCats = this.allResponsiveCats[cat.id].map(function (a) { return Object.assign({}, a); });\n        for (var _i = 0, _a = this.productsCategory; _i < _a.length; _i++) {\n            var subcat = _a[_i];\n            if (cat.id != subcat.id) {\n                subcat.showSub = false;\n            }\n        }\n        cat.showSub = !cat.showSub;\n    };\n    ProductsComponent.prototype.backCategory = function (cat) {\n        var filtered = this.responsiveProductsCategory.filter(function (data) { return data.id == cat.parentId; });\n        if (filtered.length == 0) {\n            var filtered1 = void 0;\n            for (var _i = 0, _a = this.responsiveProductsCategory; _i < _a.length; _i++) {\n                var selectedProductCat = _a[_i];\n                filtered1 = selectedProductCat.subcategory.filter(function (data) { return data.id == cat.parentId; });\n                if (filtered1.length != 0) {\n                    this.activeSubCat = filtered1[0].id;\n                    this.currentResponsiveCats = filtered1.map(function (a) { return Object.assign({}, a); });\n                    ;\n                    break;\n                }\n                else {\n                    var filtered2 = void 0;\n                    for (var _b = 0, _c = selectedProductCat.subcategory; _b < _c.length; _b++) {\n                        var selectedProductSubCat = _c[_b];\n                        if (selectedProductSubCat.subcategory) {\n                            filtered2 = selectedProductSubCat.subcategory.filter(function (data) { return data.id == cat.parentId; });\n                            if (filtered2.length != 0) {\n                                this.activeSubCat = filtered2[0].id;\n                                this.currentResponsiveCats = filtered2.map(function (a) { return Object.assign({}, a); });\n                                ;\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.activeSubCat = filtered[0].id;\n            if (filtered[0].level == 2) {\n                this.currentResponsiveCats = this.responsiveProductsCategory.map(function (a) { return Object.assign({}, a); });\n            }\n            else {\n                this.currentResponsiveCats = filtered;\n            }\n        }\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('loaderComponent'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_2__[\"LoaderComponent\"])\n    ], ProductsComponent.prototype, \"loaderComponent\", void 0);\n    ProductsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[products]',\n            template: __webpack_require__(/*! ./products.component.html */ \"./src/app/essentials/components/products/products.component.html\"),\n            styles: [__webpack_require__(/*! ./products.component.scss */ \"./src/app/essentials/components/products/products.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_5__[\"CacheService\"]])\n    ], ProductsComponent);\n    return ProductsComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/right-panel/right-panel-update.service.ts\":\n/*!*********************************************************************************!*\\\n  !*** ./src/app/essentials/components/right-panel/right-panel-update.service.ts ***!\n  \\*********************************************************************************/\n/*! exports provided: RightPanelUpdateService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RightPanelUpdateService\", function() { return RightPanelUpdateService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar RightPanelUpdateService = /** @class */ (function () {\n    function RightPanelUpdateService() {\n        this.init = function (params) {\n            var properties = params.properties, option = properties.option, selectedObj = params.obj, canvasService = params.service, eventService = params.eventService;\n            return {\n                /**\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\n                 *\n                 */\n                exec: function () {\n                    if (option == \"front\") {\n                        canvasService.currentCanvas.bringToFront(selectedObj);\n                    }\n                    else if (option == \"back\") {\n                        canvasService.currentCanvas.sendToBack(selectedObj);\n                    }\n                    else if (option == \"forward\") {\n                        canvasService.currentCanvas.bringForward(selectedObj);\n                    }\n                    else if (option == \"backward\") {\n                        canvasService.currentCanvas.sendBackwards(selectedObj);\n                    }\n                    canvasService.currentCanvas.renderAll();\n                    eventService.$pub('canvasObjectModified', selectedObj);\n                },\n                unexec: function () {\n                    if (option == \"front\") {\n                        canvasService.currentCanvas.sendToBack(selectedObj);\n                    }\n                    else if (option == \"back\") {\n                        canvasService.currentCanvas.bringToFront(selectedObj);\n                    }\n                    else if (option == \"forward\") {\n                        canvasService.currentCanvas.sendBackwards(selectedObj);\n                    }\n                    else if (option == \"backward\") {\n                        canvasService.currentCanvas.bringForward(selectedObj);\n                    }\n                    canvasService.currentCanvas.renderAll();\n                    eventService.$pub('canvasObjectModified', selectedObj);\n                }\n            };\n        };\n    }\n    RightPanelUpdateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        })\n    ], RightPanelUpdateService);\n    return RightPanelUpdateService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/right-panel/right-panel.component.html\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/right-panel/right-panel.component.html ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<cropper #cropper></cropper>\\n<div *ngIf=\\\"!rightPanelService.mainService.isResponsive\\\" class=\\\"byi-right-panel\\\">\\n  <div class=\\\"byi-general-options\\\">\\n    <div class=\\\"byig-option-row\\\">\\n      <div class=\\\"byig-option\\\">\\n        <label>{{'Alignment' | translate}}</label>\\n        <ul class=\\\"byig-control\\\">\\n          <li (click)=\\\"setAlignment('left')\\\" tooltip=\\\"{{'Align Left' | translate}}\\\" container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-left\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-left\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"setAlignment('alignHorizontalCenter')\\\" tooltip=\\\"{{'Align Horizontally' | translate}}\\\"\\n            container=\\\"body\\\" [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-center\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-center\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"setAlignment('right')\\\" tooltip=\\\"{{'Align Right' | translate}}\\\" container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-right\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-right\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"setAlignment('top')\\\" tooltip=\\\"{{'Align Top' | translate}}\\\" container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-top\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-top\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"setAlignment('alignVerticalCenter')\\\" tooltip=\\\"{{'Align Vertically' | translate}}\\\"\\n            container=\\\"body\\\" [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-vcenter\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-vcenter\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"setAlignment('bottom')\\\" tooltip=\\\"{{'Align Bottom' | translate}}\\\" container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-align-bottom\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-align-bottom\\\"></use>\\n            </svg>\\n          </li>\\n          <span distribute-vertical-horizontal-alignment></span>\\n        </ul>\\n      </div>\\n    </div>\\n    <div class=\\\"byig-option-row byig-inline-option\\\">\\n      <div class=\\\"byig-option\\\">\\n        <label>{{'Layer' | translate}}</label>\\n        <ul class=\\\"byig-control\\\">\\n          <li (click)=\\\"rightPanelService.canvasService.ObjectLayer('forward')\\\" tooltip=\\\"{{'Bring Forward' | translate}}\\\"\\n            container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('bringToFront') != -1}\\\">\\n            <svg class=\\\"icon icon-layer-top\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-top\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"rightPanelService.canvasService.ObjectLayer('back')\\\" tooltip=\\\"{{'Send To Back' | translate}}\\\"\\n            container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('sendToBack') != -1}\\\">\\n            <svg class=\\\"icon icon-layer-mbottom\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-mbottom\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"rightPanelService.canvasService.ObjectLayer('front')\\\" tooltip=\\\"{{'Bring To Front' | translate}}\\\"\\n            container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('bringToFront') != -1}\\\">\\n            <svg class=\\\"icon icon-layer-mtop\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-mtop\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"rightPanelService.canvasService.ObjectLayer('backward')\\\"\\n            tooltip=\\\"{{'Send Backward' | translate}}\\\" container=\\\"body\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.enableForMultipleObj == true || rightPanelService.disabledLayers.indexOf('sendToBack') != -1}\\\">\\n            <svg class=\\\"icon icon icon-layer-bottom\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-layer-bottom\\\"></use>\\n            </svg>\\n          </li>\\n        </ul>\\n      </div>\\n      <div class=\\\"byig-option\\\">\\n        <label>{{'Flip' | translate}}</label>\\n        <ul class=\\\"byig-control\\\">\\n          <li (click)=\\\"rightPanelService.canvasService.Flip('horizontal')\\\" tooltip=\\\"{{'Flip Horizontal' | translate}}\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-flip-h\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-flip-h\\\"></use>\\n            </svg>\\n          </li>\\n          <li (click)=\\\"rightPanelService.canvasService.Flip('vertical')\\\" tooltip=\\\"{{'Flip Vertical' | translate}}\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-flip-v\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-flip-v\\\"></use>\\n            </svg>\\n          </li>\\n        </ul>\\n      </div>\\n    </div>\\n    <div class=\\\"byig-option-row\\\">\\n      <div class=\\\"byig-option\\\">\\n        <label>{{'Tools' | translate}}</label>\\n        <ul class=\\\"byig-control\\\">\\n          <span object-grouping></span>\\n          <li (click)=\\\"copyObject()\\\" tooltip=\\\"{{'Duplicate' | translate}}\\\"\\n            [ngClass]=\\\"{'disabled': disableDuplicate() == true}\\\">\\n            <svg class=\\\"icon icon-t-duplicate\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-t-duplicate\\\"></use>\\n            </svg>\\n          </li>\\n          <li tooltip=\\\"{{'Delete' | translate}}\\\" (click)=\\\"rightPanelService.canvasService.deleteObject()\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n            </svg>\\n          </li>\\n          <li tooltip=\\\"{{'Best Fit' | translate}}\\\" (click)=\\\"bestFitObject()\\\"\\n            [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n            <svg class=\\\"icon icon-best-fit\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-best-fit\\\"></use>\\n            </svg>\\n          </li>\\n          <li tooltip=\\\"{{'Crop Image' | translate}}\\\" (click)=\\\"cropImage()\\\"\\n            [ngClass]=\\\"{'disabled': disableCrop == true}\\\">\\n            <svg class=\\\"icon icon-crop\\\" viewBox=\\\"0 0 30 30\\\">\\n              <use xlink:href=\\\"assets/img/sprite.svg#icon-crop\\\"></use>\\n            </svg>\\n          </li>\\n          <li *ngIf=\\\"mainService.isAdmin == true\\\" [ngClass]=\\\"{'selected': ultimateLockClass == true, 'disabled': rightPanelService.disableForSingleObj == true}\\\"  object-lock tooltip=\\\"{{ultimateLockTooltip | translate}}\\\"></li>\\n           <span background-pattern-controls [loadContent]=\\\"true\\\"></span>\\n        </ul>\\n      </div>\\n    </div>\\n  </div>\\n  <accordion class=\\\"byi-accordion byi-tooltip-right-panel\\\" [closeOthers]=\\\"true\\\" [isAnimated]=\\\"true\\\">\\n    <div class=\\\"byie-option-wrap\\\" font></div>\\n    <div class=\\\"byie-option-wrap\\\" stroke></div>\\n    <div class=\\\"byie-option-wrap\\\" drop-shadow></div>\\n    <div class=\\\"byie-option-wrap\\\" opacity></div>\\n    <div class=\\\"byie-option-wrap\\\" skew></div>\\n    <div class=\\\"byie-option-wrap\\\" object-position></div>\\n    <div class=\\\"byie-option-wrap\\\" image-effects></div>\\n    <div class=\\\"byie-option-wrap\\\" background-pattern-controls></div>\\n  </accordion>\\n</div>\\n\\n<div *ngIf=\\\"rightPanelService.mainService.isResponsive\\\" class=\\\"byi-general-option-mob \\\" [class.open]=\\\"isOpenClass\\\">\\n  <button type=\\\"button\\\" class=\\\"byi-expand-btn\\\" (click)=\\\"isOpenClass = !isOpenClass\\\">\\n    <svg class=\\\"icon icon-more-right-btn\\\" viewBox=\\\"0 0 30 30\\\">\\n      <use xlink:href=\\\"assets/img/sprite.svg#icon-more-btn\\\"></use>\\n    </svg>\\n  </button>\\n\\n  <ul class=\\\"byig-option-mob\\\">\\n     <span object-grouping></span>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"copyObject()\\\"\\n      [ngClass]=\\\"{'disabled': disableDuplicate() == true}\\\">\\n      <svg class=\\\"icon icon-t-duplicate\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-t-duplicate\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg (click)=\\\"rightPanelService.canvasService.deleteObject()\\\" class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" title=\\\"{{'Best Fit' | translate}}\\\" (click)=\\\"bestFitObject()\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-best-fit\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-best-fit\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" title=\\\"{{'Crop Image' | translate}}\\\" (click)=\\\"cropImage()\\\"\\n      [ngClass]=\\\"{'disabled': disableCrop == true}\\\">\\n      <svg class=\\\"icon icon-crop\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-crop\\\"></use>\\n      </svg>\\n    </li>\\n    \\n    <li (click)=\\\"setAlignment('left')\\\" class=\\\"mob-right-panel-options\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-left\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-left\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"setAlignment('alignHorizontalCenter')\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-center\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-center\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"setAlignment('right')\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-right\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-right\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"setAlignment('top')\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-top\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-top\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"setAlignment('alignVerticalCenter')\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-vcenter\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-vcenter\\\"></use>\\n      </svg>\\n    </li>\\n    <li class=\\\"mob-right-panel-options\\\" (click)=\\\"setAlignment('bottom')\\\"\\n      [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\">\\n      <svg class=\\\"icon icon-align-bottom\\\" viewBox=\\\"0 0 30 30\\\">\\n        <use xlink:href=\\\"assets/img/sprite.svg#icon-align-bottom\\\"></use>\\n      </svg>\\n    </li>\\n    <span distribute-vertical-horizontal-alignment></span>\\n    \\n    <li class=\\\"mob-right-panel-options\\\" [ngClass]=\\\"{'disabled': rightPanelService.disableForSingleObj == true}\\\"\\n      object-lock tooltip=\\\"{{'Ultimate Lock' | translate}}\\\"></li>\\n\\n        <span background-pattern-controls [loadContent]=\\\"true\\\"></span>\\n\\n  </ul>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/right-panel/right-panel.component.scss\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/right-panel/right-panel.component.scss ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9yaWdodC1wYW5lbC9yaWdodC1wYW5lbC5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/right-panel/right-panel.component.ts\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/essentials/components/right-panel/right-panel.component.ts ***!\n  \\****************************************************************************/\n/*! exports provided: RightPanelComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RightPanelComponent\", function() { return RightPanelComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_services_remove_object_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/remove-object.service */ \"./src/app/services/remove-object.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _right_panel_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./right-panel.service */ \"./src/app/essentials/components/right-panel/right-panel.service.ts\");\n\n\n\n\n\n\nvar RightPanelComponent = /** @class */ (function () {\n    function RightPanelComponent(eventService, mainService, removeObjectService, rightPanelService) {\n        this.eventService = eventService;\n        this.mainService = mainService;\n        this.removeObjectService = removeObjectService;\n        this.rightPanelService = rightPanelService;\n        this.ultimateLockClass = false;\n        this.isOpenClass = false;\n        // will handle layers enable disable(for changing object z-index)\n        this.disabledLayers = [];\n    }\n    RightPanelComponent.prototype.ngOnInit = function () {\n        this.initData();\n        this.subscribeEvents();\n    };\n    /**\n     * will be called each time object is CRUD\n     */\n    RightPanelComponent.prototype.initData = function () {\n        this.disableCrop = (this.enableCropper() === true) ? false : true;\n        this.rightPanelService.manageFlagForEnableDisable();\n        this.rightPanelService.checkForLayers();\n        this.disableDuplicate();\n    };\n    /**\n     * Check if active image is of type image and active image is not svg image, then return true, false otherwise\n     */\n    RightPanelComponent.prototype.enableCropper = function () {\n        var activeObj = this.rightPanelService.canvasService.getActiveObject();\n        return (activeObj && activeObj.objType == 'image' && activeObj.isSvg == false && activeObj.ultimatelock != true);\n    };\n    /*Enable tooltip*/\n    RightPanelComponent.prototype.enableTooltip = function (obj) {\n        var self = this;\n        var tabId = ((obj.tab == \"text\") ? \"1\" : ((obj.tab == \"clipart\") ? \"2\" : ((obj.tab == \"upload\") ? \"3\" : '')));\n        if (tabId != \"\") {\n            var getIndx = Object.keys(this.mainService.getAllTabs).indexOf(tabId);\n            var tootltipObj = this.mainService.getAllTabs[getIndx + 1];\n            var tootltipData = [];\n            if (tootltipObj.second_tooltip != null) {\n                tootltipData.push({ element: \".byi-right-panel\", intro: tootltipObj.second_tooltip, position: 'right' });\n                this.mainService.processToolTip(tootltipData, true);\n                this.mainService.isToolTipEnable = false;\n            }\n            else {\n                setTimeout(function () { introJs().exit(); self.mainService.isToolTipEnable = false; }, 10000);\n            }\n        }\n    };\n    RightPanelComponent.prototype.changeTooltip = function (obj) {\n        if (obj != \"\") {\n            this.ultimateLockTooltip = (obj.ultimatelock == true) ? \"Ultimate Unlock\" : \"Ultimate Lock\";\n        }\n    };\n    RightPanelComponent.prototype.applyClassForUltimateLock = function (obj) {\n        if (obj != \"\") {\n            this.ultimateLockClass = (obj.ultimatelock == true) ? true : false;\n        }\n    };\n    /**\n     * Subscribe events and perform action here\n     */\n    RightPanelComponent.prototype.subscribeEvents = function () {\n        var _this_1 = this;\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            if (_this_1.mainService.isToolTipEnable) {\n                _this_1.enableTooltip(obj);\n            }\n            _this_1.initData();\n            _this_1.changeTooltip(obj);\n            if (_this_1.mainService.isAdmin == true) {\n                _this_1.applyClassForUltimateLock(obj);\n            }\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            _this_1.initData();\n            if (_this_1.mainService.isAdmin == true) {\n                _this_1.applyClassForUltimateLock(obj);\n            }\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this_1.initData();\n            _this_1.ultimateLockClass = false;\n        });\n        this.eventService.$sub('objectUpdated', function (obj) {\n            _this_1.initData();\n            _this_1.changeTooltip(obj);\n        });\n        this.eventService.$sub('canvasObjectModified', function () {\n            _this_1.rightPanelService.checkForLayers();\n        });\n        this.eventService.$sub('closeSideBar', function () {\n            _this_1.isOpenClass = false;\n        });\n    };\n    /**\n     * Best fit object\n     */\n    RightPanelComponent.prototype.bestFitObject = function () {\n        // get current selected canvas object\n        var obj = this.rightPanelService.canvasService.getActiveObject();\n        // if object not found or object is angled, return from here and set the flag for the same\n        if (!obj)\n            return;\n        // if not, then prepare best fit obj, filter it and store into local variable\n        var bestFitProperties = this.rightPanelService.canvasService.filterBestFitProperties(this.rightPanelService.canvasService.getBestFitProperties(), obj);\n        bestFitProperties = Object.assign({}, { selectThisObject: false });\n        // update that obj to current canvas obj\n        var params = {\n            obj: obj,\n            properties: bestFitProperties,\n            crudServiceString: 'this.updateObjectService',\n            isCenter: true,\n            setActive: false\n        };\n        this.rightPanelService.canvasService.objectCRUD(params);\n    };\n    RightPanelComponent.prototype.cropImage = function () {\n        if (this.disableCrop === true)\n            return;\n        var obj = this.rightPanelService.canvasService.getActiveObject(), img = decodeURI(obj.getSrc());\n        this.cropper.cropImage(img);\n    };\n    RightPanelComponent.prototype.lockObject = function () {\n        var objs = this.rightPanelService.canvasService.currentCanvas.getActiveObjects();\n        var _this = this;\n        objs.forEach(function (object, index) {\n            _this.lockObjects(objs[index]);\n        });\n    };\n    RightPanelComponent.prototype.lockObjects = function (obj) {\n        var properties;\n        if (obj.selectable == false) {\n            properties = { selectable: true };\n        }\n        else {\n            properties = { selectable: false };\n        }\n        if (obj) {\n            this.rightPanelService.canvasService.currentCanvas.discardActiveObject();\n            var params = {\n                obj: obj,\n                properties: properties,\n                crudServiceString: 'this.updateObjectService',\n            };\n            this.rightPanelService.canvasService.objectCRUD(params);\n        }\n    };\n    RightPanelComponent.prototype.setAlignment = function (option, obj) {\n        if (obj === void 0) { obj = null; }\n        var canvas = this.rightPanelService.canvasService.currentCanvas;\n        var canvasService = this.rightPanelService.canvasService;\n        var objects = canvas.getActiveObjects();\n        if (objects && objects.length > 1 && obj == null) {\n            this.alignMultipleObjects(objects, option);\n            return;\n        }\n        obj = (obj == null) ? canvas.getActiveObject() : obj;\n        var properties = {};\n        var _this = this, eventParam = {\n            option: option,\n            newVal: null,\n        };\n        if (obj) {\n            if (option == \"left\") {\n                var left = this.rightPanelService.canvasService.clipX[canvas.designarea_id] / 2;\n                if (obj.originX == 'center') {\n                    left += obj.width / 2;\n                }\n                properties = { left: left };\n                eventParam.newVal = left;\n                obj.setCoords();\n            }\n            else if (option == \"right\") {\n                var right = (canvas.width - (this.rightPanelService.canvasService.clipX[canvas.designarea_id] / 2)) - obj.getBoundingRect().width;\n                if (obj.originX == 'center') {\n                    right += obj.width / 2;\n                }\n                properties = { left: right };\n                eventParam.newVal = right;\n                obj.setCoords();\n            }\n            else if (option == \"top\") {\n                var top_1 = (this.rightPanelService.canvasService.clipY[canvas.designarea_id] / 2) + 1;\n                if (obj.originY == 'center') {\n                    top_1 += obj.height / 2;\n                }\n                properties = { top: top_1 };\n                eventParam.newVal = top_1;\n                obj.setCoords();\n            }\n            else if (option == \"bottom\") {\n                var bottom = (canvas.height - (this.rightPanelService.canvasService.clipY[canvas.designarea_id] / 2)) - obj.getBoundingRect().height;\n                if (obj.originY == 'center') {\n                    bottom += obj.height / 2;\n                }\n                properties = { top: bottom };\n                eventParam.newVal = bottom;\n                obj.setCoords();\n            }\n            else if (option == \"alignHorizontalCenter\") {\n                var poscenter = canvas.width / 2;\n                if (obj.originX != 'center') {\n                    poscenter -= (obj.width * obj.scaleX / 2);\n                }\n                properties = { left: poscenter };\n                eventParam.newVal = poscenter;\n            }\n            else if (option == \"alignVerticalCenter\") {\n                var posmiddle = canvas.height / 2;\n                if (obj.originY != 'center') {\n                    posmiddle -= (obj.height * obj.scaleY / 2);\n                }\n                properties = { top: posmiddle };\n                eventParam.newVal = posmiddle;\n            }\n            var params = {\n                obj: obj,\n                properties: properties,\n                crudServiceString: 'this.updateObjectService',\n            };\n            this.rightPanelService.canvasService.objectCRUD(params);\n            this.eventService.$pub('alignment', eventParam);\n        }\n    };\n    RightPanelComponent.prototype.alignMultipleObjects = function (allObjects, alignment) {\n        var _this_1 = this;\n        // prepare variables\n        var objToBeCompared = null, newValue = null, mainMargin, currentMargin, params = {\n            obj: [],\n            properties: [],\n            crudServiceString: 'this.multipleObjectsUpdateService',\n            selectedObjs: allObjects\n        }, objs = [], properties = [];\n        this.rightPanelService.canvasService.deselectAllObjects();\n        // horizontal/vertical alignment object wise\n        if (alignment == 'alignHorizontalCenter' || alignment == 'alignVerticalCenter') {\n            this.mainService.canvasService.deselectAllObjects();\n            allObjects.filter(function (currObj) {\n                _this_1.setAlignment(alignment, currObj);\n            });\n        }\n        // if alignment option value is right\n        else if (alignment == 'right') {\n            objToBeCompared = this.rightPanelService.findObjMargin(allObjects, true);\n            mainMargin = objToBeCompared.width * objToBeCompared.scaleX;\n            allObjects.filter(function (currObj) {\n                if (currObj.id != objToBeCompared.id) {\n                    currentMargin = currObj.width * currObj.scaleX;\n                    newValue = objToBeCompared.left + (mainMargin - currentMargin);\n                    objs.push(currObj);\n                    properties.push(Object.assign({}, { left: newValue }));\n                }\n            });\n        }\n        // if alignment option value is left\n        else if (alignment == 'left') {\n            objToBeCompared = this.rightPanelService.findObjMargin(allObjects);\n            allObjects.filter(function (currObj) {\n                if (currObj.id != objToBeCompared.id) {\n                    objs.push(currObj);\n                    properties.push(Object.assign({}, { left: objToBeCompared.left }));\n                }\n            });\n        }\n        // if alignment option value is top\n        else if (alignment == 'top') {\n            objToBeCompared = this.rightPanelService.findObjMargin(allObjects, false, \"top\");\n            allObjects.filter(function (currObj) {\n                if (currObj.id != objToBeCompared.id) {\n                    objs.push(currObj);\n                    properties.push(Object.assign({}, { top: objToBeCompared.top }));\n                }\n            });\n        }\n        // if alignment option value is bottom\n        if (alignment == 'bottom') {\n            objToBeCompared = this.rightPanelService.findObjMargin(allObjects, true, \"top\");\n            mainMargin = objToBeCompared.height * objToBeCompared.scaleY;\n            allObjects.filter(function (currObj) {\n                if (currObj.id != objToBeCompared.id) {\n                    currentMargin = currObj.height * currObj.scaleY;\n                    newValue = objToBeCompared.top + (mainMargin - currentMargin);\n                    objs.push(currObj);\n                    properties.push(Object.assign({}, { top: newValue }));\n                }\n            });\n        }\n        // \n        if (objs.length && properties.length) {\n            params.obj = objs;\n            params.properties = properties;\n            params = Object.assign(params, { objsToSelect: allObjects });\n            this.rightPanelService.canvasService.objectCRUD(params);\n        }\n    };\n    RightPanelComponent.prototype.copyObject = function () {\n        var _this_1 = this;\n        // prepare variables\n        var activeObjs = this.rightPanelService.canvasService.currentCanvas.getActiveObjects(), properties = {}, params = {}, left, top, activeGroup = this.rightPanelService.canvasService.currentCanvas.getActiveObject(), clonedObjs = [];\n        // if no active object found, return\n        if (!activeObjs || !activeObjs.length)\n            return;\n        // clone each object one by one and \n        // add the same to canvas\n        var preventObject = false;\n        activeObjs.filter(function (selectedObj, index) {\n            selectedObj.clone(function (clonedObj) {\n                preventObject = false;\n                if (selectedObj.tab && selectedObj.tab == 'text') {\n                    var totalTextObjects = _this_1.rightPanelService.canvasService.getObjectTypeFromAllCanvas('tab', 'text');\n                    totalTextObjects = (totalTextObjects) ? totalTextObjects : 0;\n                    if (totalTextObjects >= _this_1.rightPanelService.canvasService.objectLimit.textLimitCounter) {\n                        _this_1.eventService.$pub('displayTextLimitError');\n                        preventObject = true;\n                    }\n                }\n                else if (selectedObj.tab && selectedObj.tab == 'clipart') {\n                    var totalClipartObjects = _this_1.rightPanelService.canvasService.getObjectTypeFromAllCanvas('tab', 'clipart');\n                    totalClipartObjects = (totalClipartObjects) ? totalClipartObjects : 0;\n                    if (totalClipartObjects >= _this_1.rightPanelService.canvasService.objectLimit.clipartImageLimit) {\n                        _this_1.eventService.$pub('displayClipartLimitError');\n                        preventObject = true;\n                    }\n                }\n                else if (selectedObj.tab && selectedObj.tab == 'upload') {\n                    var totalUploadedImages = _this_1.rightPanelService.canvasService.getObjectTypeFromAllCanvas('tab', 'upload');\n                    totalUploadedImages = (totalUploadedImages) ? totalUploadedImages : 0;\n                    if (totalUploadedImages >= _this_1.rightPanelService.canvasService.objectLimit.uploadImageLimit) {\n                        _this_1.eventService.$pub('displayUploadImageLimitError');\n                        preventObject = true;\n                    }\n                }\n                if (!preventObject) {\n                    left = selectedObj.left;\n                    top = selectedObj.top;\n                    left = (index == 0 && activeObjs.length > 1) ? left + (activeGroup.width / 2) + activeGroup.left : left;\n                    top = (index == 0 && activeObjs.length > 1) ? top + (activeGroup.height / 2) + activeGroup.top : top;\n                    properties = {\n                        left: left + 10,\n                        top: top + 10,\n                        objType: selectedObj.objType,\n                        tab: selectedObj.tab,\n                        ignoreBestFit: true,\n                        src: selectedObj.src\n                    };\n                    properties = (selectedObj.objType == 'image') ? properties = Object.assign(properties, { isSvg: selectedObj.isSvg }) : properties;\n                    params = {\n                        obj: clonedObj,\n                        properties: properties,\n                        crudServiceString: 'this.insertObjectService'\n                    };\n                    _this_1.rightPanelService.canvasService.objectCRUD(params);\n                    clonedObjs.push(clonedObj);\n                }\n            });\n        });\n        // reseselect all objects after few seconds    \n        setTimeout(function () {\n            if (clonedObjs.length > 1) {\n                _this_1.eventService.$pub('selectThisObjects', clonedObjs);\n            }\n        }, 100);\n    };\n    /**\n     * Disable duplicate if no object selected\n     * or selected object is of type name number\n     */\n    RightPanelComponent.prototype.disableDuplicate = function () {\n        if (!this.rightPanelService.mainService.canvasService.currentCanvas)\n            return true;\n        var disable = false, selectedObjs = this.rightPanelService.mainService.canvasService.currentCanvas.getActiveObjects();\n        if (this.rightPanelService.disableForSingleObj) {\n            disable = true;\n        }\n        else if (selectedObjs && selectedObjs.length > 0) {\n            var isNameNumberObjExists = void 0;\n            isNameNumberObjExists = selectedObjs.find(function (currObj) { return (currObj.hasOwnProperty('addObj') && (currObj.addObj == 'name' || currObj.addObj == 'number')); });\n            disable = (isNameNumberObjExists) ? true : false;\n        }\n        return disable;\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ViewChild\"])('cropper'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], RightPanelComponent.prototype, \"cropper\", void 0);\n    RightPanelComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"Component\"])({\n            selector: 'right-panel',\n            template: __webpack_require__(/*! ./right-panel.component.html */ \"./src/app/essentials/components/right-panel/right-panel.component.html\"),\n            styles: [__webpack_require__(/*! ./right-panel.component.scss */ \"./src/app/essentials/components/right-panel/right-panel.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            src_app_services_remove_object_service__WEBPACK_IMPORTED_MODULE_1__[\"RemoveObjectService\"],\n            _right_panel_service__WEBPACK_IMPORTED_MODULE_5__[\"RightPanelService\"]])\n    ], RightPanelComponent);\n    return RightPanelComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/right-panel/right-panel.service.ts\":\n/*!**************************************************************************!*\\\n  !*** ./src/app/essentials/components/right-panel/right-panel.service.ts ***!\n  \\**************************************************************************/\n/*! exports provided: RightPanelService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RightPanelService\", function() { return RightPanelService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\n\n\nvar RightPanelService = /** @class */ (function () {\n    function RightPanelService(mainService, canvasService) {\n        this.mainService = mainService;\n        this.canvasService = canvasService;\n        this.disabledLayers = [];\n    }\n    RightPanelService.prototype.manageFlagForEnableDisable = function () {\n        this.disableForSingleObj = (this.enableForSingleObj() === true) ? false : true;\n        this.enableForMultipleObj = this.enableForMultipleObject();\n    };\n    RightPanelService.prototype.findObjMargin = function (allObjects, findMax, objKey, skipThisObj) {\n        if (findMax === void 0) { findMax = false; }\n        if (objKey === void 0) { objKey = \"left\"; }\n        if (skipThisObj === void 0) { skipThisObj = null; }\n        // variable declaration\n        var resultObj = allObjects[0], totalObjects = allObjects.length, i = 1, scaleKey, resultObjMargin, currentMargin, heightWidthKey, scaledResultObj, scaledCurrentObj;\n        // determine values based on params\n        scaleKey = (objKey == \"left\") ? \"scaleX\" : \"scaleY\";\n        heightWidthKey = (objKey == \"left\") ? \"width\" : \"height\";\n        // traverse each object one by one\n        for (; i < totalObjects; i++) {\n            // skip specified object from comparision\n            if (skipThisObj && skipThisObj.hasOwnProperty('id') && skipThisObj.id == allObjects[i].id)\n                continue;\n            // prepare left/top obj for both selected and current object\n            currentMargin = allObjects[i][objKey];\n            resultObjMargin = resultObj[objKey];\n            // get scaled height/width\n            scaledResultObj = resultObj[heightWidthKey] * resultObj[scaleKey];\n            scaledCurrentObj = allObjects[i][heightWidthKey] * allObjects[i][scaleKey];\n            // when user clicks on left/top, \n            // all objects will be having same marig\n            // in this case we will be checking by their scaled width/height\n            if ((currentMargin == resultObjMargin && scaledCurrentObj >= scaledResultObj)) {\n                resultObj = allObjects[i];\n            }\n            // in case of right/bottom\n            // we will be checking if current traversing object is having hight marign\n            // and scaling than selected one, replace the same\n            else if (findMax === true) {\n                if ((scaledCurrentObj + currentMargin) >= (scaledResultObj + resultObjMargin)) {\n                    resultObj = allObjects[i];\n                }\n                // in case of left/bottom, simple find object having minimum margin\n            }\n            else if (findMax === false && currentMargin < resultObjMargin) {\n                resultObj = allObjects[i];\n            }\n        }\n        // return object that will be used as flag\n        return resultObj;\n    };\n    RightPanelService.prototype.checkForLayers = function () {\n        this.disabledLayers = [];\n        var activeObj = this.canvasService.getActiveObject();\n        if (activeObj == false)\n            return;\n        var totalCanvasObjects = Object.keys(this.canvasService.getObjects()).length - 1, objStack = this.canvasService.getObjects().indexOf(activeObj);\n        if (objStack == 0) {\n            this.disabledLayers.push('sendToBack');\n        }\n        else if (objStack == totalCanvasObjects) {\n            this.disabledLayers.push('bringToFront');\n        }\n    };\n    RightPanelService.prototype.enableForMultipleObject = function () {\n        var totalAddedObjects = (this.canvasService.currentCanvas && this.canvasService.getObjects()) ? this.canvasService.getObjects().length : 0;\n        if (this.enableForSingleObj() === true && totalAddedObjects > 1 && this.canvasService.currentCanvas.getActiveObjects().length == 1)\n            return false;\n        return true;\n    };\n    RightPanelService.prototype.enableForSingleObj = function () {\n        var obj = this.canvasService.getActiveObject();\n        if (this.mainService.isAdmin == false) {\n            if (obj == false || obj.ultimatelock == true)\n                return false;\n            return true;\n        }\n        else {\n            if (obj == false)\n                return false;\n            return true;\n        }\n    };\n    RightPanelService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_1__[\"CanvasService\"]])\n    ], RightPanelService);\n    return RightPanelService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/save-design/save-design.component.html\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/save-design/save-design.component.html ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<a *ngIf=\\\"mainService.isAdmin == false\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"openSaveDesign()\\\"\\n\\ttooltip=\\\"{{'Save Design' | translate}}\\\">\\n\\t<svg class=\\\"icon icon-save\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-save\\\"></use>\\n\\t</svg>\\n</a>\\n\\n<!-- Save Design Modal -->\\n<ng-template #saveDesignModal>\\n\\t<form (ngSubmit)=\\\"saveDesign()\\\">\\n\\t\\t<div class=\\\"modal-header\\\">\\n\\t\\t\\t<h4 class=\\\"modal-title pull-left\\\">{{'Save Design' | translate}}</h4>\\n\\t\\t\\t<button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n\\t\\t\\t\\t<span aria-hidden=\\\"true\\\">&times;</span>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"modal-body\\\">\\n\\t\\t\\t<div class=\\\"byi-login-tab\\\">\\n\\t\\t\\t\\t<div class=\\\"byi-float-form\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"byi-float-label\\\">\\n\\t\\t\\t\\t\\t\\t<label>{{'Design Title' | translate}} *</label>\\n\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" name=\\\"designTitle\\\" [(ngModel)]=\\\"designTitle\\\" />\\n\\t\\t\\t\\t\\t\\t<span class=\\\"text-danger\\\" *ngIf=\\\"titleHasError()\\\">This is required field</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"byi-form-action\\\">\\n\\t\\t\\t\\t\\t\\t<button class=\\\"byi-btn\\\" type=\\\"submit\\\">{{'Save' | translate}}</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</form>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/save-design/save-design.component.scss\":\n/*!******************************************************************************!*\\\n  !*** ./src/app/essentials/components/save-design/save-design.component.scss ***!\n  \\******************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9zYXZlLWRlc2lnbi9zYXZlLWRlc2lnbi5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/save-design/save-design.component.ts\":\n/*!****************************************************************************!*\\\n  !*** ./src/app/essentials/components/save-design/save-design.component.ts ***!\n  \\****************************************************************************/\n/*! exports provided: SaveDesignComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SaveDesignComponent\", function() { return SaveDesignComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n\n\n\n\n\n\nvar SaveDesignComponent = /** @class */ (function () {\n    function SaveDesignComponent(mainService, eventService, designService, translate) {\n        var _this = this;\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.designService = designService;\n        this.translate = translate;\n        /**\n         * Subscribe once customer is logged in then call the save design function\n         */\n        this.eventService.$sub('customerLoggedIn', function (isSave) {\n            if (isSave) {\n                //this.saveDesign();\n                _this.openSaveDesign();\n            }\n        });\n    }\n    SaveDesignComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.init();\n        this.eventService.$sub('designSaved', function (design) {\n            _this.modalRef.hide();\n        });\n    };\n    SaveDesignComponent.prototype.init = function () {\n        this.submitted = false;\n        this.designTitle = '';\n    };\n    /**\n     * Checks if customer is logged in or not if customer is logged in then open save design modal else open login modal\n     */\n    SaveDesignComponent.prototype.openSaveDesign = function () {\n        if (!this.mainService.canvasService.hasCanvasObjectOrBackgroundAll()) {\n            this.mainService.swal(this.translate.instant('Alert'), this.translate.instant('Please design the product !'), \"warning\");\n            return;\n        }\n        if (this.mainService.userLoggedIn == true) {\n            this.init();\n            this.modalRef = this.mainService.openThisModal(this.saveDesignModal);\n        }\n        else {\n            this.eventService.$pub('openLoginModal', true);\n        }\n    };\n    /**\n     * Saves the design and publish an event\n     */\n    SaveDesignComponent.prototype.saveDesign = function () {\n        var _this = this;\n        // change flag that will show error messages(if any)\n        this.submitted = true;\n        // if errors found, return\n        if (this.titleHasError())\n            return;\n        // check for name existance\n        this.proceedToSaveDesign().then(function (resp) {\n            if (resp && resp.hasOwnProperty('titleExists') && resp.titleExists == true) {\n                _this.mainService.swal('Already Exists', 'Design with this name already exists. Please enter different name', 'warning');\n            }\n        });\n    };\n    SaveDesignComponent.prototype.proceedToSaveDesign = function (designId) {\n        if (designId === void 0) { designId = null; }\n        // finally, save design\n        var data = {\n            title: this.designTitle,\n            designId: designId,\n            closeThisModal: this.modalRef\n        };\n        this.eventService.$pub('saveDesignBefore');\n        return this.designService.saveDesignData(data);\n    };\n    SaveDesignComponent.prototype.titleHasError = function (str) {\n        if (str === void 0) { str = this.designTitle; }\n        return (this.submitted === true && (!str || str.length == 0 || str.trim().length == 0));\n    };\n    SaveDesignComponent.prototype.closeModal = function () {\n        this.modalRef.hide();\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('saveDesignModal'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], SaveDesignComponent.prototype, \"saveDesignModal\", void 0);\n    SaveDesignComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[save-design]',\n            template: __webpack_require__(/*! ./save-design.component.html */ \"./src/app/essentials/components/save-design/save-design.component.html\"),\n            styles: [__webpack_require__(/*! ./save-design.component.scss */ \"./src/app/essentials/components/save-design/save-design.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_3__[\"DesignService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateService\"]])\n    ], SaveDesignComponent);\n    return SaveDesignComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/skew/skew.component.html\":\n/*!****************************************************************!*\\\n  !*** ./src/app/essentials/components/skew/skew.component.html ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [hidden]=\\\"componentHide\\\">\\n\\t<button class=\\\"byi-accordion-title\\\" accordion-heading>\\n\\t\\t<span>{{'Skew' | translate}}</span>\\n\\t</button>\\n\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t<ng-container [ngTemplateOutlet]=\\\"skew\\\"></ng-container>\\n\\t</div>\\n</accordion-group>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('skew')\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n\\t<ng-template tabHeading>\\n\\t\\t<span>{{'Skew' | translate}}</span>\\n\\t</ng-template>\\n\\t<ng-container [ngTemplateOutlet]=\\\"skew\\\"></ng-container>\\n</tab>\\n<ng-template #skew>\\n\\t<div class=\\\"byie-option\\\">\\n\\t\\t<div class=\\\"byi-inline-box\\\">\\n\\t\\t\\t<div class=\\\"byi-inline-item\\\">\\n\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t<span>{{'SkewX' | translate}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" (mousedown)=\\\"setPrevValue('skewX', skewX)\\\" [(ngModel)]=\\\"skewX\\\" min=\\\"-180\\\" max=\\\"180\\\" step=\\\"0.1\\\" (input)=\\\"changeSkewX()\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\" (change)=\\\"stackToUndo('skewX')\\\">\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-inline-item\\\">\\n\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t<span>{{'SkewY' | translate}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" (mousedown)=\\\"setPrevValue('skewY', skewY)\\\" [(ngModel)]=\\\"skewY\\\" min=\\\"-180\\\" max=\\\"180\\\" step=\\\"0.1\\\" (input)=\\\"changeSkewY()\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\" (change)=\\\"stackToUndo('skewY')\\\">\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<button (click)=\\\"clear()\\\" class=\\\"byi-range-reset-link\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/skew/skew.component.scss\":\n/*!****************************************************************!*\\\n  !*** ./src/app/essentials/components/skew/skew.component.scss ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9za2V3L3NrZXcuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/skew/skew.component.ts\":\n/*!**************************************************************!*\\\n  !*** ./src/app/essentials/components/skew/skew.component.ts ***!\n  \\**************************************************************/\n/*! exports provided: SkewComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SkewComponent\", function() { return SkewComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\n\nvar SkewComponent = /** @class */ (function () {\n    function SkewComponent(mainService, eventService, canvasService, tabsService) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.tabsService = tabsService;\n        this.skewX = 0;\n        this.skewY = 0;\n        this.componentHide = true;\n        // fixed values\n        this.minDegree = -180;\n        this.maxDegree = 180;\n        // for undo redo\n        this.preSkewValues = {};\n        this.tabsService.registerTabs('skew', 'plain-text');\n        this.tabsService.registerTabs('skew', 'clipart');\n        this.tabsService.registerTabs('skew', 'image-upload');\n        this.tabsService.registerTabs('skew', 'name-number');\n        this.tabsService.registerTabs('skew', 'common');\n    }\n    SkewComponent.prototype.ngOnInit = function () {\n        this.subscribeEvents();\n    };\n    SkewComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            _this.setSkew(obj);\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this.componentHide = (_this.canvasService.getActiveObject()) ? null : true;\n        });\n        this.eventService.$sub('objectAdded', function (obj) {\n            _this.skewX = _this.skewY = \"\";\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\n        });\n        this.eventService.$sub('objectRemoved', function (obj) {\n            _this.componentHide = (_this.canvasService.getActiveObject()) ? null : true;\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            _this.setSkew(obj);\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\n        });\n        this.eventService.$sub('objectUpdated', function (obj) {\n            _this.setSkew(obj);\n        });\n    };\n    SkewComponent.prototype.setPrevValue = function (key, value) {\n        if (!this.preSkewValues || this.preSkewValues[key] == null) {\n            this.preSkewValues[key] = value;\n        }\n    };\n    SkewComponent.prototype.stackToUndo = function (key) {\n        // Init empty shadow object here\n        var properties = {};\n        // set selecte shadow value(eg. offsetX, offsetY)\n        properties = Object.assign({}, this.preSkewValues);\n        // determine other shadow key(eg. offsetX, offsetY)\n        var otherKey = (key == 'skewX') ? 'skewY' : 'skewX', \n        // determine other shadow value\n        otherKeyVal = (otherKey == 'skewX') ? this.skewX : this.skewY;\n        // check if otherKyeVal is null, set it to 0\n        // this will only occur on first time\n        otherKeyVal = (!otherKeyVal) ? 0 : otherKeyVal;\n        // set other shadow property to properties object\n        properties[otherKey] = otherKeyVal;\n        // finally pass the property object to rangeSliderUndoRedo\n        this.canvasService.rangeSliderUndoRedo(properties);\n        // set selected shadow to null\n        this.preSkewValues[key] = null;\n    };\n    /**\n     * Change skew values on object updatation(eg. object added/removed/modified etc)\n     *\n     * @param obj\n     */\n    SkewComponent.prototype.setSkew = function (obj) {\n        if (obj.length > 0) {\n            if (obj[0]) {\n                this.skewX = (obj[0].skewX != 0 && obj[0].skewX != undefined) ? obj[0].skewX : '';\n                this.skewY = (obj[0].skewY != 0 && obj[0].skewY != undefined) ? obj[0].skewY : '';\n            }\n        }\n        else {\n            this.skewX = (obj.skewX != 0 && obj.skewX != undefined) ? obj.skewX : '';\n            this.skewY = (obj.skewY != 0 && obj.skewY != undefined) ? obj.skewY : '';\n        }\n    };\n    SkewComponent.prototype.changeSkewX = function () {\n        var _this = this;\n        this.skewX = (this.skewX < this.minDegree) ? this.minDegree : this.skewX;\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects();\n        selectedObjs.filter(function (currObj) {\n            currObj.skewX = _this.skewX;\n        });\n        this.canvasService.currentCanvas.renderAll();\n    };\n    /**\n     * Change SkewX value\n     */\n    SkewComponent.prototype.changeSkewY = function () {\n        var _this = this;\n        this.skewY = (this.skewY > this.maxDegree) ? this.maxDegree : this.skewY;\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects();\n        selectedObjs.filter(function (currObj) {\n            currObj.skewY = _this.skewY;\n        });\n        this.canvasService.currentCanvas.renderAll();\n    };\n    /**\n     * Reset Skew\n     */\n    SkewComponent.prototype.clear = function () {\n        this.skewX = 0;\n        this.skewY = 0;\n        if (this.canvasService.hasCanvasObjectOrBackgroundAll()) {\n            this.changeSkewX();\n            this.changeSkewY();\n        }\n    };\n    SkewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[skew]',\n            template: __webpack_require__(/*! ./skew.component.html */ \"./src/app/essentials/components/skew/skew.component.html\"),\n            styles: [__webpack_require__(/*! ./skew.component.scss */ \"./src/app/essentials/components/skew/skew.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_3__[\"TabsService\"]])\n    ], SkewComponent);\n    return SkewComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/stroke/stroke.component.html\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/stroke/stroke.component.html ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [hidden]=\\\"componentHide\\\">\\n  <button class=\\\"byi-accordion-title\\\" accordion-heading>\\n    <span>{{'Stroke' | translate}}</span>\\n  </button>\\n  <div class=\\\"byi-accord-content\\\">\\n    <ng-container [ngTemplateOutlet]=\\\"stroke\\\"></ng-container>\\n  </div>\\n</accordion-group>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('stroke')\\\" [attr.hidden]=\\\"componentHide\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n  <ng-template tabHeading>\\n    <span>{{'Stroke' | translate}}</span>\\n  </ng-template>\\n  <ng-container [ngTemplateOutlet]=\\\"stroke\\\"></ng-container>\\n</tab>\\n<ng-template #stroke>\\n  <div class=\\\"byie-option\\\">\\n    <div class=\\\"byi-range-box byie-count-wrap\\\">\\n      <div class=\\\"byi-global-reset\\\">\\n        <div class=\\\"byie-custom-color\\\">\\n          <div *ngIf=\\\"selectedColor\\\" [type]=\\\"'simple'\\\" custom-color-picker [activeColor]=\\\"selectedColor\\\"\\n            [hideColorToggle]=\\\"hideColorToggleOutline\\\" (colorPickerToggle)=\\\"colorPickerToggleOutline($event)\\\"\\n            (changeColorEvent)=\\\"changeColorOutline($event)\\\"></div>\\n        </div>\\n        <button class=\\\"byi-range-reset-link\\\" (click)=\\\"resetOutline()\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n          <svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n          </svg>\\n        </button>\\n      </div>\\n      <div class=\\\"byi-rb-input\\\">\\n        <span class=\\\"byie-count\\\">{{(outline/10).toFixed(1)}}</span>\\n        <input type=\\\"range\\\" [(ngModel)]=\\\"outline\\\" min=\\\"0\\\" max=\\\"10\\\" step=\\\"0.1\\\"\\n          (mousedown)=\\\"setPrevValue($event.target.value)\\\" (change)=\\\"stackToUndo()\\\" (input)=\\\"changeOutline()\\\"\\n          class=\\\"slider\\\">\\n      </div>\\n    </div>\\n  </div>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/stroke/stroke.component.scss\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/stroke/stroke.component.scss ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy9zdHJva2Uvc3Ryb2tlLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/stroke/stroke.component.ts\":\n/*!******************************************************************!*\\\n  !*** ./src/app/essentials/components/stroke/stroke.component.ts ***!\n  \\******************************************************************/\n/*! exports provided: StrokeComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StrokeComponent\", function() { return StrokeComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n\n\n\n\n\n\nvar StrokeComponent = /** @class */ (function () {\n    function StrokeComponent(canvasService, eventService, mainService, tabsService) {\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.mainService = mainService;\n        this.tabsService = tabsService;\n        this.colorarr = [];\n        this.hideColorToggleOutline = 1;\n        this.componentHide = true;\n        // for undoRedo\n        this.prevStrokeWidth = null;\n        this.tabsService.registerTabs('stroke', 'plain-text');\n        this.tabsService.registerTabs('stroke', 'name-number');\n    }\n    StrokeComponent.prototype.ngOnInit = function () {\n        this.outline = '0';\n        this.subscribeEvents();\n    };\n    StrokeComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        var self = this;\n        this.eventService.$sub('objectAdded', function (obj) {\n            self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n        });\n        this.eventService.$sub('objectRemoved', function (obj) {\n            self.componentHide = true;\n        });\n        this.eventService.$sub('objectUpdated', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.updateOutline(obj);\n        });\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            if (obj.type == 'activeSelection') {\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\n                if (isObjText == -1) {\n                    self.componentHide = null;\n                }\n                else {\n                    self.componentHide = true;\n                }\n            }\n            else {\n                self.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n            }\n            _this.updateOutline(obj);\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n            if (obj.type == 'activeSelection') {\n                var isObjText = obj._objects.indexOf(obj._objects.find(function (currObj) { return currObj.type != 'text'; }));\n                if (isObjText == -1) {\n                    self.componentHide = null;\n                }\n                else {\n                    self.componentHide = true;\n                }\n            }\n            else {\n                _this.componentHide = (obj.type == \"text\" && obj.ultimatelock != true) ? null : true;\n            }\n            _this.updateOutline(obj);\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this.componentHide = true;\n            _this.outline = '0';\n            _this.selectedColor = Object.assign({}, _this.mainService.colorData.defaultColor);\n        });\n        this.eventService.$sub('closeColorPicker', function () {\n            _this.hideColorToggleOutline = 1;\n        });\n    };\n    StrokeComponent.prototype.changeOutline = function () {\n        var _this = this;\n        if (!this.canvasService.currentCanvas)\n            return;\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\n        selectedObjs.filter(function (obj) {\n            obj.strokeWidth = _this.outline / 10;\n            properties.stroke = _this.selectedColor;\n            properties.dirty = true;\n            _this.canvasService.currentCanvas.renderAll();\n        });\n    };\n    StrokeComponent.prototype.setPrevValue = function (val) {\n        if (this.prevStrokeWidth == null)\n            this.prevStrokeWidth = val / 10;\n    };\n    StrokeComponent.prototype.stackToUndo = function () {\n        this.canvasService.rangeSliderUndoRedo({ 'strokeWidth': this.prevStrokeWidth });\n        this.prevStrokeWidth = null;\n    };\n    StrokeComponent.prototype.updateOutline = function (obj) {\n        if (obj.length > 0) {\n            if (obj[0] && this.outline != obj.strokeWidth) {\n                this.outline = obj.strokeWidth * 10;\n                obj.dirty = true;\n                this.selectedColor = (obj[0].stroke) ? obj[0].stroke : this.mainService.colorData.defaultColor.color_code;\n            }\n        }\n        else {\n            this.outline = obj.strokeWidth * 10;\n            this.selectedColor = (obj.stroke) ? obj.stroke : this.mainService.colorData.defaultColor.color_code;\n        }\n    };\n    StrokeComponent.prototype.colorPickerToggleOutline = function () {\n        if (this.hideColorToggleOutline == 1) {\n            this.hideColorToggleOutline = 0;\n        }\n        else if (this.hideColorToggleOutline == 0) {\n            this.hideColorToggleOutline = 1;\n        }\n    };\n    StrokeComponent.prototype.changeColorOutline = function (outlineColor) {\n        if (!this.canvasService.currentCanvas)\n            return;\n        this.selectedColor = outlineColor;\n        var obj = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\n        if (obj) {\n            properties.stroke = outlineColor;\n            properties.dirty = true;\n            this.mainService.updateObjectProperties(obj, properties);\n        }\n    };\n    StrokeComponent.prototype.resetOutline = function () {\n        if (!this.canvasService.currentCanvas)\n            return;\n        var obj = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\n        if (obj) {\n            properties.strokeWidth = 0;\n            properties.stroke = this.mainService.colorData.defaultColor.color_code;\n            properties.dirty = true;\n            this.outline = '0';\n            this.mainService.updateObjectProperties(obj, properties);\n        }\n    };\n    StrokeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[stroke]',\n            template: __webpack_require__(/*! ./stroke.component.html */ \"./src/app/essentials/components/stroke/stroke.component.html\"),\n            styles: [__webpack_require__(/*! ./stroke.component.scss */ \"./src/app/essentials/components/stroke/stroke.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"], src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_5__[\"TabsService\"]])\n    ], StrokeComponent);\n    return StrokeComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/tabs/tabs.component.html\":\n/*!****************************************************************!*\\\n  !*** ./src/app/essentials/components/tabs/tabs.component.html ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"byi-idea {{responsiveClass}}\\\" [ngClass]=\\\"{'byi-idea-fullview' : showAllFonts == true}\\\">\\n\\t<tabset #masterTabs>\\n\\t\\t<ng-container *ngFor=\\\"let mainTab of mainTabs; let i = index\\\">\\n\\t\\t\\t<tab *ngIf=\\\"mainTab.isAdmin != 0 || mainService.isAdmin == false\\\"\\n\\t\\t\\t\\t[customClass]=\\\"totalTabClass ? totalTabClass : ''\\\" [active]=\\\"mainTab.id == activeTabId\\\"\\n\\t\\t\\t\\t[attr.data-index]=\\\"i\\\" (selectTab)=\\\"fetchTabData(i,mainTab.id)\\\">\\n\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t<ng-template tabHeading>\\n\\t\\t\\t\\t\\t<i container=\\\"body\\\" placement=\\\"top\\\" attr.class=\\\"byii byii-{{mainTab.component}}\\\">\\n\\t\\t\\t\\t\\t\\t<svg attr.class=\\\"icon icon-{{mainTab.component}}\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t\\t\\t\\t<use attr.xlink:href=\\\"assets/img/sprite.svg#icon-{{mainTab.component}}\\\"></use>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t</i>\\n\\t\\t\\t\\t\\t<span (click)=\\\"closeFontFamilyView()\\\">{{mainTab.label | translate}}</span>\\n\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<button *ngIf=\\\"mainService.isResponsive && !showAllFonts\\\" type=\\\"button\\\" class=\\\"byi-close-btn\\\"\\n\\t\\t\\t\\t\\t(click)=\\\"closeTab()\\\">\\n\\t\\t\\t\\t\\t<span>11</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<ng-container *ngIf=\\\"mainService.isResponsive && showAllFonts\\\">\\n\\t\\t\\t\\t\\t<label class=\\\"byi-fullview-title\\\">{{title}}</label>\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"byi-close-btn\\\" (click)=\\\"closeFullView(showAllFonts)\\\">\\n\\t\\t\\t\\t\\t\\t<span>11</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" plain-text *ngIf=\\\"mainTab.id == 1\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" clipart *ngIf=\\\"mainTab.id == 2\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" image-upload *ngIf=\\\"mainTab.id == 3\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" background-color *ngIf=\\\"mainTab.id == 4\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" my-designs *ngIf=\\\"mainTab.id == 5\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" name-number *ngIf=\\\"mainTab.id == 6\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" design-templates *ngIf=\\\"mainTab.id == 7\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"tab-content-inner\\\" background-patterns *ngIf=\\\"mainTab.id == 8\\\"></div>\\n\\t\\t\\t</tab>\\n\\t\\t</ng-container>\\n\\t\\t<div *ngIf=\\\"activeTabId == 0\\\" intro [introActive]='true'></div>\\n\\t</tabset>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/tabs/tabs.component.scss\":\n/*!****************************************************************!*\\\n  !*** ./src/app/essentials/components/tabs/tabs.component.scss ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy90YWJzL3RhYnMuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/tabs/tabs.component.ts\":\n/*!**************************************************************!*\\\n  !*** ./src/app/essentials/components/tabs/tabs.component.ts ***!\n  \\**************************************************************/\n/*! exports provided: TabsComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TabsComponent\", function() { return TabsComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n\n\n\n\n\n\n\nvar TabsComponent = /** @class */ (function () {\n    function TabsComponent(mainService, canvasService, cacheService, pubsub, tabsService, cdr) {\n        var _this = this;\n        this.mainService = mainService;\n        this.canvasService = canvasService;\n        this.cacheService = cacheService;\n        this.pubsub = pubsub;\n        this.tabsService = tabsService;\n        this.cdr = cdr;\n        this.mainTabs = [];\n        this.title = '';\n        this.toggleIntro = true;\n        this.tooltipData = [];\n        this.introTabId = 0;\n        this.tabsDataCacheKey = 'tabsData' + this.mainService.productId + '-' + this.mainService.baseUrl;\n        this.allTabsDataCacheKey = 'allTabsData' + this.mainService.productId + '-' + this.mainService.baseUrl;\n        this.toggleResponsiveClass(false);\n        this.pubsub.$sub('windowResize', function () {\n            _this.toggleResponsiveClass(true);\n        });\n        this.pubsub.$sub('objectSelectionCleared', function () {\n            if (_this.mainService.isResponsive && _this.activeTabId != 6 && !_this.canvasService.currentCanvas.backgroundColor) {\n                _this.closeTab();\n            }\n            else if (_this.mainService.isResponsive && _this.activeTabId == 6 && !_this.canvasService.currentCanvas.backgroundColor) {\n                _this.tabsService.backTab();\n            }\n        });\n        this.pubsub.$sub('backgroundPatternsApplied', function () {\n            if (!_this.canvasService.currentCanvas.backgroundColor) {\n                if (_this.mainService.isResponsive) {\n                    _this.closeTab();\n                }\n            }\n        });\n        this.pubsub.$sub('closeTab', function () {\n            _this.toggleIntro = true;\n            _this.closeTab();\n        });\n        this.pubsub.$sub('showFonts', function (resp) {\n            _this.showAllFonts = resp.showAllFonts;\n            _this.title = resp.title;\n        });\n        this.pubsub.$sub('toggleResponsiveClass', function () {\n            _this.toggleResponsiveClass(true);\n        });\n    }\n    TabsComponent.prototype.getSelectedObjTabId = function (obj) {\n        if (!obj) {\n            return 0;\n        }\n        var tab = obj.tab, tabId = 0;\n        switch (tab) {\n            case 'text':\n                tabId = 1;\n                break;\n            case 'clipart':\n                tabId = 2;\n                break;\n            case 'upload':\n                tabId = 3;\n                break;\n            case 'namenumber':\n                tabId = 6;\n                break;\n        }\n        return tabId;\n    };\n    TabsComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.getTabs();\n        var self = this;\n        this.pubsub.$sub('objectSelectionCreated', function (obj) {\n            var id = _this.getSelectedObjTabId(obj);\n            var self = _this;\n            if (id != 0) {\n                _this.activeTabId = _this.getTabId(id);\n                setTimeout(function () {\n                    self.pubsub.$pub('activeTabOnLoadDesign', id);\n                }, 500);\n            }\n        });\n        this.pubsub.$sub('getActiveTabId', function (id) {\n            if (id != \"\" && id != 0) {\n                self.activeTabId = self.getTabId(id);\n            }\n            else {\n                /*For Tooltip enable*/\n                self.activeTabId = 0;\n            }\n        });\n        this.pubsub.$sub('introTabActive', function (id) {\n            self.activeTabId = self.getTabId(id);\n            self.introTabId = id;\n        });\n        this.pubsub.$sub('imageSideChanged', function () {\n            _this.toggleResponsiveClass(true);\n        });\n        this.pubsub.$sub('objectRemoved', function () {\n            _this.toggleResponsiveClass(true);\n        });\n        this.pubsub.$sub('allcanvasCreated', function () {\n            _this.toggleResponsiveClass(true);\n        });\n    };\n    TabsComponent.prototype.ngAfterViewInit = function () {\n        this.toggleResponsiveClass(true);\n    };\n    TabsComponent.prototype.getTabId = function (findId) {\n        var response = 0;\n        this.mainService.tabsFlow.forEach(function (object, index) {\n            object.forEach(function (subObj, inx) {\n                if (subObj == findId) {\n                    response = index;\n                }\n            });\n        });\n        return response;\n    };\n    TabsComponent.prototype.getTabs = function () {\n        var _this = this;\n        var params = { 'product_id': this.mainService.productId }, url = 'productdesigner/Tabs/getTabs', cacheKey = this.tabsDataCacheKey;\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\n            _this.cacheService.set(_this.tabsDataCacheKey, data, { maxAge: 15 * 60 });\n            _this.setTabsData(data);\n        }).catch(function (err) { return console.log(err); });\n    };\n    TabsComponent.prototype.fetchTabData = function (index, currentTab) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var self;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                this.closeFullView(true);\n                this.toggleResponsiveClass(true);\n                this.tabsService.backTab();\n                this.cdr.detectChanges();\n                this.activeTabId = currentTab;\n                this.pubsub.$pub('getSubTabs', currentTab);\n                self = this;\n                if (this.introTabId > 0) {\n                    setTimeout(function () {\n                        self.pubsub.$pub('introTabActive', self.introTabId);\n                        self.introTabId = 0;\n                    }, 50);\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    TabsComponent.prototype.setTabsData = function (data) {\n        this.mainService.getAllTabs = data.allTabsData;\n        this.mainService.productTooltipData = data.productTooltipData;\n        var self = this;\n        /*Tabs Flow*/\n        var keys = Object.keys(data.subTabsData);\n        for (var i = 0; i < Object.keys(data.subTabsData).length; i++) {\n            this.mainService.tabsFlow[keys[i]] = data.subTabsData[keys[i]];\n        }\n        setTimeout(function () {\n            self.pubsub.$pub('getSubTabs', data.tabsData[0]);\n            self.pubsub.$pub('tabsDataFetched');\n        }, 500);\n        this.mainTabs = data.tabsData;\n        var tempData = [];\n        var allTabs = this.mainService.getAllTabs;\n        for (var i = 0; i < this.mainTabs.length; i++) {\n            if (this.mainTabs[i] == allTabs[this.mainTabs[i]]['id']) {\n                tempData.push({ id: allTabs[this.mainTabs[i]]['id'], label: allTabs[this.mainTabs[i]]['custom_label'], component: allTabs[this.mainTabs[i]]['component'], isAdmin: allTabs[this.mainTabs[i]]['is_admin'] });\n            }\n        }\n        if (data.tooltipStatus != 0) {\n            this.activeTabId = 0;\n        }\n        else if (!this.mainService.isResponsive) {\n            this.activeTabId = data.tabsData[0];\n        }\n        this.mainTabs = tempData;\n        this.totalTabClass = 'nav-item-' + this.mainTabs.length;\n    };\n    TabsComponent.prototype.toggleResponsiveClass = function (add) {\n        if (add && this.mainService.isResponsive) {\n            this.responsiveClass = 'byi-idea-mob';\n        }\n        else {\n            this.responsiveClass = '';\n        }\n    };\n    TabsComponent.prototype.closeTab = function () {\n        this.toggleResponsiveClass(false);\n        // There is no tab ID equals 0 so it will close the tab\n        this.activeTabId = 0;\n        this.tabsService.backTab();\n    };\n    TabsComponent.prototype.closeFontFamilyView = function () {\n        this.pubsub.$pub('closeFullView', true);\n    };\n    TabsComponent.prototype.closeFullView = function (showAllFonts) {\n        this.pubsub.$pub('closeFullView', showAllFonts);\n    };\n    TabsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: 'tabs',\n            template: __webpack_require__(/*! ./tabs.component.html */ \"./src/app/essentials/components/tabs/tabs.component.html\"),\n            styles: [__webpack_require__(/*! ./tabs.component.scss */ \"./src/app/essentials/components/tabs/tabs.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_4__[\"CacheService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_6__[\"TabsService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"]])\n    ], TabsComponent);\n    return TabsComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/tooltip/tooltip.component.html\":\n/*!**********************************************************************!*\\\n  !*** ./src/app/essentials/components/tooltip/tooltip.component.html ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<button class=\\\"byiu-right-icon\\\" type=\\\"button\\\" *ngIf=\\\"!introActive && isEnableTooltip == 1\\\" (click)=\\\"enableIntro()\\\" tooltip=\\\"{{'Help' | translate}}\\\" placement=\\\"bottom\\\">\\n  <svg class=\\\"icon icon-question\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-question\\\"></use>\\n  </svg>\\n</button>\\n<div class=\\\"byi-intro-wrap\\\" [class.active]=\\\"toggleIntro\\\" *ngIf=\\\"!mainService.isResponsive && introActive && isEnableTooltip == 1\\\">\\n  <div class=\\\"byi-intro-inner\\\">\\n    <div class=\\\"byi-intro-title\\\">\\n      <h3>How do you want to start?</h3>\\n    </div>\\n  <div loader #loaderComponent></div>\\n    <div class=\\\"byi-intro-items\\\">\\n      <ng-container *ngFor=\\\"let mainTab of tooltipData; let i = index\\\">\\n        <ng-container *ngIf=\\\"mainTab.first_tooltip != null\\\">\\n          <div class=\\\"byi-intro-item\\\" *ngIf=\\\"mainTab.isAdmin != 0 || mainService.isAdmin == false\\\"\\n            (click)=\\\"fetchTabData(mainTab.id)\\\">\\n            <span class=\\\"byi-intro-icon\\\">\\n              <svg attr.class=\\\"icon icon-{{mainTab.component}}\\\" viewBox=\\\"0 0 50 50\\\">\\n                <use attr.xlink:href=\\\"assets/img/sprite.svg#icon-{{mainTab.component}}\\\"></use>\\n              </svg>\\n            </span>\\n            <p>{{mainTab.label}}</p>\\n          </div>\\n        </ng-container>\\n      </ng-container>\\n      <div *ngIf=\\\"productTooltipEnable == 1\\\" class=\\\"byi-intro-item product-tooltip\\\" (click)=\\\"getProduct()\\\">\\n        <span class=\\\"byi-intro-icon product-tooltip\\\">\\n          <svg class=\\\"icon icon-productComponent\\\" viewBox=\\\"0 0 50 50\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-productComponent\\\"></use>\\n          </svg>\\n        </span>\\n        <p class=\\\"product-tooltip\\\">Product</p>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/tooltip/tooltip.component.scss\":\n/*!**********************************************************************!*\\\n  !*** ./src/app/essentials/components/tooltip/tooltip.component.scss ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy90b29sdGlwL3Rvb2x0aXAuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/tooltip/tooltip.component.ts\":\n/*!********************************************************************!*\\\n  !*** ./src/app/essentials/components/tooltip/tooltip.component.ts ***!\n  \\********************************************************************/\n/*! exports provided: TooltipComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TooltipComponent\", function() { return TooltipComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _loader_loader_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n\n\n\n\n\n\n\nvar TooltipComponent = /** @class */ (function () {\n    function TooltipComponent(mainService, cacheService, canvasService, pubsub) {\n        this.mainService = mainService;\n        this.cacheService = cacheService;\n        this.canvasService = canvasService;\n        this.pubsub = pubsub;\n        this.isEnableTooltip = '';\n        this.TooltipData = '';\n        this.tooltipData = [];\n        this.toggleIntro = true;\n        this.deactiveLoader = false;\n        this.productTooltipEnable = false;\n        this.displayProductTooltip = false;\n        this.TooltipDataCacheKey = 'tooltipData - ' + this.mainService.baseUrl;\n    }\n    TooltipComponent.prototype.ngOnInit = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var params, url, cacheKey, self;\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        params = {\n                            isAdmin: this.mainService.isAdmin\n                        }, url = 'productdesigner/Index/getTooltip', cacheKey = this.TooltipDataCacheKey + this.mainService.isAdmin;\n                        return [4 /*yield*/, this.mainService.getData(url, params, cacheKey).then(function (data) {\n                                _this.cacheService.set(_this.TooltipDataCacheKey, data, { maxAge: 15 * 60 });\n                                _this.isEnableTooltip = data.enable_tooltip;\n                            }).catch(function (err) { return console.log(err); })];\n                    case 1:\n                        _a.sent();\n                        self = this;\n                        this.pubsub.$sub('tabsDataFetched', function () {\n                            var toolTipkeys = Object.keys(self.mainService.getAllTabs);\n                            var _loop_1 = function () {\n                                var tabId = self.mainService.getAllTabs[i].id;\n                                self.mainService.tabsFlow.filter(function (obj) {\n                                    if (obj.indexOf(tabId) != -1) {\n                                        self.tooltipData.push(self.mainService.getAllTabs[i]);\n                                    }\n                                });\n                            };\n                            for (var i = 1; i <= toolTipkeys.length; i++) {\n                                _loop_1();\n                            }\n                            self.toggleIntro = true;\n                        });\n                        this.pubsub.$sub('DisplayAllProducts', function (data) {\n                            _this.displayProductTooltip = data;\n                        });\n                        this.productTooltipEnable = (this.mainService.productTooltipData) ? this.mainService.productTooltipData[2] : 0;\n                        if ((this.isEnableTooltip && this.tooltipData.length > 0) || this.productTooltipEnable == 1) {\n                            this.enableIntro();\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TooltipComponent.prototype.getProduct = function () {\n        var tootltipData = [];\n        this.pubsub.$pub('openAllProduct');\n        var productIntro = (this.mainService.productTooltipData[1] != \"\") ? this.mainService.productTooltipData[1] : \"\";\n        if (productIntro != \"\") {\n            tootltipData.push({ element: \".byi-products-wrap\", intro: productIntro, position: 'right' });\n            this.mainService.processToolTip(tootltipData);\n        }\n    };\n    TooltipComponent.prototype.fetchTabData = function (tabId) {\n        this.canvasService.currentCanvas.discardActiveObject();\n        this.pubsub.$pub('introTabActive', tabId);\n        var tootltipData = [];\n        var getIndx = Object.keys(this.mainService.getAllTabs).indexOf(tabId);\n        var tootltipObj = this.mainService.getAllTabs[getIndx + 1];\n        var ids = tootltipObj.element_id.split(',');\n        if (ids.length >= 1) {\n            tootltipData.push({ element: ids[0], intro: tootltipObj.first_tooltip, position: 'right' });\n            this.mainService.processToolTip(tootltipData);\n        }\n    };\n    TooltipComponent.prototype.enableIntro = function () {\n        this.pubsub.$pub('getActiveTabId', 'enableTooltip');\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], TooltipComponent.prototype, \"introActive\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(\"loaderComponent\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _loader_loader_component__WEBPACK_IMPORTED_MODULE_6__[\"LoaderComponent\"])\n    ], TooltipComponent.prototype, \"loaderComponent\", void 0);\n    TooltipComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[intro]',\n            template: __webpack_require__(/*! ./tooltip.component.html */ \"./src/app/essentials/components/tooltip/tooltip.component.html\"),\n            styles: [__webpack_require__(/*! ./tooltip.component.scss */ \"./src/app/essentials/components/tooltip/tooltip.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_3__[\"CacheService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"]])\n    ], TooltipComponent);\n    return TooltipComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/translate/translate.component.html\":\n/*!**************************************************************************!*\\\n  !*** ./src/app/essentials/components/translate/translate.component.html ***!\n  \\**************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/translate/translate.component.scss\":\n/*!**************************************************************************!*\\\n  !*** ./src/app/essentials/components/translate/translate.component.scss ***!\n  \\**************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vzc2VudGlhbHMvY29tcG9uZW50cy90cmFuc2xhdGUvdHJhbnNsYXRlLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/essentials/components/translate/translate.component.ts\":\n/*!************************************************************************!*\\\n  !*** ./src/app/essentials/components/translate/translate.component.ts ***!\n  \\************************************************************************/\n/*! exports provided: TranslateComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TranslateComponent\", function() { return TranslateComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n\n\n\n\nvar TranslateComponent = /** @class */ (function () {\n    function TranslateComponent(mainService, translate) {\n        this.mainService = mainService;\n        this.translate = translate;\n    }\n    TranslateComponent.prototype.fetchLocale = function () {\n        var _this = this;\n        var params = {}, url = 'productdesigner/index/fetchlocale', cacheKey = 'fetchLocale' + this.mainService.baseUrl;\n        this.mainService.getData(url, params, cacheKey).then(function (localeData) {\n            _this.translate.addLangs(localeData.active_locale);\n            _this.translate.setDefaultLang(localeData.active_locale);\n        }).catch(function (err) { return console.log(err); });\n    };\n    TranslateComponent.prototype.ngOnInit = function () {\n        this.fetchLocale();\n    };\n    TranslateComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: 'translate',\n            template: __webpack_require__(/*! ./translate.component.html */ \"./src/app/essentials/components/translate/translate.component.html\"),\n            styles: [__webpack_require__(/*! ./translate.component.scss */ \"./src/app/essentials/components/translate/translate.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"], _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__[\"TranslateService\"]])\n    ], TranslateComponent);\n    return TranslateComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.html\":\n/*!***********************************************************************************************************!*\\\n  !*** ./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.html ***!\n  \\***********************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<ng-container *ngIf=\\\"!loadContent\\\">\\n\\t<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [isOpen]=\\\"openAccordian\\\" [hidden]=\\\"componentHide\\\">\\n\\t\\t<button class=\\\"byi-accordion-title\\\" accordion-heading>\\n\\t\\t\\t<span>{{'Patterns' | translate}}</span> \\n\\t\\t</button>\\n\\t\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t\\t<ng-container [ngTemplateOutlet]=\\\"patternTemplate\\\"></ng-container>\\n\\t\\t</div>\\n\\t</accordion-group>\\n\\t<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('pattern-controls')\\\"\\n\\t\\t[attr.hidden]=\\\"componentHide\\\" [customClass]=\\\"'isResponsiveTab'\\\">\\n\\t\\t<ng-template tabHeading>\\n\\t\\t\\t<span>{{'Patterns' | translate}}</span>\\n\\t\\t</ng-template>\\n\\t\\t<ng-container [ngTemplateOutlet]=\\\"patternTemplate\\\"></ng-container>\\n\\t</tab>\\n\\t<ng-template #patternTemplate>\\n\\t\\t<div class=\\\"byie-option background-pattern\\\">\\n\\t\\t\\t<div class=\\\"byi-global-reset byi-global-reset-wrapper\\\">\\n\\t\\t\\t\\t<button class=\\\"byi-range-reset-link byi-remove-pattern\\\" (click)=\\\"changePattern('remove')\\\"\\n\\t\\t\\t\\t\\ttooltip=\\\"{{'Remove Pattern' | translate}}\\\">\\n\\t\\t\\t\\t\\t<svg class=\\\"icon icon-t-delete\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-t-delete\\\"></use>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button class=\\\"byi-range-reset-link\\\" (click)=\\\"resetPattern(true)\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-select byi-select-pattern-repeat\\\">\\n\\t\\t\\t\\t<select (change)=\\\"changePattern('patternRepeat')\\\" [(ngModel)]=\\\"patternRepeat\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"repeat\\\">{{'Repeat pattern' | translate}}</option>\\n\\t\\t\\t\\t\\t<option value=\\\"no-repeat\\\">{{'No Repeat' | translate}}</option>\\n\\t\\t\\t\\t\\t<option value=\\\"repeat-x\\\">{{'Repeat X pattern' | translate}}</option>\\n\\t\\t\\t\\t\\t<option value=\\\"repeat-y\\\">{{'Repeat Y pattern' | translate}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t<span class=\\\"caret\\\"></span>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t\\t<label>{{'Pattern Size' | translate}}</label>\\n\\t\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{patternWidth}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" [min]=\\\"minWidth\\\" [max]=\\\"maxWidth\\\" (input)=\\\"changePattern('patternWidth')\\\"\\n\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"patternWidth\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t\\t<label>{{'Pattern Offset (X)' | translate}}</label>\\n\\t\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{patternXOffset}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" [min]=\\\"minXOffset\\\" [max]=\\\"maxXOffset\\\" (input)=\\\"changePattern('patternXOffset')\\\"\\n\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"patternXOffset\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t\\t<label>{{'Pattern Offset (Y)' | translate}}</label>\\n\\t\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{patternYOffset}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" [min]=\\\"minYOffset\\\" [max]=\\\"maxYOffset\\\" (input)=\\\"changePattern('patternYOffset')\\\"\\n\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"patternYOffset\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t\\t<label>{{'Pattern Angle' | translate}}</label>\\n\\t\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{patternAngle}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" min=\\\"-90\\\" max=\\\"90\\\" (input)=\\\"changePattern('patternAngle')\\\"\\n\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"patternAngle\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"byi-range-box byie-count-wrap\\\">\\n\\t\\t\\t\\t<label>{{'Pattern Padding' | translate}}</label>\\n\\t\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{patternPadding}}</span>\\n\\t\\t\\t\\t\\t<input type=\\\"range\\\" min=\\\"-50\\\" max=\\\"50\\\" (input)=\\\"changePattern('patternPadding')\\\"\\n\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"patternPadding\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</ng-template>\\n</ng-container>\\n<ng-container *ngIf=\\\"loadContent\\\">\\n\\t<li [class.disabled]=\\\"!enableMakePattern\\\"  tooltip=\\\"{{'Make it Pattern' | translate}}\\\"\\n\\tcontainer=\\\"body\\\">\\n\\t\\t<svg class=\\\"icon icon-make-pattern\\\" [ngClass]=\\\"{'disabled': enableMakePattern != true}\\\" (click)=\\\"makePattern()\\\"\\n\\t\\t\\tviewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-make-pattern\\\"></use>\\n\\t\\t</svg>\\n\\t</li>\\n</ng-container>\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.scss\":\n/*!***********************************************************************************************************!*\\\n  !*** ./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.scss ***!\n  \\***********************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9iYWNrZ3JvdW5kLXBhdHRlcm4tY29udHJvbHMvYmFja2dyb3VuZC1wYXR0ZXJuLWNvbnRyb2xzLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.ts\":\n/*!*********************************************************************************************************!*\\\n  !*** ./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.ts ***!\n  \\*********************************************************************************************************/\n/*! exports provided: BackgroundPatternControlsComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackgroundPatternControlsComponent\", function() { return BackgroundPatternControlsComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _background_patterns_background_patterns_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../background-patterns/background-patterns.service */ \"./src/app/premium/components/background-patterns/background-patterns.service.ts\");\n\n\n\n\n\n\n\nvar BackgroundPatternControlsComponent = /** @class */ (function () {\n    function BackgroundPatternControlsComponent(eventService, mainService, tabsService, backgroundPatternsService, canvasService) {\n        this.eventService = eventService;\n        this.mainService = mainService;\n        this.tabsService = tabsService;\n        this.backgroundPatternsService = backgroundPatternsService;\n        this.canvasService = canvasService;\n        this.enableMakePattern = false;\n        this.componentHide = true;\n        this.patternRepeat = 'repeat';\n        this.patternWidth = 100;\n        this.patternXOffset = 0;\n        this.patternYOffset = 0;\n        this.patternAngle = 0;\n        this.patternPadding = 0;\n        this.minWidth = 2;\n        this.maxWidth = 100;\n        this.minXOffset = 0;\n        this.maxXOffset = 500;\n        this.minYOffset = 0;\n        this.maxYOffset = 500;\n        this.openAccordian = true;\n    }\n    BackgroundPatternControlsComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        var self = this;\n        if (!this.loadContent) {\n            this.tabsService.registerTabs('pattern-controls', 'patterns');\n            this.eventService.$sub('objectSelectionCreated', function (obj) {\n                if (obj) {\n                    _this.componentHide = true;\n                }\n            });\n            this.eventService.$sub('objectRemoved', function (obj) {\n                if (_this.canvasService.currentCanvas.backgroundColor && typeof _this.canvasService.currentCanvas.backgroundColor == 'object') {\n                    _this.initValues();\n                    _this.componentHide = null;\n                    _this.openAccordian = true;\n                }\n                else {\n                    _this.resetPattern(false);\n                    _this.componentHide = true;\n                    _this.openAccordian = false;\n                }\n            });\n            this.eventService.$sub('backgroundPatternsApplied', function () {\n                if (_this.canvasService.currentCanvas.backgroundColor && typeof _this.canvasService.currentCanvas.backgroundColor == 'object') {\n                    _this.initValues();\n                    _this.componentHide = null;\n                    _this.openAccordian = true;\n                }\n                else {\n                    _this.resetPattern(false);\n                    _this.componentHide = true;\n                    _this.openAccordian = false;\n                }\n            });\n            this.eventService.$sub('imageSideChanged', function () {\n                if (_this.canvasService.currentCanvas.backgroundColor && typeof _this.canvasService.currentCanvas.backgroundColor == 'object') {\n                    _this.setValues();\n                    _this.componentHide = null;\n                    _this.openAccordian = false;\n                    setTimeout(function () {\n                        self.openAccordian = true;\n                    }, 200);\n                }\n                else {\n                    _this.componentHide = true;\n                    _this.openAccordian = false;\n                    _this.resetPattern(false);\n                }\n            });\n            this.eventService.$sub('objectSelectionCleared', function (obj) {\n                if (_this.canvasService.currentCanvas.backgroundColor && typeof _this.canvasService.currentCanvas.backgroundColor == 'object') {\n                    _this.setValues();\n                    _this.componentHide = null;\n                    _this.openAccordian = false;\n                    setTimeout(function () {\n                        self.openAccordian = true;\n                    }, 200);\n                }\n                else {\n                    _this.componentHide = true;\n                    _this.openAccordian = false;\n                    _this.resetPattern(false);\n                }\n            });\n        }\n        else {\n            this.subscribeEvents();\n        }\n    };\n    BackgroundPatternControlsComponent.prototype.initValues = function () {\n        var canvas = this.canvasService.currentCanvas;\n        this.maxWidth = canvas.width / this.canvasService.scaleFactor;\n        if (this.maxWidth <= 2) {\n            this.minWidth = this.maxWidth / 2;\n        }\n        this.maxXOffset = canvas.width / this.canvasService.scaleFactor;\n        this.maxYOffset = canvas.height / this.canvasService.scaleFactor;\n    };\n    BackgroundPatternControlsComponent.prototype.setValues = function () {\n        var pattern = this.canvasService.currentCanvas.backgroundColor;\n        this.patternRepeat = pattern.repeat;\n        this.patternXOffset = pattern.offsetX;\n        this.patternYOffset = pattern.offsetY;\n        if (pattern.angle) {\n            this.patternAngle = pattern.angle;\n        }\n        else {\n            this.patternAngle = 0;\n        }\n        if (pattern.patternWidth) {\n            this.patternWidth = pattern.patternWidth;\n        }\n        else {\n            this.patternWidth = 100;\n        }\n        if (pattern.padding) {\n            this.patternPadding = pattern.padding;\n        }\n        else {\n            this.patternPadding = 0;\n        }\n        this.componentHide = null;\n    };\n    BackgroundPatternControlsComponent.prototype.changePattern = function (type) {\n        var pattern = {};\n        pattern.repeat = this.patternRepeat ? this.patternRepeat : 'no-repeat';\n        pattern.offsetX = parseInt(this.patternXOffset, 10);\n        pattern.offsetY = parseInt(this.patternYOffset, 10);\n        pattern.patternWidth = parseInt(this.patternWidth, 10);\n        pattern.angle = this.patternAngle;\n        pattern.padding = parseInt(this.patternPadding, 10);\n        this.backgroundPatternsService.changePattern(pattern, type);\n    };\n    BackgroundPatternControlsComponent.prototype.resetPattern = function (reset) {\n        var self = this;\n        setTimeout(function () {\n            self.patternRepeat = 'repeat';\n            self.patternWidth = 100;\n            self.patternXOffset = 0;\n            self.patternYOffset = 0;\n            self.patternAngle = 0;\n            self.patternPadding = 0;\n            if (reset) {\n                self.changePattern('patternWidth');\n            }\n        }, 500);\n    };\n    BackgroundPatternControlsComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            _this.initData();\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            _this.initData();\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this.initData();\n        });\n    };\n    BackgroundPatternControlsComponent.prototype.initData = function () {\n        var obj = this.canvasService.getActiveObject();\n        if (obj.objType != 'image' || obj == false || obj.ultimatelock == true) {\n            this.enableMakePattern = false;\n        }\n        else {\n            this.enableMakePattern = true;\n        }\n    };\n    BackgroundPatternControlsComponent.prototype.makePattern = function () {\n        this.backgroundPatternsService.convertObjectToPattern();\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], BackgroundPatternControlsComponent.prototype, \"loadContent\", void 0);\n    BackgroundPatternControlsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[background-pattern-controls]',\n            template: __webpack_require__(/*! ./background-pattern-controls.component.html */ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.html\"),\n            styles: [__webpack_require__(/*! ./background-pattern-controls.component.scss */ \"./src/app/premium/components/background-pattern-controls/background-pattern-controls.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"], src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__[\"TabsService\"], _background_patterns_background_patterns_service__WEBPACK_IMPORTED_MODULE_6__[\"BackgroundPatternsService\"], src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"]])\n    ], BackgroundPatternControlsComponent);\n    return BackgroundPatternControlsComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/background-patterns/apply-patterns.service.ts\":\n/*!**********************************************************************************!*\\\n  !*** ./src/app/premium/components/background-patterns/apply-patterns.service.ts ***!\n  \\**********************************************************************************/\n/*! exports provided: ApplyPatternsService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ApplyPatternsService\", function() { return ApplyPatternsService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar ApplyPatternsService = /** @class */ (function () {\n    function ApplyPatternsService() {\n        this.init = function (params) {\n            var pattern = params.pattern, canvasService = params.service, oldObj = params.oldObj, canvas = params.canvas ? params.canvas : canvasService.currentCanvas, eventService = params.eventService;\n            var oldPattern = {};\n            var updatePattern = {};\n            if (params.oldPattern) {\n                updatePattern = params.oldPattern;\n            }\n            oldPattern = canvas['backgroundColor'];\n            return {\n                exec: function () {\n                    if (Object.keys(updatePattern).length > 0) {\n                        pattern = Object.assign(updatePattern, pattern);\n                    }\n                    else {\n                        canvas['backgroundColor'] = pattern;\n                    }\n                    if (oldObj) {\n                        canvas.remove(oldObj);\n                    }\n                    canvas.renderAll();\n                    eventService.$pub('backgroundPatternsApplied');\n                },\n                unexec: function () {\n                    canvas['backgroundColor'] = oldPattern;\n                    if (oldObj) {\n                        canvas.add(oldObj);\n                    }\n                    canvas.renderAll();\n                    eventService.$pub('backgroundPatternsApplied');\n                },\n            };\n        };\n    }\n    ApplyPatternsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], ApplyPatternsService);\n    return ApplyPatternsService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/background-patterns/background-patterns.component.html\":\n/*!*******************************************************************************************!*\\\n  !*** ./src/app/premium/components/background-patterns/background-patterns.component.html ***!\n  \\*******************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div loader #subtabLoader></div>\\n<div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent\\\">\\n\\t<div class=\\\"byi-top-filters\\\">\\n\\t\\t<ng-container *ngIf=\\\"mainService.isResponsive\\\" [attr.hidden]=\\\"componentHide\\\">\\n\\t\\t\\t<div class=\\\"byi-fullview-toggle\\\">\\n\\t\\t\\t\\t<button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts)\\\">\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t\\t<span></span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t</ng-container>\\n\\t\\t<div class=\\\"byi-dropdown\\\" *ngIf=\\\"patternCategories.length > 0\\\">\\n\\t\\t\\t<div class=\\\"btn-group\\\" dropdown>\\n\\t\\t\\t\\t<button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n\\t\\t\\t\\t\\t{{SelectedPatternCat?.name}}<span class=\\\"caret\\\"></span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n\\t\\t\\t\\t\\t<li role=\\\"menuitem\\\" *ngFor=\\\"let patternCat of patternCategories\\\"\\n\\t\\t\\t\\t\\t[ngClass]=\\\"patternCat.level == 0 ? 'main-product-category' : 'sub-product-category'\\\"\\n\\t\\t\\t\\t\\t[class.selected]=\\\"patternCat.id === SelectedPatternCat.id\\\" (click)=\\\"changePatternCat(patternCat)\\\">\\n\\t\\t\\t\\t\\t<a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n\\t\\t\\t\\t\\t\\t<span *ngFor=\\\"let i of getNumberArray(patternCat.level)\\\">-</span>\\n\\t\\t\\t\\t\\t{{patternCat.name}}</a>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<div class=\\\"byi-search\\\" *ngIf=\\\"patternCategories.length > 0\\\">\\n\\t\\t<input class=\\\"byi-input\\\" name=\\\"searchText\\\" (input)=\\\"searchPattern($event)\\\" placeholder=\\\"{{'Search Pattern' | translate}}\\\"\\n\\t\\ttype=\\\"text\\\">\\n\\t\\t<button class=\\\"byi-search-btn\\\">\\n\\t\\t\\t<svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n\\t\\t\\t</svg>\\n\\t\\t</button>\\n\\t</div>\\n</div>\\n<div class=\\\"byi-norecord\\\"\\n*ngIf=\\\"loaderComponent.showSubLoader === false && patternMedia && patternMedia.length == 0\\\">\\n{{'No Patterns Found' | translate}}\\n</div>\\n<div *ngIf=\\\"patternMedia.length > 0\\\" #mainSection class=\\\"byi-tab-cats byi-tab-cats-clipart\\\">\\n\\t<ul infiniteScroll [horizontal]=\\\"true\\\" [infiniteScrollDistance]=\\\"0\\\" [infiniteScrollThrottle]=\\\"1000\\\"\\n\\t[scrollWindow]=\\\"false\\\" [infiniteScrollDisabled]=\\\"!isEnableloadmore || !allowPlaceholderLoader\\\"\\n\\t(scrolled)=\\\"loadMorePattern()\\\" #scrollToBottom>\\n\\t<li *ngFor=\\\"let media of patternMedia\\\"\\n\\t[attr.hidden]=\\\"(showPlaceholder && allowPlaceholderLoader) ? true : null\\\">\\n\\t<a [ngClass]=\\\"{'image-with-text': !media.label && media.price}\\\"\\n\\thref=\\\"javascript:void(0)\\\" (click)=\\\"addPatternToCanvas(media.medium_url)\\\">\\n\\t<span><img [src]=\\\"media.image_path\\\" [attr.tab]=\\\"'clipart'\\\" [attr.dragprice]=\\\"media.price\\\" [attr.url]=\\\"media.medium_url\\\" class=\\\"byidraggable\\\"  (error)=\\\"getDefaultImage(media)\\\"></span>\\n\\t<label *ngIf=\\\"media.label\\\">{{media.label}}</label>\\n\\t\\n</a>\\n</li>\\n<li [attr.hidden]=\\\"(!showPlaceholder || !allowPlaceholderLoader) ? true : null\\\"\\n*ngFor=\\\"let temp of mainService.customPlaceholderArr\\\" placeholder-loader [loaderHeight]='84'\\n[loaderWidth]='84'></li>\\n</ul>\\n<div *ngIf=\\\"loadContent && isEnableloadmore && (!mainService.isResponsive || (mainService.isResponsive && showAllFonts))\\\" class=\\\"loadmore-action\\\">\\n\\t<input class=\\\"loadmore-btn\\\" type=\\\"button\\\" value=\\\"{{'Load More' | translate}}\\\" (click)=\\\"loadMorePattern()\\\">\\n</div>\\n<div class=\\\"byi-upload-pattern\\\" *ngIf=\\\"loadContent\\\" >\\n\\t<input class=\\\"byi-btn byi-btn-xs\\\" type=\\\"button\\\" value=\\\"{{'Upload & Make It Pattern' | translate}}\\\" (click)=\\\"redirectToUpload()\\\">\\n</div>\\n</div>\\n</div>\\n<div loader #loaderComponent></div>\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/background-patterns/background-patterns.component.scss\":\n/*!*******************************************************************************************!*\\\n  !*** ./src/app/premium/components/background-patterns/background-patterns.component.scss ***!\n  \\*******************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9iYWNrZ3JvdW5kLXBhdHRlcm5zL2JhY2tncm91bmQtcGF0dGVybnMuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/background-patterns/background-patterns.component.ts\":\n/*!*****************************************************************************************!*\\\n  !*** ./src/app/premium/components/background-patterns/background-patterns.component.ts ***!\n  \\*****************************************************************************************/\n/*! exports provided: BackgroundPatternsComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackgroundPatternsComponent\", function() { return BackgroundPatternsComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n/* harmony import */ var _background_patterns_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./background-patterns.service */ \"./src/app/premium/components/background-patterns/background-patterns.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n\n\n\n\n\n\n\n\n\n\nvar BackgroundPatternsComponent = /** @class */ (function () {\n    function BackgroundPatternsComponent(cacheService, backgroundPatternsService, mainService, canvasService, eventService, translate, tabsService, cdr) {\n        this.cacheService = cacheService;\n        this.backgroundPatternsService = backgroundPatternsService;\n        this.mainService = mainService;\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.translate = translate;\n        this.tabsService = tabsService;\n        this.cdr = cdr;\n        this.accordianId = 0;\n        this.currentTab = 8;\n        this.patternCategories = [];\n        this.patternMedia = [];\n        this.limit = 12;\n        this.showAllFonts = false;\n        this.isEnableloadmore = false;\n        this.loadmore = 1;\n        this.checkPatternScroll = false;\n        // infinite scroll\n        this.customPlaceholderArr = [];\n    }\n    BackgroundPatternsComponent.prototype.ngOnInit = function () {\n        this.patternCategoriesCacheKey = 'patternCategories-' + this.mainService.productId + '-' + this.mainService.baseUrl;\n        this.subscribeEvents();\n        if (this.loadContent == true) {\n            this.getPatterns();\n        }\n        this.allowPlaceholderLoader = this.mainService.isResponsive;\n        this.mainService.prepareTempArrForPlaceholder(this.limit);\n    };\n    BackgroundPatternsComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('getSubTabs', function (mainTabId) {\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\n                _this.getSubTabs(mainTabId);\n            }\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\n        });\n        this.eventService.$sub('closeFullView', function (showAllFonts) {\n            _this.showAllFonts = showAllFonts;\n            _this.showFonts(_this.showAllFonts);\n        });\n        this.eventService.$sub('backgroundPatternsApplied', function () {\n            if (_this.canvasService.currentCanvas.backgroundColor && typeof _this.canvasService.currentCanvas.backgroundColor == 'object') {\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\n                _this.tabsService.showChildTabs('patterns');\n            }\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            if (_this.canvasService.currentCanvas.backgroundColor && typeof _this.canvasService.currentCanvas.backgroundColor == 'object') {\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\n                var self_1 = _this;\n                setTimeout(function () {\n                    self_1.tabsService.showChildTabs('patterns');\n                }, 500);\n            }\n        });\n    };\n    BackgroundPatternsComponent.prototype.getSubTabs = function (mainTabId) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var data;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                data = this.mainService.tabsFlow[mainTabId];\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\n                if (this.subTabsData && this.subTabsData.length > 0) {\n                    this.accordianId = this.subTabsData[0].id;\n                }\n                if (this.loaderComponent && this.loaderComponent.showSubLoader)\n                    this.loaderComponent.showSubLoader = false;\n                return [2 /*return*/];\n            });\n        });\n    };\n    BackgroundPatternsComponent.prototype.getPatterns = function () {\n        var _this = this;\n        var params = { 'limit': this.limit, 'search': '', 'product_id': this.mainService.productId, 'page': this.loadmore, 'type': 'pattern' }, url = 'productdesigner/cliparts/getClipartCategories', cacheKey = this.patternCategoriesCacheKey;\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\n            _this.cacheService.set(_this.patternCategoriesCacheKey, data, { maxAge: 15 * 60 });\n            var defaultCacheData = {\n                clipart_images: data.default_clipart_images,\n                priceFormat: data.priceFormat,\n                loadMoreFlag: data.loadMoreFlag,\n                page: 1\n            };\n            var defaultCategoryCacheKey = \"patternImages - \" + data.default_category_id + _this.loadmore + _this.limit;\n            ;\n            _this.cacheService.set(defaultCategoryCacheKey, defaultCacheData, { maxAge: 15 * 60 });\n            _this.processPatternsData(data);\n        }).catch(function (err) { return console.log(err); });\n    };\n    BackgroundPatternsComponent.prototype.processPatternsData = function (data) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                this.priceFormat = data.priceFormat;\n                this.patternCategories = data.clipArtcategories;\n                this.isEnableloadmore = (data.loadMoreFlag == 0) ? false : true;\n                this.setImagesData(data.default_clipart_images, true);\n                this.currentPatternId = data.default_category_id;\n                this.SelectedPatternCat = {\n                    id: data.default_category_id,\n                    name: data.default_clipart_label\n                };\n                return [2 /*return*/];\n            });\n        });\n    };\n    BackgroundPatternsComponent.prototype.changePatternCat = function (patternCat) {\n        this.patternMedia = [];\n        this.loadmore = 1;\n        this.SelectedPatternCat = patternCat;\n        this.currentPatternId = patternCat.id;\n        this.patternMediaCacheKey = 'patternMedia' + '-' + patternCat.id + '-' + this.loadmore;\n        this.getPatternImages(this.currentPatternId, this.patternMediaCacheKey);\n    };\n    BackgroundPatternsComponent.prototype.getPatternImages = function (patternId, cacheKey, searchText, resetMedia) {\n        var _this = this;\n        if (cacheKey === void 0) { cacheKey = null; }\n        if (searchText === void 0) { searchText = \"\"; }\n        if (resetMedia === void 0) { resetMedia = true; }\n        // show placeholder loader\n        if (this.mainService.isResponsive && !this.showAllFonts)\n            this.showPlaceholder = true;\n        else\n            this.loaderComponent.showSubLoader = true;\n        this.cdr.detectChanges();\n        // prepare params and url\n        var params = {\n            'clipart_id': patternId,\n            'limit': this.limit,\n            'search': searchText,\n            'product_id': this.mainService.productId,\n            'page': this.loadmore\n        }, url = 'productdesigner/cliparts/getClipartImages';\n        cacheKey = \"patternImages - \" + patternId + searchText + this.loadmore + this.limit;\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\n            _this.cacheService.set(cacheKey, data, { maxAge: 15 * 60 });\n            _this.processPattersMedia(data, resetMedia);\n        }).catch(function (err) { return console.log(err); });\n    };\n    BackgroundPatternsComponent.prototype.processPattersMedia = function (data, resetMedia) {\n        this.priceFormat = data.priceFormat;\n        this.isEnableloadmore = (data.loadMoreFlag == 0) ? false : true;\n        this.setImagesData(data.clipart_images, resetMedia);\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showMainLoader)\n            this.loaderComponent.showSubLoader = false;\n        this.showPlaceholder = false;\n        if (this.checkPatternScroll && resetMedia === false) {\n            this.cdr.detectChanges();\n            this.scrollToBottom();\n        }\n    };\n    BackgroundPatternsComponent.prototype.scrollToBottom = function () {\n        try {\n            if (!this.mainService.isResponsive)\n                this.ScrollContainer.nativeElement.scrollTop = this.ScrollContainer.nativeElement.scrollHeight;\n            else if (this.mainService.isResponsive && !this.allowPlaceholderLoader)\n                this.mainSection.nativeElement.scrollTop = this.mainSection.nativeElement.scrollHeight;\n            else {\n                var scrollWidth = this.ScrollContainer.nativeElement.scrollWidth;\n                scrollWidth = scrollWidth - ((scrollWidth * 25) / 100);\n                this.ScrollContainer.nativeElement.scrollLeft = scrollWidth;\n            }\n        }\n        catch (err) { }\n    };\n    BackgroundPatternsComponent.prototype.setImagesData = function (ImgData, resetMedia) {\n        if (resetMedia === true)\n            this.patternMedia = [];\n        for (var i = 0; i < ImgData.length; i++) {\n            this.patternMedia.push(ImgData[i]);\n        }\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showSubLoader) {\n            this.loaderComponent.showSubLoader = false;\n            this.cdr.detectChanges();\n        }\n    };\n    BackgroundPatternsComponent.prototype.getNumberArray = function (value) {\n        var items = [];\n        for (var i = 1; i <= value; i++) {\n            items.push(i);\n        }\n        return items;\n    };\n    BackgroundPatternsComponent.prototype.showFonts = function (showAllFonts) {\n        this.showAllFonts = !showAllFonts;\n        this.allowPlaceholderLoader = showAllFonts;\n        this.eventService.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Background Patterns' });\n    };\n    BackgroundPatternsComponent.prototype.loadMorePattern = function () {\n        this.loadmore++;\n        this.patternMediaCacheKey = 'patternMedia' + '-' + this.currentPatternId;\n        this.cacheService.set(this.patternMediaCacheKey, '');\n        this.checkPatternScroll = true;\n        this.getPatternImages(this.currentPatternId, this.patternMediaCacheKey, this.searchText, false);\n    };\n    BackgroundPatternsComponent.prototype.addPatternToCanvas = function (img) {\n        var params = {\n            backgroundImage: img\n        };\n        this.backgroundPatternsService.applyPattern(params);\n    };\n    BackgroundPatternsComponent.prototype.redirectToUpload = function () {\n        this.eventService.$pub('getActiveTabId', 3);\n        this.eventService.$pub('introTabActive', 3);\n    };\n    BackgroundPatternsComponent.prototype.searchPattern = function ($event) {\n        if (!$event || !$event.target || !$event.target.value) {\n            this.loadmore = 1;\n        }\n        ;\n        this.searchText = $event.target.value.toString();\n        this.getPatternImages(this.currentPatternId, null, this.searchText);\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], BackgroundPatternsComponent.prototype, \"loadContent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])(\"loaderComponent\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_9__[\"LoaderComponent\"])\n    ], BackgroundPatternsComponent.prototype, \"loaderComponent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('subtabLoader'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_9__[\"LoaderComponent\"])\n    ], BackgroundPatternsComponent.prototype, \"subtabLoader\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('scrollToBottom'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ElementRef\"])\n    ], BackgroundPatternsComponent.prototype, \"ScrollContainer\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('mainSection'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ElementRef\"])\n    ], BackgroundPatternsComponent.prototype, \"mainSection\", void 0);\n    BackgroundPatternsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[background-patterns]',\n            template: __webpack_require__(/*! ./background-patterns.component.html */ \"./src/app/premium/components/background-patterns/background-patterns.component.html\"),\n            styles: [__webpack_require__(/*! ./background-patterns.component.scss */ \"./src/app/premium/components/background-patterns/background-patterns.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [ng2_cache__WEBPACK_IMPORTED_MODULE_8__[\"CacheService\"],\n            _background_patterns_service__WEBPACK_IMPORTED_MODULE_5__[\"BackgroundPatternsService\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__[\"TranslateService\"],\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__[\"TabsService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"]])\n    ], BackgroundPatternsComponent);\n    return BackgroundPatternsComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/background-patterns/background-patterns.service.ts\":\n/*!***************************************************************************************!*\\\n  !*** ./src/app/premium/components/background-patterns/background-patterns.service.ts ***!\n  \\***************************************************************************************/\n/*! exports provided: BackgroundPatternsService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackgroundPatternsService\", function() { return BackgroundPatternsService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var _apply_patterns_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./apply-patterns.service */ \"./src/app/premium/components/background-patterns/apply-patterns.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\nvar BackgroundPatternsService = /** @class */ (function () {\n    function BackgroundPatternsService(canvasService, eventService, applyPatternsService) {\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.applyPatternsService = applyPatternsService;\n        this.padding = [];\n        this.pattern = {};\n        this.oldPattern = {};\n        this.imgObj = {};\n    }\n    BackgroundPatternsService.prototype.applyPattern = function (params) {\n        var self = this;\n        var backgroundImage = params['backgroundImage'];\n        var oldObj = params['oldObj'];\n        var imgExtensionIndex = backgroundImage.lastIndexOf('.'), extensionName = backgroundImage.substr(imgExtensionIndex + 1);\n        var uniqueCanvasId = this.canvasService.currentCanvas.image_id + '_' + this.canvasService.currentCanvas.designarea_id;\n        if (extensionName == 'svg') {\n            new fabric.loadSVGFromURL(backgroundImage, function (svgImgObject, options) {\n                self.imgObj[uniqueCanvasId] = new fabric.Group(svgImgObject);\n                self.imgObj[uniqueCanvasId].isSvg = true;\n                self.makePattern(self, oldObj);\n            });\n        }\n        else {\n            fabric.Image.fromURL(backgroundImage, function (img) {\n                self.imgObj[uniqueCanvasId] = img;\n                self.makePattern(self, oldObj);\n            });\n        }\n    };\n    BackgroundPatternsService.prototype.makePattern = function (self, oldObj) {\n        var uniqueCanvasId = this.canvasService.currentCanvas.image_id + '_' + this.canvasService.currentCanvas.designarea_id;\n        var imgObj = self.imgObj[uniqueCanvasId];\n        var objWidth = 100 / this.canvasService.scaleFactor;\n        imgObj.scaleToWidth(objWidth);\n        var usedColorArr = [];\n        var usedColorCounter = 0;\n        if (imgObj.isSvg == true) {\n            imgObj._objects.forEach(function (svgColor) {\n                if (svgColor.fill) {\n                    if (usedColorArr.indexOf(svgColor.fill) == -1) {\n                        usedColorArr.push(svgColor.fill);\n                    }\n                }\n            });\n            usedColorCounter = usedColorArr.length;\n        }\n        var patternSourceCanvas = new fabric.StaticCanvas();\n        imgObj.left = 0;\n        imgObj.top = 0;\n        patternSourceCanvas.add(imgObj);\n        patternSourceCanvas.renderAll();\n        if (!self.padding[uniqueCanvasId]) {\n            self.padding[uniqueCanvasId] = 0;\n        }\n        this.pattern[uniqueCanvasId] = new fabric.Pattern({\n            source: function () {\n                patternSourceCanvas.setDimensions({\n                    width: imgObj.getScaledWidth() + self.padding[uniqueCanvasId],\n                    height: imgObj.getScaledHeight() + self.padding[uniqueCanvasId]\n                });\n                patternSourceCanvas.renderAll();\n                return patternSourceCanvas.getElement();\n            },\n            repeat: 'repeat'\n        });\n        this.pattern[uniqueCanvasId] = Object.assign(this.pattern[uniqueCanvasId], this.oldPattern[uniqueCanvasId]);\n        this.pattern[uniqueCanvasId].usedColorCounter = usedColorCounter;\n        var objParams = {\n            canvas: this.canvasService.currentCanvas,\n            crudService: this.applyPatternsService,\n            isHistory: true,\n            pattern: this.pattern[uniqueCanvasId],\n            oldObj: oldObj,\n        };\n        this.canvasService.objectCRUD(objParams);\n    };\n    BackgroundPatternsService.prototype.changePattern = function (pattern, type) {\n        var uniqueCanvasId = this.canvasService.currentCanvas.image_id + '_' + this.canvasService.currentCanvas.designarea_id;\n        if (type != 'remove') {\n            this.oldPattern[uniqueCanvasId] = Object.assign({}, pattern);\n            this.pattern[uniqueCanvasId] = Object.assign(this.pattern[uniqueCanvasId], pattern);\n            if (type == 'patternWidth') {\n                this.imgObj[uniqueCanvasId].scaleToWidth(pattern.patternWidth / this.canvasService.scaleFactor);\n            }\n            this.imgObj[uniqueCanvasId].set('angle', pattern.angle);\n            this.padding[uniqueCanvasId] = pattern.padding;\n            this.eventService.$pub('backgroundPatternsApplied');\n            this.canvasService.currentCanvas.requestRenderAll();\n            /* let objParams = {\n               crudService: this.applyPatternsService,\n               oldPattern: this.pattern[uniqueCanvasId],\n               pattern:pattern\n             };\n             this.canvasService.objectCRUD(objParams);*/\n        }\n        else {\n            delete this.pattern[uniqueCanvasId];\n            this.canvasService.currentCanvas.backgroundColor = null;\n            this.canvasService.currentCanvas.renderAll();\n            this.eventService.$pub('backgroundPatternsApplied');\n        }\n    };\n    BackgroundPatternsService.prototype.convertObjectToPattern = function () {\n        var obj = this.canvasService.currentCanvas.getActiveObject();\n        var params = {\n            backgroundImage: obj.src,\n            oldObj: obj\n        };\n        this.applyPattern(params);\n    };\n    BackgroundPatternsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"], _apply_patterns_service__WEBPACK_IMPORTED_MODULE_3__[\"ApplyPatternsService\"]])\n    ], BackgroundPatternsService);\n    return BackgroundPatternsService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/design-templates/design-templates.component.html\":\n/*!*************************************************************************************!*\\\n  !*** ./src/app/premium/components/design-templates/design-templates.component.html ***!\n  \\*************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<!-- loadContent == header , It means it is called from header -->\\n<ng-container *ngIf=\\\"mainService.isAdmin == true && loadContent =='header'\\\">\\n    <a href=\\\"javascript:void(0)\\\" (click)=\\\"openSaveTemplate()\\\" tooltip=\\\"{{'Save Template' | translate}}\\\">\\n        <svg class=\\\"icon icon-save\\\" viewBox=\\\"0 0 30 30\\\">\\n            <use xlink:href=\\\"assets/img/sprite.svg#icon-save\\\"></use>\\n        </svg>\\n    </a>\\n    <!-- Save Design Modal -->\\n    <ng-template #saveTemplateModal>\\n        <form #saveTemplateForm=\\\"ngForm\\\" [formGroup]=\\\"designTemplateForm\\\" (ngSubmit)=\\\"saveTemplate()\\\">\\n            <div class=\\\"modal-header\\\">\\n                <h4 class=\\\"modal-title pull-left\\\">{{'Save Template' | translate}}</h4>\\n                <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n                    <span aria-hidden=\\\"true\\\">&times;</span>\\n                </button>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"byi-login-tab byi-save-template\\\">\\n                    <div class=\\\"byi-float-form\\\">\\n                        <div class=\\\"byi-float-label\\\">\\n                            <label>{{'Template Name' | translate}} *</label>\\n                            <input type=\\\"text\\\" name=\\\"templateTitle\\\" formControlName=\\\"templateTitle\\\" />\\n                            <div *ngIf=\\\"saveTemplateForm.submitted && dfref.templateTitle.errors\\\" class=\\\"byi-error\\\">\\n                                <ng-container *ngIf=\\\"dfref.templateTitle.errors.required\\\">\\n                                    {{'This field is required' | translate}}\\n                                </ng-container>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"byi-float-checkbox\\\">\\n                            <label class=\\\"byi-checkbox\\\">\\n                                <input class=\\\"is-pre-loaded\\\" name=\\\"isPreLoaded\\\" type=\\\"checkbox\\\"\\n                                    [(ngModel)]=\\\"templateService.isPreLoaded\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n                                {{'Set as Preloaded Template for this product.' | translate}}\\n                                <span></span>\\n                            </label>\\n                        </div>\\n                        <div class=\\\"byi-float-label\\\">\\n                            <label>{{\\\"Choose Category\\\" | translate}} *</label>\\n                            <select class=\\\"byi-dropdown\\\" multiple name=\\\"templatecategory[]\\\" id=\\\"templatecategory\\\"\\n                                formControlName=\\\"templateCategory\\\">\\n                                <ng-container *ngFor=\\\"let category of templateCategories\\\">\\n                                    <option [ngValue]=\\\"category.id\\\"\\n                                        [ngClass]=\\\"category.level == 0 ? 'main-category' : 'sub-category'\\\">\\n                                        <span *ngFor=\\\"let i of getNumberArray(category.level)\\\">-</span>\\n                                        {{category.title}}\\n                                    </option>\\n                                </ng-container>\\n                            </select>\\n\\n                            <div *ngIf=\\\"saveTemplateForm.submitted && dfref.templateCategory.errors\\\" class=\\\"byi-error\\\">\\n                                <ng-container *ngIf=\\\"dfref.templateCategory.errors.required\\\">\\n                                    {{'This field is required' | translate}}\\n                                </ng-container>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"byi-float-label\\\">\\n                            <label>{{\\\"Status\\\" | translate}} *</label>\\n                            <div class=\\\"byi-dropdown\\\">\\n                                <div class=\\\"btn-group\\\" dropdown>\\n                                    <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n                                       {{selectedStausName}}<span class=\\\"caret\\\"></span>\\n                                    </button>\\n                                    <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n                                       <li role=\\\"menuitem\\\" *ngFor=\\\"let status of statusData\\\" [class.selected]=\\\"status.id == selectedStaus\\\" (click)=\\\"changeStatus(status)\\\">\\n                                          <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n                                             {{status.name}}</a>\\n                                       </li>\\n                                    </ul>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"byi-float-label\\\">\\n                            <div class=\\\"byi-form-action\\\">\\n                                <button class=\\\"byi-btn\\\" type=\\\"submit\\\">{{'Save' | translate}}</button>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </form>\\n    </ng-template>\\n</ng-container>\\n<ng-container *ngIf=\\\"mainService.isAdmin == false && loadContent != 'header'\\\">\\n    <common-tabs #commonTabs *ngIf=\\\"!loadContent\\\" [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\">\\n    </common-tabs>\\n    <div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent == true\\\">\\n        <div class=\\\"byi-top-filters\\\" *ngIf=\\\"templateCategories && templateCategories.length > 0\\\">\\n            <ng-container *ngIf=\\\"mainService.isResponsive\\\">\\n                <div class=\\\"byi-fullview-toggle\\\">\\n                    <button type=\\\"button\\\" (click)=\\\"showFonts(showAllFonts)\\\">\\n                        <span></span>\\n                        <span></span>\\n                        <span></span>\\n                    </button>\\n                </div>\\n            </ng-container>\\n            <div class=\\\"byi-dropdown\\\">\\n                <div class=\\\"btn-group\\\" dropdown>\\n                    <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n                        {{selectedTemplateCat?.title}}<span class=\\\"caret\\\"></span>\\n                    </button>\\n                    <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n                        <li role=\\\"menuitem\\\" *ngFor=\\\"let templateCat of templateCategories\\\"\\n                            [ngClass]=\\\"templateCat.level == 0 ? 'main-category' : 'sub-category'\\\"\\n                            [class.selected]=\\\"templateCat.id === selectedTemplateCat.id\\\"\\n                            (click)=\\\"changeTemplateCat(templateCat)\\\">\\n                            <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n                                <span *ngFor=\\\"let i of getNumberArray(templateCat.level)\\\">-</span>\\n                                {{templateCat.title}}\\n                            </a>\\n                        </li>\\n                    </ul>\\n                </div>\\n            </div>\\n            <div class=\\\"byi-search\\\">\\n                <input class=\\\"byi-input\\\" name=\\\"searchText\\\" (keyup)=\\\"searchTemplate($event)\\\"\\n                    placeholder=\\\"{{'Search Template' | translate}}\\\" type=\\\"text\\\">\\n                <button class=\\\"byi-search-btn\\\">\\n                    <svg class=\\\"icon icon-search\\\" viewBox=\\\"0 0 50 50\\\">\\n                        <use xlink:href=\\\"assets/img/sprite.svg#icon-search\\\"></use>\\n                    </svg>\\n                </button>\\n            </div>\\n        </div>\\n        <div class=\\\"byi-norecord\\\" *ngIf=\\\"loaderComponent.showSubLoader === false && templates && templates.length == 0\\\">\\n            {{'No Templates Found' | translate}}\\n        </div>\\n        <div *ngIf=\\\"templates.length > 0\\\" #mainSection class=\\\"byi-tab-cats byi-tab-cats-clipart\\\">\\n            <ul infiniteScroll [horizontal]=\\\"true\\\" [infiniteScrollDistance]=\\\"0\\\" [infiniteScrollThrottle]=\\\"1000\\\"\\n                [scrollWindow]=\\\"false\\\" [infiniteScrollDisabled]=\\\"!isEnableloadmore || !allowPlaceholderLoader\\\"\\n                (scrolled)=\\\"loadMoreClipArt()\\\" #scrollToBottom>\\n                <li *ngFor=\\\"let template of templates\\\"\\n                    [attr.hidden]=\\\"(showPlaceholder && allowPlaceholderLoader) ? true : null\\\"\\n                    (click)='loadTemplate(template.designtemplates_id)'>\\n                    <a [ngClass]=\\\"{'image-only': !template.template_title, 'image-with-text': !template.template_title || template.template_title }\\\"\\n                        href=\\\"javascript:void(0)\\\" title=\\\"{{template.template_title}}\\\">\\n                        <span><img [src]=\\\"templateImgUrl+template.designtemplates_id+'/base/'+template.image\\\" /></span>\\n                        <label *ngIf=\\\"template.template_title\\\">{{template.template_title}}</label>\\n                    </a>\\n                </li>\\n                <li [attr.hidden]=\\\"(!showPlaceholder || !allowPlaceholderLoader) ? true : null\\\"\\n                    *ngFor=\\\"let temp of mainService.customPlaceholderArr\\\" placeholder-loader [loaderHeight]='84'\\n                    [loaderWidth]='84'>\\n                </li>\\n            </ul>\\n        </div>\\n\\n    </div>\\n    <div loader #loaderComponent></div>\\n</ng-container>\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/design-templates/design-templates.component.scss\":\n/*!*************************************************************************************!*\\\n  !*** ./src/app/premium/components/design-templates/design-templates.component.scss ***!\n  \\*************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9kZXNpZ24tdGVtcGxhdGVzL2Rlc2lnbi10ZW1wbGF0ZXMuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/design-templates/design-templates.component.ts\":\n/*!***********************************************************************************!*\\\n  !*** ./src/app/premium/components/design-templates/design-templates.component.ts ***!\n  \\***********************************************************************************/\n/*! exports provided: DesignTemplatesComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignTemplatesComponent\", function() { return DesignTemplatesComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var _template_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./template.service */ \"./src/app/premium/components/design-templates/template.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n\n\n\n\n\n\n\n\n\nvar DesignTemplatesComponent = /** @class */ (function () {\n    function DesignTemplatesComponent(mainService, templateService, eventService, cacheService, cdr, translate, formBuilder) {\n        var _this = this;\n        this.mainService = mainService;\n        this.templateService = templateService;\n        this.eventService = eventService;\n        this.cacheService = cacheService;\n        this.cdr = cdr;\n        this.translate = translate;\n        this.formBuilder = formBuilder;\n        this.currentTab = 7;\n        this.selectedTemplateCat = [];\n        this.searchText = \"\";\n        this.loadmore = 1;\n        this.templates = [];\n        this.templateImgUrl = '';\n        this.isEnableloadmore = false;\n        this.checkScroll = false;\n        this.limit = 12;\n        // infinite scroll\n        this.customPlaceholderArr = [];\n        this.allowPlaceholderLoader = false;\n        this.selectedStaus = 1;\n        this.selectedStausName = this.translate.instant('Enable');\n        this.statusData = [\n            { id: 1, name: this.translate.instant('Enable') },\n            { id: 0, name: this.translate.instant('Disable') }\n        ];\n        this.showAllFonts = false;\n        this.eventService.$sub('getSubTabs', function (mainTabId) {\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\n                _this.getSubTabs(mainTabId);\n            }\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\n        });\n    }\n    DesignTemplatesComponent.prototype.ngOnInit = function () {\n        this.init();\n        if ((this.mainService.isAdmin == true && this.loadContent == 'header') || (this.mainService.isAdmin == false && this.loadContent == true)) {\n            this.fetchDesignTemplateCategories();\n        }\n    };\n    DesignTemplatesComponent.prototype.fetchDesignTemplateCategories = function () {\n        var _this = this;\n        var params = {\n            isTemplate: this.loadContent,\n            productId: this.mainService.productId\n        }, url = 'designtemplates/designtemplates/fetchTemplateCategories', cacheKey = 'fetchTemplateCategories' + this.mainService.productId;\n        this.mainService.getData(url, params, cacheKey, null, true).then(function (templateCategoriesData) {\n            if (templateCategoriesData.status == 'success') {\n                _this.templateCategories = templateCategoriesData.templateCategories;\n                _this.selectedTemplateCat = templateCategoriesData.defaultTemplateCategory;\n                if (_this.mainService.isAdmin == false) {\n                    _this.processTemplates(templateCategoriesData, true);\n                }\n            }\n        }).catch(function (err) { return console.log(err); });\n    };\n    DesignTemplatesComponent.prototype.getNumberArray = function (value) {\n        var items = [];\n        for (var i = 1; i <= value; i++) {\n            items.push(i);\n        }\n        return items;\n    };\n    DesignTemplatesComponent.prototype.init = function () {\n        this.templateService.templateTitle = '';\n        this.subscribeEvents();\n        this.prepareFormGroup();\n    };\n    DesignTemplatesComponent.prototype.prepareFormGroup = function () {\n        // Login form builder\n        this.designTemplateForm = this.formBuilder.group({\n            templateTitle: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__[\"Validators\"].required]],\n            templateCategory: [[], [_angular_forms__WEBPACK_IMPORTED_MODULE_1__[\"Validators\"].required]]\n        });\n    };\n    DesignTemplatesComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('setTemplateData', function (templateData) {\n            _this.designTemplateForm.controls.templateTitle.setValue(templateData.template_title);\n            _this.designTemplateForm.controls.templateCategory.setValue(templateData.selectedTemplateCategories);\n            _this.selectedStaus = templateData.statusTemplate != undefined ? templateData.statusTemplate : 1;\n            _this.selectedStausName = _this.selectedStaus == 1 ? _this.translate.instant('Enable') : _this.translate.instant('Disable');\n        });\n    };\n    DesignTemplatesComponent.prototype.openSaveTemplate = function () {\n        if (this.mainService.canvasService.hasCanvasObjectOrBackgroundAll()) {\n            this.modalRef = this.mainService.openThisModal(this.saveTemplateModal);\n        }\n        else {\n            this.mainService.swal(this.translate.instant('Alert'), this.translate.instant('Please design the product !'), \"warning\");\n        }\n    };\n    DesignTemplatesComponent.prototype.saveTemplate = function () {\n        var _this = this;\n        if (this.designTemplateForm.invalid)\n            return;\n        var data = {\n            title: this.designTemplateForm.controls.templateTitle.value,\n            selectedTemplateCategories: this.designTemplateForm.controls.templateCategory.value,\n            status: this.selectedStaus\n        };\n        this.templateService.saveTemplate(data).then(function (resp) {\n            if (resp.status == 'success') {\n                _this.init();\n                _this.modalRef.hide();\n            }\n        });\n    };\n    /**\n     * Fetching subtabs\n     */\n    DesignTemplatesComponent.prototype.getSubTabs = function (mainTabId) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var data;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                data = this.mainService.tabsFlow[mainTabId];\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\n                if (this.subTabsData && this.subTabsData.length > 0) {\n                    this.accordianId = this.subTabsData[0].id;\n                }\n                if (this.loaderComponent && this.loaderComponent.showSubLoader)\n                    this.loaderComponent.showSubLoader = false;\n                return [2 /*return*/];\n            });\n        });\n    };\n    DesignTemplatesComponent.prototype.changeTemplateCat = function (templateCat) {\n        this.selectedTemplateCat = templateCat;\n        this.templates = [];\n        this.loadmore = 1;\n        var templatesCacheKey = 'templates' + '-' + this.selectedTemplateCat.id + '-' + this.loadmore;\n        this.getTemplates(templatesCacheKey);\n    };\n    DesignTemplatesComponent.prototype.loadMoreTemplates = function () {\n        this.loadmore++;\n        var templatesCacheKey = 'templates' + '-' + this.selectedTemplateCat.id + '-' + this.loadmore;\n        this.cacheService.set(templatesCacheKey, '');\n        this.checkScroll = true;\n        this.getTemplates(templatesCacheKey, this.searchText, false);\n    };\n    DesignTemplatesComponent.prototype.getTemplates = function (cacheKey, searchText, resetTemplates) {\n        var _this = this;\n        if (cacheKey === void 0) { cacheKey = null; }\n        if (searchText === void 0) { searchText = \"\"; }\n        if (resetTemplates === void 0) { resetTemplates = true; }\n        var templateCatId = this.selectedTemplateCat.id;\n        // show placeholder loader\n        this.showPlaceholder = true;\n        this.loaderComponent.showSubLoader = true;\n        this.cdr.detectChanges();\n        // prepare params and url\n        var params = {\n            'templateCatId': templateCatId,\n            'limit': this.limit,\n            'searchText': searchText,\n            'productId': this.mainService.productId,\n            'page': this.loadmore\n        }, url = 'designtemplates/designtemplates/fetchTemplates';\n        cacheKey = 'fetchTemplates' + searchText + templateCatId;\n        // if cahcekey is not null that means user has changed template category\n        this.mainService.getData(url, params, cacheKey).then(function (data) {\n            _this.cacheService.set(cacheKey, data, { maxAge: 15 * 60 });\n            if (resetTemplates === true)\n                _this.templates = [];\n            _this.processTemplates(data, resetTemplates);\n        }).catch(function (err) { return console.log(err); });\n    };\n    DesignTemplatesComponent.prototype.searchTemplate = function ($event) {\n        if (!$event || !$event.target || !$event.target.value) {\n            this.loadmore = 1;\n        }\n        ;\n        if (this.searchText == $event.target.value.toString()) {\n            return;\n        }\n        this.searchText = $event.target.value.toString();\n        this.getTemplates(null, this.searchText);\n    };\n    DesignTemplatesComponent.prototype.processTemplates = function (data, resetTemplates) {\n        this.templateImgUrl = data.templateImgUrl;\n        this.isEnableloadmore = (data.loadMoreFlag == 0) ? false : true;\n        this.setImagesData(data.templates);\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showMainLoader)\n            this.loaderComponent.showSubLoader = false;\n        this.showPlaceholder = false;\n        if (this.checkScroll && resetTemplates === false) {\n            this.cdr.detectChanges();\n            this.scrollToBottom();\n        }\n    };\n    DesignTemplatesComponent.prototype.setImagesData = function (data) {\n        for (var i = 0; i < data.length; i++) {\n            this.templates.push(data[i]);\n        }\n        if (this.loadContent && this.loaderComponent && this.loaderComponent.showSubLoader) {\n            this.loaderComponent.showSubLoader = false;\n            this.cdr.detectChanges();\n        }\n    };\n    DesignTemplatesComponent.prototype.scrollToBottom = function () {\n        try {\n            if (!this.mainService.isResponsive)\n                this.ScrollContainer.nativeElement.scrollTop = this.ScrollContainer.nativeElement.scrollHeight;\n            else if (this.mainService.isResponsive && !this.allowPlaceholderLoader)\n                this.mainSection.nativeElement.scrollTop = this.mainSection.nativeElement.scrollHeight;\n            else\n                this.ScrollContainer.nativeElement.scrollLeft = (this.ScrollContainer.nativeElement.scrollWidth - 300);\n        }\n        catch (err) { }\n    };\n    DesignTemplatesComponent.prototype.loadTemplate = function (id) {\n        this.templateService.loadTemplate(btoa(id));\n    };\n    DesignTemplatesComponent.prototype.showFonts = function (showAllFonts) {\n        this.showAllFonts = !showAllFonts;\n        this.eventService.$pub('showFonts', { showAllFonts: this.showAllFonts, title: 'Show all images' });\n    };\n    Object.defineProperty(DesignTemplatesComponent.prototype, \"dfref\", {\n        get: function () { return this.designTemplateForm.controls; },\n        enumerable: true,\n        configurable: true\n    });\n    DesignTemplatesComponent.prototype.changeStatus = function (status) {\n        this.selectedStaus = status.id;\n        this.selectedStausName = status.name;\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('saveTemplateModal'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], DesignTemplatesComponent.prototype, \"saveTemplateModal\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], DesignTemplatesComponent.prototype, \"loadContent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])(\"loaderComponent\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_7__[\"LoaderComponent\"])\n    ], DesignTemplatesComponent.prototype, \"loaderComponent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('scrollToBottom'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ElementRef\"])\n    ], DesignTemplatesComponent.prototype, \"ScrollContainer\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])('mainSection'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ElementRef\"])\n    ], DesignTemplatesComponent.prototype, \"mainSection\", void 0);\n    DesignTemplatesComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\n            selector: '[design-templates]',\n            template: __webpack_require__(/*! ./design-templates.component.html */ \"./src/app/premium/components/design-templates/design-templates.component.html\"),\n            styles: [__webpack_require__(/*! ./design-templates.component.scss */ \"./src/app/premium/components/design-templates/design-templates.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            _template_service__WEBPACK_IMPORTED_MODULE_5__[\"TemplateService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_6__[\"PubSubService\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_8__[\"CacheService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ChangeDetectorRef\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__[\"TranslateService\"],\n            _angular_forms__WEBPACK_IMPORTED_MODULE_1__[\"FormBuilder\"]])\n    ], DesignTemplatesComponent);\n    return DesignTemplatesComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/design-templates/template.service.ts\":\n/*!*************************************************************************!*\\\n  !*** ./src/app/premium/components/design-templates/template.service.ts ***!\n  \\*************************************************************************/\n/*! exports provided: TemplateService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TemplateService\", function() { return TemplateService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n\n\n\n\n\n\nvar TemplateService = /** @class */ (function () {\n    function TemplateService(mainService, eventService, canvasService, translate) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.translate = translate;\n        this.selectedTemplateCategories = [];\n        // if design is already loaded flag\n        this.isDesignLoaded = false;\n        var params = this.mainService.getUrlParams(['template']);\n        this.templateId = params['template'];\n        var self = this;\n        this.eventService.$sub('allcanvasCreated', function (allImageIds) {\n            if (self.templateId && self.isDesignLoaded == false) {\n                self.loadTemplate(self.templateId);\n                self.isDesignLoaded = true;\n            }\n        });\n    }\n    /**\n* Save Template\n*/\n    TemplateService.prototype.saveTemplate = function (data) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var imageId = _this.canvasService.firstImageId;\n            var images = _this.canvasService.getCanvasDataUrl(imageId);\n            var containerCanvasesJson = _this.canvasService.getCanvasToJson();\n            data.sweetAlert = data.hasOwnProperty('sweetAlert') ? data.sweetAlert : true;\n            var params = {\n                'templateId': _this.templateId,\n                'dataUrl': images,\n                'product_image_data': _this.canvasService.allImagesWithIds[imageId],\n                'product_id': _this.mainService.productId,\n                'canvasJson': btoa(unescape(encodeURIComponent(JSON.stringify(containerCanvasesJson)))),\n                'associated_product_id': _this.mainService.associatedProductId,\n                'title': data.hasOwnProperty('title') ? data.title : '',\n                'isPreLoaded': _this.isPreLoaded,\n                'status': data.hasOwnProperty('status') ? data.status : 1,\n                'selectedTemplateCategories': data.hasOwnProperty('selectedTemplateCategories') ? data.selectedTemplateCategories : ''\n            }, url = 'designtemplates/designtemplates/SaveTemplate?isAjax=true';\n            _this.eventService.$pub(\"showMainLoader\");\n            _this.mainService.post(url, params).then(function (resp) {\n                _this.eventService.$pub(\"hideMainLoader\");\n                if (resp && resp.status == \"success\" && data.sweetAlert == true) {\n                    _this.canvasService.clearHistory();\n                    _this.eventService.$pub('undoRedo');\n                    _this.mainService.swal(_this.translate.instant(\"Success\"), resp.message, \"success\");\n                    resp.product_id = _this.mainService.productId;\n                    _this.eventService.$pub('designSaved', resp);\n                }\n                else if (resp && resp.status == 'error' && resp.hasOwnProperty('isExists') && resp.isExists == true && data.sweetAlert == true) {\n                    _this.mainService.swal(_this.translate.instant(\"Success\"), resp.message, \"success\");\n                }\n                resolve(resp);\n            });\n        });\n    };\n    TemplateService.prototype.loadTemplate = function (templateId) {\n        var _this = this;\n        var params = { 'templateId': templateId }, url = 'designtemplates/designtemplates/LoadTemplate', cacheKey = 'LoadTemplate' + templateId + this.mainService.baseUrl;\n        this.mainService.getData(url, params, cacheKey, null, true).then(function (templateData) {\n            if (templateData.status == 'success') {\n                _this.eventService.$pub('loadTheseFonts', JSON.parse(templateData.json_objects));\n                _this.setTemplateData(templateData);\n                _this.canvasService.clearCanvas();\n                templateData.currentProductId = _this.mainService.associatedProductId;\n                _this.canvasService.loadDesign(templateData);\n                _this.mainService.lastSavedData.json_objects = templateData.json_objects;\n            }\n        }).catch(function (err) { return console.log(err); });\n    };\n    TemplateService.prototype.setTemplateData = function (templateData) {\n        this.eventService.$pub('setTemplateData', templateData);\n        if (templateData.isPreLoaded == 'true') {\n            this.isPreLoaded = true;\n        }\n        else {\n            this.isPreLoaded = false;\n        }\n    };\n    TemplateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_2__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateService\"]])\n    ], TemplateService);\n    return TemplateService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.html\":\n/*!*************************************************************************************************************************************!*\\\n  !*** ./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.html ***!\n  \\*************************************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<ng-template #verticalTemplate>\\n  <div [innerHtml]=\\\"verticalTooltip\\\"></div>\\n</ng-template>\\n<li (click)=\\\"topObjectSpacing()\\\" tooltip=\\\"{{'Distribute Vertically (must select 3 or more objects)' | translate}}\\\" container=\\\"body\\\" [ngClass]=\\\"{'disabled': enableForThreeObjects == true}\\\">\\n  <svg class=\\\"icon icon-align-vertical\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-align-vertical\\\"></use>\\n  </svg>\\n</li>\\n<ng-template #horizontalTemplate>\\n  <div [innerHtml]=\\\"horizontalTooltip\\\"></div>\\n</ng-template>\\n<li (click)=\\\"leftObjectSpacing()\\\" tooltip=\\\"{{'Distribute Horizontally (must select 3 or more objects)' | translate}}\\\" container=\\\"body\\\" [ngClass]=\\\"{'disabled': enableForThreeObjects == true}\\\">\\n  <svg class=\\\"icon icon-align-horizontal\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-align-horizontal\\\"></use>\\n  </svg>\\n</li>\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.scss\":\n/*!*************************************************************************************************************************************!*\\\n  !*** ./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.scss ***!\n  \\*************************************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9kaXN0cmlidXRlLXZlcnRpY2FsLWhvcml6b250YWwtYWxpZ25tZW50L2Rpc3RyaWJ1dGUtdmVydGljYWwtaG9yaXpvbnRhbC1hbGlnbm1lbnQuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.ts\":\n/*!***********************************************************************************************************************************!*\\\n  !*** ./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.ts ***!\n  \\***********************************************************************************************************************************/\n/*! exports provided: DistributeVerticalHorizontalAlignmentComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DistributeVerticalHorizontalAlignmentComponent\", function() { return DistributeVerticalHorizontalAlignmentComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_essentials_components_right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/essentials/components/right-panel/right-panel.service */ \"./src/app/essentials/components/right-panel/right-panel.service.ts\");\n/* harmony import */ var src_app_services_update_object_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/update-object.service */ \"./src/app/services/update-object.service.ts\");\n\n\n\n\n\n\nvar DistributeVerticalHorizontalAlignmentComponent = /** @class */ (function () {\n    function DistributeVerticalHorizontalAlignmentComponent(canvasService, eventService, rightPanelService, updateObjectService) {\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.rightPanelService = rightPanelService;\n        this.updateObjectService = updateObjectService;\n        // tooltip messages\n        this.horizontalTooltip = 'Distribute Horizontally' + '<br/>' + '(must select 3 or more objects)';\n        this.verticalTooltip = 'Distribute Vertically' + '<br/>' + '(must select 3 or more objects)';\n    }\n    DistributeVerticalHorizontalAlignmentComponent.prototype.ngOnInit = function () {\n        this.init();\n        this.subscribeEvents();\n    };\n    DistributeVerticalHorizontalAlignmentComponent.prototype.init = function () {\n        this.enableForThreeObjects = this.enableForThreeObjectsFun();\n    };\n    DistributeVerticalHorizontalAlignmentComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('objectSelectionCreated', function () {\n            _this.init();\n        });\n        this.eventService.$sub('objectSelectionUpdated', function () {\n            _this.init();\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this.init();\n        });\n        this.eventService.$sub('objectUpdated', function () {\n            _this.init();\n        });\n    };\n    DistributeVerticalHorizontalAlignmentComponent.prototype.enableForThreeObjectsFun = function () {\n        var totalAddedObjects = (this.canvasService.currentCanvas && this.canvasService.currentCanvas.getActiveObjects()) ? this.canvasService.currentCanvas.getActiveObjects().length : 0;\n        if (totalAddedObjects > 2)\n            return false;\n        return true;\n    };\n    DistributeVerticalHorizontalAlignmentComponent.prototype.topObjectSpacing = function () {\n        // return if disabled\n        if (this.enableForThreeObjects)\n            return;\n        // variable declaration\n        var canvas = this.canvasService.currentCanvas, activeGroup = canvas.getActiveObject(), allObjs = canvas.getActiveObjects();\n        var topMostObj = this.rightPanelService.findObjMargin(allObjs, false, 'top'), bottomMostObj = this.rightPanelService.findObjMargin(allObjs, true, 'top'), totalHeight = this.calcTotalHeightOfAllObj(allObjs), properties = {}, params = {\n            obj: [], properties: [], crudServiceString: 'this.multipleObjectsUpdateService',\n            selectedObjs: allObjs\n        };\n        this.rightPanelService.canvasService.deselectAllObjects();\n        topMostObj = canvas.getObjects().find(function (o) { return o.id == topMostObj.id; });\n        bottomMostObj = canvas.getObjects().find(function (o) { return o.id == bottomMostObj.id; });\n        // calculate difference\n        var diff = (activeGroup.height - totalHeight) / (allObjs.length - 1), prevObj = topMostObj, finalTopVal = null;\n        // traverse array of all selected objects\n        // set top value of each object except top and bottom most objects\n        allObjs.filter(function (obj) {\n            if (obj.id != topMostObj.id && obj.id != bottomMostObj.id) {\n                finalTopVal = diff + (prevObj.height * prevObj.scaleY) + prevObj.top;\n                params.properties.push({ top: finalTopVal });\n                params.obj.push(obj);\n                // set current object as prev object\n                // we will assign current object's top value based on\n                // prev object's top and height values\n                prevObj = obj;\n                prevObj.top = finalTopVal;\n            }\n        });\n        if (params.obj.length && params.properties.length) {\n            this.rightPanelService.canvasService.objectCRUD(params);\n        }\n    };\n    DistributeVerticalHorizontalAlignmentComponent.prototype.calcTotalHeightOfAllObj = function (allObjs) {\n        // init totalHeight variable \n        var totalHeight = 0;\n        // traverse through selected objects\n        // and calculate total height\n        allObjs.filter(function (obj) {\n            totalHeight += (obj.height * obj.scaleY);\n        });\n        // finally return\n        return totalHeight;\n    };\n    DistributeVerticalHorizontalAlignmentComponent.prototype.leftObjectSpacing = function () {\n        // return if disabled\n        if (this.enableForThreeObjects)\n            return;\n        // variable declaration\n        var canvas = this.canvasService.currentCanvas, activeGroup = canvas.getActiveObject(), allObjs = canvas.getActiveObjects();\n        this.rightPanelService.canvasService.deselectAllObjects();\n        var leftMostObj = this.rightPanelService.findObjMargin(allObjs, false, 'left'), rightMostObj = this.rightPanelService.findObjMargin(allObjs, true, 'left'), totalWidth = this.calcTotalWidthOfAllObj(allObjs), properties = {}, params = {\n            obj: [], properties: [], crudServiceString: 'this.multipleObjectsUpdateService',\n            selectedObjs: allObjs\n        };\n        if (leftMostObj.id == rightMostObj.id) {\n            leftMostObj = this.rightPanelService.findObjMargin(allObjs, true, 'left', leftMostObj);\n        }\n        // calculate difference\n        var diff = (activeGroup.width - totalWidth) / (allObjs.length - 1), prevObj = leftMostObj, finalLeftValue = null;\n        // traverse array of all selected objects\n        // set top value of each object except top and bottom most objects\n        allObjs.filter(function (obj) {\n            if (obj.id != leftMostObj.id && obj.id != rightMostObj.id) {\n                // prepare property value\n                finalLeftValue = diff + (prevObj.width * prevObj.scaleX) + prevObj.left;\n                params.properties.push({ left: finalLeftValue });\n                params.obj.push(obj);\n                // set current object as prev object\n                // we will assign current object's top value based on\n                // prev object's top and height values\n                prevObj = obj;\n                prevObj.left = finalLeftValue;\n            }\n        });\n        if (params.obj.length && params.properties.length) {\n            this.rightPanelService.canvasService.objectCRUD(params);\n        }\n    };\n    DistributeVerticalHorizontalAlignmentComponent.prototype.calcTotalWidthOfAllObj = function (allObjs) {\n        // init totalHeight variable\n        var totalWidth = 0;\n        // traverse through selected objects\n        // and calculate total height\n        allObjs.filter(function (obj) {\n            totalWidth += (obj.width * obj.scaleX);\n        });\n        // finally return\n        return totalWidth;\n    };\n    DistributeVerticalHorizontalAlignmentComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\n            selector: '[distribute-vertical-horizontal-alignment]',\n            template: __webpack_require__(/*! ./distribute-vertical-horizontal-alignment.component.html */ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.html\"),\n            styles: [__webpack_require__(/*! ./distribute-vertical-horizontal-alignment.component.scss */ \"./src/app/premium/components/distribute-vertical-horizontal-alignment/distribute-vertical-horizontal-alignment.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_1__[\"PubSubService\"],\n            src_app_essentials_components_right_panel_right_panel_service__WEBPACK_IMPORTED_MODULE_4__[\"RightPanelService\"],\n            src_app_services_update_object_service__WEBPACK_IMPORTED_MODULE_5__[\"UpdateObjectService\"]])\n    ], DistributeVerticalHorizontalAlignmentComponent);\n    return DistributeVerticalHorizontalAlignmentComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/drag-drop/drag-drop.component.html\":\n/*!***********************************************************************!*\\\n  !*** ./src/app/premium/components/drag-drop/drag-drop.component.html ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/drag-drop/drag-drop.component.scss\":\n/*!***********************************************************************!*\\\n  !*** ./src/app/premium/components/drag-drop/drag-drop.component.scss ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9kcmFnLWRyb3AvZHJhZy1kcm9wLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/drag-drop/drag-drop.component.ts\":\n/*!*********************************************************************!*\\\n  !*** ./src/app/premium/components/drag-drop/drag-drop.component.ts ***!\n  \\*********************************************************************/\n/*! exports provided: DragDropComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DragDropComponent\", function() { return DragDropComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/add-image.service */ \"./src/app/services/add-image.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n\n\n\n\n\n\nvar DragDropComponent = /** @class */ (function () {\n    function DragDropComponent(canvasService, mainService, addImageService, pubsub) {\n        this.canvasService = canvasService;\n        this.mainService = mainService;\n        this.addImageService = addImageService;\n        this.pubsub = pubsub;\n    }\n    DragDropComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.pubsub.$sub('fileUploaded', function () {\n            var self = _this;\n            setTimeout(function () {\n                self.initDrag();\n            });\n        });\n        this.pubsub.$sub('allcanvasCreated', function () {\n            var self = _this;\n            setTimeout(function () {\n                self.initDrop();\n            });\n        });\n    };\n    DragDropComponent.prototype.initDrag = function () {\n        var self = this;\n        this.images = document.querySelectorAll('.byidraggable');\n        for (var i = 0; i < this.images.length; i++) {\n            var img = this.images[i];\n            img.addEventListener('dragstart', function (e) {\n                for (var i_1 = 0; i_1 < self.images.length; i_1++) {\n                    var img_1 = self.images[i_1];\n                    img_1.classList.remove('img_dragging');\n                }\n                this.classList.add('img_dragging');\n            });\n            img.addEventListener('dragend', function (e) {\n                for (var i_2 = 0; i_2 < self.images.length; i_2++) {\n                    var img_2 = self.images[i_2];\n                    img_2.classList.remove('img_dragging');\n                }\n            });\n            if (img.getAttribute(\"drop\") == 'true') {\n                self.addDroppedImageToCanvas(self.droppedElement, img);\n                img.setAttribute(\"drop\", null);\n            }\n        }\n    };\n    DragDropComponent.prototype.initDrop = function () {\n        var self = this;\n        window.addEventListener(\"dragenter\", function (e) {\n            var canvasContainers = document.querySelectorAll('.design-container');\n            for (var i = 0; i < canvasContainers.length; i++) {\n                var parentNode = canvasContainers[i].parentElement;\n                if (parentNode.classList.contains('active')) {\n                    canvasContainers[i].classList.add('byi-droppable');\n                    var element = document.createElement(\"div\");\n                    element.className = 'byi-droppable-overlay';\n                    element.innerHTML = '<span class=\"upload-icon\"><svg class=\"icon icon-upload\" viewBox=\"0 0 30 30\"><use xlink:href=\"assets/img/sprite.svg#icon-upload\"></use></svg></span><span>drag it here.</span>';\n                    if (canvasContainers[i] && (!canvasContainers[i].firstElementChild.classList.contains(\"byi-droppable-overlay\"))) {\n                        canvasContainers[i].prepend(element);\n                    }\n                }\n            }\n            var imageUploadContainers = document.querySelector('.byi-tooltip-imageUploadComponent');\n            if (imageUploadContainers) {\n                imageUploadContainers.classList.add('byi-droppable');\n            }\n        }, false);\n        window.addEventListener(\"dragover\", function (e) {\n            e.preventDefault();\n        }, false);\n        window.addEventListener(\"drop\", function (e) {\n            var canvasContainers = document.querySelectorAll('.design-container');\n            for (var i = 0; i < canvasContainers.length; i++) {\n                canvasContainers[i].classList.remove('byi-droppable');\n                if (canvasContainers[i].firstElementChild.classList.contains(\"byi-droppable-overlay\")) {\n                    canvasContainers[i].firstElementChild.remove();\n                }\n            }\n            var imageUploadContainers = document.querySelector('.byi-tooltip-imageUploadComponent');\n            if (imageUploadContainers) {\n                imageUploadContainers.classList.remove('byi-droppable');\n            }\n            if (e.target) {\n                if (e.target.type == \"file\") {\n                    return;\n                }\n                else {\n                    e.preventDefault();\n                }\n            }\n        }, false);\n        window.addEventListener(\"dragleave\", function (e) {\n            var canvasContainers = document.querySelectorAll('.design-container');\n            for (var i = 0; i < canvasContainers.length; i++) {\n                if (e.relatedTarget == canvasContainers[i] || e.relatedTarget == undefined) {\n                    canvasContainers[i].classList.remove('byi-droppable');\n                    if (canvasContainers[i].firstElementChild.classList.contains(\"byi-droppable-overlay\")) {\n                        canvasContainers[i].firstElementChild.remove();\n                    }\n                }\n            }\n            var imageUploadContainers = document.querySelector('.byi-tooltip-imageUploadComponent');\n            if (e.relatedTarget == imageUploadContainers || e.relatedTarget == undefined) {\n                if (imageUploadContainers) {\n                    imageUploadContainers.classList.remove('byi-droppable');\n                }\n            }\n            e.preventDefault();\n        }, false);\n        var canvasContainers = document.querySelectorAll('.design-container');\n        for (var i = 0; i < canvasContainers.length; i++) {\n            var canvasContainer = canvasContainers[i];\n            canvasContainer.addEventListener('dragenter', function (e) {\n                e.target.classList.add('over');\n            }, false);\n            canvasContainer.addEventListener('dragover', function (e) {\n                if (e.preventDefault) {\n                    e.preventDefault();\n                }\n                e.dataTransfer.dropEffect = 'copy';\n                return false;\n            }, false);\n            canvasContainer.addEventListener('dragleave', function (e) {\n                var canvasContainers = document.querySelectorAll('.design-container');\n                for (var i_3 = 0; i_3 < canvasContainers.length; i_3++) {\n                    canvasContainers[i_3].classList.remove('byi-droppable');\n                }\n                var imageUploadContainers = document.querySelector('.byi-tooltip-imageUploadComponent');\n                if (e.relatedTarget == imageUploadContainers) {\n                    if (imageUploadContainers) {\n                        imageUploadContainers.classList.remove('byi-droppable');\n                    }\n                }\n                e.target.classList.remove('over');\n            }, false);\n            canvasContainer.addEventListener('drop', function (e) {\n                var canvasContainers = document.querySelectorAll('.design-container');\n                for (var i_4 = 0; i_4 < canvasContainers.length; i_4++) {\n                    canvasContainers[i_4].classList.remove('byi-droppable');\n                    if (canvasContainers[i_4].firstElementChild.classList.contains(\"byi-droppable-overlay\")) {\n                        canvasContainers[i_4].firstElementChild.remove();\n                    }\n                }\n                var imageUploadContainers = document.querySelector('.byi-tooltip-imageUploadComponent');\n                if (imageUploadContainers) {\n                    imageUploadContainers.classList.remove('byi-droppable');\n                }\n                e.stopPropagation();\n                e.preventDefault();\n                if (e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n                    self.pubsub.$pub('getActiveTabId', 3);\n                    self.pubsub.$pub('introTabActive', 3);\n                    self.droppedElement = e;\n                    self.pubsub.$pub('UploadDropImage', e);\n                    return false;\n                }\n                self.addDroppedImageToCanvas(e, null);\n                return false;\n            }, false);\n        }\n    };\n    DragDropComponent.prototype.addDroppedImageToCanvas = function (e, img) {\n        var canvasID;\n        if (e.currentTarget) {\n            canvasID = e.currentTarget.getAttribute(\"selection_area\");\n        }\n        else {\n            canvasID = e.target.parentElement.parentElement.getAttribute(\"selection_area\");\n        }\n        if (!canvasID)\n            return;\n        var canvas = this.canvasService.containerCanvases[canvasID];\n        if (!img) {\n            img = document.querySelector('img.img_dragging');\n        }\n        if (!img)\n            return;\n        var imgUrl = img.getAttribute('url');\n        if (!img)\n            return;\n        var tab = img.getAttribute('tab');\n        var dragprice = img.getAttribute('dragprice');\n        img.classList.remove('img_dragging');\n        this.pubsub.$pub('changeImageSide', { canvas: canvas });\n        if (tab == 'clipart') {\n            this.pubsub.$pub('addClipartImage', { img: imgUrl, price: dragprice, canvas: canvas });\n        }\n        else if (tab == 'upload') {\n            this.pubsub.$pub('addUploadImage', { img: imgUrl, canvas: canvas });\n        }\n    };\n    DragDropComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[drag-drop]',\n            template: __webpack_require__(/*! ./drag-drop.component.html */ \"./src/app/premium/components/drag-drop/drag-drop.component.html\"),\n            styles: [__webpack_require__(/*! ./drag-drop.component.scss */ \"./src/app/premium/components/drag-drop/drag-drop.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__[\"MainService\"],\n            src_app_services_add_image_service__WEBPACK_IMPORTED_MODULE_4__[\"AddImageService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"]])\n    ], DragDropComponent);\n    return DragDropComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/image-slider/image-slider.component.html\":\n/*!*****************************************************************************!*\\\n  !*** ./src/app/premium/components/image-slider/image-slider.component.html ***!\n  \\*****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div photo-calendar *ngIf=\\\"mainService.loadedProductData && mainService.loadedProductData.designerProductType\\\"></div>\\n<ngu-carousel #myCarousel [inputs]=\\\"carouselConfig\\\" [dataSource]=\\\"canvasImages\\\"  (onMove)=\\\"onmoveFn($event)\\\">\\n\\t<div *nguCarouselDef=\\\"let image;let i = index\\\" class=\\\"item\\\" [ngClass]=\\\"{active: activeSlide == image.image_id}\\\"  (click)=\\\"changeSlide(image.image_id, i)\\\" >\\n\\t\\t<div class=\\\"tile\\\" style=\\\"position: relative;\\\">\\n\\t\\t\\t<img [src]=\\\"image.url\\\" class=\\\"product-thumbnail\\\" title=\\\"{{image.image_title}}\\\">\\n\\t\\t\\t<ng-container *ngFor=\\\"let item of image.dim;let j = index\\\">\\n\\t\\t\\t\\t<img *ngIf=\\\"image.dataurl && image.dataurl[item.designareaId]\\\" [src]=\\\"image.dataurl[item.designareaId]\\\" [attr.data-designarea]=\\\"item.designareaId\\\" class=\\\"dataurl\\\" [ngStyle]=\\\"{'position': 'absolute','left' : image.positionleft[item.designareaId],'top' : image.positiontop[item.designareaId]}\\\">\\n\\t\\t\\t</ng-container>\\n\\t\\t</div>\\n\\t</div>\\n\\t<button *ngIf=\\\"enableNext\\\"  NguCarouselPrev class=\\\"byi__arrow byi__arrow--right\\\">&gt;</button>\\n\\t<button *ngIf=\\\"enablePrev\\\" NguCarouselNext class=\\\"byi__arrow byi__arrow--left\\\">&lt;</button>\\n</ngu-carousel>\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/image-slider/image-slider.component.scss\":\n/*!*****************************************************************************!*\\\n  !*** ./src/app/premium/components/image-slider/image-slider.component.scss ***!\n  \\*****************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9pbWFnZS1zbGlkZXIvaW1hZ2Utc2xpZGVyLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/image-slider/image-slider.component.ts\":\n/*!***************************************************************************!*\\\n  !*** ./src/app/premium/components/image-slider/image-slider.component.ts ***!\n  \\***************************************************************************/\n/*! exports provided: ImageSliderComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageSliderComponent\", function() { return ImageSliderComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _ngu_carousel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngu/carousel */ \"./node_modules/@ngu/carousel/fesm5/ngu-carousel.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n\n\n\n\n\n\nvar ImageSliderComponent = /** @class */ (function () {\n    function ImageSliderComponent(cdr, eventService, canvasService, mainService) {\n        this.cdr = cdr;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.mainService = mainService;\n        this.enableNext = 0;\n        this.enablePrev = 1;\n        this.changeSlider = new _angular_core__WEBPACK_IMPORTED_MODULE_1__[\"EventEmitter\"]();\n        this.subscribeEvents();\n        this.initCarousel();\n    }\n    ImageSliderComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        var self = this;\n        this.eventService.$sub('objectAdded', function (obj) {\n            self.reflectThumbnails(obj);\n        });\n        this.eventService.$sub('objectRemoved', function (obj) {\n            self.reflectThumbnails(obj);\n        });\n        this.eventService.$sub('objectUpdated', function (obj) {\n            self.reflectThumbnails(obj);\n        });\n        this.eventService.$sub('canvasObjectModified', function (obj) {\n            self.reflectThumbnails(obj);\n        });\n        this.eventService.$sub('backgroundPatternsApplied', function (obj) {\n            self.reflectThumbnails(obj);\n        });\n        this.eventService.$sub('canvasBackgroundChange', function (obj) {\n            self.reflectThumbnails(obj);\n        });\n        this.eventService.$sub('changeSlider', function (data) {\n            self.canvasImages = data.canvasImages;\n            self.changeSlide(data.image_id, data.slide);\n        });\n        this.eventService.$sub('windowResize', function () {\n            _this.initCarousel();\n        });\n    };\n    ImageSliderComponent.prototype.reflectThumbnails = function (object) {\n        var obj = object && object.length > 0 ? object[0] : object;\n        if (obj && obj.imageDesignId) {\n            var imageId = obj.imageDesignId.split(\"&\");\n            var canvas = this.canvasService.containerCanvases[obj.imageDesignId];\n            this.previewThumbnail(canvas, imageId);\n        }\n        else {\n            var canvas = this.canvasService.currentCanvas;\n            var canvasimageid = '@' + canvas.image_id + '&' + canvas.designarea_id;\n            var imageId = canvasimageid.split(\"&\");\n            this.previewThumbnail(canvas, imageId);\n        }\n    };\n    ImageSliderComponent.prototype.previewThumbnail = function (canvas, imageId) {\n        // get canvas containar height and width\n        var element = document.querySelector(\".product-designer-main-content.active\");\n        var offsetHeight = element.offsetHeight;\n        var offsetWidth = element.offsetWidth;\n        var imageElement = document.querySelector(\".ngucarousel-items .item.active .product-thumbnail\");\n        var imageHeight = imageElement.clientHeight;\n        var imageWidth = imageElement.clientWidth;\n        var marginTop = canvas.dim.y1 / this.canvasService.scaleFactor;\n        var marginLeft = canvas.dim.x1 / this.canvasService.scaleFactor;\n        var smallImgMarginTop = ((marginTop * imageHeight) / offsetHeight);\n        var smallImgMarginLeft = !this.canvasService.isResponsive ? ((marginLeft * imageWidth) / offsetWidth) : 0;\n        var multiply_width = imageWidth;\n        var multiplier_value = multiply_width * canvas.width / offsetWidth;\n        var dataurl = canvas.toDataURL({\n            format: \"png\",\n            multiplier: multiplier_value / canvas.width,\n            quality: 1.0\n        });\n        var image = this.canvasService.allImages.filter(function (data) { return '@' + data.image_id == imageId[0]; });\n        if (image.length > 0) {\n            // image[0].dataurl = dataurl;\n            var dataurlArr = (image[0].hasOwnProperty('dataurl') && image[0].dataurl) ? image[0].dataurl : [];\n            dataurlArr[imageId[1]] = dataurl;\n            var positionArr = (image[0].hasOwnProperty('dataurl') && image[0].positionleft) ? image[0].positionleft : [];\n            positionArr[imageId[1]] = smallImgMarginLeft + 'px';\n            var marginArr = (image[0].hasOwnProperty('dataurl') && image[0].positiontop) ? image[0].positiontop : [];\n            marginArr[imageId[1]] = smallImgMarginTop + 'px';\n            image[0] = Object.assign(image[0], { dataurl: dataurlArr, positionleft: positionArr, positiontop: marginArr });\n        }\n    };\n    ImageSliderComponent.prototype.ngAfterViewInit = function () {\n        this.cdr.detectChanges();\n    };\n    ImageSliderComponent.prototype.changeSlide = function (image_id, slide) {\n        this.activeSlide = image_id;\n        var data = {\n            image_id: image_id,\n            slide: slide,\n        };\n        this.changeSlider.emit(data);\n    };\n    ImageSliderComponent.prototype.onmoveFn = function ($event) {\n        if ($event.isFirst) {\n            this.enablePrev = 1;\n            this.enableNext = 0;\n        }\n        else if ($event.isLast) {\n            this.enableNext = 1;\n            this.enablePrev = 0;\n        }\n        else {\n            this.enablePrev = 1;\n            this.enableNext = 1;\n        }\n    };\n    ImageSliderComponent.prototype.initCarousel = function () {\n        if (this.mainService.isResponsive) {\n            this.carouselConfig = {\n                grid: { xs: 2, sm: 2, md: 2, lg: 2, all: 0 },\n                load: 1,\n                interval: { timing: 4000, initialDelay: 1000 },\n                loop: false,\n                touch: false,\n                velocity: 0.2\n            };\n        }\n        else {\n            this.carouselConfig = {\n                grid: { xs: 2, sm: 2, md: 2, lg: 2, all: 0 },\n                load: 1,\n                interval: { timing: 4000, initialDelay: 1000 },\n                loop: false,\n                vertical: { enabled: true, height: 173 },\n                touch: false,\n                velocity: 0.2\n            };\n        }\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ImageSliderComponent.prototype, \"canvasImages\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ImageSliderComponent.prototype, \"activeSlide\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Output\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], ImageSliderComponent.prototype, \"changeSlider\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('myCarousel'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", _ngu_carousel__WEBPACK_IMPORTED_MODULE_2__[\"NguCarousel\"])\n    ], ImageSliderComponent.prototype, \"myCarousel\", void 0);\n    ImageSliderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[image-slider]',\n            template: __webpack_require__(/*! ./image-slider.component.html */ \"./src/app/premium/components/image-slider/image-slider.component.html\"),\n            styles: [__webpack_require__(/*! ./image-slider.component.scss */ \"./src/app/premium/components/image-slider/image-slider.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ChangeDetectorRef\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"], src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_5__[\"MainService\"]])\n    ], ImageSliderComponent);\n    return ImageSliderComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/name-number/name-number.component.html\":\n/*!***************************************************************************!*\\\n  !*** ./src/app/premium/components/name-number/name-number.component.html ***!\n  \\***************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div loader #loaderComponent></div>\\n<common-tabs [subTabsData]=\\\"subTabsData\\\" [activeAccordion]=\\\"accordianId\\\" *ngIf=\\\"!loadContent\\\"></common-tabs>\\n<div loader #subtabLoader></div>\\n\\n<div class=\\\"byi-accord-content\\\" *ngIf=\\\"loadContent == true\\\">\\n   <div class=\\\"byi-namenumber-top\\\">\\n      <ul>\\n         <li>\\n            <label class=\\\"byi-checkbox\\\">\\n               <input id=\\\"add_names\\\" type=\\\"checkbox\\\" (change)=\\\"nameChecked()\\\" [(ngModel)]=\\\"nameNumberService.addName\\\">\\n               {{'Add Names' | translate}}\\n               <span></span>\\n            </label>\\n            <div class=\\\"byi-dropdown\\\">\\n               <div class=\\\"btn-group\\\" dropdown>\\n                  <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n                     {{nameNumberService.selectedNameTitle?.imageTitle}}<span class=\\\"caret\\\"></span>\\n                  </button>\\n                  <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n                     <li role=\\\"menuitem\\\" *ngFor=\\\"let title of imageSideTitle\\\" (click)=\\\"changeNameSideTitle(title)\\\">\\n                        <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n                           {{title?.imageTitle}}</a>\\n                     </li>\\n                  </ul>\\n               </div>\\n            </div>\\n         </li>\\n         <li>\\n            <label class=\\\"byi-checkbox\\\">\\n               <input id=\\\"add_numbers\\\" type=\\\"checkbox\\\" (change)=\\\"numberChecked()\\\"\\n                  [(ngModel)]=\\\"nameNumberService.addNumber\\\">\\n               {{'Add Numbers' | translate}}\\n               <span></span>\\n            </label>\\n            <div class=\\\"byi-dropdown\\\">\\n               <div class=\\\"btn-group\\\" dropdown>\\n                  <button dropdownToggle type=\\\"button\\\" class=\\\"btn btn-primary dropdown-toggle\\\">\\n                     {{nameNumberService.selectedNumberTitle?.imageTitle}}<span class=\\\"caret\\\"></span>\\n                  </button>\\n                  <ul *dropdownMenu class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n                     <li role=\\\"menuitem\\\" *ngFor=\\\"let title of imageSideTitle\\\" (click)=\\\"changeNumberSideTitle(title)\\\">\\n                        <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n                           {{title?.imageTitle}}</a>\\n                     </li>\\n                  </ul>\\n               </div>\\n            </div>\\n         </li>\\n      </ul>\\n   </div>\\n   <div class=\\\"byi-namenumber-wrap\\\" [class.item-available]=\\\"nameNumberService.rowArray.length > 0\\\"\\n      *ngIf=\\\"nameNumberService.addName || nameNumberService.addNumber\\\">\\n      <div class=\\\"byi-namenumber-list\\\">\\n         <div class=\\\"byi-namenumber-item\\\" *ngFor=\\\"let row of nameNumberService.rowArray; let i = index\\\">\\n            <div class=\\\"byi-field-name\\\" [class.byi-mob-text]=\\\"mainService.isResponsive\\\">\\n               <input class=\\\"byi-input noDeleteObject\\\" name=\\\"nameText\\\" type=\\\"text\\\"\\n                  [(ngModel)]=\\\"nameNumberService.newRow[i].name\\\" [disabled]=\\\"!nameNumberService.addName\\\"\\n                  (input)=\\\"changeText(i, 'name')\\\" (focus)=\\\"changeObject(i,'name', $event.target.value)\\\">\\n            </div>\\n            <div class=\\\"byi-field-number\\\" [class.byi-mob-text]=\\\"mainService.isResponsive\\\">\\n               <input class=\\\"byi-input noDeleteObject\\\" name=\\\"numberText\\\" type=\\\"text\\\"\\n                  [(ngModel)]=\\\"nameNumberService.newRow[i].number\\\" [disabled]=\\\"!nameNumberService.addNumber\\\"\\n                  (keypress)=\\\"confProductService.keyPress($event)\\\" (input)=\\\"changeText(i, 'number')\\\"\\n                  (focus)=\\\"changeObject(i,'number', $event.target.value)\\\">\\n            </div>\\n            <button class=\\\"byi-add-btn\\\" *ngIf=\\\"mainService.isResponsive && ((nameNumberService.newRow[i].name && nameNumberService.newRow[i].name.length > 0)\\n             || (nameNumberService.newRow[i].number && nameNumberService.newRow[i].number.length > 0))\\\"\\n               (click)=\\\"showChild()\\\"></button>\\n            <button class=\\\"byi-close-btn\\\" (click)=\\\"removeRow(i)\\\">\\n               <span></span>\\n            </button>\\n         </div>\\n      </div>\\n      <button *ngIf=\\\"nameNumberService.newRow.length < 25\\\" class=\\\"btn-add-more\\\"\\n         (click)=\\\"addRow(null, null, null, null, true)\\\">\\n         <span class=\\\"icon icon-plus\\\"></span>\\n         <span>{{'Add More' | translate}}</span>\\n      </button>\\n   </div>\\n</div>\\n<div class=\\\"generate-image-block\\\" *ngIf=\\\"loadContent == 'adminNameNumber' && mainService.nameNumber\\\">\\n   <button class=\\\"generate-image-btn\\\" (click)=\\\"generateNameNumberImages()\\\">Generate Image</button>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/name-number/name-number.component.scss\":\n/*!***************************************************************************!*\\\n  !*** ./src/app/premium/components/name-number/name-number.component.scss ***!\n  \\***************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9uYW1lLW51bWJlci9uYW1lLW51bWJlci5jb21wb25lbnQuc2NzcyJ9 */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/name-number/name-number.component.ts\":\n/*!*************************************************************************!*\\\n  !*** ./src/app/premium/components/name-number/name-number.component.ts ***!\n  \\*************************************************************************/\n/*! exports provided: NameNumberComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NameNumberComponent\", function() { return NameNumberComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_essentials_components_conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/conf-product-attr/conf-product-attr.service */ \"./src/app/essentials/components/conf-product-attr/conf-product-attr.service.ts\");\n/* harmony import */ var src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/essentials/components/price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/essentials/components/loader/loader.component */ \"./src/app/essentials/components/loader/loader.component.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_essentials_components_font_font_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/essentials/components/font/font.service */ \"./src/app/essentials/components/font/font.service.ts\");\n/* harmony import */ var _name_number_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./name-number.service */ \"./src/app/premium/components/name-number/name-number.service.ts\");\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\nvar NameNumberComponent = /** @class */ (function () {\n    /**\n     * Dependancy Injector\n     *\n     * @param mainService\n     * @param eventService\n     * @param cdr\n     * @param canvasService\n     * @param fontService\n     */\n    function NameNumberComponent(mainService, eventService, cdr, canvasService, fontService, nameNumberService, priceService, designService, confProductService, tabsService) {\n        var _this = this;\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.cdr = cdr;\n        this.canvasService = canvasService;\n        this.fontService = fontService;\n        this.nameNumberService = nameNumberService;\n        this.priceService = priceService;\n        this.designService = designService;\n        this.confProductService = confProductService;\n        this.tabsService = tabsService;\n        this.currentTab = 6;\n        this.accordianId = 0;\n        this.imageSideTitle = [];\n        this.nameText = 'Example';\n        this.numberText = '00';\n        this.isFocus = false;\n        this.dimensionData = [];\n        this.nameProperties = [];\n        this.numberProperties = [];\n        // store canvas of respective object  \n        this.propertiesToCopy = [];\n        this.showAllNameNumber = false;\n        // removed object stack\n        this.removedObjects = [];\n        this.eventService.$sub('getSubTabs', function (mainTabId) {\n            if (mainTabId == _this.currentTab && !_this.subTabsData) {\n                _this.getSubTabs(mainTabId);\n            }\n            _this.getCurrentTabName = _this.mainService.getAllTabs[_this.currentTab]['label'];\n        });\n    }\n    /**\n     * Angular Init Function\n     */\n    NameNumberComponent.prototype.ngOnInit = function () {\n        if (this.canvasService.objProperties.indexOf('addObj') == -1)\n            this.canvasService.objProperties.push(\"addObj\");\n        if (this.canvasService.objProperties.indexOf('nameNumberId') == -1)\n            this.canvasService.objProperties.push(\"nameNumberId\");\n        this.getImageTitle();\n        this.getColors();\n        this.preparePropertiesToCopy();\n        this.defaultFontFamily = this.fontService.defaultFontFamily;\n        this.defaultFontSize = this.fontService.defaultFontSize;\n        this.nameProperties = {};\n        this.numberProperties = {};\n        this.subscribeEvents();\n    };\n    NameNumberComponent.prototype.ngAfterViewInit = function () {\n        var _this = this;\n        if (this.loadContent == 'adminNameNumber' && !this.mainService.isGenerateSVGDesign) {\n            this.eventService.$sub('designLoaded', function (data) {\n                var params = _this.mainService.getUrlParams(['id', 'design', 'name', 'number', 'order', 'index']);\n                _this.orderId = params['order'];\n                _this.nameNumberIndex = params['index'];\n                var name = '';\n                var number = '';\n                if (params['name']) {\n                    name = atob(params['name']);\n                }\n                if (params['number']) {\n                    number = atob(params['number']);\n                }\n                _this.name = name;\n                _this.number = number;\n                for (var _i = 0, _a = Object.keys(_this.canvasService.containerCanvases); _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    var canvas = _this.canvasService.containerCanvases[key];\n                    var obj = void 0, canvasObjects = _this.canvasService.getObjects(canvas);\n                    for (var _b = 0, canvasObjects_1 = canvasObjects; _b < canvasObjects_1.length; _b++) {\n                        obj = canvasObjects_1[_b];\n                        if (obj.addObj == 'name') {\n                            obj.text = name;\n                        }\n                        if (obj.addObj == 'number') {\n                            obj.text = number;\n                        }\n                        var properties = { selectable: false };\n                        _this.canvasService.deselectAllObjects();\n                        if (obj) {\n                            var params_1 = {\n                                obj: obj,\n                                properties: properties,\n                                crudServiceString: 'this.updateObjectService',\n                                canvas: canvas\n                            };\n                            _this.canvasService.objectCRUD(params_1);\n                        }\n                    }\n                }\n                var designArea = document.getElementsByClassName('design-container');\n                for (var i = 0; i < designArea.length; i++) {\n                    designArea[i].children[1].innerHTML = '<style></style>';\n                }\n            });\n        }\n        // initially each name number will be set in current canvas only\n        // so we will be setting current canvas flag to name number canvas \n        if (this.canvasService.currentCanvas && this.mainService.designId) {\n            this.nameNumberService.nameNumberCanvas.name = this.canvasService.currentCanvas;\n            this.nameNumberService.nameNumberCanvas.number = this.canvasService.currentCanvas;\n        }\n    };\n    NameNumberComponent.prototype.ngAfterViewChecked = function () {\n        var self = this;\n        if (self.mainService.nameNumber) {\n            var designArea = document.getElementsByClassName('design-container');\n            for (var i = 0; i < designArea.length; i++) {\n                designArea[i].children[1].innerHTML = '<style></style>';\n            }\n        }\n    };\n    /**\n     * Get Sub Tabs\n     * @param mainTabId\n     */\n    NameNumberComponent.prototype.getSubTabs = function (mainTabId) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var data;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                data = this.mainService.tabsFlow[mainTabId];\n                this.subTabsData = this.mainService.setSubTabsData(data, mainTabId);\n                if (this.subTabsData && this.subTabsData.length > 0) {\n                    this.accordianId = this.subTabsData[0].id;\n                }\n                if (this.loaderComponent && this.loaderComponent.showSubLoader)\n                    this.loaderComponent.showSubLoader = false;\n                return [2 /*return*/];\n            });\n        });\n    };\n    NameNumberComponent.prototype.preparePropertiesToCopy = function () {\n        this.propertiesToCopy = ['addObj', 'tab', 'top', 'left', 'fill', 'fontFamily', 'fontSize', 'fontStyle', 'underline', 'fontWeight', 'textAlign', 'opacity', 'shadow', 'skewX', 'skewY', 'stroke', 'strokeWidth', 'originX', 'originY'];\n    };\n    /**\n     * Set Default Color\n     */\n    NameNumberComponent.prototype.getColors = function () {\n        var _this = this;\n        if (!this.defaultColor) {\n            this.defaultColor = this.mainService.colorData.defaultColor;\n        }\n        this.eventService.$sub('getColors').subscribe(function (colorData) {\n            _this.defaultColor = colorData.defaultColor;\n        }, function (err) { return console.log(err); });\n    };\n    /**\n     * Prepare data object after product is been loaded successfully\n     * then pass the same to prepare image title object\n     */\n    NameNumberComponent.prototype.getImageTitle = function () {\n        var data = this.mainService.loadedProductData;\n        if (data && Object.keys(data).length) {\n            this.setImageTitle(data);\n        }\n    };\n    /**\n     *\n     */\n    NameNumberComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        // when object is removed\n        // check if it was last object of respective type\n        // if it was, uncheck the same    \n        this.eventService.$sub('objectRemoved', function (obj) {\n            // obj = (Array.isArray(obj)) ? obj[0] : obj;\n            if (typeof obj == \"object\" && obj.hasOwnProperty('addObj')) {\n                _this.checkNameNumberAfterRemove(obj);\n            }\n            else if (Array.isArray(obj)) {\n                obj.filter(function (o) {\n                    if (o.hasOwnProperty('addObj')) {\n                        _this.checkNameNumberAfterRemove(o);\n                    }\n                });\n            }\n        });\n        // when name number object is update\n        // store new properties in global variable\n        this.eventService.$sub('objectUpdated', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.setLeftTop(obj);\n        });\n        // when name/number object is added\n        // open name number tab\n        this.eventService.$sub('objectAdded', function (obj) {\n            if (obj.tab == 'namenumber' && _this.loadContent) {\n                _this.checkForValues(obj);\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\n            }\n        });\n        // when name/number object is selected\n        // open name number tab\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            if (obj.tab == 'namenumber') {\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\n            }\n        });\n        // when name/number object is selected\n        // open name number tab\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            if (obj.tab == 'namenumber') {\n                _this.eventService.$pub('getActiveTabId', _this.currentTab);\n            }\n        });\n        // when name number will be first tab\n        // we won't be getting image title from mainService\n        // so we need to subscribe load product to set image title\n        this.eventService.$sub('allcanvasCreated', function (data) {\n            _this.getImageTitle();\n        });\n        // when user changes the product from product options\n        // we will assign new canvases to respective name/number canvas object\n        this.eventService.$sub('canvasCreated', function (newCanvas) {\n            if (_this.nameNumberService.addName) {\n                var newCanvasObjs = newCanvas.getObjects(), isNameExists = newCanvasObjs.indexOf(newCanvasObjs.find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == 'name'); }));\n                if (isNameExists >= 0)\n                    _this.nameNumberService.nameNumberCanvas.name = newCanvas;\n            }\n            if (_this.nameNumberService.addNumber) {\n                var newCanvasObjs = newCanvas.getObjects(), isNumberExists = newCanvasObjs.indexOf(newCanvasObjs.find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == 'number'); }));\n                if (isNumberExists >= 0)\n                    _this.nameNumberService.nameNumberCanvas.number = newCanvas;\n            }\n        });\n        // \n        if (this.loadContent) {\n            this.eventService.$sub('designLoaded', function (designData) {\n                var nameNumberData = JSON.parse(designData.name_number_details);\n                if (nameNumberData) {\n                    _this.nameNumberService.loadNameNumber(nameNumberData);\n                }\n            });\n            this.eventService.$sub('saveDesignBefore', function () {\n                var data = {\n                    nameNumber: _this.nameNumberService.newRow\n                };\n                _this.designService.additionalOptions = Object.assign({}, data);\n            });\n            // this.eventService.$sub('undoComplete', (obj) => {\n            //   this.checkForValues(obj);\n            // });\n        }\n    };\n    /**\n     * After user changes top/left of name/number\n     * we will be updating the same in our name/number global properties variable\n     *\n     * @param obj\n     */\n    NameNumberComponent.prototype.setLeftTop = function (obj) {\n        var _this = this;\n        if (obj.hasOwnProperty('addObj')) {\n            // set name properties\n            if (obj.addObj == 'name') {\n                this.nameProperties = {};\n                this.propertiesToCopy.filter(function (propertyType) {\n                    if (obj.hasOwnProperty(propertyType) && obj[propertyType]) {\n                        _this.nameProperties[propertyType] = obj[propertyType];\n                    }\n                });\n            }\n            // set number properties\n            else if (obj.addObj == 'number') {\n                this.numberProperties = {};\n                this.propertiesToCopy.filter(function (propertyType) {\n                    if (obj.hasOwnProperty(propertyType) && obj[propertyType]) {\n                        _this.numberProperties[propertyType] = obj[propertyType];\n                    }\n                });\n            }\n        }\n    };\n    /**\n     *\n     * @param obj\n     */\n    NameNumberComponent.prototype.checkForValues = function (obj) {\n        // variable declarations\n        var isObjExists, type = obj.addObj;\n        // check if name number row already exists\n        // during undo/redo, if name/number was already been added to object\n        // we will just update text of specified object\n        isObjExists = this.nameNumberService.newRow.find(function (newRowObj) { return newRowObj.id == obj.nameNumberId; });\n        // if obj is of type name, check Add names\n        if (obj.addObj == 'name') {\n            this.nameNumberService.addName = true;\n        }\n        // if obj is of type number, check Add Numbers\n        else if (obj.addObj == 'number') {\n            this.nameNumberService.addNumber = true;\n        }\n        // if object is not already present,\n        // add new row first\n        if (!isObjExists) {\n            this.addRow(type, null, null, false);\n            // replace isObjExists with latest row\n            isObjExists = this.nameNumberService.newRow[this.nameNumberService.newRow.length - 1];\n        }\n        // find index of existing object\n        var index = this.nameNumberService.newRow.indexOf(isObjExists);\n        // replce text\n        isObjExists[type] = obj.text;\n        // finally replace that row\n        this.nameNumberService.newRow[index] = isObjExists;\n        // set properties\n        this.setLeftTop(obj);\n    };\n    /**\n     *\n     * @param data\n     */\n    NameNumberComponent.prototype.setImageTitle = function (data) {\n        this.dimensionData = Object.assign({}, data);\n        this.imageSideTitle = [];\n        for (var _i = 0, _a = data['dimensions']; _i < _a.length; _i++) {\n            var key = _a[_i];\n            this.imageSideTitle.push({ imageTitle: key['image_title'], imageId: key['image_id'] });\n            if (!this.mainService.designId) {\n                if (this.nameNumberService.selectedNameTitle && this.nameNumberService.selectedNameTitle.hasOwnProperty('imageTitle') && this.nameNumberService.selectedNameTitle.imageTitle == key['image_title']) {\n                    this.nameNumberService.selectedNameTitle = { imageTitle: key['image_title'], imageId: key['image_id'] };\n                }\n                if (this.nameNumberService.selectedNumberTitle && this.nameNumberService.selectedNumberTitle.hasOwnProperty('imageTitle') && this.nameNumberService.selectedNumberTitle.imageTitle == key['image_title']) {\n                    this.nameNumberService.selectedNumberTitle = { imageTitle: key['image_title'], imageId: key['image_id'] };\n                }\n            }\n        }\n        if (!this.mainService.designId) {\n            if (!this.nameNumberService.selectedNameTitle || Object.keys(this.nameNumberService.selectedNameTitle).length == 0) {\n                this.nameNumberService.selectedNameTitle = this.imageSideTitle[0];\n            }\n            if (!this.nameNumberService.selectedNumberTitle || Object.keys(this.nameNumberService.selectedNumberTitle).length == 0) {\n                this.nameNumberService.selectedNumberTitle = this.imageSideTitle[0];\n            }\n        }\n    };\n    /**\n     * When user changes side for add names from dropdown\n     *\n     * @param title\n     */\n    NameNumberComponent.prototype.changeNameSideTitle = function (title) {\n        // if selected and current image side is same\n        // return\n        if (this.nameNumberService.selectedNameTitle == title)\n            return;\n        // if not, set selected image side to current side\n        this.nameNumberService.selectedNameTitle = title;\n        // if name is checked\n        if (this.nameNumberService.addName) {\n            // as we need to remove name from current canvas\n            // we will store last row to local variable\n            // this row will be fetch & stored in newRow variable\n            // this is neccessary because when only one row is present\n            // by default it will deselect name number after remove process\n            // get current last index\n            var lastIndex = this.nameNumberService.newRow.length - 1;\n            // get last row\n            var lastRow = this.nameNumberService.newRow.slice(lastIndex);\n            lastRow = lastRow[0];\n            // remove name object from current canvas\n            this.removeObjOnChangeSide('name');\n            // immediately render the same in html\n            this.cdr.detectChanges();\n            // in case of single row\n            // when row is removed by default name will be unchecked as per our flow\n            // we manually need to check the same and add previous data to newRow object\n            if (!this.nameNumberService.addName) {\n                // check Add Names Checkbox\n                this.nameNumberService.addName = true;\n                // we have already created function which will be handling insertion of \n                // new row in variable as well as in canvas\n                // here we will be passign store name as argument\n                // because by default we are assigning 'Example' as name\n                this.nameChecked(lastRow.name);\n            }\n            // if it was more than one row\n            else {\n                // change the side first\n                this.checkSide('name', false);\n                // add last row manually to canvas\n                this.addNameNumberText(lastRow.name, this.nameProperties, 'name');\n                // get index after remove process\n                var indexAfterRemove = this.nameNumberService.newRow.length - 1;\n                // if last row is not present\n                // add manually\n                // this instance does not occur everytime so we need to check if last row is not present\n                // then only add the same\n                if (lastIndex != indexAfterRemove) {\n                    // add last row to newRow variable\n                    if (!this.nameNumberService.newRow[lastIndex])\n                        this.nameNumberService.newRow[lastIndex] = {};\n                    this.nameNumberService.newRow[lastIndex] = Object.assign(this.nameNumberService.newRow[lastIndex], lastRow);\n                    this.nameNumberService.rowArray.push(this.nameNumberService.newRow);\n                }\n            }\n        }\n    };\n    /**\n     * When user changes side for add names from dropdown\n     *\n     * @param title\n     */\n    NameNumberComponent.prototype.changeNumberSideTitle = function (title) {\n        // if selected and current image side is same\n        // return\n        if (this.nameNumberService.selectedNumberTitle == title)\n            return;\n        // if not, set selected image side to current side\n        this.nameNumberService.selectedNumberTitle = title;\n        // if number is checked\n        if (this.nameNumberService.addNumber) {\n            // as we need to remove number from current canvas\n            // we will store last row to local variable\n            // this row will be fetch & stored in newRow variable\n            // this is neccessary because when only one row is present\n            // by default it will deselect name number after remove process\n            // get current last index\n            var lastIndex = this.nameNumberService.newRow.length - 1;\n            // get last row\n            var lastRow = this.nameNumberService.newRow.slice(lastIndex);\n            lastRow = lastRow[0];\n            // remove number object from current canvas\n            this.removeObjOnChangeSide('number');\n            // immediately render the same in html\n            this.cdr.detectChanges();\n            // in case of single row\n            // when row is removed by default number will be unchecked as per our flow\n            // we manually need to check the same and add previous data to newRow object\n            if (!this.nameNumberService.addNumber) {\n                // check Add Names Checkbox\n                this.nameNumberService.addNumber = true;\n                // we have already created function which will be handling insertion of \n                // new row in variable as well as in canvas\n                // here we will be passign store number as argument\n                // because by default we are assigning 'Example' as name\n                this.numberChecked(lastRow.number);\n            }\n            // if it was more than one row\n            else {\n                // change the side first\n                this.checkSide('number', false);\n                // add last row manually to canvas\n                this.addNameNumberText(lastRow.number, this.numberProperties, 'number');\n                // get index after remove process\n                var indexAfterRemove = this.nameNumberService.newRow.length - 1;\n                // if last row is not present\n                // add manually\n                // this instance does not occur everytime so we need to check if last row is not present\n                // then only add the same\n                if (lastIndex != indexAfterRemove) {\n                    // add last row to newRow variable\n                    if (!this.nameNumberService.newRow[lastIndex])\n                        this.nameNumberService.newRow[lastIndex] = {};\n                    this.nameNumberService.newRow[lastIndex] = Object.assign(this.nameNumberService.newRow[lastIndex], lastRow);\n                    this.nameNumberService.rowArray.push(this.nameNumberService.newRow);\n                }\n            }\n        }\n    };\n    /**\n     * On init and when user clicks on add row\n     *\n     * @param type type of object(name/number)\n     * @param newName if new name is supposed to be added instead of 'Example'\n     * @param newNumber if new number is supposed to be added instead of '00'\n     */\n    NameNumberComponent.prototype.addRow = function (type, newName, newNumber, checkForSide, displayFullView) {\n        if (type === void 0) { type = null; }\n        if (newName === void 0) { newName = null; }\n        if (newNumber === void 0) { newNumber = null; }\n        if (checkForSide === void 0) { checkForSide = true; }\n        if (displayFullView === void 0) { displayFullView = false; }\n        if (displayFullView == true) {\n            this.showAddNameNumber(true);\n        }\n        // append array for ngFor\n        this.nameNumberService.rowArray.push(this.nameNumberService.newRow);\n        // generate new name/number row with specified/default data\n        this.nameNumberService.newRow.push({\n            name: (newName != null) ? newName : this.nameText,\n            number: (newNumber != null) ? newNumber : this.numberText,\n            id: this.nameNumberService.rowArray.length\n        });\n        // add price\n        if (this.nameNumberService.newRow.length > 1) {\n            this.priceService.totalQty++;\n            this.priceService.extraPriceToBeAdded.productPrice += this.priceService.defaultPrice;\n            this.priceService.addThisPrice();\n        }\n        // if no need to check for side\n        // in case where name/number is added for the first time\n        if (checkForSide == false)\n            return;\n        // if type is specified\n        if (type != null) {\n            // this function is called from different function\n            // for different purposes\n            // if type is set as addName/addNumber\n            // change type for the same\n            type = (type == 'addName') ? 'name' : 'number';\n            // after setting type, check for side\n            this.checkSide(type);\n            // finally update the text for the same\n            // this opearation is required only when user wants to add new row\n            this.changeText(this.nameNumberService.newRow.length - 1, type);\n        }\n        // if type is not specified\n        else {\n            // if name is checked\n            if (this.nameNumberService.addName) {\n                this.checkSide('name');\n                this.changeText(this.nameNumberService.newRow.length - 1, 'name');\n            }\n            // if number is checked\n            if (this.nameNumberService.addNumber) {\n                this.checkSide('number');\n                this.changeText(this.nameNumberService.newRow.length - 1, 'number');\n            }\n        }\n    };\n    /**\n     * This function is triggered many times\n     * each time before adding name/number to canvas\n     * we will be checking if image side is the correct\n     *\n     * i. on first time, we need to check for image side\n     * ii. when user is on same side, but on different design area, get design area of prev added name/number\n     * iii. if user is on same side, same design area, don't change the side\n     * iv. if user is on different side, change the side first\n     */\n    NameNumberComponent.prototype.checkSide = function (type, typeCheck) {\n        if (typeCheck === void 0) { typeCheck = null; }\n        // get canvas and index of canvas\n        var canvasData = this.selectedCanvasKey(type, typeCheck);\n        this.nameNumberService.nameNumberCanvas[type] = canvasData.canvas;\n        // if canvas does not match current canvas\n        // change the side\n        if (canvasData.canvas != this.canvasService.currentCanvas) {\n            this.eventService.$pub('changeImageSide', canvasData);\n        }\n    };\n    /**\n     * When user clicks on remove icon\n     * or i. name is checked and name object is deleted\n     * ii. number is checked and number object is deleted\n     * iii. both are checked and both objects are removed\n     *\n     * @param index\n     */\n    NameNumberComponent.prototype.removeRow = function (index, checkForChangeText) {\n        if (checkForChangeText === void 0) { checkForChangeText = true; }\n        // remove row first, for ngFor in html\n        this.nameNumberService.rowArray.splice(index, 1);\n        // store removed row object in local variable\n        // this will be used in recalculation of price\n        // eg. Dhoni/7 has selected Black/m having price 200 and total price is 250, 200 will be deducted\n        var removedObj = this.nameNumberService.newRow.splice(index, 1);\n        // push last removed row into temp obj\n        this.removedObjects = this.removedObjects.concat(removedObj);\n        // if removed object is in array format\n        // get first instance\n        removedObj = (Array.isArray(removedObj)) ? removedObj[0] : removedObj;\n        // if single row was there\n        // disable name/number\n        // and delete the object\n        if (!this.nameNumberService.rowArray.length) {\n            this.nameNumberService.addName = false;\n            this.nameNumberService.addNumber = false;\n            // this.nameProperties = {};\n            this.eventService.$pub('nameNumberDisabled');\n            this.removeNameNumberText(removedObj);\n        }\n        // else publish resetCart event\n        // we need to publish this event in else part\n        // as we are already publishing this in removeNameNumberText function\n        else {\n            this.eventService.$pub('resetCart', removedObj);\n        }\n        // after remove, change text to previous text\n        if (checkForChangeText === true && index > 0) {\n            var newIndex = (index > 0) ? index - 1 : index;\n            newIndex = (newIndex != this.nameNumberService.rowArray.length - 1) ? newIndex + 1 : newIndex;\n            if (this.nameNumberService.addName)\n                this.changeText(newIndex, 'name', true);\n            if (this.nameNumberService.addNumber)\n                this.changeText(newIndex, 'number', true);\n        }\n    };\n    /**\n     * When Add names checkbox is checked for the first time\n     */\n    NameNumberComponent.prototype.nameChecked = function (text) {\n        if (text === void 0) { text = null; }\n        // check for side before insertion\n        // if side is different then current side\n        // change the side first\n        this.checkSide('name', false);\n        // add row on condition\n        // here we will be checking is user has checked or unchecked the checkbox\n        this.addRowOnCondition('addName');\n        // if checked is true\n        if (this.nameNumberService.addName) {\n            if (!this.nameNumberService.addNumber)\n                this.publishNameNumber();\n            // set initial properties\n            if (!this.nameProperties || Object.keys(this.nameProperties).length == 0) {\n                this.nameProperties = {\n                    fill: this.defaultColor.color_code,\n                    fontFamily: this.defaultFontFamily.font_label,\n                    fontSize: this.defaultFontSize,\n                    tab: \"namenumber\",\n                    addObj: \"name\",\n                    originX: 'center',\n                    originY: 'center'\n                };\n            }\n            this.nameProperties.top = this.canvasService.clipY[this.canvasService.currentCanvas.designarea_id] + 30;\n            this.nameProperties.originX = 'center';\n            this.nameProperties.originY = 'center';\n            this.nameProperties.left = this.canvasService.currentCanvas.width / 2;\n            // when user changes image side\n            // we remove name object from current canvas\n            // and add the same to new canvas\n            // in this case we need to set previous text as well\n            // so instead of 'Example', we are setting name as last added name\n            if (text == null && this.nameNumberService.newRow.length > 0) {\n                text = this.nameNumberService.newRow[this.nameNumberService.newRow.length - 1].name;\n            }\n            // finally add name to canvas\n            this.addNameNumberText((text != null) ? text : this.nameText, this.nameProperties, 'name');\n        }\n        // is checked is false\n        // remove all name\n        else {\n            if (!this.nameNumberService.addNumber) {\n                this.eventService.$pub('nameNumberDisabled');\n            }\n            this.removeNameNumberText();\n        }\n    };\n    /**\n     * When Add numbers checkbox is checked for the first time\n     */\n    NameNumberComponent.prototype.numberChecked = function (text) {\n        if (text === void 0) { text = null; }\n        // check for side before insertion\n        // if side is different then current side\n        // change the side first\n        this.checkSide('number', false);\n        // add row on condition\n        // here we will be checking is user has checked or unchecked the checkbox\n        this.addRowOnCondition('addNumber');\n        // if checked is true\n        if (this.nameNumberService.addNumber) {\n            this.publishNameNumber();\n            // set initial properties\n            if (!this.numberProperties || Object.keys(this.numberProperties).length == 0) {\n                this.numberProperties = {\n                    fill: this.defaultColor.color_code,\n                    fontFamily: this.defaultFontFamily.font_label,\n                    fontSize: this.defaultFontSize,\n                    tab: \"namenumber\",\n                    addObj: \"number\",\n                    originX: 'center',\n                    originY: 'center'\n                };\n            }\n            var topMargin = 80;\n            if (this.nameNumberService.nameNumberCanvas['name'] != this.nameNumberService.nameNumberCanvas['number']) {\n                topMargin = 40;\n            }\n            this.numberProperties.top = this.canvasService.clipY[this.canvasService.currentCanvas.designarea_id] + topMargin;\n            this.numberProperties.originX = 'center';\n            this.numberProperties.originY = 'center';\n            this.numberProperties.left = this.canvasService.currentCanvas.width / 2;\n            // when user changes image side\n            // we remove number object from current canvas\n            // and add the same to new canvas\n            // in this case we need to set previous text as well\n            // so instead of '00', we are setting number as last added number\n            if (text == null && this.nameNumberService.newRow.length > 0) {\n                text = this.nameNumberService.newRow[this.nameNumberService.newRow.length - 1].number;\n            }\n            // finally add number to canvas\n            this.addNameNumberText((text != null) ? text : this.numberText, this.numberProperties, 'number');\n        }\n        // is checked is false\n        // remove all numbers\n        else {\n            this.removeNameNumberText();\n        }\n    };\n    /**\n     * When name/number is enabled, we will publish an event that will allow\n     * dependent components to proceed further\n     */\n    NameNumberComponent.prototype.publishNameNumber = function () {\n        var eventData = {\n            newRow: this.nameNumberService.newRow,\n            addName: this.nameNumberService.addName,\n            addNumber: this.nameNumberService.addNumber\n        };\n        this.eventService.$pub('nameNumberEnabled', eventData);\n    };\n    /**\n     *\n     */\n    NameNumberComponent.prototype.addRowOnCondition = function (type) {\n        if (type === void 0) { type = null; }\n        if (this.nameNumberService.addName || this.nameNumberService.addNumber) {\n            if (!this.nameNumberService.rowArray.length) {\n                this.addRow(type, null, null, false);\n            }\n        }\n        else {\n            if (this.nameNumberService.rowArray.length && (!this.nameNumberService.addName || !this.nameNumberService.addNumber)) {\n                if (type != null)\n                    this.eventService.$pub('resetCart', { nameNumberData: this.nameNumberService.newRow, type: type, resetPrice: true });\n                this.nameNumberService.rowArray = [];\n                this.nameNumberService.newRow = [];\n            }\n        }\n    };\n    /**\n     *\n     * @param value\n     * @param properties\n     * @param type\n     */\n    NameNumberComponent.prototype.addNameNumberText = function (value, properties, type) {\n        // let canvas = this.selectedCanvasKey(type);\n        var canvas = this.canvasService.currentCanvas;\n        this.nameNumberService.nameNumberCanvas[type] = canvas;\n        var textObj = new fabric.Text(value);\n        if (!properties.hasOwnProperty('nameNumberId')) {\n            properties = Object.assign(properties, { nameNumberId: this.nameNumberService.rowArray.length });\n        }\n        var params = {\n            obj: textObj,\n            properties: properties,\n            crudServiceString: 'this.insertObjectService'\n        };\n        // set name number to center\n        // if it's first time\n        if (!properties.hasOwnProperty('left')) {\n            // get center position\n            var left = canvas.width / 2;\n            properties.left = left;\n            // we will set this property to global variable\n            if (type == 'name')\n                this.nameProperties.left = left;\n            else if (type == 'number')\n                this.numberProperties.left = left;\n        }\n        // finally update the same\n        this.canvasService.objectCRUD(params);\n        if (this.nameNumberService.newRow.length == 1 && ((type == 'name' && !this.nameNumberService.addNumber) || (type == 'number' && !this.nameNumberService.addName))) {\n            this.eventService.$pub('resetCart', null);\n        }\n    };\n    /**\n     *\n     */\n    NameNumberComponent.prototype.removeNameNumberText = function (removedObj) {\n        var _this = this;\n        if (removedObj === void 0) { removedObj = null; }\n        var textObj, properties = {}, canvas = null, canvasKeys = Object.keys(this.canvasService.containerCanvases), canvasObjects;\n        var _loop_1 = function (key) {\n            canvasObjects = this_1.canvasService.getObjects(this_1.canvasService.containerCanvases[key]);\n            canvasObjects.forEach(function (data) {\n                if (data.addObj == 'name' && !_this.nameNumberService.addName) {\n                    textObj = data;\n                    canvas = _this.canvasService.containerCanvases[key];\n                }\n                if (data.addObj == 'number' && !_this.nameNumberService.addNumber) {\n                    textObj = data;\n                    canvas = _this.canvasService.containerCanvases[key];\n                }\n                var params = {\n                    obj: textObj,\n                    properties: properties,\n                    crudServiceString: 'this.removeObjectService',\n                };\n                if (canvas != null)\n                    params = Object.assign(params, { canvas: canvas });\n                _this.canvasService.objectCRUD(params);\n            });\n        };\n        var this_1 = this;\n        for (var _i = 0, canvasKeys_1 = canvasKeys; _i < canvasKeys_1.length; _i++) {\n            var key = canvasKeys_1[_i];\n            _loop_1(key);\n        }\n        if (removedObj != null)\n            this.eventService.$pub('resetCart', removedObj);\n    };\n    /**\n     *\n     * @param index\n     * @param isFocus\n     */\n    NameNumberComponent.prototype.changeText = function (index, type, addIfNotAvailable, deselectAfterUpdate) {\n        if (type === void 0) { type = null; }\n        if (addIfNotAvailable === void 0) { addIfNotAvailable = false; }\n        if (deselectAfterUpdate === void 0) { deselectAfterUpdate = false; }\n        if (!this.nameNumberService.newRow.length || !this.nameNumberService.newRow[index] || !this.nameNumberService.newRow[index].hasOwnProperty(type))\n            return;\n        var objCanvas = this.selectedCanvasKey(type).canvas, objects = objCanvas.getObjects(), value = this.nameNumberService.newRow[index][type];\n        var selectedObj = objects.find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == type); });\n        if (!selectedObj) {\n            if (addIfNotAvailable === false) {\n                return;\n            }\n            else {\n                var properties = Object.assign({}, (type == 'name') ? this.nameProperties : this.numberProperties);\n                properties = Object.assign(properties, { nameNumberId: this.nameNumberService.newRow[index].id });\n                this.addNameNumberText(value, properties, type);\n            }\n        }\n        else {\n            if (deselectAfterUpdate === false)\n                this.canvasService.currentCanvas.setActiveObject(selectedObj).renderAll();\n            if (selectedObj.text != value) {\n                var properties = { text: value, nameNumberId: this.nameNumberService.newRow[index].id }, params = {\n                    obj: selectedObj,\n                    properties: properties,\n                    crudServiceString: 'this.updateObjectService'\n                };\n                var canvas = this.selectedCanvasKey(type);\n                if (canvas && canvas.canvas) {\n                    canvas = canvas.canvas;\n                    params = Object.assign(params, { canvas: canvas });\n                }\n                if (deselectAfterUpdate === true)\n                    params = Object.assign(params, { setActive: false });\n                this.canvasService.objectCRUD(params);\n            }\n        }\n    };\n    /**\n     *\n     * @param index\n     * @param value\n     */\n    NameNumberComponent.prototype.changeObject = function (index, type, value) {\n        if (value === void 0) { value = null; }\n        // var declaration\n        var currentCanvas = this.canvasService.currentCanvas, eventData = this.selectedCanvasKey(type);\n        // if no canvas returned for selected canvas\n        if (!eventData || !eventData.hasOwnProperty('canvas'))\n            return;\n        // check if current canvas is the has current name/number object\n        // if not, change side first\n        if (eventData.canvas != currentCanvas) {\n            this.eventService.$pub('changeImageSide', eventData);\n            this.cdr.detectChanges();\n        }\n        // change current obj\n        this.changeText(index, type, true);\n        // if after updating name/number\n        // check if respective obj needs to be set as well\n        if ((type == 'name' && !this.nameNumberService.addNumber) || (type == 'number' && !this.nameNumberService.addName))\n            return;\n        // change respective obj\n        var otherObjType = (type == 'name') ? 'number' : 'name';\n        // change current obj\n        this.changeText(index, otherObjType, true, true);\n    };\n    /**\n     *\n     * @param value\n     */\n    NameNumberComponent.prototype.searchNameNumberObj = function (type) {\n        if (type != 'name' && type != 'number')\n            return;\n        var allCanvas = this.canvasService.containerCanvases, selectedObj, canvas;\n        for (var key in allCanvas) {\n            canvas = allCanvas[key];\n            selectedObj = canvas.getObjects().find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == type); });\n            if (selectedObj) {\n                break;\n            }\n        }\n        return { canvas: canvas, obj: selectedObj };\n    };\n    /**\n     *\n     * @param type\n     */\n    NameNumberComponent.prototype.selectedCanvasKey = function (type, typeCheck) {\n        if (typeCheck === void 0) { typeCheck = null; }\n        if (type != 'name' && type != 'number')\n            return;\n        var currentCanvasImageId = this.canvasService.currentCanvas.image_id, requiredImageId = (type == 'name') ? this.nameNumberService.selectedNameTitle.imageId : this.nameNumberService.selectedNumberTitle.imageId, canvas;\n        var allCanvas = this.canvasService.containerCanvases, nameNumberKey = (type == 'name') ? this.nameNumberService.addName : this.nameNumberService.addNumber, checkForType = (typeCheck == null && nameNumberKey) ? true : false, canvasIndex = 0, tmpObj, imageSideFirstCanvas = null;\n        if (checkForType == false && currentCanvasImageId == requiredImageId) {\n            canvas = this.canvasService.currentCanvas;\n            canvasIndex = 0;\n        }\n        else {\n            for (var key in allCanvas) {\n                if (allCanvas[key].image_id == requiredImageId) {\n                    canvas = allCanvas[key];\n                    if (imageSideFirstCanvas == null)\n                        imageSideFirstCanvas = canvas;\n                    tmpObj = canvas.getObjects().find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == type); });\n                    if (tmpObj)\n                        break;\n                    canvasIndex++;\n                }\n            }\n            if (!tmpObj) {\n                canvas = imageSideFirstCanvas;\n                canvasIndex = 0;\n            }\n            ;\n        }\n        return { canvas: canvas, index: canvasIndex };\n    };\n    /**\n     *\n     * @param value\n     */\n    NameNumberComponent.prototype.removeObjOnChangeSide = function (type) {\n        var properties = {};\n        var data = this.searchNameNumberObj(type);\n        if (!data || !data.hasOwnProperty('canvas'))\n            return;\n        this.canvasService.deleteThisObject(data.obj);\n        var params = {\n            obj: data.obj,\n            properties: properties,\n            canvas: data.canvas,\n            crudServiceString: 'this.removeObjectService',\n        };\n        this.canvasService.objectCRUD(params);\n    };\n    /**\n     *\n     */\n    NameNumberComponent.prototype.checkNameNumberAfterRemove = function (obj) {\n        var index = null, currentType = obj.addObj, otherType = (currentType == 'name') ? 'number' : 'name';\n        index = this.nameNumberService.newRow.indexOf(this.nameNumberService.newRow.find(function (nameNumberObj) { return nameNumberObj[obj.addObj] == obj.text; }));\n        if (index != null && index != -1) {\n            // if this was last object of respective type\n            // eg. last name of last number\n            // disable the same\n            if (this.nameNumberService.newRow.length == 1) {\n                if (currentType == 'name') {\n                    this.nameNumberService.addName = false;\n                }\n                else if (currentType == 'number') {\n                    this.nameNumberService.addNumber = false;\n                }\n            }\n            // if this was the last object\n            // disable name number\n            if ((currentType == 'name' && !this.nameNumberService.addNumber) || (currentType == 'number' && !this.nameNumberService.addName) || (this.nameNumberService.newRow[index][otherType] == '')) {\n                this.removeRow(index, true);\n            }\n        }\n    };\n    /**\n     *\n     */\n    NameNumberComponent.prototype.generateNameNumberImages = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var base64DataFile, sidesAndParentImageIDs, params, url;\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.loaderComponent.showMainLoader = true;\n                        base64DataFile = [];\n                        return [4 /*yield*/, this.designService.saveAllSidesCanvasData().then(function (resp) {\n                                base64DataFile = resp.timestamp;\n                            }).catch(function (err) { return console.log(err); })];\n                    case 1:\n                        _a.sent();\n                        sidesAndParentImageIDs = this.designService.fetchImageSidesParentIdsWithId(this.canvasService.allImagesWithIds);\n                        params = {\n                            base64DataFile: base64DataFile,\n                            productId: this.mainService.productId,\n                            designId: atob(this.mainService.designId),\n                            sidesAndParentImageIDs: sidesAndParentImageIDs,\n                            orderId: this.orderId,\n                            name: this.name,\n                            number: this.number,\n                            nameNumberIndex: this.nameNumberIndex\n                        }, url = 'namenumber/Index/generateNameNumberImage';\n                        this.mainService.getData(url, params, null).then(function (response) {\n                            _this.loaderComponent.showMainLoader = false;\n                            window.history.back();\n                        }).catch(function (err) { return console.log(err); });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    NameNumberComponent.prototype.showChild = function () {\n        if (this.showAllNameNumber) {\n            this.showAddNameNumber(false);\n        }\n        this.tabsService.showChildTabs('name-number');\n    };\n    NameNumberComponent.prototype.showAddNameNumber = function (showAllNameNumber) {\n        this.showAllNameNumber = showAllNameNumber;\n        this.eventService.$pub('showFonts', { showAllFonts: this.showAllNameNumber, title: 'Name Number' });\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], NameNumberComponent.prototype, \"loadContent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])(\"loaderComponent\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_6__[\"LoaderComponent\"])\n    ], NameNumberComponent.prototype, \"loaderComponent\", void 0);\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ViewChild\"])(\"subtabLoader\"),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", src_app_essentials_components_loader_loader_component__WEBPACK_IMPORTED_MODULE_6__[\"LoaderComponent\"])\n    ], NameNumberComponent.prototype, \"subtabLoader\", void 0);\n    NameNumberComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Component\"])({\n            selector: '[name-number]',\n            template: __webpack_require__(/*! ./name-number.component.html */ \"./src/app/premium/components/name-number/name-number.component.html\"),\n            styles: [__webpack_require__(/*! ./name-number.component.scss */ \"./src/app/premium/components/name-number/name-number.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\n            _angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ChangeDetectorRef\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_7__[\"CanvasService\"],\n            src_app_essentials_components_font_font_service__WEBPACK_IMPORTED_MODULE_8__[\"FontService\"],\n            _name_number_service__WEBPACK_IMPORTED_MODULE_9__[\"NameNumberService\"],\n            src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_2__[\"PriceService\"],\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_10__[\"DesignService\"],\n            src_app_essentials_components_conf_product_attr_conf_product_attr_service__WEBPACK_IMPORTED_MODULE_1__[\"ConfProductAttrService\"],\n            src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_11__[\"TabsService\"]])\n    ], NameNumberComponent);\n    return NameNumberComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/name-number/name-number.service.ts\":\n/*!***********************************************************************!*\\\n  !*** ./src/app/premium/components/name-number/name-number.service.ts ***!\n  \\***********************************************************************/\n/*! exports provided: NameNumberService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NameNumberService\", function() { return NameNumberService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\n\nvar NameNumberService = /** @class */ (function () {\n    function NameNumberService(mainService) {\n        this.mainService = mainService;\n        this.newRow = [];\n        this.rowArray = [];\n        this.selectedNameTitle = {};\n        this.selectedNumberTitle = {};\n        this.nameNumberCanvas = { name: null, number: null };\n    }\n    NameNumberService.prototype.loadNameNumber = function (nameNumberData) {\n        var _this = this;\n        this.newRow = [];\n        this.rowArray = [];\n        nameNumberData.filter(function (nameNumberItem) {\n            _this.newRow.push(Object.assign({}, nameNumberItem));\n            _this.rowArray.push(_this.newRow);\n        });\n        var isNameExists = nameNumberData.indexOf(nameNumberData.find(function (nameNumberItem) { return (nameNumberItem.hasOwnProperty('name') && nameNumberItem.name); })), isNumberExists = nameNumberData.indexOf(nameNumberData.find(function (nameNumberItem) { return (nameNumberItem.hasOwnProperty('number') && nameNumberItem.number); }));\n        if (!this.addName && isNameExists >= 0)\n            this.addName = true;\n        if (!this.addNumber && isNumberExists >= 0)\n            this.addNumber = true;\n        this.setSelectedNameNumberTitle();\n    };\n    NameNumberService.prototype.setSelectedNameNumberTitle = function () {\n        var allcanvas = this.mainService.canvasService.containerCanvases, type, currCanvas, find;\n        this.selectedNameTitle = null;\n        this.selectedNumberTitle = null;\n        for (var key in allcanvas) {\n            currCanvas = allcanvas[key];\n            if (this.addName) {\n                find = this.mainService.canvasService.getObjects(currCanvas).indexOf(this.mainService.canvasService.getObjects(currCanvas).find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == 'name'); }));\n                if (find >= 0) {\n                    this.selectedNameTitle = { imageId: currCanvas.image_id };\n                    this.nameNumberCanvas.name = currCanvas;\n                }\n            }\n            if (this.addNumber) {\n                find = this.mainService.canvasService.getObjects(currCanvas).indexOf(this.mainService.canvasService.getObjects(currCanvas).find(function (currObj) { return (currObj.hasOwnProperty('addObj') && currObj.addObj == 'number'); }));\n                if (find >= 0) {\n                    this.selectedNumberTitle = { imageId: currCanvas.image_id };\n                    this.nameNumberCanvas.number = currCanvas;\n                }\n            }\n            if (this.selectedNameTitle != null && this.selectedNumberTitle != null)\n                break;\n        }\n        if (this.selectedNameTitle && this.selectedNumberTitle) {\n            this.getImageTitle();\n        }\n    };\n    NameNumberService.prototype.getImageTitle = function () {\n        if (!this.mainService.loadedProductData)\n            return;\n        var dimentionData = this.mainService.loadedProductData['dimensions'];\n        for (var _i = 0, dimentionData_1 = dimentionData; _i < dimentionData_1.length; _i++) {\n            var key = dimentionData_1[_i];\n            if (key['image_id'] == this.selectedNameTitle.imageId) {\n                this.selectedNameTitle = Object.assign(this.selectedNameTitle, { 'imageTitle': key['image_title'] });\n            }\n            if (key['image_id'] == this.selectedNumberTitle.imageId) {\n                this.selectedNumberTitle = Object.assign(this.selectedNumberTitle, { 'imageTitle': key['image_title'] });\n            }\n        }\n    };\n    NameNumberService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__[\"MainService\"]])\n    ], NameNumberService);\n    return NameNumberService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.html\":\n/*!*******************************************************************************************************!*\\\n  !*** ./src/app/premium/components/object-alignment-position/object-alignment-position.component.html ***!\n  \\*******************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.scss\":\n/*!*******************************************************************************************************!*\\\n  !*** ./src/app/premium/components/object-alignment-position/object-alignment-position.component.scss ***!\n  \\*******************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9vYmplY3QtYWxpZ25tZW50LXBvc2l0aW9uL29iamVjdC1hbGlnbm1lbnQtcG9zaXRpb24uY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.ts\":\n/*!*****************************************************************************************************!*\\\n  !*** ./src/app/premium/components/object-alignment-position/object-alignment-position.component.ts ***!\n  \\*****************************************************************************************************/\n/*! exports provided: ObjectAlignmentPositionComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectAlignmentPositionComponent\", function() { return ObjectAlignmentPositionComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/fabric.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nvar ObjectAlignmentPositionComponent = /** @class */ (function () {\n    function ObjectAlignmentPositionComponent(eventService, mainService) {\n        this.eventService = eventService;\n        this.mainService = mainService;\n    }\n    ObjectAlignmentPositionComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        var params = {}, url = 'objectalignmentposition/index/getconfiguration', cacheKey = 'getObjectAlignmentPosition' + this.mainService.baseUrl;\n        this.mainService.getData(url, params, cacheKey).then(function (alignData) {\n            var enable = alignData.enable;\n            if (enable == 1) {\n                _this.eventService.$sub('canvasCreated', function (data) {\n                    data.__eventListeners[\"mouse:down\"] = [];\n                    data.__eventListeners[\"mouse:up\"] = [];\n                    data.__eventListeners[\"object:moving\"] = [];\n                    data.__eventListeners[\"before:render\"] = [];\n                    data.__eventListeners[\"after:render\"] = [];\n                    _this.initCenteringGuidelines(data);\n                    _this.initAligningGuidelines(data);\n                });\n                _this.eventService.$sub('zoomCanvasUpdated', function (data) {\n                    data.__eventListeners[\"mouse:down\"] = [];\n                    data.__eventListeners[\"mouse:up\"] = [];\n                    data.__eventListeners[\"object:moving\"] = [];\n                    data.__eventListeners[\"before:render\"] = [];\n                    data.__eventListeners[\"after:render\"] = [];\n                    _this.initCenteringGuidelines(data);\n                    _this.initAligningGuidelines(data);\n                });\n            }\n        }).catch(function (err) { return console.log(err); });\n    };\n    ObjectAlignmentPositionComponent.prototype.initCenteringGuidelines = function (canvas) {\n        var canvasWidth = canvas.getWidth(), canvasHeight = canvas.getHeight(), canvasWidthCenter = canvasWidth / 2, canvasHeightCenter = canvasHeight / 2, canvasWidthCenterMap = {}, canvasHeightCenterMap = {}, centerLineMargin = 4, centerLineColor = 'rgba(255,0,241,0.5)', centerLineWidth = 1, ctx = canvas.getSelectionContext(), viewportTransform;\n        for (var i = canvasWidthCenter - centerLineMargin, len = canvasWidthCenter + centerLineMargin; i <= len; i++) {\n            canvasWidthCenterMap[Math.round(i)] = true;\n        }\n        for (var i = canvasHeightCenter - centerLineMargin, len = canvasHeightCenter + centerLineMargin; i <= len; i++) {\n            canvasHeightCenterMap[Math.round(i)] = true;\n        }\n        function showVerticalCenterLine() {\n            showCenterLine(canvasWidthCenter + 0.5, 0, canvasWidthCenter + 0.5, canvasHeight);\n        }\n        function showHorizontalCenterLine() {\n            showCenterLine(0, canvasHeightCenter + 0.5, canvasWidth, canvasHeightCenter + 0.5);\n        }\n        function showCenterLine(x1, y1, x2, y2) {\n            ctx.save();\n            ctx.strokeStyle = centerLineColor;\n            ctx.lineWidth = centerLineWidth;\n            ctx.beginPath();\n            ctx.moveTo(x1 * viewportTransform[0], y1 * viewportTransform[3]);\n            ctx.lineTo(x2 * viewportTransform[0], y2 * viewportTransform[3]);\n            ctx.stroke();\n            ctx.restore();\n        }\n        var afterRenderActions = [], isInVerticalCenter, isInHorizontalCenter;\n        canvas.on('mouse:down', function () {\n            viewportTransform = canvas.viewportTransform;\n        });\n        canvas.on('object:moving', function (e) {\n            var object = e.target, objectCenter = object.getCenterPoint(), transform = canvas._currentTransform;\n            if (!transform)\n                return;\n            isInVerticalCenter = Math.round(objectCenter.x) in canvasWidthCenterMap,\n                isInHorizontalCenter = Math.round(objectCenter.y) in canvasHeightCenterMap;\n            if (isInHorizontalCenter || isInVerticalCenter) {\n                object.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point((isInVerticalCenter ? canvasWidthCenter : objectCenter.x), (isInHorizontalCenter ? canvasHeightCenter : objectCenter.y)), 'center', 'center');\n            }\n        });\n        canvas.on('before:render', function () {\n            if (canvas.contextTop) {\n                canvas.clearContext(canvas.contextTop);\n            }\n        });\n        canvas.on('after:render', function () {\n            if (isInVerticalCenter) {\n                showVerticalCenterLine();\n            }\n            if (isInHorizontalCenter) {\n                showHorizontalCenterLine();\n            }\n        });\n        canvas.on('mouse:up', function () {\n            // clear these values, to stop drawing guidelines once mouse is up\n            isInVerticalCenter = isInHorizontalCenter = null;\n            canvas.renderAll();\n        });\n    };\n    ObjectAlignmentPositionComponent.prototype.initAligningGuidelines = function (canvas) {\n        var ctx = canvas.getSelectionContext(), aligningLineOffset = 5, aligningLineMargin = 4, aligningLineWidth = 1, aligningLineColor = 'rgb(0,255,0)', viewportTransform, zoom = 1;\n        var self = this;\n        function drawVerticalLine(coords) {\n            drawLine(coords.x + 0.5, coords.y1 > coords.y2 ? coords.y2 : coords.y1, coords.x + 0.5, coords.y2 > coords.y1 ? coords.y2 : coords.y1);\n        }\n        function drawHorizontalLine(coords) {\n            drawLine(coords.x1 > coords.x2 ? coords.x2 : coords.x1, coords.y + 0.5, coords.x2 > coords.x1 ? coords.x2 : coords.x1, coords.y + 0.5);\n        }\n        function drawLine(x1, y1, x2, y2) {\n            ctx.save();\n            ctx.lineWidth = aligningLineWidth;\n            ctx.strokeStyle = aligningLineColor;\n            ctx.beginPath();\n            ctx.moveTo(((x1 + viewportTransform[4]) * zoom), ((y1 + viewportTransform[5]) * zoom));\n            ctx.lineTo(((x2 + viewportTransform[4]) * zoom), ((y2 + viewportTransform[5]) * zoom));\n            ctx.stroke();\n            ctx.restore();\n        }\n        function isInRange(value1, value2) {\n            value1 = Math.round(value1);\n            value2 = Math.round(value2);\n            for (var i = value1 - aligningLineMargin, len = value1 + aligningLineMargin; i <= len; i++) {\n                if (i === value2) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        var verticalLines = [], horizontalLines = [];\n        canvas.on('mouse:down', function () {\n            viewportTransform = canvas.viewportTransform;\n            zoom = canvas.getZoom();\n        });\n        canvas.on('object:moving', function (e) {\n            var activeObject = e.target, canvasObjects = self.mainService.canvasService.getObjects(canvas), activeObjectCenter = activeObject.getCenterPoint(), activeObjectLeft = activeObjectCenter.x, activeObjectTop = activeObjectCenter.y, activeObjectBoundingRect = activeObject.getBoundingRect(), activeObjectHeight = activeObjectBoundingRect.height / viewportTransform[3], activeObjectWidth = activeObjectBoundingRect.width / viewportTransform[0], horizontalInTheRange = false, verticalInTheRange = false, transform = canvas._currentTransform;\n            if (!transform)\n                return;\n            // It should be trivial to DRY this up by encapsulating (repeating) creation of x1, x2, y1, and y2 into functions,\n            // but we're not doing it here for perf. reasons -- as this a function that's invoked on every mouse move\n            for (var i = canvasObjects.length; i--;) {\n                if (canvasObjects[i] === activeObject)\n                    continue;\n                var objectCenter = canvasObjects[i].getCenterPoint(), objectLeft = objectCenter.x, objectTop = objectCenter.y, objectBoundingRect = canvasObjects[i].getBoundingRect(), objectHeight = objectBoundingRect.height / viewportTransform[3], objectWidth = objectBoundingRect.width / viewportTransform[0];\n                // snap by the horizontal center line\n                if (isInRange(objectLeft, activeObjectLeft)) {\n                    verticalInTheRange = true;\n                    verticalLines.push({\n                        x: objectLeft,\n                        y1: (objectTop < activeObjectTop)\n                            ? (objectTop - objectHeight / 2 - aligningLineOffset)\n                            : (objectTop + objectHeight / 2 + aligningLineOffset),\n                        y2: (activeObjectTop > objectTop)\n                            ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\n                            : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\n                    });\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(objectLeft, activeObjectTop), 'center', 'center');\n                }\n                // snap by the left edge\n                if (isInRange(objectLeft - objectWidth / 2, activeObjectLeft - activeObjectWidth / 2)) {\n                    verticalInTheRange = true;\n                    verticalLines.push({\n                        x: objectLeft - objectWidth / 2,\n                        y1: (objectTop < activeObjectTop)\n                            ? (objectTop - objectHeight / 2 - aligningLineOffset)\n                            : (objectTop + objectHeight / 2 + aligningLineOffset),\n                        y2: (activeObjectTop > objectTop)\n                            ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\n                            : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\n                    });\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(objectLeft - objectWidth / 2 + activeObjectWidth / 2, activeObjectTop), 'center', 'center');\n                }\n                // snap by the right edge\n                if (isInRange(objectLeft + objectWidth / 2, activeObjectLeft + activeObjectWidth / 2)) {\n                    verticalInTheRange = true;\n                    verticalLines.push({\n                        x: objectLeft + objectWidth / 2,\n                        y1: (objectTop < activeObjectTop)\n                            ? (objectTop - objectHeight / 2 - aligningLineOffset)\n                            : (objectTop + objectHeight / 2 + aligningLineOffset),\n                        y2: (activeObjectTop > objectTop)\n                            ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\n                            : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\n                    });\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(objectLeft + objectWidth / 2 - activeObjectWidth / 2, activeObjectTop), 'center', 'center');\n                }\n                // snap by the vertical center line\n                if (isInRange(objectTop, activeObjectTop)) {\n                    horizontalInTheRange = true;\n                    horizontalLines.push({\n                        y: objectTop,\n                        x1: (objectLeft < activeObjectLeft)\n                            ? (objectLeft - objectWidth / 2 - aligningLineOffset)\n                            : (objectLeft + objectWidth / 2 + aligningLineOffset),\n                        x2: (activeObjectLeft > objectLeft)\n                            ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\n                            : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\n                    });\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(activeObjectLeft, objectTop), 'center', 'center');\n                }\n                // snap by the top edge\n                if (isInRange(objectTop - objectHeight / 2, activeObjectTop - activeObjectHeight / 2)) {\n                    horizontalInTheRange = true;\n                    horizontalLines.push({\n                        y: objectTop - objectHeight / 2,\n                        x1: (objectLeft < activeObjectLeft)\n                            ? (objectLeft - objectWidth / 2 - aligningLineOffset)\n                            : (objectLeft + objectWidth / 2 + aligningLineOffset),\n                        x2: (activeObjectLeft > objectLeft)\n                            ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\n                            : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\n                    });\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(activeObjectLeft, objectTop - objectHeight / 2 + activeObjectHeight / 2), 'center', 'center');\n                }\n                // snap by the bottom edge\n                if (isInRange(objectTop + objectHeight / 2, activeObjectTop + activeObjectHeight / 2)) {\n                    horizontalInTheRange = true;\n                    horizontalLines.push({\n                        y: objectTop + objectHeight / 2,\n                        x1: (objectLeft < activeObjectLeft)\n                            ? (objectLeft - objectWidth / 2 - aligningLineOffset)\n                            : (objectLeft + objectWidth / 2 + aligningLineOffset),\n                        x2: (activeObjectLeft > objectLeft)\n                            ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\n                            : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\n                    });\n                    activeObject.setPositionByOrigin(new fabric__WEBPACK_IMPORTED_MODULE_4__[\"fabric\"].Point(activeObjectLeft, objectTop + objectHeight / 2 - activeObjectHeight / 2), 'center', 'center');\n                }\n            }\n            if (!horizontalInTheRange) {\n                horizontalLines.length = 0;\n            }\n            if (!verticalInTheRange) {\n                verticalLines.length = 0;\n            }\n        });\n        canvas.on('before:render', function () {\n            if (canvas.contextTop) {\n                canvas.clearContext(canvas.contextTop);\n            }\n        });\n        canvas.on('after:render', function () {\n            for (var i = verticalLines.length; i--;) {\n                drawVerticalLine(verticalLines[i]);\n            }\n            for (var i = horizontalLines.length; i--;) {\n                drawHorizontalLine(horizontalLines[i]);\n            }\n            verticalLines.length = horizontalLines.length = 0;\n        });\n        canvas.on('mouse:up', function () {\n            verticalLines.length = horizontalLines.length = 0;\n            canvas.renderAll();\n        });\n    };\n    ObjectAlignmentPositionComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[object-alignment-position]',\n            template: __webpack_require__(/*! ./object-alignment-position.component.html */ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.html\"),\n            styles: [__webpack_require__(/*! ./object-alignment-position.component.scss */ \"./src/app/premium/components/object-alignment-position/object-alignment-position.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"]])\n    ], ObjectAlignmentPositionComponent);\n    return ObjectAlignmentPositionComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/object-grouping/object-grouping.component.html\":\n/*!***********************************************************************************!*\\\n  !*** ./src/app/premium/components/object-grouping/object-grouping.component.html ***!\n  \\***********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<li (click)=\\\"selectDeselectAll('select')\\\" [ngClass]=\\\"{'disabled': disableForSelectAll == true}\\\">\\n  <svg class=\\\"icon icon-t-group\\\" viewBox=\\\"0 0 30 30\\\" tooltip=\\\"{{'Select All' | translate}}\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-t-group\\\"></use>\\n  </svg>\\n</li>\\n<li (click)=\\\"selectDeselectAll('deselect')\\\" [ngClass]=\\\"{'disabled': disableForSelectAll == true}\\\">\\n  <svg class=\\\"icon icon-t-ungroup\\\" viewBox=\\\"0 0 30 30\\\" tooltip=\\\"{{'Deselect All' | translate}}\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-t-ungroup\\\"></use>\\n  </svg>\\n</li>\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/object-grouping/object-grouping.component.scss\":\n/*!***********************************************************************************!*\\\n  !*** ./src/app/premium/components/object-grouping/object-grouping.component.scss ***!\n  \\***********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9vYmplY3QtZ3JvdXBpbmcvb2JqZWN0LWdyb3VwaW5nLmNvbXBvbmVudC5zY3NzIn0= */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/object-grouping/object-grouping.component.ts\":\n/*!*********************************************************************************!*\\\n  !*** ./src/app/premium/components/object-grouping/object-grouping.component.ts ***!\n  \\*********************************************************************************/\n/*! exports provided: ObjectGroupingComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectGroupingComponent\", function() { return ObjectGroupingComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\nvar ObjectGroupingComponent = /** @class */ (function () {\n    function ObjectGroupingComponent(mainService, eventService) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.selectionArea = 0;\n        mainService.enableMultipleSelection = true;\n    }\n    ObjectGroupingComponent.prototype.ngOnInit = function () {\n        this.init();\n        this.subscribeEvents();\n    };\n    ObjectGroupingComponent.prototype.init = function () {\n        this.disableForSelectAll = this.disableForSelectAllFun();\n    };\n    ObjectGroupingComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        this.eventService.$sub('imageSideChanged', function () {\n            _this.init();\n        });\n        this.eventService.$sub('objectSelectionCreated', function () {\n            _this.init();\n        });\n        this.eventService.$sub('objectSelectionUpdated', function () {\n            _this.init();\n        });\n        this.eventService.$sub('objectSelectionCleared', function () {\n            _this.init();\n        });\n        this.eventService.$sub('objectUpdated', function () {\n            _this.init();\n        });\n        this.eventService.$sub('objectRemoved', function () {\n            _this.init();\n        });\n    };\n    ObjectGroupingComponent.prototype.disableForSelectAllFun = function () {\n        var ultimateLockEnable;\n        var totalAddedObjects = 0;\n        if (this.mainService.canvasService.currentCanvas) {\n            this.mainService.canvasService.getObjects().forEach(function (obj) {\n                if (obj.ultimatelock != true && obj.selectable == true)\n                    totalAddedObjects++;\n            });\n        }\n        if (totalAddedObjects > 1)\n            return false;\n        return true;\n    };\n    ObjectGroupingComponent.prototype.selectDeselectAll = function (option, objectList) {\n        if (option === void 0) { option = ''; }\n        if (objectList === void 0) { objectList = null; }\n        if (this.disableForSelectAll === true)\n            return;\n        var canvas = this.mainService.canvasService.currentCanvas;\n        objectList = (objectList == null) ? this.mainService.canvasService.getObjects() : objectList;\n        var temp = [];\n        objectList.forEach(function (obj) {\n            if (obj.ultimatelock != true && obj.selectable == true) {\n                temp.push(obj);\n            }\n        });\n        canvas.discardActiveObject();\n        if (option == \"select\") {\n            var sel = new fabric.ActiveSelection(temp, {\n                canvas: canvas,\n            });\n            canvas.setActiveObject(sel);\n            this.selectionArea = true;\n        }\n        else {\n            this.selectionArea = false;\n        }\n        canvas.requestRenderAll();\n    };\n    ObjectGroupingComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Component\"])({\n            selector: '[object-grouping]',\n            template: __webpack_require__(/*! ./object-grouping.component.html */ \"./src/app/premium/components/object-grouping/object-grouping.component.html\"),\n            styles: [__webpack_require__(/*! ./object-grouping.component.scss */ \"./src/app/premium/components/object-grouping/object-grouping.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_1__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"]])\n    ], ObjectGroupingComponent);\n    return ObjectGroupingComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/opacity/opacity.component.html\":\n/*!*******************************************************************!*\\\n  !*** ./src/app/premium/components/opacity/opacity.component.html ***!\n  \\*******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<accordion-group class=\\\"byi-accord\\\" *ngIf=\\\"!mainService.isResponsive\\\" [hidden]=\\\"componentHide\\\">\\n\\t<button class=\\\"byi-accordion-title\\\" accordion-heading>\\n\\t\\t<span>{{'Opacity' | translate}}</span>\\n\\t</button>\\n\\t<div class=\\\"byi-accord-content\\\">\\n\\t\\t<ng-container [ngTemplateOutlet]=\\\"opacityTemplate\\\"></ng-container>\\n\\t</div>\\n</accordion-group>\\n<tab *ngIf=\\\"mainService.isResponsive && tabsService.checkIfExistChild('opacity')\\\"  [customClass]=\\\"'isResponsiveTab'\\\">\\n\\t<ng-template tabHeading>\\n\\t\\t<span>{{'Opacity' | translate}}</span>\\n\\t</ng-template>\\n\\t<ng-container [ngTemplateOutlet]=\\\"opacityTemplate\\\"></ng-container>\\n</tab>\\n<ng-template #opacityTemplate>\\n\\t<div class=\\\"byie-option\\\">\\n\\t\\t<div class=\\\"byi-range-box byi-range-color byie-count-wrap\\\">\\n\\t\\t\\t<div class=\\\"byi-rb-input\\\">\\n\\t\\t\\t\\t<span class=\\\"byie-count\\\">{{(opacity/10).toFixed(1)}}</span>\\n\\t\\t\\t\\t<input type=\\\"range\\\" [(ngModel)]=\\\"opacity\\\" min=\\\"0\\\" max=\\\"10\\\" step=\\\"0.1\\\"\\n\\t\\t\\t\\t\\t(mousedown)=\\\"setPrevValue($event.target.value)\\\" (input)=\\\"changeOpacity()\\\" (change)=\\\"stackToUndo()\\\"\\n\\t\\t\\t\\t\\tclass=\\\"slider\\\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<button class=\\\"byi-range-reset-link\\\" (click)=\\\"resetOpacity()\\\" tooltip=\\\"{{'Reset' | translate}}\\\">\\n\\t\\t\\t\\t<svg class=\\\"icon icon-reset\\\" viewBox=\\\"0 0 30 30\\\">\\n\\t\\t\\t\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-reset\\\"></use>\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n</ng-template>\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/opacity/opacity.component.scss\":\n/*!*******************************************************************!*\\\n  !*** ./src/app/premium/components/opacity/opacity.component.scss ***!\n  \\*******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9vcGFjaXR5L29wYWNpdHkuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/opacity/opacity.component.ts\":\n/*!*****************************************************************!*\\\n  !*** ./src/app/premium/components/opacity/opacity.component.ts ***!\n  \\*****************************************************************/\n/*! exports provided: OpacityComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OpacityComponent\", function() { return OpacityComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/tabs.service */ \"./src/app/services/tabs.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\n\n\n\nvar OpacityComponent = /** @class */ (function () {\n    function OpacityComponent(canvasService, eventService, mainService, tabsService) {\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.mainService = mainService;\n        this.tabsService = tabsService;\n        this.componentHide = true;\n        this.prevOpacityVal = null;\n        this.tabsService.registerTabs('opacity', 'plain-text');\n        this.tabsService.registerTabs('opacity', 'clipart');\n        this.tabsService.registerTabs('opacity', 'image-upload');\n        this.tabsService.registerTabs('opacity', 'name-number');\n        this.tabsService.registerTabs('opacity', 'common');\n    }\n    OpacityComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.initData();\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\n            _this.updateOpacity(obj);\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.updateOpacity(obj);\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\n        });\n        this.eventService.$sub('objectUpdated', function (obj) {\n            obj = (Array.isArray(obj)) ? obj[0] : obj;\n            _this.updateOpacity(obj);\n        });\n        this.eventService.$sub('objectSelectionCleared', function (obj) {\n            _this.initData();\n            _this.componentHide = (_this.canvasService.getActiveObject() && _this.canvasService.getActiveObject().ultimatelock != true) ? null : true;\n        });\n        this.eventService.$sub('objectAdded', function (obj) {\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\n        });\n        this.eventService.$sub('objectRemoved', function (obj) {\n            _this.componentHide = (_this.canvasService.getActiveObject() && obj.ultimatelock != true) ? null : true;\n        });\n    };\n    OpacityComponent.prototype.initData = function () {\n        this.opacity = this.canvasService.getActiveObjectValue('text', 'opacity') ? this.canvasService.getActiveObjectValue('text', 'opacity') : 1.0;\n    };\n    OpacityComponent.prototype.changeOpacity = function () {\n        var _this = this;\n        var selectedObjs = this.canvasService.currentCanvas.getActiveObjects(), properties = {};\n        properties.opacity = (this.opacity / 10);\n        selectedObjs.filter(function (obj) {\n            obj = Object.assign(obj, properties);\n            _this.canvasService.currentCanvas.renderAll();\n        });\n    };\n    OpacityComponent.prototype.setPrevValue = function (val) {\n        if (this.prevOpacityVal == null)\n            this.prevOpacityVal = val / 10;\n    };\n    OpacityComponent.prototype.stackToUndo = function () {\n        this.canvasService.rangeSliderUndoRedo({ 'opacity': this.prevOpacityVal });\n        this.prevOpacityVal = null;\n    };\n    OpacityComponent.prototype.updateOpacity = function (obj) {\n        if (obj.length > 0) {\n            if (obj[0]) {\n                this.opacity = obj[0].opacity * 10;\n            }\n        }\n        else {\n            this.opacity = obj.opacity * 10;\n        }\n    };\n    OpacityComponent.prototype.resetOpacity = function () {\n        this.opacity = 1 * 10;\n        this.changeOpacity();\n    };\n    OpacityComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[opacity]',\n            template: __webpack_require__(/*! ./opacity.component.html */ \"./src/app/premium/components/opacity/opacity.component.html\"),\n            styles: [__webpack_require__(/*! ./opacity.component.scss */ \"./src/app/premium/components/opacity/opacity.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"], src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"], src_app_services_tabs_service__WEBPACK_IMPORTED_MODULE_4__[\"TabsService\"]])\n    ], OpacityComponent);\n    return OpacityComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/price-info/price-info.component.html\":\n/*!*************************************************************************!*\\\n  !*** ./src/app/premium/components/price-info/price-info.component.html ***!\n  \\*************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<span class=\\\"cart-info\\\" (click)=\\\"displayInfo()\\\" *ngIf=\\\"isDisplayPriceInfo\\\">\\n\\t<svg class=\\\"icon icon-info\\\" viewBox=\\\"0 0 20 20\\\">\\n\\t\\t<use xlink:href=\\\"assets/img/sprite.svg#icon-info\\\"></use>\\n\\t</svg>\\n</span>\\n<div class=\\\"byi-info-display\\\" [class.open]=\\\"showPriceInfo\\\">\\n\\t<ul class=\\\"byi-priceinfo-top\\\">\\n\\t\\t<ng-container *ngFor = 'let item of priceInfoData'>\\n\\t\\t\\t<li *ngIf=\\\"item.value\\\">\\n\\t\\t\\t\\t<div class = 'byi-priceinfo__left'>{{item.label}}  {{(item.hasOwnProperty('isQty') && item.isQty == true) ? 'x '+item.qty : ''}}\\n\\t\\t\\t\\t{{(!item.hasOwnProperty('isProductQty') && item.isProductQty != true) ? 'x ' : ''}} \\n\\t\\t\\t\\t<span tooltip=\\\"{{'Product Quantity' | translate}}\\\">{{(item.hasOwnProperty('isProductQty') && item.isProductQty == true) ? '(' : ''}}{{item.productQty}}{{(item.hasOwnProperty('isProductQty') && item.isProductQty == true) ? ')' : ''}}</span>\\n\\t\\t\\t\\t</div>\\t\\t\\t\\n\\t\\t\\t\\t<div class = 'byi-priceinfo__right'>{{item.value}}</div>\\n\\t\\t\\t</li>\\n\\t\\t</ng-container>\\n\\t</ul>\\n\\t<div class=\\\"byi-priceinfo-total\\\">\\n\\t\\t<div class=\\\"byi-priceinfo__left\\\">{{'Total Price' | translate}}</div>\\n\\t\\t<div class=\\\"byi-priceinfo__right\\\">{{priceService.getPrice()}}</div>\\n\\t</div>\\n</div>\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/price-info/price-info.component.scss\":\n/*!*************************************************************************!*\\\n  !*** ./src/app/premium/components/price-info/price-info.component.scss ***!\n  \\*************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vY29tcG9uZW50cy9wcmljZS1pbmZvL3ByaWNlLWluZm8uY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/components/price-info/price-info.component.ts\":\n/*!***********************************************************************!*\\\n  !*** ./src/app/premium/components/price-info/price-info.component.ts ***!\n  \\***********************************************************************/\n/*! exports provided: PriceInfoComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PriceInfoComponent\", function() { return PriceInfoComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/essentials/components/price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/_helper/formatCurrency */ \"./src/app/_helper/formatCurrency.ts\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n\n\n\n\n\n\n\n\nvar PriceInfoComponent = /** @class */ (function () {\n    function PriceInfoComponent(mainService, eventService, canvasService, priceService, translate) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.priceService = priceService;\n        this.translate = translate;\n        this.showPriceInfo = false;\n        this.isDisplayPriceInfo = false;\n        this.priceInfoData = [];\n        this.currentProductOtion = \"\";\n        this.subscribeEvents();\n    }\n    PriceInfoComponent.prototype.ngOnInit = function () {\n        var _this_1 = this;\n        var configPaths = ['productdesigner/general/enable_price_info'];\n        // prepare url and payload\n        var url = 'productdesigner/Index/getConfiguration', params = { configPaths: configPaths, key: 'display-price-info' }, cacheKey = 'configuration-display-price-info' + this.mainService.baseUrl;\n        // hit post request\n        this.mainService.getData(url, params, cacheKey).then(function (resp) {\n            _this_1.isDisplayPriceInfo = (resp[0] == 1) ? true : false;\n        }).catch(function (err) { return console.log(err); });\n    };\n    PriceInfoComponent.prototype.subscribeEvents = function () {\n        var _this_1 = this;\n        this.eventService.$sub('priceUpdate', function (priceData) {\n            if (priceData && priceData.label == \"perintingMethod\") {\n                _this_1.printingMethodPrice = priceData.price;\n                _this_1.updatePriceInfo();\n            }\n            else {\n                _this_1.updatePriceInfo();\n            }\n        });\n        this.eventService.$sub('objectAdded', function (obj) {\n            _this_1.updatePriceInfo();\n        });\n        this.eventService.$sub('objectRemoved', function (obj) {\n            _this_1.updatePriceInfo();\n        });\n        this.eventService.$sub('closePriceInfo', function (obj) {\n            _this_1.showPriceInfo = false;\n        });\n    };\n    PriceInfoComponent.prototype.displayInfo = function () {\n        this.showPriceInfo = (this.showPriceInfo == false) ? true : false;\n    };\n    PriceInfoComponent.prototype.updatePriceInfo = function () {\n        this.priceInfoData = [];\n        if (this.priceService.priceAllData) {\n            this.priceFormat = this.priceService.priceAllData.priceFormat;\n            var textCount = this.canvasService.getObjectTypeFromAllCanvas('tab', 'text');\n            var clipartCount = this.canvasService.getObjectTypeFromAllCanvas('tab', 'clipart');\n            var uploadCount = this.canvasService.getObjectTypeFromAllCanvas('tab', 'upload');\n            var totalImgCount = clipartCount + uploadCount;\n            var qty = (this.priceService.totalQty) ? this.priceService.totalQty : 0;\n            var productPrice = (this.priceService.priceAllData['productPrice'][this.mainService.associatedProductId]) ? this.priceService.priceAllData['productPrice'][this.mainService.associatedProductId] : 0;\n            var imagePrice = (this.priceService.priceAllData.addedImagePrice) ? (this.priceService.priceAllData.addedImagePrice) : 0;\n            var customImagePrice = (this.priceService.priceAllData.customAddedImagePrice && uploadCount) ? (this.priceService.priceAllData.customAddedImagePrice) : 0;\n            var textPrice = (this.priceService.priceAllData.addedTextPrice && textCount) ? ((this.priceService.priceAllData.addedTextPrice * textCount) * this.priceService.totalQty) : 0;\n            var fixedPrice = (this.priceService.priceAllData.additionalFixedPrice) ? this.priceService.priceAllData.additionalFixedPrice : 0;\n            var tax = (this.priceService.priceAllData.tax) ? this.priceService.priceAllData.tax : 0;\n            var ImgPrice = 0;\n            var CustomImgPrice = 0;\n            var getOptions = \"\";\n            if (this.mainService.productType == \"configurable\" && this.mainService.productOptions.length > 0) {\n                var selectedDataKey = Object.keys(this.mainService.selectedProductOptions);\n                var selectedDataValue_1 = Object.values(this.mainService.selectedProductOptions);\n                var options = \"\";\n                var _this_2 = this;\n                this.currentProductOtion = \"\";\n                selectedDataKey.forEach(function (opt, index) {\n                    var value = selectedDataValue_1[index];\n                    var optionData = _this_2.mainService.productOptions.find(function (obj) { return (obj.id == opt); });\n                    var optoinValue = optionData.values.find(function (obj) { return (obj.value_index == value); });\n                    _this_2.currentProductOtion = _this_2.currentProductOtion + '|' + optoinValue.label;\n                });\n            }\n            var finalProductPrice = 0;\n            var totalPrice = parseInt(this.priceService.getIntPrice());\n            if (productPrice) {\n                finalProductPrice = productPrice * this.priceService.totalQty;\n                this.priceInfoData.push({ 'label': this.translate.instant('Product Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])(finalProductPrice, this.priceFormat, ''), 'productQty': this.priceService.totalQty });\n            }\n            if (fixedPrice) {\n                var finalFixedPrice = fixedPrice * this.priceService.totalQty;\n                totalPrice = totalPrice - finalFixedPrice;\n                this.priceInfoData.push({ 'label': this.translate.instant('Fixed Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])(finalFixedPrice, this.priceFormat, ''), 'productQty': this.priceService.totalQty });\n            }\n            if (textPrice) {\n                totalPrice = totalPrice - textPrice;\n                this.priceInfoData.push({ 'label': this.translate.instant('Text Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])((textPrice), this.priceFormat, ''), 'isQty': true, 'qty': textCount, 'productQty': this.priceService.totalQty });\n            }\n            if (clipartCount) {\n                ImgPrice = ((imagePrice * clipartCount) * this.priceService.totalQty);\n                totalPrice = totalPrice - ImgPrice;\n                this.priceInfoData.push({ 'label': this.translate.instant('Image Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])(ImgPrice, this.priceFormat, ''), 'isQty': true, 'qty': clipartCount, 'productQty': this.priceService.totalQty });\n            }\n            if (uploadCount) {\n                CustomImgPrice = (((parseInt(customImagePrice) + parseInt(imagePrice)) * uploadCount) * this.priceService.totalQty);\n                totalPrice = totalPrice - CustomImgPrice;\n                this.priceInfoData.push({ 'label': this.translate.instant('Custom Image Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])(CustomImgPrice, this.priceFormat, ''), 'isQty': true, 'qty': uploadCount, 'productQty': this.priceService.totalQty });\n            }\n            if (this.printingMethodPrice) {\n                totalPrice = totalPrice - (this.printingMethodPrice * this.priceService.totalQty);\n                this.priceInfoData.push({ 'label': this.translate.instant('Printing Method Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])((this.printingMethodPrice * this.priceService.totalQty), this.priceFormat, ''), 'productQty': this.priceService.totalQty });\n            }\n            if (this.priceService.extraPriceToBeAdded.customOptionsPrice) {\n                totalPrice = totalPrice - (this.priceService.extraPriceToBeAdded.customOptionsPrice * this.priceService.totalQty);\n                this.priceInfoData.push({ 'label': this.translate.instant('Additional Cost'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])((this.priceService.extraPriceToBeAdded.customOptionsPrice * this.priceService.totalQty), this.priceFormat, ''), 'productQty': this.priceService.totalQty });\n            }\n            this.priceInfoData[0] = { 'label': this.translate.instant('Product Price'), 'value': Object(src_app_helper_formatCurrency__WEBPACK_IMPORTED_MODULE_6__[\"FormatCurrency\"])(totalPrice, this.priceFormat, ''), 'isProductQty': true, 'productQty': this.priceService.totalQty };\n            if (tax) {\n                if (tax) {\n                    this.priceInfoData.push({ 'label': 'Tax', 'value': tax + '%' });\n                }\n            }\n        }\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Input\"])(),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], PriceInfoComponent.prototype, \"data\", void 0);\n    PriceInfoComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[price-info]',\n            template: __webpack_require__(/*! ./price-info.component.html */ \"./src/app/premium/components/price-info/price-info.component.html\"),\n            styles: [__webpack_require__(/*! ./price-info.component.scss */ \"./src/app/premium/components/price-info/price-info.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_4__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_5__[\"CanvasService\"],\n            src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_2__[\"PriceService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__[\"TranslateService\"]])\n    ], PriceInfoComponent);\n    return PriceInfoComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.html\":\n/*!*************************************************************************************************************************!*\\\n  !*** ./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.html ***!\n  \\*************************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<span dropdown *ngIf=\\\"mainService.isAdmin == false\\\">\\n<a href=\\\"javascript:void(0)\\\" dropdownToggle (click)=\\\"false\\\" tooltip=\\\"{{'Share with' | translate}}\\\">\\n  <svg class=\\\"icon icon-share\\\" viewBox=\\\"0 0 30 30\\\">\\n    <use xlink:href=\\\"assets/img/sprite.svg#icon-share\\\"></use>\\n  </svg>\\n</a>\\n<ul *dropdownMenu class=\\\"dropdown-menu social-share\\\">\\n  <li title=\\\"{{'Facebook' | translate}}\\\">\\n      <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n       <svg class=\\\"icon icon-facebook\\\" viewBox=\\\"0 0 50 50\\\" (click)=\\\"Sharing('facebook_share')\\\">\\n         <use xlink:href=\\\"assets/img/sprite.svg#icon-facebook\\\"></use>\\n       </svg>\\n      </a>\\n  </li>\\n  <li title=\\\"{{'Twitter' | translate}}\\\">\\n      <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n       <svg class=\\\"icon icon-twitter\\\" viewBox=\\\"0 0 50 50\\\" (click)=\\\"Sharing('twitter')\\\">\\n         <use xlink:href=\\\"assets/img/sprite.svg#icon-twitter\\\"></use>\\n       </svg>\\n      </a>\\n  </li>\\n\\n  <li title=\\\"{{'Pinterest' | translate}}\\\">\\n      <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n       <svg class=\\\"icon icon-pinterest\\\" viewBox=\\\"0 0 50 50\\\" (click)=\\\"Sharing('pinterest')\\\">\\n         <use xlink:href=\\\"assets/img/sprite.svg#icon-pinterest\\\"></use>\\n       </svg>\\n      </a>\\n  </li>\\n  <li title=\\\"{{'Mail' | translate}}\\\">\\n      <a class=\\\"dropdown-item\\\" href=\\\"javascript:void(0)\\\">\\n       <svg class=\\\"icon icon-mail\\\" viewBox=\\\"0 0 50 50\\\" (click)=\\\"openModal()\\\">\\n         <use xlink:href=\\\"assets/img/sprite.svg#icon-mail\\\"></use>\\n       </svg>\\n      </a>\\n  </li>\\n</ul>\\n</span>\\n\\n<!-- Send Email Form Modal -->\\n<ng-template #mailModal>\\n  <form [formGroup]=\\\"sendMailForm\\\" (ngSubmit)=\\\"Sharing('send_mail')\\\">\\n\\n    <!-- Modal header section -->\\n    <div class=\\\"modal-header\\\">\\n      <h4 class=\\\"modal-title pull-left\\\">{{'Share Design' | translate}}</h4>\\n      <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closeModal()\\\">\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\n      </button>\\n    </div>\\n\\n    <!-- Modal body section -->\\n    <div class=\\\"modal-body\\\">\\n      <div class=\\\"byi-login-tab\\\">\\n        <div class=\\\"byi-float-form\\\">\\n\\n          <!-- Send Email Section -->\\n          <div class=\\\"byi-float-label\\\">\\n            <label>{{'Recipient Email Address' | translate}}</label>\\n            <input type=\\\"text\\\" name=\\\"recipientEmail\\\" [(ngModel)]=\\\"recipientEmail\\\" placeholder=\\\"{{'Email' | translate}}\\\"\\n              formControlName=\\\"recipientEmail\\\" [ngClass]=\\\"{ 'is-invalid': submitted && mf.recipientEmail.errors }\\\"/>\\n            <!-- Send Email Error Message -->\\n            <div *ngIf=\\\"submitted && mf.recipientEmail.errors\\\" class=\\\"byi-error\\\">\\n              <ng-container *ngIf=\\\"mf.recipientEmail.errors.required\\\">{{'Email is required' | translate}}</ng-container>\\n              <ng-container *ngIf=\\\"mf.recipientEmail.errors.email\\\">{{'Invalid Email' | translate}}</ng-container>\\n            </div>\\n          </div>\\n          <!-- Button Section -->\\n          <div class=\\\"byi-form-action\\\">\\n            <button class=\\\"byi-btn\\\" type=\\\"submit\\\">{{'Send Mail' | translate}}</button>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <!-- End of modal body -->\\n  </form>\\n</ng-template>\\n\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.scss\":\n/*!*************************************************************************************************************************!*\\\n  !*** ./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.scss ***!\n  \\*************************************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ByZW1pdW0vbW9kdWxlcy9zb2NpYWwtbWVkaWEtc2hhcmluZy9jb21wb25lbnQvc29jaWFsLW1lZGlhLXNoYXJpbmcvc29jaWFsLW1lZGlhLXNoYXJpbmcuY29tcG9uZW50LnNjc3MifQ== */\"\n\n/***/ }),\n\n/***/ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.ts\":\n/*!***********************************************************************************************************************!*\\\n  !*** ./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.ts ***!\n  \\***********************************************************************************************************************/\n/*! exports provided: SocialMediaSharingComponent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SocialMediaSharingComponent\", function() { return SocialMediaSharingComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_design_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/design.service */ \"./src/app/services/design.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\n/* harmony import */ var ngx_facebook__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-facebook */ \"./node_modules/ngx-facebook/dist/esm/index.js\");\n\n\n\n\n\n\n\n\n\nvar SocialMediaSharingComponent = /** @class */ (function () {\n    function SocialMediaSharingComponent(mainService, designService, eventService, canvasService, formBuilder, translate, fb) {\n        this.mainService = mainService;\n        this.designService = designService;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.formBuilder = formBuilder;\n        this.translate = translate;\n        this.fb = fb;\n        this.submitted = false;\n    }\n    SocialMediaSharingComponent.prototype.ngAfterViewInit = function () {\n        var self = this;\n        setTimeout(function () {\n            var configPaths = ['productdesigner/social_media_upload/facebook_appid'];\n            // prepare url and payload\n            var url = 'productdesigner/Index/getConfiguration', param = { configPaths: configPaths, key: 'social-media-sharing' };\n            var cacheKey = 'configuration-social-media-sharing' + self.mainService.baseUrl;\n            // hit post request\n            self.mainService.getData(url, param, cacheKey).then(function (resp) {\n                var initParams = {\n                    appId: resp[0],\n                    xfbml: true,\n                    version: 'v2.8'\n                };\n                if (self.fb) {\n                    self.fb.init(initParams);\n                }\n            }).catch(function (err) { return console.log(err); });\n        }, 500);\n    };\n    SocialMediaSharingComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        // Create and add script element for load facebook sdk\n        var getFacebookSdk = document.getElementById('facebookSdk');\n        if (!getFacebookSdk) {\n            var script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.src = 'https://connect.facebook.net/en_US/all.js';\n            script.id = 'facebookScript';\n            document.getElementsByTagName('head')[0].appendChild(script);\n        }\n        ;\n        this.initFormGroup();\n        this.eventService.$sub('getCartData', function (data) {\n            _this.productName = data.productName;\n        });\n        this.eventService.$sub('designSaved', function (data) {\n            if (!_this.option || _this.option == '')\n                return;\n            _this.design_url = (data[0].images.base.url);\n            var product_url = _this.mainService.baseUrl + '/productdesigner/index/index/id/' + _this.mainService.productId + '/design/' + btoa(data[0].designId);\n            if (_this.option == \"g_plush\") {\n                var go = \"https://plus.google.com/share?\";\n                var title = \"title=\" + encodeURIComponent(_this.productName);\n                var url = \"url=\" + encodeURIComponent(product_url);\n                var images = \"image=\" + _this.design_url;\n                window.open(go + url + \"&\" + title + \"&\" + images);\n            }\n            else if (_this.option == \"twitter\") {\n                //Here Twitter Sharing\n                var twUrl = \"http://twitter.com/share?text=My Custom Design&url=\" + encodeURIComponent(product_url);\n                window.open(twUrl);\n            }\n            else if (_this.option == \"pinterest\") {\n                //Here Pinterest Sharing\n                var pinterestUrl = \"http://pinterest.com/pin/create/button/?url=\" + (product_url) + \"&media=\" + _this.design_url + \"&description=\" + (\"My Custom Design\");\n                window.open(pinterestUrl);\n            }\n            else if (_this.option == \"facebook_share\") {\n                _this.getCanvasDataUrl().then(function (resp) {\n                    var params = {\n                        method: 'feed',\n                        name: _this.productName,\n                        picture: resp.base.url\n                    };\n                    //Here Facebook Sharing\n                    _this.fb.ui(params)\n                        .then(function (res) { return console.log(res); })\n                        .catch(function (e) { return console.error(e); });\n                }).catch(function (err) {\n                    console.log(\"Error : \", err);\n                });\n            }\n            else if (_this.option == \"send_mail\") {\n                // prepare url and payload\n                var url = 'socialmediasharing/Index/sendmail', param = {\n                    receipentMail: _this.recipientEmail,\n                    design_id: data[0].designId,\n                    product_id: _this.mainService.productId\n                };\n                // hit post request\n                _this.mainService.post(url, param, true).then(function (resp) {\n                    // if mail was send successfull\n                    if (resp && resp.status == \"success\") {\n                        _this.mainService.swal(_this.translate.instant(\"Success\"), _this.translate.instant(\"Mail has been sent\"), 'success').finally(function () { return _this.closeModal(); });\n                    }\n                    // if something went wrong with send mail process\n                    else {\n                        var msg = resp.log;\n                        if (msg.lastIndexOf(\"-\") >= 0)\n                            msg = msg.substr(msg.lastIndexOf(\"-\") + 2);\n                        _this.mainService.swal(_this.translate.instant(\"Error\"), _this.translate.instant(msg), 'error');\n                    }\n                }).catch(function (err) {\n                    console.log(_this.translate.instant(\"Error in send mail: \"), err);\n                });\n            }\n            _this.option = \"\";\n        });\n    };\n    SocialMediaSharingComponent.prototype.initFormGroup = function () {\n        // Send Email form builder\n        this.sendMailForm = this.formBuilder.group({\n            recipientEmail: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__[\"Validators\"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_7__[\"Validators\"].email]]\n        });\n    };\n    SocialMediaSharingComponent.prototype.Sharing = function (option) {\n        this.option = option;\n        var data = {\n            title: this.productName,\n            disablePopup: true\n        };\n        if (this.option == \"send_mail\") {\n            // set flag\n            this.submitted = true;\n            // stop here if form is invalid\n            if (this.sendMailForm.invalid) {\n                return;\n            }\n            // When user hits on send mail button\n            this.designService.saveDesignData(data);\n        }\n        else {\n            this.designService.saveDesignData(data);\n        }\n    };\n    SocialMediaSharingComponent.prototype.openModal = function () {\n        this.modalRef = this.mainService.openThisModal(this.mailModalTemplate);\n    };\n    SocialMediaSharingComponent.prototype.closeModal = function () {\n        this.modalRef.hide();\n    };\n    Object.defineProperty(SocialMediaSharingComponent.prototype, \"mf\", {\n        // get control object for login form\n        get: function () { return this.sendMailForm.controls; },\n        enumerable: true,\n        configurable: true\n    });\n    SocialMediaSharingComponent.prototype.getCanvasDataUrl = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\n                        var currentImageId, response;\n                        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    currentImageId = this.canvasService.activeImageId;\n                                    return [4 /*yield*/, this.mainService.getCanvasDataUrl(false, currentImageId, false)];\n                                case 1:\n                                    response = _a.sent();\n                                    (response && response.base && response.base.url) ? resolve(response) : reject(response);\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); })];\n            });\n        });\n    };\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ViewChild\"])('mailModal'),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:type\", Object)\n    ], SocialMediaSharingComponent.prototype, \"mailModalTemplate\", void 0);\n    SocialMediaSharingComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\n            selector: '[social-media-sharing]',\n            template: __webpack_require__(/*! ./social-media-sharing.component.html */ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.html\"),\n            styles: [__webpack_require__(/*! ./social-media-sharing.component.scss */ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.scss\")]\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_4__[\"MainService\"],\n            src_app_services_design_service__WEBPACK_IMPORTED_MODULE_2__[\"DesignService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_3__[\"CanvasService\"],\n            _angular_forms__WEBPACK_IMPORTED_MODULE_7__[\"FormBuilder\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__[\"TranslateService\"],\n            ngx_facebook__WEBPACK_IMPORTED_MODULE_8__[\"FacebookService\"]])\n    ], SocialMediaSharingComponent);\n    return SocialMediaSharingComponent;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/premium/modules/social-media-sharing/social-media-sharing.module.ts\":\n/*!*************************************************************************************!*\\\n  !*** ./src/app/premium/modules/social-media-sharing/social-media-sharing.module.ts ***!\n  \\*************************************************************************************/\n/*! exports provided: HttpLoaderFactory, SocialMediaSharingModule */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpLoaderFactory\", function() { return HttpLoaderFactory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SocialMediaSharingModule\", function() { return SocialMediaSharingModule; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ \"./node_modules/@angular/common/fesm5/common.js\");\n/* harmony import */ var _component_social_media_sharing_social_media_sharing_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component/social-media-sharing/social-media-sharing.component */ \"./src/app/premium/modules/social-media-sharing/component/social-media-sharing/social-media-sharing.component.ts\");\n/* harmony import */ var node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! node_modules/@angular/forms */ \"./node_modules/@angular/forms/fesm5/forms.js\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/http-loader */ \"./node_modules/@ngx-translate/http-loader/fesm5/ngx-translate-http-loader.js\");\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common/http */ \"./node_modules/@angular/common/fesm5/http.js\");\n/* harmony import */ var ngx_bootstrap_dropdown__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-bootstrap/dropdown */ \"./node_modules/ngx-bootstrap/dropdown/fesm5/ngx-bootstrap-dropdown.js\");\n/* harmony import */ var ngx_facebook__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-facebook */ \"./node_modules/ngx-facebook/dist/esm/index.js\");\n/* harmony import */ var ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-bootstrap/tooltip */ \"./node_modules/ngx-bootstrap/tooltip/fesm5/ngx-bootstrap-tooltip.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction HttpLoaderFactory(httpClient) {\n    return new _ngx_translate_http_loader__WEBPACK_IMPORTED_MODULE_6__[\"TranslateHttpLoader\"](httpClient);\n}\nvar SocialMediaSharingModule = /** @class */ (function () {\n    function SocialMediaSharingModule() {\n    }\n    SocialMediaSharingModule = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"NgModule\"])({\n            declarations: [_component_social_media_sharing_social_media_sharing_component__WEBPACK_IMPORTED_MODULE_3__[\"SocialMediaSharingComponent\"]],\n            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__[\"CommonModule\"], node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_4__[\"FormsModule\"], node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_4__[\"ReactiveFormsModule\"],\n                _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateModule\"].forRoot({\n                    loader: {\n                        provide: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__[\"TranslateLoader\"],\n                        useFactory: HttpLoaderFactory,\n                        deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_7__[\"HttpClient\"]]\n                    }\n                }),\n                ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_10__[\"TooltipModule\"].forRoot(),\n                _angular_common_http__WEBPACK_IMPORTED_MODULE_7__[\"HttpClientModule\"],\n                ngx_bootstrap_dropdown__WEBPACK_IMPORTED_MODULE_8__[\"BsDropdownModule\"].forRoot(),\n                ngx_facebook__WEBPACK_IMPORTED_MODULE_9__[\"FacebookModule\"].forRoot()],\n            exports: [_component_social_media_sharing_social_media_sharing_component__WEBPACK_IMPORTED_MODULE_3__[\"SocialMediaSharingComponent\"]]\n        })\n    ], SocialMediaSharingModule);\n    return SocialMediaSharingModule;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/add-image.service.ts\":\n/*!***********************************************!*\\\n  !*** ./src/app/services/add-image.service.ts ***!\n  \\***********************************************/\n/*! exports provided: AddImageService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AddImageService\", function() { return AddImageService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _canvas_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\n\nvar AddImageService = /** @class */ (function () {\n    function AddImageService(canvasService) {\n        this.canvasService = canvasService;\n    }\n    /**\n     * This is generic function for adding any type of image to canvas\n     *\n     * @param image url to image\n     */\n    AddImageService.prototype.addImage = function (image, data) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var clipartPrice, imgExtensionIndex, extensionName, properties, isSvg, _a;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        // if no image url is passed, return from here only\n                        if (!image)\n                            return [2 /*return*/];\n                        clipartPrice = 0;\n                        if (data && data.hasOwnProperty('tab') && data.tab == \"clipart\") {\n                            clipartPrice = (data.price != null) ? data.price : 0;\n                        }\n                        imgExtensionIndex = image.lastIndexOf('.'), extensionName = image.substr(imgExtensionIndex + 1), properties = {\n                            left: 50,\n                            top: 50,\n                            objType: 'image',\n                            tab: (data && data.tab) ? data.tab : 'upload',\n                            canvas: (data && data.canvas) ? data.canvas : this.canvasService.currentCanvas,\n                            price: clipartPrice,\n                            extension: extensionName,\n                            imageSrc: image,\n                        };\n                        isSvg = (extensionName == 'svg') ? true : false;\n                        // set svg flag to properties for further opearations\n                        properties = Object.assign(properties, { isSvg: isSvg });\n                        if (!\n                        // call function accordingly\n                        (isSvg === true)) \n                        // call function accordingly\n                        return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.addSvgImage(image, properties, true)];\n                    case 1:\n                        _a = _b.sent();\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.addJpgPngImage(image, properties, true)];\n                    case 3:\n                        _a = _b.sent();\n                        _b.label = 4;\n                    case 4:\n                        // call function accordingly\n                        _a;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * for adding svg image on canvas\n     *\n     * @param image url to svg image\n     * @param properties properties\n     */\n    AddImageService.prototype.addSvgImage = function (image, properties, isCenter) {\n        var _this = this;\n        var self = this;\n        return new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                new fabric.loadSVGFromURL(image, function (svgImgObject, options) {\n                    var imgObj = new fabric.Group(svgImgObject);\n                    imgObj['src'] = image;\n                    imgObj.zcustomObjects = imgObj._objects.slice(0);\n                    var rmObj = _this.canvasService.getActiveObject();\n                    if (_this.removeForUltimateLock(rmObj)) {\n                        properties.left = rmObj.left;\n                        properties.top = rmObj.top;\n                        properties.angle = rmObj.angle;\n                        properties.ignoreBestFit = true;\n                        isCenter = false;\n                        imgObj = _this.canvasService.applyUltimateLock(imgObj, false);\n                        imgObj.scaleToWidth(rmObj.width * rmObj.scaleX);\n                    }\n                    var params = {\n                        obj: imgObj,\n                        properties: properties,\n                        canvas: properties.hasOwnProperty('canvas') ? properties.canvas : _this.canvasService.currentCanvas,\n                        crudServiceString: 'this.insertObjectService',\n                        isCenter: isCenter,\n                    };\n                    self.canvasService.objectCRUD(params);\n                    resolve();\n                });\n                return [2 /*return*/];\n            });\n        }); });\n    };\n    /**\n     * for adding jpg/png images\n     *\n     * @param image url to image\n     * @param properties properties\n     */\n    AddImageService.prototype.addJpgPngImage = function (image, properties, isCenter) {\n        var _this = this;\n        var self = this;\n        return new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                new fabric.Image.fromURL(image, function (imgObj) {\n                    imgObj['src'] = image;\n                    var rmObj = _this.canvasService.getActiveObject();\n                    if (_this.removeForUltimateLock(rmObj)) {\n                        properties.left = rmObj.left;\n                        properties.top = rmObj.top;\n                        properties.angle = rmObj.angle;\n                        properties.ignoreBestFit = true;\n                        isCenter = false;\n                        imgObj = _this.canvasService.applyUltimateLock(imgObj, false);\n                        imgObj.scaleToWidth(rmObj.width * rmObj.scaleX);\n                    }\n                    var params = {\n                        obj: imgObj,\n                        properties: properties,\n                        crudServiceString: 'this.insertObjectService',\n                        isCenter: isCenter,\n                    };\n                    self.canvasService.objectCRUD(params);\n                    resolve();\n                }, {\n                    crossOrigin: 'anonymous'\n                });\n                return [2 /*return*/];\n            });\n        }); });\n    };\n    // Remove object When object contain ultimate lock = true\n    AddImageService.prototype.removeForUltimateLock = function (obj) {\n        if (obj && obj.type != \"text\" && obj.ultimatelock == true) {\n            var params = {\n                obj: obj,\n                properties: null,\n                crudServiceString: 'this.removeObjectService',\n                removeUltimateObj: true\n            };\n            this.canvasService.objectCRUD(params);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    AddImageService.prototype.updateImage = function (image) {\n        var obj = this.canvasService.getActiveObject();\n        if (obj && obj.type == \"image\") {\n            var params = {\n                obj: obj,\n                newSrc: image,\n                crudServiceString: 'this.cropperUpdateService',\n            };\n            this.canvasService.objectCRUD(params);\n        }\n    };\n    AddImageService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_canvas_service__WEBPACK_IMPORTED_MODULE_1__[\"CanvasService\"]])\n    ], AddImageService);\n    return AddImageService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/canvas-update.service.ts\":\n/*!***************************************************!*\\\n  !*** ./src/app/services/canvas-update.service.ts ***!\n  \\***************************************************/\n/*! exports provided: CanvasUpdateService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CanvasUpdateService\", function() { return CanvasUpdateService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar CanvasUpdateService = /** @class */ (function () {\n    function CanvasUpdateService() {\n        /**\n       * Init the service for operation : It initialise the variables\n       */\n        this.init = function (params) {\n            var properties = params.properties, canvasService = params.service, currentCanvas = (params.hasOwnProperty('canvas')) ? params.canvas : canvasService.currentCanvas, eventService = params.eventService;\n            var canvasProperties = [];\n            for (var key in properties) {\n                canvasProperties[key] = currentCanvas[key];\n            }\n            return {\n                /**\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\n                 *\n                 */\n                exec: function () {\n                    for (var key in properties) {\n                        currentCanvas[key] = properties[key];\n                    }\n                    currentCanvas.renderAll();\n                    eventService.$pub('canvasBackgroundChange');\n                },\n                unexec: function () {\n                    for (var key in canvasProperties) {\n                        currentCanvas[key] = canvasProperties[key];\n                    }\n                    currentCanvas.renderAll();\n                    eventService.$pub('canvasBackgroundChange');\n                }\n            };\n        };\n    }\n    CanvasUpdateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        })\n    ], CanvasUpdateService);\n    return CanvasUpdateService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/canvas.service.ts\":\n/*!********************************************!*\\\n  !*** ./src/app/services/canvas.service.ts ***!\n  \\********************************************/\n/*! exports provided: CanvasService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CanvasService\", function() { return CanvasService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_essentials_components_cropper_cropper_update_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/cropper/cropper-update.service */ \"./src/app/essentials/components/cropper/cropper-update.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _insert_object_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./insert-object.service */ \"./src/app/services/insert-object.service.ts\");\n/* harmony import */ var _update_object_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./update-object.service */ \"./src/app/services/update-object.service.ts\");\n/* harmony import */ var _remove_object_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./remove-object.service */ \"./src/app/services/remove-object.service.ts\");\n/* harmony import */ var _canvas_update_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./canvas-update.service */ \"./src/app/services/canvas-update.service.ts\");\n/* harmony import */ var src_app_common_components_image_effects_image_effects_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/common/components/image-effects/image-effects.service */ \"./src/app/common/components/image-effects/image-effects.service.ts\");\n/* harmony import */ var _history_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./history.service */ \"./src/app/services/history.service.ts\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/fabric.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var src_app_essentials_components_right_panel_right_panel_update_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/essentials/components/right-panel/right-panel-update.service */ \"./src/app/essentials/components/right-panel/right-panel-update.service.ts\");\n/* harmony import */ var _range_slider_update_service_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./range-slider-update-service.service */ \"./src/app/services/range-slider-update-service.service.ts\");\n/* harmony import */ var _svg_color_update_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./svg-color-update.service */ \"./src/app/services/svg-color-update.service.ts\");\n/* harmony import */ var _multiple_objects_update_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./multiple-objects-update.service */ \"./src/app/services/multiple-objects-update.service.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar CanvasService = /** @class */ (function () {\n    function CanvasService(insertObjectService, updateObjectService, removeObjectService, canvasUpdateService, \n    /*private addImageService: AddImageService,*/\n    imageEffectsService, eventService, historyService, rightPanelUpdateService, cropperUpdateService, rangeSliderUpdateService, svgColorUpdate, multipleObjectsUpdateService) {\n        this.insertObjectService = insertObjectService;\n        this.updateObjectService = updateObjectService;\n        this.removeObjectService = removeObjectService;\n        this.canvasUpdateService = canvasUpdateService;\n        this.imageEffectsService = imageEffectsService;\n        this.eventService = eventService;\n        this.historyService = historyService;\n        this.rightPanelUpdateService = rightPanelUpdateService;\n        this.cropperUpdateService = cropperUpdateService;\n        this.rangeSliderUpdateService = rangeSliderUpdateService;\n        this.svgColorUpdate = svgColorUpdate;\n        this.multipleObjectsUpdateService = multipleObjectsUpdateService;\n        this.containerCanvases = {};\n        this.allImagesWithIds = {};\n        this.allImages = [];\n        this.scaleFactor = 1;\n        this.zoom = 0;\n        this.clipX = {};\n        this.clipY = {};\n        this.allObjects = [];\n        this.mod = 0;\n        this.usedColorArr = [];\n        this.disableAddToCartAlert = false;\n        // for customize control corner size\n        this.cornerSize = 20;\n        // Object custom Properties;\n        this.objProperties = [\"scaleFactor\", \"tab\", \"objType\", \"font_file\", \"id\", 'price', 'isSvg', 'canvasWidth', 'canvasHeight', 'imageSrc', 'src', 'imageDesignId', 'zcustomObjects'];\n        // we will save background of current canvas before changing image side\n        this.oldCanvasBackground = {};\n        // cut/copy/paste object variables\n        this.keyMap = { 17: false, 67: false, 86: false, 88: false };\n        this.copiedObjects = [];\n        this.cutObjects = {};\n        // object limit variable\n        this.objectLimit = {};\n        if (!this.historyService.canvasService) {\n            this.historyService.initCanvasService(this);\n        }\n        // call to method that will create initial events\n        this.initiateEvents();\n    }\n    /**\n     * Create initial events (eg. events for canvas)\n     */\n    CanvasService.prototype.initiateEvents = function () {\n        var _this_1 = this;\n        var _this = this;\n        document.onkeyup = (function (event) {\n            if (_this_1.currentDocumentEvent != null)\n                _this_1.currentDocumentEvent = null;\n        });\n        document.onkeydown = (function (event) {\n            _this_1.checkForCopyPaste(event.keyCode);\n            _this_1.currentDocumentEvent = event;\n            if (event && event.shiftKey) {\n                _this.checkObjectSelection();\n            }\n            if (event.keyCode === 46) { /**  Delete key **/\n                var elements = document.getElementsByClassName(\"noDeleteObject\");\n                var removeObject = 0;\n                for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                    var ctl = elements_1[_i];\n                    if (ctl && ctl.selectionStart) {\n                        var startPos = ctl.selectionStart;\n                        var endPos = ctl.selectionEnd;\n                        if (ctl.value.length == startPos && ctl.value.length == endPos) {\n                            removeObject++;\n                        }\n                    }\n                    else {\n                        removeObject++;\n                    }\n                }\n                if (removeObject == elements.length) {\n                    _this_1.removeCurrentObject();\n                }\n            }\n        });\n        document.ontouchend = (function (event) {\n            _this_1.checkClasses(event);\n        });\n        // when canvas is created we have published this event\n        // we are subscribing it here because as soon as canvas is created, we need to set events like object selected\n        this.eventService.$sub('canvasCreated', function (canvas) {\n            _this_1.setEventsForCanvas(canvas);\n            _this_1.moveObjectsFromCanvasToCanvas(canvas);\n        });\n        this.eventService.$sub('allcanvasCreated', function () {\n            if (_this_1.allObjects.length > 0) {\n                _this_1.loadThisDesign(_this_1.allObjects);\n            }\n        });\n        var self = this;\n        window.addEventListener(\"beforeunload\", function (t) {\n            if (self.hasCanvasObjectOrBackgroundAll() && self.disableAddToCartAlert == false) {\n                t.returnValue = \"Your custom message.\";\n            }\n        });\n        this.eventService.$sub('selectThisObjects', function (objList) {\n            _this_1.selectTheseObjects(objList);\n        });\n        this.prepareObjsToIgnore();\n    };\n    /**\n     * This function will manage cut/copy/paste feature for fabric canvas\n     *\n     * @param pressedKey\n     */\n    CanvasService.prototype.checkForCopyPaste = function (pressedKey) {\n        var _this_1 = this;\n        // if pressed key is either of ctrl/c/x/v\n        if (pressedKey in this.keyMap) {\n            // set flag of that particular map as true      \n            this.keyMap[pressedKey] = true;\n            // when user presses ctrl key\n            // we will set false for c,x and v to avoid conflicts\n            if (pressedKey == 17) {\n                this.keyMap[67] = false;\n                this.keyMap[86] = false;\n                this.keyMap[88] = false;\n            }\n            // ctrl+c\n            else if (this.keyMap[17] && this.keyMap[67]) {\n                // prevent default behaviour\n                event.preventDefault();\n                // get list of objects\n                var objList = this.currentCanvas.getActiveObjects();\n                // if obj list is available\n                if (objList && objList.length) {\n                    // reset copied objects list\n                    this.copiedObjects = [];\n                    // reset cut objects list\n                    this.cutObjects = {};\n                    // traversal\n                    objList.filter(function (currObj) {\n                        _this_1.copiedObjects.push(currObj);\n                    });\n                }\n                // after copied successfully\n                // set copy flag as false\n                this.keyMap[67] = false;\n            }\n            // ctrl+x\n            else if (this.keyMap[17] && this.keyMap[88]) {\n                // prevent default behaviour\n                event.preventDefault();\n                // get list of objects\n                var objList = this.currentCanvas.getActiveObjects();\n                // if obj list is available\n                if (objList && objList.length) {\n                    // reset copied objects list\n                    this.copiedObjects = [];\n                    // reset cup objects list\n                    this.cutObjects = { objects: [], canvas: this.currentCanvas };\n                    // prepare param object to remove current selected objects\n                    var params_1 = { obj: null, properites: {}, crudServiceString: 'this.removeObjectService' };\n                    // traversal\n                    objList.filter(function (currObj) {\n                        _this_1.cutObjects.objects.push(currObj);\n                        params_1.obj = currObj;\n                        _this_1.objectCRUD(params_1);\n                    });\n                }\n                // after copied successfully\n                // set copy flag as false\n                this.keyMap[88] = false;\n            }\n            // ctrl+v\n            else if (this.keyMap[17] && this.keyMap[86]) {\n                // prevent default paste behaviour\n                event.preventDefault();\n                // for ctrl+c\n                if (this.copiedObjects && this.copiedObjects.length) {\n                    this.pasteCopiedObjects();\n                }\n                // for ctrl+x\n                else if (this.cutObjects && this.cutObjects.hasOwnProperty('objects') && this.cutObjects.hasOwnProperty('canvas') && this.cutObjects.objects.length) {\n                    this.pasteCutObjects();\n                }\n            }\n            // if any other key is been pressed,\n            // reset all flags to false\n        }\n        else {\n            this.resetKeyMap();\n        }\n    };\n    /**\n     *\n     */\n    CanvasService.prototype.pasteCopiedObjects = function () {\n        var _this_1 = this;\n        // prepare params obj for object crud\n        var params = {\n            obj: null, properties: {}, crudServiceString: 'this.insertObjectService'\n        };\n        // flag number for position\n        var flagNumber = 0, preventObject;\n        // copied object traversal\n        this.copiedObjects.filter(function (copiedObj) {\n            // flag number incrementation\n            flagNumber += 5;\n            preventObject = false;\n            // check for text objects limit\n            if (copiedObj.tab && copiedObj.tab == 'text') {\n                var totalTextObjects = _this_1.getObjectTypeFromAllCanvas('tab', 'text');\n                totalTextObjects = (totalTextObjects) ? totalTextObjects : 0;\n                if (totalTextObjects >= _this_1.objectLimit.textLimitCounter) {\n                    _this_1.eventService.$pub('displayTextLimitError');\n                    preventObject = true;\n                }\n            }\n            // check for clipart upload limit\n            else if (copiedObj.tab && copiedObj.tab == 'clipart') {\n                var totalClipartObjects = _this_1.getObjectTypeFromAllCanvas('tab', 'clipart');\n                totalClipartObjects = (totalClipartObjects) ? totalClipartObjects : 0;\n                if (totalClipartObjects >= _this_1.objectLimit.clipartImageLimit) {\n                    _this_1.eventService.$pub('displayClipartLimitError');\n                    preventObject = true;\n                }\n            }\n            // check for custom image upload limit\n            else if (copiedObj.tab && copiedObj.tab == 'upload') {\n                var totalUploadedImages = _this_1.getObjectTypeFromAllCanvas('tab', 'upload');\n                totalUploadedImages = (totalUploadedImages) ? totalUploadedImages : 0;\n                if (totalUploadedImages >= _this_1.objectLimit.uploadImageLimit) {\n                    _this_1.eventService.$pub('displayUploadImageLimitError');\n                    preventObject = true;\n                }\n            }\n            // if object is allowed to be added\n            if (!preventObject) {\n                // object clone\n                // let tmpObj = fabric.util.object.clone(copiedObj);\n                copiedObj.clone(function (tmpObj) {\n                    // set position of cloned object\n                    tmpObj.set(\"top\", tmpObj.top + flagNumber);\n                    tmpObj.set(\"left\", tmpObj.left + flagNumber);\n                    // set cloned object to params obj\n                    params.obj = tmpObj;\n                    // copy custom object properites\n                    _this_1.objProperties.filter(function (customProperty) {\n                        if (customProperty != 'id') {\n                            params.properties[customProperty] = copiedObj[customProperty];\n                        }\n                    });\n                    // append this property which will prevent auto best fit\n                    params.properties = Object.assign(params.properties, { ignoreBestFit: true });\n                    // add object\n                    _this_1.objectCRUD(params);\n                });\n            }\n        });\n    };\n    /**\n     *\n     */\n    CanvasService.prototype.pasteCutObjects = function (pasteToSameCanvas) {\n        var _this_1 = this;\n        if (pasteToSameCanvas === void 0) { pasteToSameCanvas = false; }\n        // prepare params obj for object crud\n        var params = {\n            obj: null, properties: {}, crudServiceString: 'this.insertObjectService', canvas: this.currentCanvas\n        };\n        // \n        if (pasteToSameCanvas) {\n            params.canvas = this.cutObjects.canvas;\n        }\n        // copied object traversal\n        this.cutObjects.objects.filter(function (copiedObj) {\n            // set cloned object to params obj\n            params.obj = copiedObj;\n            // copy custom object properites\n            _this_1.objProperties.filter(function (customProperty) {\n                params.properties[customProperty] = copiedObj[customProperty];\n            });\n            // append this property which will prevent auto best fit\n            params.properties = Object.assign(params.properties, { ignoreBestFit: true });\n            // add object\n            _this_1.objectCRUD(params);\n        });\n        // we will allow to move object only once\n        this.cutObjects = {};\n    };\n    /**\n     * Reset all flag values to false\n     */\n    CanvasService.prototype.resetKeyMap = function () {\n        for (var key in this.keyMap) {\n            this.keyMap[key] = false;\n        }\n    };\n    /**\n     * This function will prepare productimage object\n     * this object is used in getObjects function of current service\n     * all objects that matches any of the productimage properties, will be ignored\n     */\n    CanvasService.prototype.prepareObjsToIgnore = function () {\n        this.objsToIgnore = [\n            {\n                key: 'productimage',\n                value: true\n            }\n        ];\n    };\n    CanvasService.prototype.checkClasses = function (event) {\n        this.checkObjectSelection();\n        var toggleElementEvents = {\n            '.byi-products-inner,.product-tooltip': 'closeAllProducts',\n            '.byi-imagecolor-list .byic_color_action , .byi-imagecolor-list .byic-colors-select,.byie-custom-color': 'closeColorPicker',\n            '.byi-imagecolor-list .byic_color_action , .byi-imagecolor-list .byic-colors-select': 'closeImageEffectColorPicker',\n            '.byi-fonts': 'closeFontWrapper',\n            '.byi-layer': 'closeLayer',\n            '.byi-mob-output-action': 'closeHeaderIcon',\n            '.byi-product-attr': 'closeProductOptions',\n            '.byi-general-option-mob': 'closeSideBar',\n            '.cart-info, .byi-info-display': 'closePriceInfo',\n        };\n        var elements = [];\n        var outsideClickCounter = 0;\n        for (var elementClass in toggleElementEvents) {\n            var eventName = toggleElementEvents[elementClass];\n            elements = document.querySelectorAll(elementClass);\n            outsideClickCounter = 0;\n            for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n                var element = elements_2[_i];\n                if (!element.contains(event.target)) {\n                    outsideClickCounter++;\n                }\n            }\n            if (outsideClickCounter == elements.length) {\n                this.eventService.$pub(eventName);\n            }\n        }\n        var selectClassList = event.target.classList;\n        for (var i = 0; i < selectClassList.length; i++) {\n            var className = selectClassList[i];\n            // To discard Active Object from Canvas\n            if (className == 'byi-svg-editor-box' || className == 'product-designer-main-content') {\n                this.discardActiveObjectAllCanvas();\n            }\n        }\n        elements = document.querySelectorAll('.nav-item:not(.isResponsiveTab)');\n        for (var _a = 0, elements_3 = elements; _a < elements_3.length; _a++) {\n            var element = elements_3[_a];\n            if (element.contains(event.target)) {\n                this.discardActiveObjectAllCanvas();\n                break;\n            }\n        }\n        elements = document.querySelectorAll('.byi-idea .byi-accordion-title');\n        for (var _b = 0, elements_4 = elements; _b < elements_4.length; _b++) {\n            var element = elements_4[_b];\n            if (element.contains(event.target)) {\n                this.discardActiveObjectAllCanvas();\n                break;\n            }\n        }\n    };\n    /**\n     this method will do CRUD operation like insert/remove/update based on crudService variable\n     * @param  params\n     * @return {[type]}        [description]\n     */\n    CanvasService.prototype.objectCRUD = function (params) {\n        var crudServiceString = params.hasOwnProperty('crudServiceString') ? params.crudServiceString : null;\n        params.isCenter = params.hasOwnProperty('isCenter') ? params.isCenter : false;\n        params.isHistory = params.hasOwnProperty('isHistory') ? params.isHistory : true;\n        params.isSvg = params.hasOwnProperty('isSvg') ? params.isSvg : false;\n        params.isObjectModify = params.hasOwnProperty('isObjectModify') ? params.isObjectModify : false;\n        params.service = this;\n        params.eventService = this.eventService;\n        params.canvas = params.hasOwnProperty('canvas') ? params.canvas : this.currentCanvas;\n        params.setActive = params.hasOwnProperty('setActive') ? params.setActive : true;\n        var crudService;\n        if (crudServiceString) {\n            crudService = eval(crudServiceString);\n        }\n        else {\n            crudService = params.crudService;\n        }\n        // This method initialise object properties\n        var cmd = new crudService.init(params);\n        // This method execute the current CRUD operation\n        cmd.exec();\n        // This method push the current service into history\n        if (params.isHistory) {\n            this.historyService.push(cmd);\n        }\n    };\n    /**\n     * Prepare and return property object for best fit opearation\n     *\n     * @param obj canvas object(if null then we will fetch current active object)\n     */\n    CanvasService.prototype.getBestFitProperties = function (obj) {\n        if (obj === void 0) { obj = null; }\n        // if no obj is provided, we will fetch current object\n        // this is set as default parameter because in case of insertCanvas, we need to specify the object\n        if (obj == null)\n            obj = this.getActiveObject();\n        // if no object is found, return from here\n        if (!obj)\n            return;\n        // variable declaration\n        var imageAspectRatio = obj.width / obj.height, canvas = this.currentCanvas, canvasAspectRatio = canvas.width / canvas.height, renderableHeight, renderableWidth, xStart, yStart, mainHeight = canvas.height - this.clipY[canvas.designarea_id], mainWidth = canvas.width - this.clipX[canvas.designarea_id], objWidth = obj.width, objHeight = obj.height;\n        // If image's aspect ratio is less than canvas's we fit on height\n        // and place the image centrally along width\n        if (imageAspectRatio < canvasAspectRatio) {\n            renderableHeight = mainHeight;\n            renderableWidth = objWidth * (renderableHeight / objHeight);\n            xStart = (mainWidth - renderableWidth) / 2;\n            yStart = 0;\n        }\n        // If image's aspect ratio is greater than canvas's we fit on width\n        // and place the image centrally along height\n        else if (imageAspectRatio > canvasAspectRatio) {\n            renderableWidth = mainWidth;\n            renderableHeight = objHeight * (renderableWidth / objWidth);\n            xStart = 0;\n            yStart = (mainHeight - renderableHeight) / 2;\n        }\n        // Happy path - keep aspect ratio\n        else {\n            renderableHeight = mainHeight;\n            renderableWidth = mainWidth;\n            xStart = 0;\n            yStart = 0;\n        }\n        // return in object format\n        return { left: xStart, top: yStart, width: renderableWidth, height: renderableHeight };\n    };\n    /**\n     * Filter best fit object based on object type\n     *\n     * @param bestFitProperties best fit object\n     * @param obj canvas object\n     */\n    CanvasService.prototype.filterBestFitProperties = function (bestFitProperties, obj) {\n        if (obj === void 0) { obj = null; }\n        // if no object found, fetch current active object\n        if (obj == null)\n            obj = this.getActiveObject();\n        // store objType to local variable\n        var objType = obj.objType;\n        // Check object type and perform operation accordingly\n        switch (objType) {\n            // in case of image, we will scale to best fit and remove height and width from property object\n            case 'image':\n                obj.scaleToHeight(bestFitProperties.height);\n                obj.scaleToWidth(bestFitProperties.width);\n                delete bestFitProperties.height;\n                delete bestFitProperties.width;\n                break;\n            // in case of text, we will calculate scaleX and scaleY and remove top and left from property object\n            case 'text':\n            default:\n                obj.textAlign = 'center';\n                obj = Object.assign(obj, {\n                    scaleX: (bestFitProperties.width / obj.width),\n                    scaleY: (bestFitProperties.height / obj.height)\n                });\n                bestFitProperties = obj;\n                break;\n        }\n        // finally return the property object\n        return bestFitProperties;\n    };\n    /**\n     * this function checks whether any object is selected on current canvas, if yes return the object, false otherwise\n     */\n    CanvasService.prototype.getActiveObject = function () {\n        // if no canvas is selected currently, return false\n        if (!this.currentCanvas)\n            return false;\n        // store current active obj to local var\n        var obj = this.currentCanvas.getActiveObject();\n        // check whether it's empty, if so replace it with false boolean\n        obj = (obj) ? obj : false;\n        // return above local variable\n        return obj;\n    };\n    /**\n     * Get Active object from all present canvases\n     * On load template selected canvas and selected object may not be same\n     */\n    CanvasService.prototype.getActiveObjectFromAllCanvases = function () {\n        // if no canvases present, return false\n        if (!this.containerCanvases || !Object.keys(this.containerCanvases).length)\n            return false;\n        // variable declaration\n        var allCanvases = this.containerCanvases, currCanvas, selectedObj;\n        // traverse through each canvas\n        for (var key in allCanvases) {\n            // get canvas instance\n            currCanvas = allCanvases[key];\n            // get active object of current canvas instance\n            selectedObj = currCanvas.getActiveObject();\n            // if found, break the loop\n            if (selectedObj)\n                break;\n        }\n        // is object is found, return the same, return false otherwise\n        return (selectedObj) ? selectedObj : false;\n    };\n    /**\n     * this method will set common usefull events for specified canvas\n     *\n     * @param canvas canvas obj\n     */\n    CanvasService.prototype.setEventsForCanvas = function (canvas) {\n        var _this_1 = this;\n        canvas.on('object:added', function (event) {\n            var obj = (event && event.target) ? event.target : false;\n            if (obj && obj.hasOwnProperty('ultimatelock')) {\n                obj = _this_1.applyUltimateLock(obj);\n                _this_1.currentCanvas.renderAll();\n            }\n        });\n        canvas.on('object:modified', function (event) {\n            _this_1.mod++;\n            _this_1.eventService.$pub('canvasObjectModified', event.target);\n        });\n        canvas.on('object:moving', function (event) {\n            _this_1.eventService.$pub('canvasObjectMoving', event.target);\n        });\n        canvas.on('object:scaling', function (event) {\n            _this_1.eventService.$pub('canvasObjectScaling', event.target);\n        });\n        canvas.on('object:scaled', function (event) {\n            _this_1.eventService.$pub('canvasObjectScaled', event.target);\n        });\n        canvas.on('before:selection:cleared', function (event) {\n            _this_1.eventService.$pub('objectBeforeSelectionCleared', event.target);\n        });\n        canvas.on('selection:cleared', function (event) {\n            _this_1.usedColorsCounter();\n            _this_1.eventService.$pub('objectSelectionCleared', event.target);\n        });\n        canvas.on('selection:created', function (event) {\n            _this_1.checkObjectSelection();\n            _this_1.usedColorsCounter();\n            _this_1.eventService.$pub('objectSelectionCreated', event.target);\n        });\n        canvas.on('selection:updated', function (event) {\n            _this_1.usedColorsCounter();\n            _this_1.eventService.$pub('objectSelectionUpdated', event.target);\n        });\n        this.eventService.$sub('objectUpdated', function () {\n            _this_1.usedColorsCounter();\n        });\n        this.eventService.$sub('canvasBackgroundChange', function () {\n            _this_1.usedColorsCounter();\n        });\n        this.eventService.$sub('backgroundPatternsApplied', function () {\n            _this_1.usedColorsCounter();\n        });\n        canvas.on(\"after:render\", function (event) {\n            _this_1.eventService.$pub('canvasAfterRender', canvas);\n        });\n    };\n    CanvasService.prototype.checkObjectSelection = function () {\n        if (!this.currentCanvas)\n            return;\n        var selectedObj = this.currentCanvas.getActiveObjects(), objToSelect = [], checkIfUltimateLock;\n        checkIfUltimateLock = selectedObj.find(function (obj) { return (obj.ultimatelock == true); });\n        if (checkIfUltimateLock && selectedObj.length > 1) {\n            selectedObj.filter(function (currObj) {\n                if (!currObj.ultimatelock) {\n                    objToSelect.push(currObj);\n                }\n            });\n            if (objToSelect.length > 0) {\n                var canvas = this.currentCanvas;\n                var temp_1 = [];\n                objToSelect.forEach(function (obj) {\n                    if (obj.ultimatelock != true && obj.selectable == true) {\n                        temp_1.push(obj);\n                    }\n                });\n                canvas.discardActiveObject();\n                var sel = new fabric__WEBPACK_IMPORTED_MODULE_10__[\"fabric\"].ActiveSelection(temp_1, {\n                    canvas: canvas,\n                });\n                canvas.setActiveObject(sel);\n                canvas.requestRenderAll();\n            }\n            else {\n                this.deselectAllObjects();\n            }\n        }\n    };\n    /**\n     * Deselect all objects on canvas\n     */\n    CanvasService.prototype.deselectAllObjects = function () {\n        if (!this.currentCanvas) {\n            return;\n        }\n        this.currentCanvas.discardActiveObject().renderAll();\n    };\n    /**\n     * [Fetches all objects of all container canvases]\n     */\n    CanvasService.prototype.fetchAllObjects = function () {\n        var index = 0;\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var canvas = this.containerCanvases[key];\n            this.allObjects[index] = [];\n            this.allObjects[index] = this.getObjects(canvas);\n            var background = null;\n            if (canvas.backgroundColor) {\n                background = { key: 'backgroundColor', val: canvas.backgroundColor };\n            }\n            else if (canvas.backgroundImage) {\n                background = { key: 'backgroundImage', val: canvas.backgroundImage };\n            }\n            if (background != null)\n                this.allObjects[index] = Object.assign(this.allObjects[index], { background: background });\n            index++;\n        }\n    };\n    /**\n     * [It will move all objects from one canvas to another if product options are changed, Add all fetched objects to current canvas]\n     * @param canvas [current canvas]\n     */\n    CanvasService.prototype.moveObjectsFromCanvasToCanvas = function (canvas) {\n        var _this_1 = this;\n        if (Object.keys(this.allObjects).length > 0) {\n            var objects = this.allObjects[canvas.designarea_id];\n            for (var index in objects) {\n                var obj = objects[index];\n                this.currentCanvas = canvas;\n                var params = {\n                    obj: obj,\n                    properties: {},\n                    crudServiceString: 'this.insertObjectService',\n                    isCenter: false,\n                    isHistory: false,\n                };\n                this.objectCRUD(params);\n            }\n            this.allObjects[canvas.designarea_id] = {};\n        }\n        if (this.oldCanvasBackground && Object.keys(this.oldCanvasBackground).length > 0) {\n            var properties = {}, params_2 = {\n                crudServiceString: 'this.canvasUpdateService',\n                isHistory: true\n            };\n            properties[this.oldCanvasBackground.key] = this.oldCanvasBackground.val;\n            params_2 = Object.assign(params_2, { properties: properties });\n            setTimeout(function () {\n                _this_1.objectCRUD(params_2);\n            }, 100);\n        }\n    };\n    CanvasService.prototype.loadThisDesign = function (designObj) {\n        var _this_1 = this;\n        var allCanvases = this.containerCanvases, index = 0, params = {\n            obj: null, properties: {}, canvas: {}, crudServiceString: 'this.insertObjectService', isCenter: false,\n            isHistory: false\n        }, obj = null;\n        for (var key in allCanvases) {\n            if (designObj[index]) {\n                obj = designObj[index];\n                params.properties = {};\n                params.crudServiceString = 'this.insertObjectService';\n                params.canvas = allCanvases[key];\n                obj.filter(function (o) {\n                    params.obj = o;\n                    _this_1.objectCRUD(params);\n                });\n                if (obj.hasOwnProperty('background')) {\n                    params.properties[obj.background.key] = obj.background.val;\n                    params.crudServiceString = 'this.canvasUpdateService';\n                    this.objectCRUD(params);\n                }\n            }\n            index++;\n        }\n    };\n    /**\n     * [Resize all objects of canvas based on scaleFactor]\n     * @param {[type]} canvas [current canvas]\n     */\n    CanvasService.prototype.resizeCanvasObjects = function (canvas) {\n        var objectsLen = canvas.getObjects().length;\n        if (objectsLen > 0) {\n            for (var i = 0; i < objectsLen; i++) {\n                var obj = this.resizeObjectAsPerScale(canvas.getObjects()[i]);\n                obj.setCoords();\n            }\n        }\n    };\n    CanvasService.prototype.getActiveObjectValue = function (objType, objKeyName) {\n        var value = false, obj = this.getActiveObject();\n        if (obj && obj.type == objType && obj[objKeyName]) {\n            value = obj[objKeyName];\n        }\n        return value;\n    };\n    CanvasService.prototype.getObject = function (objtype) {\n        var objCount = 0;\n        var allObj = this.getObjects();\n        allObj.filter(function (obj) {\n            if (obj.type == objtype)\n                objCount++;\n        });\n        return objCount;\n    };\n    CanvasService.prototype.getObjectTypeFromAllCanvas = function (key, value) {\n        var objCount = 0;\n        var allCanvas = this.containerCanvases;\n        for (var canvasKey in allCanvas) {\n            var allObj = this.getObjects(allCanvas[canvasKey]);\n            allObj.filter(function (obj) {\n                if (obj.hasOwnProperty(key) && obj[key] && obj[key] == value)\n                    objCount++;\n            });\n        }\n        return objCount;\n    };\n    CanvasService.prototype.calculateTax = function (tax, price, includeTax) {\n        return parseFloat(price);\n    };\n    /* for Price */\n    CanvasService.prototype.fetchAllObjectPrices = function (priceObj) {\n        var _this_1 = this;\n        var totalTextPrice = 0;\n        var totalClipartImgPrice = 0;\n        var totalUploadImgPrice = 0;\n        var totalTextExcluTaxPrice = 0;\n        var totalClipartImgExcluTaxPrice = 0;\n        var totalUploadImgExcluTaxPrice = 0;\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var canvas = this.containerCanvases[key];\n            this.getObjects(canvas).filter(function (obj) {\n                if (obj.type == 'text') {\n                    totalTextPrice += _this_1.calculateTax(priceObj.tax, priceObj.textPrice, priceObj.addTax);\n                    totalTextExcluTaxPrice += priceObj.textPrice;\n                }\n                if (obj.tab == 'clipart') {\n                    var clipartPrice = (obj.price != \"\" && obj.price != null && obj.price > 0) ? parseFloat(obj.price) : parseFloat(priceObj.addImagePrice);\n                    totalClipartImgPrice += _this_1.calculateTax(priceObj.tax, clipartPrice, priceObj.addTax);\n                    totalClipartImgExcluTaxPrice += clipartPrice;\n                }\n                if (obj.tab == 'upload') {\n                    var UploadImgPrice = (parseFloat(priceObj.uploadPrice) + parseFloat(priceObj.addImagePrice));\n                    totalUploadImgPrice += _this_1.calculateTax(priceObj.tax, UploadImgPrice, priceObj.addTax);\n                    totalUploadImgExcluTaxPrice += UploadImgPrice;\n                }\n            });\n        }\n        return {\n            totalTextPrice: totalTextPrice,\n            totalClipartImgPrice: totalClipartImgPrice,\n            totalUploadImgPrice: totalUploadImgPrice,\n            totalTextExcluTaxPrice: totalTextExcluTaxPrice,\n            totalClipartImgExcluTaxPrice: totalClipartImgExcluTaxPrice,\n            totalUploadImgExcluTaxPrice: totalUploadImgExcluTaxPrice\n        };\n    };\n    CanvasService.prototype.initZoom = function () {\n        if (window.innerWidth > 1024 && window.innerHeight < 768 && this.zoom == 0) {\n            this.zoom = -0.4;\n        }\n        if (window.innerWidth > 1024 && window.innerHeight > 900 && this.zoom == 0) {\n            this.zoom = 0.2;\n        }\n    };\n    CanvasService.prototype.initScaleFactor = function () {\n        if (window.innerWidth < 640) {\n            if (window.innerWidth < 640 && window.innerWidth >= 480) {\n                this.scaleFactor = 1.4;\n            }\n            if (window.innerWidth < 480 && window.innerWidth >= 320) {\n                this.scaleFactor = 1.8;\n            }\n            if (window.innerWidth < 320) {\n                this.scaleFactor = 3.4;\n            }\n        }\n        else {\n            this.scaleFactor = 1;\n        }\n        this.scaleFactor = this.scaleFactor - this.zoom;\n        return this.scaleFactor;\n    };\n    /**\n     * Return data url of canvases of mentioned image id\n     * @param  currentImageId [Image id of canvas]\n     */\n    CanvasService.prototype.getCanvasDataUrl = function (currentImageId) {\n        var images = {};\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var canvas = this.containerCanvases[key];\n            if (this.hasCanvasObjectOrBackground(canvas)) {\n                if (canvas.image_id == currentImageId) {\n                    var image = canvas.toDataURL({\n                        format: \"png\",\n                        multiplier: this.scaleFactor,\n                        quality: 1.0\n                    });\n                    image = image.substr(image.indexOf(',') + 1).toString();\n                    images[key] = image;\n                }\n            }\n        }\n        return images;\n    };\n    CanvasService.prototype.getCanvasToJson = function () {\n        var containerCanvasesJSON = {};\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var canvas = this.containerCanvases[key];\n            if (this.hasCanvasObjectOrBackground(canvas)) {\n                var canvasJson = canvas.toJSON(this.objProperties);\n                containerCanvasesJSON[key] = canvasJson;\n            }\n        }\n        return containerCanvasesJSON;\n    };\n    /**\n     * Load design based on json\n     */\n    CanvasService.prototype.loadDesign = function (designData) {\n        var jsonObjects = JSON.parse(designData.json_objects);\n        var containerCanvasesKeys = Object.keys(this.containerCanvases);\n        var containerCanvasesKeysFlag = 0;\n        var jsonObjectsFlag = 0;\n        var data = {\n            containerCanvasesKeys: containerCanvasesKeys,\n            containerCanvasesKeysFlag: containerCanvasesKeysFlag,\n            jsonObjectsFlag: jsonObjectsFlag,\n            jsonObjects: jsonObjects,\n            productId: designData.associated_product_id,\n            currentProductId: designData.currentProductId,\n        };\n        this.loadSingleCanvasDesign(data);\n    };\n    /**\n     * It will add object in current canvas and will call next canvas load\n     */\n    CanvasService.prototype.loadSingleCanvasDesign = function (data) {\n        var self = this;\n        var imageDesignId = data.containerCanvasesKeys[data.containerCanvasesKeysFlag];\n        if (imageDesignId == undefined) {\n            return;\n        }\n        var canvas = this.containerCanvases[imageDesignId];\n        var params = {\n            canvas: canvas\n        };\n        var currentJsonObjects = data.jsonObjects[imageDesignId];\n        /**\n         * If Product is different then fetch object from json object and add to canvas\n         */\n        if (currentJsonObjects == undefined) {\n            if (data.productId != data.currentProductId) {\n                currentJsonObjects = data.jsonObjects[Object.keys(data.jsonObjects)[data.containerCanvasesKeysFlag + data.jsonObjectsFlag]];\n                if (currentJsonObjects == undefined) {\n                    return;\n                }\n                data.differentProduct = true;\n                if (currentJsonObjects.objects.length == 0) {\n                    data.jsonObjectsFlag++;\n                    self.loadSingleCanvasDesign(data);\n                }\n                params.differentProduct = data.differentProduct ? data.differentProduct : false;\n            }\n            else {\n                data.containerCanvasesKeysFlag++;\n                self.loadSingleCanvasDesign(data);\n            }\n        }\n        if (currentJsonObjects == undefined) {\n            return;\n        }\n        if (currentJsonObjects && currentJsonObjects.background) {\n            canvas.setBackgroundColor(currentJsonObjects.background);\n            canvas.renderAll();\n        }\n        fabric__WEBPACK_IMPORTED_MODULE_10__[\"fabric\"].util.enlivenObjects(currentJsonObjects.objects, function (objectData) {\n            var totalObjects = objectData.length;\n            var count = 1;\n            if (objectData.length > 0) {\n                objectData.forEach(function (obj) {\n                    params.obj = obj;\n                    self.addObjectAsPerScale(params);\n                    if (totalObjects == count) {\n                        data.containerCanvasesKeysFlag++;\n                        self.loadSingleCanvasDesign(data);\n                    }\n                    count++;\n                });\n            }\n            else {\n                data.containerCanvasesKeysFlag++;\n                self.loadSingleCanvasDesign(data);\n            }\n        });\n    };\n    CanvasService.prototype.addSvgImage = function (obj, properties, isCenter) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var self;\n            var _this_1 = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                self = this;\n                return [2 /*return*/, new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this_1, void 0, void 0, function () {\n                        var _this_1 = this;\n                        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                            new fabric__WEBPACK_IMPORTED_MODULE_10__[\"fabric\"].loadSVGFromURL(obj.src, function (svgImgObject, options) {\n                                var imgObj = new fabric__WEBPACK_IMPORTED_MODULE_10__[\"fabric\"].Group(svgImgObject);\n                                imgObj['src'] = obj.src;\n                                var oldFill = [];\n                                //get style of orignal object\n                                obj._objects.forEach(function (data) {\n                                    oldFill.push(data.fill);\n                                });\n                                //add style to new object\n                                imgObj._objects.forEach(function (data, index) {\n                                    data.set({ fill: oldFill[index] });\n                                });\n                                _this_1.objProperties.filter(function (customProperty) {\n                                    properties[customProperty] = obj[customProperty];\n                                });\n                                var params = {\n                                    obj: imgObj,\n                                    canvas: properties.canvas,\n                                    properties: properties,\n                                    crudServiceString: 'this.insertObjectService',\n                                    isCenter: isCenter,\n                                    isHistory: false,\n                                };\n                                self.objectCRUD(params);\n                                /*this.cdr.detectChanges();*/\n                                resolve();\n                            });\n                            return [2 /*return*/];\n                        });\n                    }); })];\n            });\n        });\n    };\n    /**\n     * It will add object by load\n     * @param objectData [canvas and object details]\n     */\n    CanvasService.prototype.addObjectAsPerScale = function (objectData) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var _this_1 = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this_1, void 0, void 0, function () {\n                        var canvas, obj, data, canvasData, params, canvasData;\n                        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    canvas = objectData.canvas;\n                                    obj = this.resizeObjectAsPerScale(objectData.obj);\n                                    /**\n                                  * If different product then change left top and scaleX scaleY with current canvas\n                                  */\n                                    if (objectData.differentProduct) {\n                                        obj = this.resizeObjectAsPerCanvas(obj, canvas);\n                                    }\n                                    if (!(obj.type == \"group\")) return [3 /*break*/, 2];\n                                    data = obj.toJSON();\n                                    delete data.objects;\n                                    data.canvas = canvas;\n                                    return [4 /*yield*/, this.addSvgImage(obj, data, false)];\n                                case 1:\n                                    _a.sent();\n                                    canvasData = { image_id: canvas.image_id, design_area_id: canvas.designarea_id };\n                                    this.eventService.$pub('imageSideChangeBefore', canvasData);\n                                    //}\n                                    resolve(true);\n                                    return [3 /*break*/, 3];\n                                case 2:\n                                    params = {\n                                        obj: obj,\n                                        canvas: canvas,\n                                        properties: {},\n                                        crudServiceString: 'this.insertObjectService',\n                                        isHistory: false,\n                                        isCenter: false\n                                    };\n                                    this.objectCRUD(params);\n                                    canvasData = { image_id: canvas.image_id, design_area_id: canvas.designarea_id };\n                                    this.eventService.$pub('imageSideChangeBefore', canvasData);\n                                    // }\n                                    resolve(true);\n                                    _a.label = 3;\n                                case 3: return [2 /*return*/];\n                            }\n                        });\n                    }); })];\n            });\n        });\n    };\n    /**\n    * It will resize object as per current canvas\n    */\n    CanvasService.prototype.resizeObjectAsPerCanvas = function (obj, canvas) {\n        obj.left = (canvas.width * obj.left) / obj.canvasWidth;\n        obj.top = (canvas.height * obj.top) / obj.canvasHeight;\n        obj.scaleX = (canvas.width * obj.scaleX) / obj.canvasWidth;\n        obj.scaleY = (canvas.height * obj.scaleY) / obj.canvasHeight;\n        return obj;\n    };\n    /**\n     * It will resize object as per current scaleFactor\n     */\n    CanvasService.prototype.resizeObjectAsPerScale = function (obj) {\n        obj.top = (obj.scaleFactor * obj.top) / this.scaleFactor;\n        obj.left = (obj.scaleFactor * obj.left) / this.scaleFactor;\n        obj.scaleX = (obj.scaleFactor * obj.scaleX) / this.scaleFactor;\n        obj.scaleY = (obj.scaleFactor * obj.scaleY) / this.scaleFactor;\n        obj.scaleFactor = this.scaleFactor;\n        return obj;\n    };\n    /**\n     * It discard all active objects from canvas\n     */\n    CanvasService.prototype.discardActiveObjectAllCanvas = function () {\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var canvas = this.containerCanvases[key];\n            canvas.discardActiveObject().renderAll();\n        }\n    };\n    CanvasService.prototype.deleteThisObject = function (obj) {\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var canvas = this.containerCanvases[key];\n            canvas.remove(obj).renderAll();\n        }\n    };\n    // It will remove all objects from canvas\n    CanvasService.prototype.clearCanvas = function (c) {\n        if (c === void 0) { c = null; }\n        if (c) {\n            var objects = this.getObjects(c);\n            if (objects.length > 0) {\n                for (var _i = 0, objects_1 = objects; _i < objects_1.length; _i++) {\n                    var obj = objects_1[_i];\n                    var params_3 = {\n                        obj: obj,\n                        canvas: c,\n                        properties: null,\n                        crudServiceString: 'this.removeObjectService',\n                        isHistory: false,\n                        removeUltimateObj: true\n                    };\n                    this.objectCRUD(params_3);\n                }\n            }\n            var params = {\n                properties: {\n                    backgroundColor: null\n                },\n                crudServiceString: 'this.canvasUpdateService',\n                isHistory: false,\n                canvas: c,\n            };\n            this.objectCRUD(params);\n            this.usedColorsCounter();\n        }\n        else {\n            for (var _a = 0, _b = Object.keys(this.containerCanvases); _a < _b.length; _a++) {\n                var key = _b[_a];\n                var canvas = this.containerCanvases[key];\n                var objects = this.getObjects(canvas);\n                if (objects.length > 0) {\n                    for (var _c = 0, objects_2 = objects; _c < objects_2.length; _c++) {\n                        var obj = objects_2[_c];\n                        var params_4 = {\n                            obj: obj,\n                            canvas: canvas,\n                            properties: null,\n                            crudServiceString: 'this.removeObjectService',\n                            isHistory: false,\n                            removeUltimateObj: true\n                        };\n                        this.objectCRUD(params_4);\n                    }\n                }\n                var params = {\n                    properties: {\n                        backgroundColor: null\n                    },\n                    crudServiceString: 'this.canvasUpdateService',\n                    isHistory: false,\n                    canvas: canvas\n                };\n                this.objectCRUD(params);\n                this.usedColorsCounter();\n                canvas.renderAll();\n            }\n        }\n    };\n    /**\n     * This method clears all the history\n     */\n    CanvasService.prototype.clearHistory = function () {\n        this.historyService.clear();\n    };\n    /**\n    Get Object Type\n    **/\n    CanvasService.prototype.getObjectType = function (obj, type) {\n        var response = false;\n        if (obj._objects == undefined) {\n            response = (obj.objType == type) ? true : false;\n        }\n        else {\n            var stop_1 = true;\n            obj._objects.forEach(function (obj) {\n                if (obj.objType == type && stop_1) {\n                    response = true;\n                    stop_1 = false;\n                }\n            });\n        }\n        return response;\n    };\n    /**\n    * fetch data URLs of single canvase\n    */\n    CanvasService.prototype.fetchSingleCanvasDataURL = function (data) {\n        var canvasDataUrls = {};\n        var response = {};\n        if (data.containerCanvasesKeys[data.containerCanvasesKeysFlag]) {\n            var imageDesignId = data.containerCanvasesKeys[data.containerCanvasesKeysFlag];\n            var canvas = this.containerCanvases[imageDesignId];\n            var canvasDataUrl = {};\n            if (this.hasCanvasObjectOrBackground(canvas)) {\n                this.setOpacity(canvas, 0);\n                var canvasDataUrl_1 = canvas.toDataURL({\n                    format: \"png\",\n                    multiplier: this.fetchOutPutScaleFactor(canvas),\n                    quality: 1.0\n                });\n                canvasDataUrl_1 = canvasDataUrl_1.substr(canvasDataUrl_1.indexOf(',') + 1).toString();\n                canvasDataUrls[imageDesignId] = canvasDataUrl_1;\n                this.setOpacity(canvas, 1);\n            }\n            response.status = 'pending';\n            response.canvasDataUrls = canvasDataUrls;\n        }\n        else {\n            response.status = 'completed';\n        }\n        return response;\n    };\n    CanvasService.prototype.setOpacity = function (canvas, opacity) {\n        for (var _i = 0, _a = canvas.getObjects(); _i < _a.length; _i++) {\n            var obj = _a[_i];\n            if (obj.productimage == true) {\n                obj.set({\n                    opacity: opacity\n                });\n            }\n        }\n        canvas.renderAll();\n    };\n    /**\n     * Return multiplier of canvas\n     */\n    CanvasService.prototype.fetchOutPutScaleFactor = function (canvas) {\n        var multiplier;\n        if (canvas.size.origWidth > canvas.size.origHeight) {\n            var actiualCanvasWidth = (canvas.size.origWidth * canvas.width) / (canvas.size.toolWidth / this.scaleFactor);\n            multiplier = actiualCanvasWidth / canvas.width;\n        }\n        else {\n            var actiualCanvasHeight = (canvas.size.origHeight * canvas.height) / (canvas.size.toolHeight / this.scaleFactor);\n            multiplier = actiualCanvasHeight / canvas.height;\n        }\n        return multiplier;\n    };\n    /**\n     * This check if canvas has objects or background\n     */\n    CanvasService.prototype.hasCanvasObjectOrBackground = function (canvas) {\n        var hasObjects = this.getObjects(canvas).length > 0;\n        var hasBackground = canvas.backgroundColor || canvas.backgroundImage;\n        return hasObjects || hasBackground;\n    };\n    CanvasService.prototype.hasCanvasObjectOrBackgroundAll = function () {\n        var allcanvas = Object.values(this.containerCanvases), totalCanvases = allcanvas.length, i = 0, hasObjects = false, hasBackground = false;\n        for (; i < totalCanvases && !hasObjects && !hasBackground; i++) {\n            hasObjects = allcanvas[i].getObjects().length > 0;\n            hasBackground = allcanvas[i].backgroundColor || allcanvas[i].backgroundImage;\n        }\n        return hasObjects || hasBackground;\n    };\n    CanvasService.prototype.hasAnyCanvasDesign = function () {\n        var response = false;\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var canvas = this.containerCanvases[key];\n            if (this.hasCanvasObjectOrBackground(canvas)) {\n                response = true;\n            }\n        }\n        return response;\n    };\n    CanvasService.prototype.Flip = function (alignment) {\n        var canvas = this.currentCanvas;\n        var obj = canvas.getActiveObject();\n        var flipValue;\n        var properties = {};\n        if (obj) {\n            if (alignment == \"horizontal\") {\n                flipValue = (obj.flipX == false) ? true : false;\n                properties = { flipX: flipValue };\n            }\n            else {\n                flipValue = (obj.flipY == false) ? true : false;\n                properties = { flipY: flipValue };\n            }\n            var params = {\n                obj: obj,\n                properties: properties,\n                crudServiceString: 'this.updateObjectService',\n            };\n            this.objectCRUD(params);\n        }\n    };\n    CanvasService.prototype.ObjectLayer = function (option, object) {\n        if (object === void 0) { object = {}; }\n        var canvas = this.currentCanvas, totalObjects = Object.keys(object).length, selectedObj = (totalObjects === 0) ? canvas.getActiveObject() : object, properties = { option: option };\n        var params = {\n            obj: selectedObj,\n            properties: properties,\n            crudServiceString: 'this.rightPanelUpdateService'\n        };\n        this.objectCRUD(params);\n    };\n    CanvasService.prototype.checkSelectable = function (obj) {\n        return (obj.selectable) ? true : false;\n    };\n    CanvasService.prototype.deleteObject = function (object) {\n        if (object === void 0) { object = {}; }\n        var activeObjs = this.currentCanvas.getActiveObjects();\n        var removeObjects = (Object.keys(object).length === 0) ? activeObjs : object;\n        var selectable = true;\n        if (activeObjs.length == 0 && this.checkSelectable(removeObjects) == false) {\n            selectable = false;\n        }\n        if (selectable) {\n            var params = {\n                obj: removeObjects,\n                properties: null,\n                crudServiceString: 'this.removeObjectService',\n            };\n            this.objectCRUD(params);\n            this.currentCanvas.discardActiveObject();\n            this.currentCanvas.requestRenderAll();\n        }\n    };\n    CanvasService.prototype.calculateLowResolutionWarning = function () {\n        var lowResolutionObjects = 0;\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var canvas = this.containerCanvases[key];\n            for (var _b = 0, _c = this.getObjects(canvas); _b < _c.length; _b++) {\n                var obj = _c[_b];\n                if (obj.type == \"image\") {\n                    var desiredWidth = (canvas.size.origWidth * obj.scaleX * obj.width) / canvas.size.toolWidth;\n                    if (desiredWidth > obj.width) {\n                        lowResolutionObjects++;\n                    }\n                }\n            }\n        }\n        if (lowResolutionObjects != 0) {\n            return true;\n        }\n        return false;\n    };\n    CanvasService.prototype.getObjectCount = function (tab) {\n        var totalCount = 0;\n        for (var _i = 0, _a = Object.keys(this.containerCanvases); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var canvas = this.containerCanvases[key];\n            if (canvas != undefined) {\n                var getObjs = this.getObjects(canvas);\n                getObjs.filter(function (object) {\n                    if (object.tab == tab) {\n                        totalCount++;\n                    }\n                });\n            }\n        }\n        return totalCount;\n    };\n    CanvasService.prototype.usedColorsCounter = function () {\n        var _this_1 = this;\n        this.usedColorArr = [];\n        var canvasKeys = Object.keys(this.containerCanvases), canvasObjects;\n        var backgroundPatterColors = 0;\n        for (var _i = 0, canvasKeys_1 = canvasKeys; _i < canvasKeys_1.length; _i++) {\n            var key = canvasKeys_1[_i];\n            canvasObjects = this.getObjects(this.containerCanvases[key]);\n            canvasObjects.forEach(function (data) {\n                if (data.type == 'text') {\n                    var fill = data.fill;\n                    var stroke = data.stroke ? data.stroke : null;\n                    var shadow = data.shadow ? data.shadow.color : null;\n                    if (fill)\n                        _this_1.usedColorArr.push(fill);\n                    if (stroke)\n                        _this_1.usedColorArr.push(stroke);\n                    if (shadow) {\n                        _this_1.usedColorArr.push(shadow);\n                    }\n                }\n                if (data.objType == 'image' && data.isSvg == true) {\n                    data._objects.forEach(function (svgColor) {\n                        if (svgColor.fill) {\n                            if (_this_1.usedColorArr.indexOf(svgColor.fill) == -1) {\n                                _this_1.usedColorArr.push(svgColor.fill);\n                            }\n                        }\n                    });\n                }\n            });\n            var backgroundColor = this.containerCanvases[key].backgroundColor;\n            if (backgroundColor) {\n                if (typeof backgroundColor == 'object') {\n                    backgroundPatterColors += backgroundColor.usedColorCounter;\n                }\n                else {\n                    this.usedColorArr.push(backgroundColor);\n                }\n            }\n        }\n        var colorArr = [];\n        for (var i = 0; i < this.usedColorArr.length; i++) {\n            if (!colorArr.includes(this.usedColorArr[i])) {\n                colorArr.push(this.usedColorArr[i]);\n            }\n        }\n        this.usedColorCounter = colorArr.length + backgroundPatterColors;\n    };\n    CanvasService.prototype.applyUltimateLock = function (obj, loadDesign) {\n        if (loadDesign === void 0) { loadDesign = true; }\n        if (!loadDesign) {\n            if (obj.ultimatelock) {\n                obj.ultimatelock = obj.lockMovementX = obj.lockMovementY = false;\n                obj.hasControls = true;\n            }\n            else {\n                obj.ultimatelock = obj.lockMovementX = obj.lockMovementY = true;\n                obj.hasControls = false;\n            }\n        }\n        else {\n            if (obj.ultimatelock) {\n                obj.ultimatelock = obj.lockMovementX = obj.lockMovementY = true;\n                obj.hasControls = false;\n            }\n        }\n        return obj;\n    };\n    CanvasService.prototype.removeCurrentObject = function () {\n        var activeObjects = this.currentCanvas.getActiveObjects();\n        var params = {\n            obj: activeObjects,\n            properties: null,\n            crudServiceString: 'this.removeObjectService',\n        };\n        this.objectCRUD(params);\n    };\n    /**\n     * canavs object\n     *\n     * @param canvas\n     */\n    CanvasService.prototype.getObjects = function (canvas, checkActiveObj) {\n        if (canvas === void 0) { canvas = null; }\n        if (checkActiveObj === void 0) { checkActiveObj = false; }\n        // if no canvas object is passed, current canvas will be used\n        canvas = (canvas == null) ? this.currentCanvas : canvas;\n        // prepare local variables\n        var allObjects = (!checkActiveObj) ? canvas.getObjects() : canvas.getActiveObjects(), resultObjs = [], ignoreThis = null, self = this;\n        // traverse through allObjects object\n        allObjects.filter(function (currObj) {\n            // ignoreThis works as a flag\n            // which will check whether current object matches any of the properties specified\n            // in objsToIgnore      \n            ignoreThis = self.objsToIgnore.indexOf(self.objsToIgnore.find(function (objToIgnore) { return (currObj.hasOwnProperty(objToIgnore.key) && currObj[objToIgnore.key] == objToIgnore.value); }));\n            // if ignoreThis is -1, that means current object does not match any properties to ignore\n            // so we will push this object to our resultObjs variable\n            if (ignoreThis == -1)\n                resultObjs.push(currObj);\n        });\n        // finally return this array of object\n        return resultObjs;\n    };\n    CanvasService.prototype.rangeSliderUndoRedo = function (properties) {\n        var params = {\n            obj: this.currentCanvas.getActiveObjects(),\n            canvas: this.currentCanvas,\n            crudServiceString: 'this.rangeSliderUpdateService'\n        };\n        params = Object.assign(params, { properties: properties });\n        this.objectCRUD(params);\n    };\n    /**\n     * This function will force fabric to deselect current active object(s)\n     * & select specified list of objects as a group\n     * remember input must be array\n     *\n     * @param objectList array of canvas objects\n     */\n    CanvasService.prototype.selectTheseObjects = function (objectList) {\n        // init temp obj that will filter objects to be selected\n        // objects which are been locked won't be selected\n        var temp = [];\n        // traversal\n        objectList.forEach(function (obj) {\n            // if no lock/ultimate lock is set\n            // add that obj to tmp arry\n            if (obj.ultimatelock != true && obj.selectable == true) {\n                temp.push(obj);\n            }\n        });\n        // deselect current active object(s)\n        this.currentCanvas.discardActiveObject();\n        // init object to be selected\n        var sel = null;\n        // if array is having single object\n        // select individual\n        if (temp.length == 1) {\n            sel = temp[0];\n        }\n        // else create group object\n        else {\n            // prepare group object\n            sel = new fabric__WEBPACK_IMPORTED_MODULE_10__[\"fabric\"].ActiveSelection(temp, {\n                canvas: this.currentCanvas,\n            });\n        }\n        // set sel object as active object\n        this.currentCanvas.setActiveObject(sel);\n        // render\n        this.currentCanvas.requestRenderAll();\n    };\n    CanvasService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_insert_object_service__WEBPACK_IMPORTED_MODULE_4__[\"InsertObjectService\"],\n            _update_object_service__WEBPACK_IMPORTED_MODULE_5__[\"UpdateObjectService\"],\n            _remove_object_service__WEBPACK_IMPORTED_MODULE_6__[\"RemoveObjectService\"],\n            _canvas_update_service__WEBPACK_IMPORTED_MODULE_7__[\"CanvasUpdateService\"],\n            src_app_common_components_image_effects_image_effects_service__WEBPACK_IMPORTED_MODULE_8__[\"ImageEffectsService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"],\n            _history_service__WEBPACK_IMPORTED_MODULE_9__[\"HistoryService\"],\n            src_app_essentials_components_right_panel_right_panel_update_service__WEBPACK_IMPORTED_MODULE_11__[\"RightPanelUpdateService\"],\n            src_app_essentials_components_cropper_cropper_update_service__WEBPACK_IMPORTED_MODULE_1__[\"CropperUpdateService\"],\n            _range_slider_update_service_service__WEBPACK_IMPORTED_MODULE_12__[\"RangeSliderUpdateServiceService\"],\n            _svg_color_update_service__WEBPACK_IMPORTED_MODULE_13__[\"SvgColorUpdateService\"],\n            _multiple_objects_update_service__WEBPACK_IMPORTED_MODULE_14__[\"MultipleObjectsUpdateService\"]])\n    ], CanvasService);\n    return CanvasService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/customise-controls.service.ts\":\n/*!********************************************************!*\\\n  !*** ./src/app/services/customise-controls.service.ts ***!\n  \\********************************************************/\n/*! exports provided: CustomiseControlsService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomiseControlsService\", function() { return CustomiseControlsService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _services_canvas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var fabric_customise_controls__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! fabric-customise-controls */ \"./node_modules/fabric-customise-controls/dist/customiseControls.js\");\n/* harmony import */ var fabric_customise_controls__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(fabric_customise_controls__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nvar CustomiseControlsService = /** @class */ (function () {\n    function CustomiseControlsService(canvasService, eventService) {\n        var _this = this;\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.eventService.$sub('objectAdded', function (obj) {\n            _this.customizeControls(obj);\n        });\n        this.eventService.$sub('objectSelectionCreated', function (obj) {\n            _this.customizeControls(obj);\n        });\n        this.eventService.$sub('objectSelectionUpdated', function (obj) {\n            _this.customizeControls(obj);\n        });\n    }\n    CustomiseControlsService.prototype.customizeControls = function (obj) {\n        var self = this;\n        if (obj) {\n            obj.setControlsVisibility({\n                mt: true,\n                tl: true,\n                tr: true,\n                bl: true,\n                br: true,\n                mtr: false,\n                mb: true,\n                ml: false,\n                mr: false,\n            });\n            self.canvasService.currentCanvas.renderAll();\n        }\n        fabric.Canvas.prototype.customiseControls({\n            tl: {\n                settings: {\n                    centeredScaling: true,\n                },\n                action: 'scale'\n            },\n            tr: {\n                settings: {\n                    centeredScaling: true,\n                },\n                action: 'scale',\n            },\n            bl: {\n                settings: {\n                    centeredScaling: true,\n                },\n                action: 'scale',\n            },\n            br: {\n                settings: {\n                    centeredScaling: true,\n                },\n                action: 'scale',\n            },\n            mt: {\n                action: 'rotate',\n                cursor: 'hand',\n            },\n            mb: {\n                action: function (e, target) {\n                    self.eventService.$pub('updateContextMenu', target);\n                },\n                cursor: 'hand',\n            },\n        });\n        if (navigator.userAgent.indexOf('MSIE') == -1 && navigator.userAgent.indexOf('Trident/') == -1) {\n            obj.customiseCornerIcons({\n                settings: {\n                    cornerSize: this.canvasService.cornerSize,\n                    cornerShape: 'circle',\n                    cornerBackgroundColor: 'white',\n                    cornerPadding: 10\n                },\n                tl: {\n                    icon: 'assets/img/svg/top-left-arrow.svg',\n                },\n                tr: {\n                    icon: 'assets/img/svg/top-right-arrow.svg',\n                },\n                bl: {\n                    icon: 'assets/img/svg/bottom-left-arrow.svg',\n                },\n                br: {\n                    icon: 'assets/img/svg/bottom-right-arrow.svg',\n                },\n                mt: {\n                    icon: 'assets/img/svg/rotate-to-left-button.svg',\n                },\n                mb: {\n                    icon: 'assets/img/three-dots-menu.svg',\n                },\n            }, function () {\n                self.canvasService.currentCanvas.renderAll();\n            });\n        }\n        else {\n            obj.customiseCornerIcons({\n                settings: {\n                    cornerSize: this.canvasService.cornerSize,\n                    cornerShape: 'circle',\n                    cornerBackgroundColor: 'white',\n                    cornerPadding: 10\n                },\n                tl: {\n                    icon: '',\n                },\n                tr: {\n                    icon: '',\n                },\n                bl: {\n                    icon: '',\n                },\n                br: {\n                    icon: '',\n                },\n                mt: {\n                    icon: '',\n                },\n                mb: {\n                    icon: '',\n                },\n            }, function () {\n                self.canvasService.currentCanvas.renderAll();\n            });\n        }\n    };\n    CustomiseControlsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_services_canvas_service__WEBPACK_IMPORTED_MODULE_2__[\"CanvasService\"], angular7_pubsub__WEBPACK_IMPORTED_MODULE_3__[\"PubSubService\"]])\n    ], CustomiseControlsService);\n    return CustomiseControlsService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/design.service.ts\":\n/*!********************************************!*\\\n  !*** ./src/app/services/design.service.ts ***!\n  \\********************************************/\n/*! exports provided: DesignService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignService\", function() { return DesignService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/essentials/components/price/price.service */ \"./src/app/essentials/components/price/price.service.ts\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/main.service */ \"./src/app/services/main.service.ts\");\n/* harmony import */ var src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/fabric.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\nvar DesignService = /** @class */ (function () {\n    function DesignService(mainService, eventService, canvasService, translate, priceService) {\n        this.mainService = mainService;\n        this.eventService = eventService;\n        this.canvasService = canvasService;\n        this.translate = translate;\n        this.priceService = priceService;\n        this.sameImageIdcanvasArray = [];\n        // additionalOptions(eg nameNumber)\n        this.additionalOptions = {};\n        // if design is already loaded flag\n        this.isDesignLoaded = false;\n        this.cnavasCount = 0;\n        var params = this.mainService.getUrlParams(['design']);\n        this.designId = params['design'];\n        var self = this;\n        this.eventService.$sub('allcanvasCreated', function (allImageIds) {\n            if (self.designId && self.isDesignLoaded == false) {\n                self.loadDesign(self.designId);\n                self.isDesignLoaded = true;\n            }\n        });\n    }\n    /**\n     * Save current design\n     */\n    DesignService.prototype.saveDesignData = function (data) {\n        var _this = this;\n        return new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\n            var imageId, images, containerCanvasesJson, sidesAndParentImageIDs, params, url;\n            var _this = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                imageId = this.canvasService.firstImageId;\n                images = this.canvasService.getCanvasDataUrl(imageId);\n                containerCanvasesJson = this.canvasService.getCanvasToJson();\n                this.mainService.lastSavedData.json_objects = JSON.stringify(containerCanvasesJson);\n                data.sweetAlert = data.hasOwnProperty('sweetAlert') ? data.sweetAlert : true;\n                sidesAndParentImageIDs = this.fetchImageSidesParentIdsWithId(this.canvasService.allImagesWithIds);\n                params = {\n                    'dataUrl': images,\n                    'product_image_data': this.canvasService.allImagesWithIds[imageId],\n                    'product_id': this.mainService.productId,\n                    'canvasJson': btoa(unescape(encodeURIComponent(JSON.stringify(containerCanvasesJson)))),\n                    'customer_id': this.mainService.loggedInUserId,\n                    'scaleFactor': this.canvasService.scaleFactor,\n                    'associated_product_id': this.mainService.associatedProductId,\n                    'title': data.hasOwnProperty('title') ? data.title : '',\n                    'canvas_dataurl_file': data.hasOwnProperty('canvas_dataurl_file') ? data.canvas_dataurl_file + '.txt' : '',\n                    'sidesAndParentImageIDs': sidesAndParentImageIDs,\n                    'prices': this.mainService.otherPrices,\n                    'additional_price': this.priceService.additionalPrice,\n                    'customOptionsPrice': (data.customOptionsPrice) ? data.customOptionsPrice : '',\n                    'cartData': data.hasOwnProperty('cartData') ? data.cartData : null,\n                    'customer_comments': data.hasOwnProperty('addnote') ? data.addnote : null,\n                    'additionalOptions': this.additionalOptions\n                }, url = 'productdesigner/Designs/SaveDesign?isAjax=true';\n                if (data.hasOwnProperty('designId') && data.designId != null)\n                    params = Object.assign(params, { design_id: data.designId });\n                if (data.hasOwnProperty('qty') && data.qty != null)\n                    params = Object.assign(params, { qty: data.qty });\n                this.eventService.$pub(\"showMainLoader\");\n                this.mainService.post(url, params).then(function (resp) {\n                    _this.eventService.$pub(\"hideMainLoader\");\n                    if (resp && resp.status == \"success\") {\n                        if (data.hasOwnProperty('closeThisModal')) {\n                            data.closeThisModal.hide();\n                        }\n                        if (resp.hasOwnProperty('titleExists') && resp.titleExists == true) {\n                            resolve({ titleExists: true, designId: resp.design_id });\n                        }\n                        else if (data.sweetAlert == true) {\n                            _this.canvasService.clearHistory();\n                            _this.eventService.$pub('undoRedo');\n                            if (!data.hasOwnProperty('disablePopup'))\n                                _this.mainService.swal(_this.translate.instant(\"Success\"), _this.translate.instant(\"Design saved successfully\"), \"success\");\n                            resp.product_id = _this.mainService.productId;\n                            if (params.hasOwnProperty('design_id'))\n                                resp = Object.assign(resp, { clearCache: true });\n                            _this.eventService.$pub('designSaved', resp);\n                        }\n                    }\n                    resolve(resp);\n                });\n                return [2 /*return*/];\n            });\n        }); });\n    };\n    DesignService.prototype.fetchImageSidesParentIdsWithId = function (allImagesWithIds) {\n        var sides = {};\n        var parentImageIds = {};\n        for (var index in allImagesWithIds) {\n            var image = allImagesWithIds[index];\n            sides[image.image_id] = image.image_side;\n            parentImageIds[image.image_id] = image.parent_image_id;\n        }\n        return [sides, parentImageIds];\n    };\n    /**\n     * Load design based on design Id\n     */\n    DesignService.prototype.loadDesign = function (designId) {\n        var _this = this;\n        var params = { 'designId': designId, 'productId': this.mainService.productId }, url = 'productdesigner/Designs/LoadDesign', cacheKey = 'LoadDesign' + designId + this.mainService.baseUrl;\n        this.mainService.getData(url, params, cacheKey, null, true).then(function (designData) {\n            if (designData.status == 'success') {\n                _this.canvasService.clearCanvas();\n                designData.currentProductId = _this.mainService.associatedProductId;\n                _this.eventService.$pub('loadTheseFonts', JSON.parse(designData.json_objects));\n                _this.canvasService.loadDesign(designData);\n                _this.mainService.lastSavedData.json_objects = designData.json_objects;\n                if (designData.hasOwnProperty('prices')) {\n                    var self_1 = _this;\n                    setTimeout(function () {\n                        var pricesObj = atob(designData.prices);\n                        pricesObj = JSON.parse(pricesObj);\n                        self_1.priceService.extraPriceToBeAdded.customOptionsPrice = (pricesObj.customOptionsPrice != '') ? parseFloat(pricesObj.customOptionsPrice) : 0;\n                        pricesObj.qty = parseInt(pricesObj.qty);\n                        if (pricesObj.qty > 1) {\n                            self_1.priceService.extraPriceToBeAdded.productPrice = self_1.priceService.defaultPrice * (pricesObj.qty - 1);\n                        }\n                        self_1.priceService.totalQty = pricesObj.qty;\n                        self_1.priceService.addThisPrice();\n                    }, 500);\n                }\n                var self_2 = _this;\n                setTimeout(function () {\n                    self_2.eventService.$pub('designLoaded', designData);\n                }, 500);\n            }\n        }).catch(function (err) { return console.log(err); });\n    };\n    DesignService.prototype.saveAllSidesCanvasData = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var containerCanvasesKeys = Object.keys(_this.canvasService.containerCanvases);\n            var containerCanvasesKeysFlag = 0;\n            var data = {\n                containerCanvasesKeys: containerCanvasesKeys,\n                containerCanvasesKeysFlag: containerCanvasesKeysFlag,\n                timestamp: _this.getCurrentDateTimeStamp()\n            };\n            _this.saveSingleSideData(data, resolve);\n        });\n    };\n    /**\n     * Save single canvas data URL\n     */\n    DesignService.prototype.saveSingleSideData = function (data, resolve) {\n        var _this = this;\n        var self = this;\n        var response = this.canvasService.fetchSingleCanvasDataURL(data);\n        if (response.status == 'pending' && Object.keys(response.canvasDataUrls).length > 0) {\n            var url = 'productdesigner/Designs/SaveSingleSideData', params = {};\n            params['canvasData'] = (Object.keys(response.canvasDataUrls).length > 0) ? btoa(JSON.stringify(response.canvasDataUrls)) : '';\n            params['flag'] = data.containerCanvasesKeysFlag;\n            params['timestamp'] = data.timestamp;\n            this.mainService.post(url, params).then(function (resp) {\n                if (resp.status == 'success') {\n                    if (data.containerCanvasesKeysFlag == 0) {\n                        self.generateSVG = resp.generateSVG;\n                    }\n                    data.containerCanvasesKeysFlag++;\n                    _this.saveSingleSideData(data, resolve);\n                }\n            });\n        }\n        else if (response.status == 'pending') {\n            data.containerCanvasesKeysFlag++;\n            this.saveSingleSideData(data, resolve);\n        }\n        else if (response.status == 'completed') {\n            response.timestamp = data.timestamp;\n            resolve(response);\n        }\n    };\n    /**\n     * Return current timestamp\n     */\n    DesignService.prototype.getCurrentDateTimeStamp = function () {\n        var today = new Date();\n        var dd = today.getDate();\n        var mm = today.getMonth() + 1;\n        var yyyy = today.getFullYear();\n        if (dd < 10) {\n            dd = '0' + dd;\n        }\n        if (mm < 10) {\n            mm = '0' + mm;\n        }\n        var to_day = mm + dd + yyyy;\n        return to_day + today.getTime();\n    };\n    DesignService.prototype.generateSVGDesign = function () {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var imagesId, canvasArr, index, array1, key, canvasSVgArr, i, j, imgIdIndex, _a, _b, _i, canvas, imgId, currentImgUrl, height, width, obj, mainCanvas, canvasSVG, params, url;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        imagesId = [];\n                        canvasArr = this.canvasService.allImages;\n                        array1 = {}, canvasSVgArr = {};\n                        for (i = 0; i < canvasArr.length; i++) {\n                            for (j = 0; j < canvasArr[i].dim.length; j++) {\n                                index = \"@\" + canvasArr[i].dim[j].image_id + \"&\" + canvasArr[i].dim[j].designareaId;\n                                if (!array1[canvasArr[i].image_id]) {\n                                    array1[canvasArr[i].image_id] = [];\n                                }\n                                array1[canvasArr[i].image_id].push(this.canvasService.containerCanvases[index]);\n                            }\n                        }\n                        imgIdIndex = 0;\n                        _a = [];\n                        for (_b in array1)\n                            _a.push(_b);\n                        _i = 0;\n                        _c.label = 1;\n                    case 1:\n                        if (!(_i < _a.length)) return [3 /*break*/, 5];\n                        key = _a[_i];\n                        canvas = new fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Canvas();\n                        imgId = imagesId[imgIdIndex];\n                        currentImgUrl = this.canvasService.allImagesWithIds[this.canvasService.activeImageId]['url'];\n                        height = this.canvasService.allImages[imgIdIndex].height;\n                        width = this.canvasService.allImages[imgIdIndex].width;\n                        imgIdIndex++;\n                        obj = array1[key];\n                        this.cnavasCount = 0;\n                        return [4 /*yield*/, this.addObjTOCanvas(obj, canvas)];\n                    case 2:\n                        _c.sent();\n                        mainCanvas = canvas;\n                        if (!(mainCanvas && mainCanvas.getObjects().length > 0)) return [3 /*break*/, 4];\n                        canvasSVG = mainCanvas.toSVG();\n                        mainCanvas = \"\";\n                        params = {\n                            designId: atob(this.designId),\n                            imageId: key,\n                            canvasSVG: btoa(unescape(encodeURIComponent(JSON.stringify(canvasSVG))))\n                        }, url = 'productdesigner/index/generateSvg';\n                        return [4 /*yield*/, this.mainService.getData(url, params, null).then(function (response) {\n                                if (response.status == 'success' && imgIdIndex == Object.keys(array1).length) {\n                                    window.history.back();\n                                }\n                            }).catch(function (err) { return console.log(err); })];\n                    case 3:\n                        _c.sent();\n                        _c.label = 4;\n                    case 4:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DesignService.prototype.addObjTOCanvas = function (obj, canvas) {\n        var _loop_1 = function (i) {\n            canvas.setHeight(obj[i].size.origHeight);\n            canvas.setWidth(obj[i].size.origHeight);\n            var mul = this_1.canvasService.fetchOutPutScaleFactor(obj[i]);\n            var canvasMul = mul / this_1.canvasService.scaleFactor;\n            obj[i].getObjects().forEach(function (data) {\n                data.top *= mul;\n                data.left *= mul;\n                data.left = (parseInt(obj[i].dim.x1) * canvasMul) + parseInt(data.left);\n                data.top = (parseInt(obj[i].dim.y1) * canvasMul) + parseInt(data.top);\n                if (data.tab == \"text\") {\n                    var fontFamily = data.fontFamily;\n                    fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].fontPaths[fontFamily] = fontFamily + '.ttf';\n                }\n                var clippingRect = new fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Rect({\n                    width: parseInt(obj[i].dim.width) * canvasMul,\n                    height: parseInt(obj[i].dim.height) * canvasMul,\n                    top: parseInt(obj[i].dim.y1) * canvasMul,\n                    left: parseInt(obj[i].dim.x1) * canvasMul,\n                    absolutePositioned: true\n                });\n                data.scaleX *= mul;\n                data.scaleY *= mul;\n                data.clipPath = clippingRect;\n                canvas.add(data);\n                canvas.renderAll();\n            });\n        };\n        var this_1 = this;\n        for (var i = 0; i < obj.length; i++) {\n            _loop_1(i);\n        }\n        return canvas;\n    };\n    DesignService.prototype.loadSvgToString = function (oldCanvas, newCanvas) {\n        var _this = this;\n        return new Promise(function (resolve, reject) { return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](_this, void 0, void 0, function () {\n            var self, svgData;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                self = this;\n                if (oldCanvas && oldCanvas.getObjects().length > 0) {\n                    svgData = oldCanvas.toSVG();\n                    fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].loadSVGFromString(svgData, function (objects, options) {\n                        var svgobj = new fabric__WEBPACK_IMPORTED_MODULE_7__[\"fabric\"].Group(objects);\n                        svgobj.left = parseInt(oldCanvas.dim.x1);\n                        svgobj.top = parseInt(oldCanvas.dim.y1);\n                        svgobj.height = parseInt(oldCanvas.dim.height);\n                        svgobj.width = parseInt(oldCanvas.dim.width);\n                        newCanvas.add(svgobj).renderAll();\n                        resolve(newCanvas);\n                    });\n                }\n                return [2 /*return*/];\n            });\n        }); });\n    };\n    DesignService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [src_app_services_main_service__WEBPACK_IMPORTED_MODULE_3__[\"MainService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_5__[\"PubSubService\"],\n            src_app_services_canvas_service__WEBPACK_IMPORTED_MODULE_4__[\"CanvasService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__[\"TranslateService\"],\n            src_app_essentials_components_price_price_service__WEBPACK_IMPORTED_MODULE_1__[\"PriceService\"]])\n    ], DesignService);\n    return DesignService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/history.service.ts\":\n/*!*********************************************!*\\\n  !*** ./src/app/services/history.service.ts ***!\n  \\*********************************************/\n/*! exports provided: HistoryService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HistoryService\", function() { return HistoryService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n\n\n\nvar HistoryService = /** @class */ (function () {\n    function HistoryService(eventService) {\n        var _this = this;\n        this.eventService = eventService;\n        this.undoStack = {};\n        this.redoStack = {};\n        // This check for if object is modified due to inbuilt fabric property\n        this.eventService.$sub('canvasObjectModified', function (obj) {\n            var currentState = obj._stateProperties;\n            var properties = {\n                fontSize: currentState.fontSize,\n                left: currentState.left,\n                top: currentState.top,\n                angle: currentState.angle,\n                scaleX: currentState.scaleX,\n                scaleY: currentState.scaleY\n            };\n            var params = {\n                obj: obj,\n                properties: properties,\n                crudServiceString: 'this.updateObjectService',\n                isObjectModify: true\n            };\n            _this.canvasService.objectCRUD(params);\n        });\n    }\n    HistoryService.prototype.initCanvasService = function (canvasService) {\n        this.canvasService = canvasService;\n    };\n    /**\n     * This Method push performed operation into stack\n     * @param {any} crudService [Operation service insert/update/remove]\n     */\n    HistoryService.prototype.push = function (crudService) {\n        var designarea_id = this.canvasService.currentCanvas.designarea_id;\n        if (this.undoStack[designarea_id] == undefined) {\n            this.undoStack[designarea_id] = [];\n        }\n        this.undoStack[designarea_id].push(crudService);\n        this.eventService.$pub('undoRedo');\n    };\n    /**\n     * This method will pop last executed operation and trigger its unexec method\n     */\n    HistoryService.prototype.undo = function () {\n        var designarea_id = this.canvasService.currentCanvas.designarea_id;\n        var crudService = this.undoStack[designarea_id].pop();\n        if (crudService) {\n            crudService.unexec();\n        }\n        // Push undostack value into redostack\n        if (this.redoStack[designarea_id] == undefined) {\n            this.redoStack[designarea_id] = [];\n        }\n        this.redoStack[designarea_id].push(crudService);\n    };\n    /**\n     * This method will pop value from redostack and trigger its exec method\n     */\n    HistoryService.prototype.redo = function () {\n        var designarea_id = this.canvasService.currentCanvas.designarea_id;\n        var crudService = this.redoStack[designarea_id].pop();\n        if (crudService) {\n            crudService.exec();\n        }\n        this.undoStack[designarea_id].push(crudService);\n    };\n    /**\n     * Clear undo stack and redo stack\n     */\n    HistoryService.prototype.clear = function () {\n        this.undoStack = {};\n        this.redoStack = {};\n    };\n    HistoryService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [angular7_pubsub__WEBPACK_IMPORTED_MODULE_2__[\"PubSubService\"]])\n    ], HistoryService);\n    return HistoryService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/insert-object.service.ts\":\n/*!***************************************************!*\\\n  !*** ./src/app/services/insert-object.service.ts ***!\n  \\***************************************************/\n/*! exports provided: InsertObjectService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InsertObjectService\", function() { return InsertObjectService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar InsertObjectService = /** @class */ (function () {\n    function InsertObjectService() {\n        /**\n        * initializing each fabric object\n        *\n        * @param obj object to be added on canvas\n        * @param properties object properties\n        * @param isCenter flag variable that will indicate whether to centeralize the new object on canvas\n        */\n        this.init = function (params) {\n            var obj = params.obj, properties = params.properties, canvasService = params.service, isCenter = params.hasOwnProperty('isCenter') ? params.isCenter : true, canvas = params.canvas ? params.canvas : canvasService.currentCanvas, eventService = params.eventService;\n            obj.scaleFactor = canvasService.scaleFactor;\n            if (!properties.id) {\n                properties.id = 'id_' + Date.now();\n            }\n            properties.canvasWidth = canvas.width;\n            properties.canvasHeight = canvas.height;\n            properties.imageDesignId = '@' + canvas.image_id + '&' + canvas.designarea_id;\n            // Center Scaling for object\n            properties.centeredScaling = true;\n            //When set to `true`, object's cache will be rerendered next render call.\n            properties.dirty = true;\n            properties.noScaleCache = false;\n            properties.objectCaching = false;\n            if (properties.objType && properties.objType == 'image' && !properties.ignoreBestFit) {\n                // best fit properties\n                var bestFitProperties = canvasService.getBestFitProperties(obj);\n                // before filtering best fir object, we need to assign objType to current obj\n                obj.objType = properties.objType;\n                // filter properties\n                bestFitProperties = canvasService.filterBestFitProperties(bestFitProperties, obj);\n            }\n            // set properties to current obj\n            obj.set(properties);\n            obj.isCenter = isCenter;\n            return {\n                /**\n                * After initializing each fabric object, this method is called to apply->insert the same on canvas\n                *\n                */\n                exec: function () {\n                    // return of obj is null\n                    if (!obj)\n                        return;\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    eventService.$pub('objectAddedBefore', obj);\n                    // add obj to current canvas and render the same\n                    canvas.add(obj);\n                    // set coordinates\n                    obj.setCoords();\n                    // if isCenter flag is true, centeralize the obj\n                    if (obj.isCenter === true)\n                        obj.center();\n                    // set current object as active\n                    var allCanvas = canvasService.containerCanvases;\n                    for (var key in allCanvas) {\n                        allCanvas[key].discardActiveObject().renderAll();\n                    }\n                    canvasService.currentCanvas = canvas;\n                    canvas.setActiveObject(obj);\n                    // render current canvas\n                    canvas.renderAll();\n                    // Publish an event when new object is added\n                    eventService.$pub('objectAdded', obj);\n                },\n                /**\n                * This method will remove the object from canvas\n                */\n                unexec: function () {\n                    if (!obj)\n                        return;\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    canvas.remove(obj).renderAll();\n                    // publish an event when object is removed\n                    eventService.$pub('objectRemoved', obj);\n                },\n            };\n        };\n    }\n    InsertObjectService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], InsertObjectService);\n    return InsertObjectService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/main.service.ts\":\n/*!******************************************!*\\\n  !*** ./src/app/services/main.service.ts ***!\n  \\******************************************/\n/*! exports provided: MainService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MainService\", function() { return MainService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ngx-bootstrap/modal */ \"./node_modules/ngx-bootstrap/modal/fesm5/ngx-bootstrap-modal.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var ng2_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng2-cache */ \"./node_modules/ng2-cache/esm5/ng2-cache.js\");\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ \"./node_modules/@angular/common/fesm5/http.js\");\n/* harmony import */ var _services_canvas_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/canvas.service */ \"./src/app/services/canvas.service.ts\");\n/* harmony import */ var _services_customise_controls_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/customise-controls.service */ \"./src/app/services/customise-controls.service.ts\");\n/* harmony import */ var angular7_pubsub__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! angular7-pubsub */ \"./node_modules/angular7-pubsub/esm/src/index.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var ngx_filesaver__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-filesaver */ \"./node_modules/ngx-filesaver/fesm5/ngx-filesaver.js\");\n/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ngx-translate/core */ \"./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js\");\n\n\n\n\n\n\n\n\n\n\n\nvar MainService = /** @class */ (function () {\n    function MainService(http, _FileSaverService, cacheService, modalService, canvasService, eventService, translate, customiseControlsService) {\n        var _this_1 = this;\n        this.http = http;\n        this._FileSaverService = _FileSaverService;\n        this.cacheService = cacheService;\n        this.modalService = modalService;\n        this.canvasService = canvasService;\n        this.eventService = eventService;\n        this.translate = translate;\n        this.customiseControlsService = customiseControlsService;\n        this.version = '2.0.1';\n        this.isDeveloperMode = false;\n        this.firstTimeLoaded = false;\n        this.colorData = {};\n        this.containerCanvases = {};\n        this.allObjects = [];\n        // for Login\n        this.userLoggedIn = false;\n        // for Loader\n        this.loaderRequests = 0;\n        this.loaderResponse = 0;\n        this.loaderChecked = false;\n        this.tabsFlow = [];\n        this.objectModification = true;\n        this.lastSavedData = {};\n        this.generatedImage = [];\n        this.hideMe = false;\n        this.isToolTipEnable = false;\n        //check Admin make a design\n        this.isAdmin = false;\n        // choose if enableMultipleSelection is true or false\n        this.enableMultipleSelection = false;\n        this.nameNumber = false;\n        this.isGenerateSVGDesign = false;\n        this.totalMainTab = 0;\n        this.clipartRequest = true;\n        this.imageConfigRequest = true;\n        // otherOptions to pass in Load Product\n        this.otherOptions = [];\n        // Flag variable that will prevent/allow user from downloading image\n        this.displayDownload = false;\n        this.productOptions = [];\n        this.selectedProductOptions = [];\n        if (this.firstTimeLoaded) {\n            return;\n        }\n        this.firstTimeLoaded = true;\n        this.setBasicConfiguration();\n        this.canvasService.initZoom();\n        this.canvasService.initScaleFactor();\n        document.onclick = (function (event) {\n            var demoModeClasses = ['productdesigner-mobile-view', 'productdesigner-tab-view'], isDemoModeClassFound = false;\n            for (var key in demoModeClasses) {\n                var domElement = window.top.document.getElementsByClassName(demoModeClasses[key]);\n                if (domElement && domElement.length && domElement[0]) {\n                    isDemoModeClassFound = true;\n                }\n            }\n            if (!_this_1.isResponsive || isDemoModeClassFound) {\n                _this_1.canvasService.checkClasses(event);\n            }\n        });\n        var makeDesignStatus = document.getElementById(\"admin_design\");\n        this.isAdmin = (!makeDesignStatus) ? false : true;\n        if (this.isAdmin) {\n            var namenumber_design = document.getElementById(\"namenumber_design\");\n            this.nameNumber = (!namenumber_design) ? false : true;\n        }\n        if (this.isAdmin) {\n            var generatesvg_design = document.getElementById('generatesvg_design');\n            this.isGenerateSVGDesign = (!generatesvg_design) ? false : true;\n        }\n    }\n    /**\n     * [setBasicConfiguration Set Basic URLs, params,variables]\n     */\n    MainService.prototype.setBasicConfiguration = function () {\n        this.defaultPlaceholderImage = \"\";\n        var placeHolder = document.getElementsByName(\"placeHolderUrl\")[0];\n        if (placeHolder) {\n            this.defaultPlaceholderImage = placeHolder.value;\n        }\n        var base_url = document.getElementsByName(\"mage_base_url\")[0];\n        var baseUrl = atob(base_url.value);\n        this.baseUrl = baseUrl;\n        var store_key = document.getElementsByName(\"store_id\")[0];\n        var storeId = atob(store_key.value);\n        var currency_key = document.getElementsByName(\"currency_code\")[0];\n        var currency = atob(currency_key.value);\n        this.flushCache(storeId, currency);\n        var params = this.getUrlParams(['id', 'design', 'item']);\n        if (!params || !params['id']) {\n            return;\n        }\n        this.productId = params['id'];\n        this.canvasService.productId = params['id'];\n        this.designId = (params['design']) ? params['design'] : '';\n        this.itemId = (params['item']) ? params['item'] : '';\n        this.initResponsive();\n        var self = this;\n        window.onresize = function (event) {\n            self.processWindowSize(self);\n        };\n    };\n    /**\n     * Process which update all responsive supported stuffs\n     * @return {[type]} [description]\n     */\n    MainService.prototype.processWindowSize = function (self) {\n        var _this_1 = this;\n        self.initResponsive();\n        if (this.canvasService.currentCanvas) {\n            var currObj_1 = this.canvasService.currentCanvas.getActiveObjects();\n            setTimeout(function () {\n                if (currObj_1.type != 'activeSelection') {\n                    _this_1.eventService.$pub('selectThisObjects', currObj_1);\n                }\n            }, 100);\n            this.canvasService.deselectAllObjects();\n        }\n        self.eventService.$pub('windowResize');\n    };\n    /**\n     * update isResponsive var based on window width\n     */\n    MainService.prototype.initResponsive = function () {\n        if (window.innerWidth <= 1024) {\n            this.canvasService.isResponsive = this.isResponsive = true;\n        }\n        else {\n            this.canvasService.isResponsive = this.isResponsive = false;\n        }\n    };\n    /**\n     * Fetch Param values from URL\n     * @return array\n     */\n    MainService.prototype.getUrlParams = function (paramKey) {\n        var url = location.href;\n        var UrlArray = url.split(\"/\");\n        var params = [];\n        for (var j = 0; j < UrlArray.length; j++) {\n            if (paramKey.indexOf(UrlArray[j]) >= 0) {\n                params[UrlArray[j]] = UrlArray[j + 1];\n            }\n        }\n        return params;\n    };\n    /**\n     * [flushCache Flush all angular cache if store id or currency changes]\n     * @param {int} storeId  [Current store Id of Magento]\n     * @param {string} currency [Current Currency of Magento]\n     */\n    MainService.prototype.flushCache = function (storeId, currency) {\n        if (this.cacheService.exists('cache-storeid' + '-' + this.baseUrl)) {\n            var cachedStoreId = this.cacheService.get('cache-storeid' + '-' + this.baseUrl);\n            if (cachedStoreId != storeId) {\n                this.cacheService.removeAll();\n            }\n        }\n        if (this.cacheService.exists('cache-currency' + '-' + this.baseUrl)) {\n            var cachedCurrency = this.cacheService.get('cache-currency' + '-' + this.baseUrl);\n            if (cachedCurrency != currency) {\n                this.cacheService.removeAll();\n            }\n        }\n        this.cacheService.set('cache-storeid' + '-' + this.baseUrl, storeId, { maxAge: 15 * 60 });\n        this.cacheService.set('cache-currency' + '-' + this.baseUrl, currency, { maxAge: 15 * 60 });\n        if (this.isDeveloperMode) {\n            this.cacheService.removeAll();\n        }\n    };\n    /**\n     * [post HTTP post method]\n     * @param {string} url    [Magento Controller URL passed from component]\n     * @param {object} params [Params which needs to be passed to Magento Controller]\n     */\n    MainService.prototype.post = function (actionURL, params, showMainLoader, httpHeaders) {\n        var _this_1 = this;\n        if (showMainLoader === void 0) { showMainLoader = false; }\n        if (httpHeaders === void 0) { httpHeaders = null; }\n        // when user has not set any headers\n        // we will set default headers\n        var defaultHeaders = new _angular_common_http__WEBPACK_IMPORTED_MODULE_4__[\"HttpHeaders\"]();\n        defaultHeaders = defaultHeaders.append(\"Content-type\", \"application/x-www-form-urlencoded\");\n        defaultHeaders = defaultHeaders.append(\"X-Requested-With\", \"XMLHttpRequest\");\n        // determine if user has specifed any headers\n        // if not, use our default headers\n        var headers = (httpHeaders) ? httpHeaders : defaultHeaders;\n        // show mainLoader is params is true\n        if (showMainLoader === true)\n            this.eventService.$pub(\"showMainLoader\");\n        // if isAjax is not set, assign the same\n        actionURL = (actionURL.indexOf(\"isAjax\") === -1) ? actionURL + '?isAjax=true' : actionURL;\n        // finally hit the request\n        return this.http.post(this.baseUrl + actionURL, params, { headers: headers })\n            .toPromise()\n            .then(function (res) { return res; })\n            .finally(function () {\n            // this will hide main loader\n            if (showMainLoader === true)\n                _this_1.eventService.$pub(\"hideMainLoader\");\n        });\n    };\n    MainService.prototype.postFile = function (url, fileData) {\n        var headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_4__[\"HttpHeaders\"]().set('Content-Type', []);\n        return this.http.post(this.baseUrl + url, fileData, { headers: headers })\n            .toPromise().then(function (res) { return res; });\n    };\n    /**\n     * this is common function for all get data requests\n     * if data is already present in cache, return same, fetch from api call otherwise\n     *\n     * @param url url to api\n     * @param params request payload\n     * @param cacheKey cache key\n     * @param loaderComponentRef\n     * \t\t\t- reference to loader component used in individual component\n     * \t\t\t- this is  used when component needs to show loader untill get data finishes it's operation in same component\n     * @param showMainLoader flag variable that indicates whether to show/hide main loader or sub loader\n     */\n    MainService.prototype.getData = function (url, params, cacheKey, loaderComponentRef, showMainLoader) {\n        var _this_1 = this;\n        if (loaderComponentRef === void 0) { loaderComponentRef = null; }\n        if (showMainLoader === void 0) { showMainLoader = false; }\n        return new Promise(function (resolve, reject) {\n            // if cache is already present, return the same\n            if (_this_1.cacheService.exists(cacheKey) && cacheKey != null) {\n                var data = _this_1.cacheService.get(cacheKey);\n                resolve(data);\n            }\n            // if not then fetch from api first and then store response to cache\n            else {\n                // as our every request will be post request, add isAjax param to url\n                url += '?isAjax=true';\n                // this action is for init requests\n                // as on page load, we are hitting several requests from individual component\n                // untill each component gets their response, we need to show main loader\n                // so we are using loader checked which will indicated we are done with this process\n                // loaderRequests is request counter which will keep track of total request occured\n                // loaderResponse is response counter which will be compared with loaderRequests, and hide loader and change status of loaderChecked to true\n                if (_this_1.loaderChecked === false) {\n                    _this_1.eventService.$pub('showMainLoader');\n                    _this_1.loaderRequests++;\n                }\n                // if loader instance is specified\n                if (loaderComponentRef != null) {\n                    loaderComponentRef.showSubLoader = true;\n                }\n                // api call\n                _this_1.post(url, params, showMainLoader)\n                    .then(function (data) {\n                    _this_1.cacheService.set(cacheKey, data, { maxAge: 15 * 60 });\n                    resolve(data);\n                })\n                    .catch(function (err) { return reject(err); })\n                    .finally(function () {\n                    // here we will hide loader and change flag to true to prevent multiple request loaders\n                    if (_this_1.loaderChecked == false) {\n                        _this_1.loaderResponse++;\n                        if (_this_1.loaderRequests == _this_1.loaderResponse) {\n                            _this_1.loaderChecked = true;\n                            _this_1.eventService.$pub('hideMainLoader');\n                        }\n                    }\n                    // if loader instance is specified\n                    if (loaderComponentRef != null) {\n                        loaderComponentRef.showSubLoader = false;\n                    }\n                });\n            }\n        });\n    };\n    MainService.prototype.getSubTabs = function (mainTabId, cacheKey) {\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var params, url, data;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        params = {\n                            'data': mainTabId,\n                            'product_id': this.productId,\n                            'isAdmin': this.isAdmin\n                        }, url = 'productdesigner/Tabs/getSubTabs';\n                        cacheKey += this.productId + '-' + this.baseUrl;\n                        return [4 /*yield*/, this.getData(url, params, cacheKey).then(function (responseData) {\n                                data = responseData;\n                            }).catch(function (err) { return console.log(err); })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    MainService.prototype.setSubTabsData = function (data, mainTabId) {\n        if (mainTabId === void 0) { mainTabId = 0; }\n        if (!data || !data)\n            return;\n        var subTabsData = data;\n        var tempData = [];\n        var allTabs = this.getAllTabs;\n        for (var i = 0; i < subTabsData.length; i++) {\n            if (subTabsData[i] == allTabs[subTabsData[i]]['id']) {\n                var label = (mainTabId == subTabsData[i]) ? 'label' : 'custom_label';\n                tempData.push({ id: allTabs[subTabsData[i]]['id'], label: allTabs[subTabsData[i]][label], component: allTabs[subTabsData[i]]['component'] });\n            }\n        }\n        return tempData;\n    };\n    /**\n     * [joinObject join array keys and values with underscore('_')]\n     * @param {[type]} selectedOptions [Options which are selected from proudct option component]\n     */\n    MainService.prototype.joinObject = function (selectedOptions) {\n        return Object.keys(selectedOptions).join('_') + '_' + Object.values(selectedOptions).join('_');\n    };\n    /**\n     * This function will display swal alert and will return the same as promise(.then() .catch())\n     */\n    MainService.prototype.swal = function (title, msg, type, confirmButtonText, customClass) {\n        if (confirmButtonText === void 0) { confirmButtonText = \"Ok\"; }\n        if (customClass === void 0) { customClass = \"\"; }\n        return sweetalert2__WEBPACK_IMPORTED_MODULE_8___default.a.fire({\n            title: title,\n            text: msg,\n            type: type,\n            confirmButtonText: confirmButtonText,\n            customClass: customClass,\n            allowOutsideClick: false\n        });\n    };\n    /**\n     * This function will open modal\n     \n     */\n    MainService.prototype.openThisModal = function (template, modalClass) {\n        if (modalClass === void 0) { modalClass = \"\"; }\n        var obj = this.canvasService.getActiveObject();\n        if (obj != false && obj.type == 'text')\n            this.canvasService.deselectAllObjects();\n        this.modalService.onHidden.subscribe(function (reason) {\n            if (reason == 'backdrop-click') {\n                return;\n            }\n        });\n        return this.modalService.show(template, Object.assign({ ignoreBackdropClick: true }, { class: modalClass }));\n    };\n    /**\n     * Logout user\n     */\n    MainService.prototype.logout = function () {\n        var _this_1 = this;\n        var url = \"productdesigner/Customer/Logout\";\n        this.post(url, {}, true).then(function (resp) {\n            if (resp && resp.status == \"success\") {\n                _this_1.userLoggedIn = false;\n                _this_1.eventService.$pub('customerLoggedOut');\n                _this_1.swal(_this_1.translate.instant(\"Success\"), _this_1.translate.instant(\"Logged out successfully\"), \"success\");\n            }\n            else {\n                var msg = (resp && resp.log) ? resp.log : _this_1.translate.instant(\"Something went wrong\");\n                if (msg.lastIndexOf(\"-\") >= 0)\n                    msg.substr(msg.lastIndexOf(\"-\") + 2);\n                _this_1.swal(_this_1.translate.instant(\"Error\"), msg, \"error\");\n            }\n        });\n    };\n    MainService.prototype.setCookie = function (name, expires, value) {\n        /*Set cookie for intro*/\n        document.cookie = name + \"=\" + value + \";\" + expires + \";path=/\";\n    };\n    MainService.prototype.getCookie = function (cname) {\n        var name = cname + \"=\";\n        var decodedCookie = decodeURIComponent(document.cookie);\n        var ca = decodedCookie.split(';');\n        for (var i = 0; i < ca.length; i++) {\n            var c = ca[i];\n            while (c.charAt(0) == ' ') {\n                c = c.substring(1);\n            }\n            if (c.indexOf(name) == 0) {\n                return c.substring(name.length, c.length);\n            }\n        }\n        return \"\";\n    };\n    /*Store Image for Preview and Download*/\n    MainService.prototype.getCanvasDataUrl = function (isFirst, currentImageId, getUrlOnly) {\n        if (getUrlOnly === void 0) { getUrlOnly = true; }\n        return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__awaiter\"](this, void 0, void 0, function () {\n            var images, params, response_1;\n            var _this_1 = this;\n            return tslib__WEBPACK_IMPORTED_MODULE_0__[\"__generator\"](this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (isFirst) {\n                            currentImageId = this.canvasService.activeImageId;\n                        }\n                        if (!(this.objectModification == true || this.generatedImage[currentImageId] == undefined || this.generatedImage[currentImageId] == '')) return [3 /*break*/, 2];\n                        images = this.canvasService.getCanvasDataUrl(currentImageId);\n                        params = {\n                            'dataUrl': images,\n                            'product_image_data': this.canvasService.allImagesWithIds[currentImageId],\n                        };\n                        return [4 /*yield*/, this.post('productdesigner/index/preview', params).then(function (data) {\n                                _this_1.generatedImage[currentImageId] = data;\n                                response_1 = (getUrlOnly === true) ? _this_1.generatedImage[currentImageId].base.url : Object.assign({}, data);\n                                _this_1.objectModification = false;\n                            }).catch(function (err) {\n                                console.log(_this_1.translate.instant(\"Error in loading preview\"), err);\n                            })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, response_1];\n                    case 2: return [2 /*return*/, (getUrlOnly === true) ? this.generatedImage[currentImageId].base.url : this.generatedImage[currentImageId]];\n                }\n            });\n        });\n    };\n    /*Download Files*/\n    MainService.prototype.downloadFiles = function (url, extension) {\n        var _this_1 = this;\n        if (extension === void 0) { extension = ''; }\n        //Get  File Name\n        var productName;\n        this.eventService.$sub('getCartData', function (data) {\n            productName = data.productName;\n        });\n        var dateObj = new Date();\n        var month = dateObj.getUTCMonth() + 1;\n        var day = dateObj.getUTCDate();\n        var year = dateObj.getUTCFullYear();\n        var newdate = year + \"-\" + month + \"-\" + day;\n        var h = (dateObj.getHours() < 10) ? \"0\" + dateObj.getHours() : dateObj.getHours();\n        var m = (dateObj.getMinutes() < 10) ? \"0\" + dateObj.getMinutes() : dateObj.getMinutes();\n        var s = (dateObj.getSeconds() < 10) ? \"0\" + dateObj.getSeconds() : dateObj.getSeconds();\n        var newtime = h + \"-\" + m + \"-\" + s;\n        var fileName = productName + \"_\" + newdate + \"_\" + newtime + '.' + extension;\n        //Download File here\n        this.http.get(url, {\n            observe: 'response',\n            responseType: 'blob'\n        }).subscribe(function (res) {\n            _this_1._FileSaverService.save(res.body, fileName);\n        });\n    };\n    MainService.prototype.calcFinalPrice = function (qty) {\n        return (this.productPrice + this.otherPrices) * qty;\n    };\n    MainService.prototype.showHideSubLoader = function (subLoaderInstance, checkForResponsive) {\n        if (checkForResponsive === void 0) { checkForResponsive = false; }\n        // if subloader instance is not valid\n        if (!subLoaderInstance || !subLoaderInstance.hasOwnProperty('showSubLoader'))\n            return;\n        // flag variable that will be used to show/hide loader\n        var showLoader = false;\n        // if there is no need to check responsive, directly set loader value\n        if (checkForResponsive === false)\n            showLoader = !subLoaderInstance.showSubLoader;\n        // else check if is responsive if not true, \n        // if it is true, then by default false is been set\n        // if it is false, get opposite value of sub loader\n        else if (!this.isResponsive)\n            showLoader = !subLoaderInstance.showSubLoader;\n        // finally assign flag value to specified instance\n        subLoaderInstance.showSubLoader = showLoader;\n    };\n    MainService.prototype.showHidePlaceholder = function (placeholderInstance) {\n        // flag variable that will be used to show/hide loader\n        var showPlaceholder = false;\n        // else check if is responsive if not true, \n        // if it is true, then by default false is been set\n        // if it is false, get opposite value of sub loader\n        if (this.isResponsive)\n            showPlaceholder = !placeholderInstance;\n        // finally assign flag value to specified instance\n        return showPlaceholder;\n    };\n    /*********** Infinity Scroll Section *************/\n    MainService.prototype.prepareTempArrForPlaceholder = function (limit) {\n        this.customPlaceholderArr = [];\n        for (var i = 0; i < limit; i++) {\n            this.customPlaceholderArr.push(i);\n        }\n    };\n    MainService.prototype.processToolTip = function (tootltipData, option) {\n        if (tootltipData === void 0) { tootltipData = []; }\n        if (option === void 0) { option = false; }\n        var self = tootltipData;\n        var _this = this;\n        var intro = introJs();\n        var _intro = introJs();\n        intro.exit();\n        if (self != undefined) {\n            setTimeout(function () {\n                if (option) {\n                    _this.isToolTipEnable = true;\n                    intro.setOptions({\n                        steps: self,\n                        disableInteraction: false,\n                        scrollToElement: false,\n                        showBullets: false,\n                        showButtons: false,\n                        showStepNumbers: false,\n                        overlayOpacity: 0.2,\n                        highlightClass: \"demoClass\"\n                    }).start();\n                    intro.refresh();\n                    intro.onbeforeexit(function () {\n                        _this.isToolTipEnable = false;\n                    });\n                    setTimeout(function () { intro.exit(); _this.isToolTipEnable = false; }, 10000);\n                }\n                else {\n                    _this.isToolTipEnable = true;\n                    _intro.setOptions({\n                        steps: self,\n                        disableInteraction: false,\n                        scrollToElement: false,\n                        showBullets: false,\n                        showButtons: false,\n                        showStepNumbers: false,\n                        overlayOpacity: 0.2\n                    }).start();\n                    _intro.refresh();\n                    _intro.onbeforeexit(function () {\n                        _this.isToolTipEnable = false;\n                    });\n                    setTimeout(function () { intro.exit(); _this.isToolTipEnable = false; }, 15000);\n                }\n            }, 500);\n        }\n    };\n    /**************** Common Opearation Functions *****************/\n    MainService.prototype.updateObjectProperties = function (obj, properties, selectAfterUpdate) {\n        if (selectAfterUpdate === void 0) { selectAfterUpdate = false; }\n        var params = {\n            obj: obj,\n            properties: properties,\n            crudServiceString: 'this.updateObjectService'\n        };\n        params = (selectAfterUpdate === false) ? Object.assign(params, { setActive: false }) : params;\n        this.canvasService.objectCRUD(params);\n    };\n    MainService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [_angular_common_http__WEBPACK_IMPORTED_MODULE_4__[\"HttpClient\"],\n            ngx_filesaver__WEBPACK_IMPORTED_MODULE_9__[\"FileSaverService\"],\n            ng2_cache__WEBPACK_IMPORTED_MODULE_3__[\"CacheService\"],\n            ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_1__[\"BsModalService\"],\n            _services_canvas_service__WEBPACK_IMPORTED_MODULE_5__[\"CanvasService\"],\n            angular7_pubsub__WEBPACK_IMPORTED_MODULE_7__[\"PubSubService\"],\n            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__[\"TranslateService\"],\n            _services_customise_controls_service__WEBPACK_IMPORTED_MODULE_6__[\"CustomiseControlsService\"]])\n    ], MainService);\n    return MainService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/multiple-objects-update.service.ts\":\n/*!*************************************************************!*\\\n  !*** ./src/app/services/multiple-objects-update.service.ts ***!\n  \\*************************************************************/\n/*! exports provided: MultipleObjectsUpdateService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MultipleObjectsUpdateService\", function() { return MultipleObjectsUpdateService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar MultipleObjectsUpdateService = /** @class */ (function () {\n    function MultipleObjectsUpdateService() {\n        this.init = function (params) {\n            var obj = params.obj, properties = params.properties, canvasService = params.service, isCenter = params.hasOwnProperty('isCenter') ? params.isCenter : false, isSVG = params.hasOwnProperty('isSvg') ? params.isSvg : false, isObjectModify = params.hasOwnProperty('isObjectModify') ? params.isObjectModify : false, eventService = params.eventService, currentCanvas = (params.hasOwnProperty('canvas')) ? params.canvas : canvasService.currentCanvas, setActiveObject = (params.hasOwnProperty('setActive')) ? params.setActive : true, selectedObjs = params.selectedObjs;\n            // if no object is passed, we will get active object\n            if (obj == null)\n                obj = canvasService.getActiveObject();\n            // if no active object found, return from here\n            if (obj == false)\n                return;\n            // fetch object's current property in array\n            var oldProperties = [];\n            for (var i in properties) {\n                oldProperties[i] = {};\n                for (var key in properties[i]) {\n                    if (Array.isArray(obj)) {\n                        oldProperties[i][key] = obj[i][key];\n                    }\n                    else {\n                        oldProperties[i][key] = obj[key];\n                    }\n                }\n            }\n            return {\n                /**\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\n                 *\n                 */\n                exec: function () {\n                    // if no active object found, return from here\n                    if (obj == false)\n                        return;\n                    if (selectedObjs.length > 1 && setActiveObject) {\n                        currentCanvas.discardActiveObject().renderAll();\n                    }\n                    // set properties to current object       \n                    if (Array.isArray(obj)) {\n                        for (var i = 0; i < obj.length; i++) {\n                            for (var key in properties[i]) {\n                                var property = properties[i][key];\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\n                                if (typeof obj[i]['set' + functionName] == 'function') {\n                                    obj[i]['set' + functionName](property);\n                                }\n                                else {\n                                    obj[i][key] = property;\n                                }\n                            }\n                            obj[i].dirty = true;\n                            if (obj[i].selectable)\n                                if (isCenter === true)\n                                    obj[i].center();\n                            obj[i].setCoords();\n                        }\n                        if (setActiveObject)\n                            currentCanvas.setActiveObject(obj[0]);\n                    }\n                    else {\n                        for (var i in properties) {\n                            for (var key in properties[i]) {\n                                var property = properties[i][key];\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\n                                if (typeof obj['set' + functionName] == 'function') {\n                                    obj['set' + functionName](property);\n                                }\n                                else {\n                                    obj[key] = property;\n                                }\n                            }\n                        }\n                        obj.dirty = true;\n                        if (isCenter === true)\n                            obj.center();\n                        obj.setCoords();\n                    }\n                    if (selectedObjs.length > 1 && setActiveObject) {\n                        eventService.$pub('selectThisObjects', selectedObjs);\n                    }\n                    // finally update the canvas object\n                    currentCanvas.calcOffset();\n                    setTimeout(function () {\n                        currentCanvas.renderAll();\n                        // Publish an event when new object is updated\n                        eventService.$pub('objectUpdated', obj);\n                    }, 50);\n                },\n                /**\n                 * This function is used to revert back the last updated object while using undo redo\n                 */\n                unexec: function () {\n                    var canvas = currentCanvas;\n                    if (selectedObjs.length > 1) {\n                        canvas.discardActiveObject().renderAll();\n                    }\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    // return of obj is null\n                    if (!obj)\n                        return;\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    // set properties to current object from undoPropertiesStack\n                    if (Array.isArray(obj)) {\n                        for (var i = 0; i < obj.length; i++) {\n                            for (var key in oldProperties[i]) {\n                                var property = oldProperties[i][key];\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\n                                if (typeof obj[i]['set' + functionName] == 'function') {\n                                    obj[i]['set' + functionName](property);\n                                }\n                                else {\n                                    obj[i][key] = property;\n                                }\n                            }\n                            obj[i].setCoords();\n                            obj[i].dirty = true;\n                        }\n                    }\n                    else {\n                        for (var i in oldProperties) {\n                            for (var key in oldProperties[i]) {\n                                var property = oldProperties[i][key];\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\n                                if (typeof obj['set' + functionName] == 'function') {\n                                    obj['set' + functionName](property);\n                                }\n                                else {\n                                    obj[key] = property;\n                                }\n                            }\n                        }\n                        obj.setCoords();\n                        obj.dirty = true;\n                    }\n                    // finally update the canvas object\n                    if (selectedObjs.length > 1) {\n                        eventService.$pub('selectThisObjects', selectedObjs);\n                    }\n                    setTimeout(function () {\n                        currentCanvas.renderAll();\n                        eventService.$pub('objectUpdated', obj);\n                    }, 50);\n                }\n            };\n        };\n    }\n    MultipleObjectsUpdateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], MultipleObjectsUpdateService);\n    return MultipleObjectsUpdateService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/range-slider-update-service.service.ts\":\n/*!*****************************************************************!*\\\n  !*** ./src/app/services/range-slider-update-service.service.ts ***!\n  \\*****************************************************************/\n/*! exports provided: RangeSliderUpdateServiceService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RangeSliderUpdateServiceService\", function() { return RangeSliderUpdateServiceService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar RangeSliderUpdateServiceService = /** @class */ (function () {\n    function RangeSliderUpdateServiceService() {\n        /**\n         * Init the service for operation : It initialise the variables\n         */\n        this.init = function (params) {\n            var selectedObj = params.obj, properties = params.properties, canvasService = params.service, redoStack = {}, eventService = params.eventService;\n            // if no object is passed, we will get active object\n            if (selectedObj == null)\n                selectedObj = canvasService.getActiveObject();\n            // if no active object found, return from here\n            if (selectedObj == false)\n                return;\n            return {\n                /**\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\n                 *\n                 */\n                exec: function () {\n                    // if no active object found, return from here\n                    if (selectedObj == false)\n                        return;\n                    if (redoStack && Object.keys(redoStack).length > 0) {\n                        var _loop_1 = function (key) {\n                            if (Array.isArray(selectedObj)) {\n                                selectedObj.filter(function (currObj) { return currObj[key] = redoStack[key]; });\n                            }\n                            else {\n                                selectedObj[key] = redoStack[key];\n                            }\n                        };\n                        for (var key in redoStack) {\n                            _loop_1(key);\n                        }\n                        // \n                        for (var key in properties) {\n                            redoStack[key] = properties[key];\n                        }\n                        canvasService.currentCanvas.renderAll();\n                        eventService.$pub('objectUpdated', selectedObj);\n                    }\n                },\n                /**\n                 * This function is used to revert back the last updated object while using undo redo\n                 */\n                unexec: function () {\n                    var canvas = canvasService.currentCanvas;\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    // return of obj is null\n                    if (!selectedObj)\n                        return;\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    // \n                    // redoStack = Object.assign({}, properties);\n                    // \n                    for (var key in properties) {\n                        redoStack[key] = (Array.isArray(selectedObj)) ? selectedObj[0][key] : selectedObj[key];\n                    }\n                    // \n                    if (Array.isArray(selectedObj)) {\n                        selectedObj.filter(function (obj) {\n                            obj = Object.assign(obj, properties);\n                        });\n                    }\n                    else {\n                        selectedObj = Object.assign(selectedObj, properties);\n                    }\n                    canvasService.currentCanvas.renderAll();\n                    eventService.$pub('objectUpdated', selectedObj);\n                }\n            };\n        };\n    }\n    RangeSliderUpdateServiceService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], RangeSliderUpdateServiceService);\n    return RangeSliderUpdateServiceService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/remove-object.service.ts\":\n/*!***************************************************!*\\\n  !*** ./src/app/services/remove-object.service.ts ***!\n  \\***************************************************/\n/*! exports provided: RemoveObjectService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RemoveObjectService\", function() { return RemoveObjectService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar RemoveObjectService = /** @class */ (function () {\n    function RemoveObjectService() {\n        /**\n         * Remove selected/any object from canvas\n         */\n        this.init = function (params) {\n            var obj = params.obj, properties = params.properties, canvasService = params.service, isCenter = params.hasOwnProperty('isCenter') ? params.isCenter : true, isSvg = params.hasOwnProperty('isSvg') ? params.isSvg : false, canvas = params.hasOwnProperty('canvas') ? params.canvas : canvasService.currentCanvas, eventService = params.eventService, removeUltimateObj = params.hasOwnProperty('removeUltimateObj') ? params.removeUltimateObj : false;\n            // if no object is passed, we will get active object\n            if (obj == null)\n                obj = canvasService.getActiveObject();\n            return {\n                /**\n       * After initializing each fabric object, this method is called to apply->insert the same on canvas\n       *\n       */\n                exec: function () {\n                    if (obj == false)\n                        return;\n                    // remove the object and render\n                    if (Array.isArray(obj)) {\n                        for (var i in obj) {\n                            if (obj[i].ultimatelock != true || removeUltimateObj == true) {\n                                canvas.remove(obj[i]).renderAll();\n                            }\n                        }\n                    }\n                    else {\n                        if (obj.ultimatelock != true || removeUltimateObj == true) {\n                            canvas.remove(obj).renderAll();\n                        }\n                    }\n                    canvas.discardActiveObject();\n                    // render current canvas\n                    canvas.renderAll();\n                    // publish an event when object is removed\n                    eventService.$pub('objectRemoved', obj);\n                },\n                /**\n                * This method will add the object on canvas\n                */\n                unexec: function () {\n                    if (!obj)\n                        return;\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    if (Array.isArray(obj) && obj.length == 1) {\n                        obj = obj[0];\n                    }\n                    if (Array.isArray(obj)) {\n                        for (var i in obj) {\n                            canvas.add(obj[i]).renderAll();\n                            obj[i].setCoords();\n                        }\n                        // set group objects as active\n                        var sel = new fabric.ActiveSelection(obj, {\n                            canvas: canvas,\n                        });\n                        canvas.setActiveObject(sel);\n                    }\n                    else {\n                        canvas.add(obj).renderAll();\n                        obj.setCoords();\n                        // set current object as active\n                        canvas.setActiveObject(obj);\n                    }\n                    // render current canvas\n                    canvas.renderAll();\n                    // Publish an event when new object is added\n                    eventService.$pub('objectAdded', obj);\n                }\n            };\n        };\n    }\n    RemoveObjectService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], RemoveObjectService);\n    return RemoveObjectService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/svg-color-update.service.ts\":\n/*!******************************************************!*\\\n  !*** ./src/app/services/svg-color-update.service.ts ***!\n  \\******************************************************/\n/*! exports provided: SvgColorUpdateService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SvgColorUpdateService\", function() { return SvgColorUpdateService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar SvgColorUpdateService = /** @class */ (function () {\n    function SvgColorUpdateService() {\n        this.init = function (params) {\n            var obj = params.obj, oldSvgColors = [], properties = params.properties, canvasService = params.service, canvas = (params.hasOwnProperty('canvas')) ? params.canvas : canvasService.currentCanvas, eventService = params.eventService;\n            // if no object is passed, we will get active object\n            if (obj == null)\n                obj = canvasService.getActiveObject();\n            // if no active object found, return from here\n            if (obj == false)\n                return;\n            return {\n                /**\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\n                 *\n                 */\n                exec: function () {\n                    // if no active object found, return from here\n                    if (obj == false)\n                        return;\n                    obj._objects.forEach(function (data) {\n                        if (data.fill && properties['old_fill'] == data.fill) {\n                            var randLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));\n                            var uniqid = randLetter + Date.now();\n                            data = Object.assign(data, { uniqId: uniqid });\n                            oldSvgColors.push(Object.assign({}, data));\n                            data.set({ fill: properties['fill'] });\n                        }\n                    });\n                    canvas.renderAll();\n                    eventService.$pub('objectUpdated', obj);\n                },\n                /**\n                 * This function is used to revert back the last updated object while using undo redo\n                 */\n                unexec: function () {\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    // return of obj is null\n                    if (!obj)\n                        return;\n                    // \n                    if (!oldSvgColors || !oldSvgColors.length) {\n                        return;\n                    }\n                    obj._objects.filter(function (o) {\n                        var tmp = oldSvgColors.find(function (colorObj) { return (o.hasOwnProperty('uniqId') && o.uniqId == colorObj.uniqId); });\n                        if (tmp) {\n                            properties['fill'] = o.fill;\n                            o.set({ fill: tmp.fill });\n                        }\n                    });\n                    canvas.renderAll();\n                    eventService.$pub('objectUpdated', obj);\n                }\n            };\n        };\n    }\n    SvgColorUpdateService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], SvgColorUpdateService);\n    return SvgColorUpdateService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/tabs.service.ts\":\n/*!******************************************!*\\\n  !*** ./src/app/services/tabs.service.ts ***!\n  \\******************************************/\n/*! exports provided: TabsService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TabsService\", function() { return TabsService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar TabsService = /** @class */ (function () {\n    function TabsService() {\n        this.parentTabsData = [];\n        this.showChildTabsData = [];\n        this.showChild = null;\n    }\n    TabsService.prototype.registerTabs = function (subTab, mainTab) {\n        if (!this.parentTabsData[mainTab]) {\n            this.parentTabsData[mainTab] = [];\n        }\n        if (this.parentTabsData[mainTab].indexOf(subTab) == -1) {\n            this.parentTabsData[mainTab].push(subTab);\n        }\n    };\n    TabsService.prototype.showChildTabs = function (currentTab) {\n        this.showChild = true;\n        this.showChildTabsData = [];\n        for (var _i = 0, _a = this.parentTabsData[currentTab]; _i < _a.length; _i++) {\n            var tab = _a[_i];\n            if (this.showChildTabsData.indexOf(tab) == -1) {\n                this.showChildTabsData.push(tab);\n            }\n        }\n    };\n    TabsService.prototype.checkIfExistChild = function (tab) {\n        if (this.showChildTabsData.indexOf(tab) == -1) {\n            return null;\n        }\n        return true;\n    };\n    TabsService.prototype.backTab = function () {\n        this.showChild = null;\n        this.showChildTabsData = [];\n    };\n    TabsService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], TabsService);\n    return TabsService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/app/services/update-object.service.ts\":\n/*!***************************************************!*\\\n  !*** ./src/app/services/update-object.service.ts ***!\n  \\***************************************************/\n/*! exports provided: UpdateObjectService */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateObjectService\", function() { return UpdateObjectService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n\n\nvar UpdateObjectService = /** @class */ (function () {\n    function UpdateObjectService() {\n        /**\n         * Init the service for operation : It initialise the variables\n         */\n        this.init = function (params) {\n            var obj = params.obj, properties = params.properties, canvasService = params.service, isCenter = params.hasOwnProperty('isCenter') ? params.isCenter : false, isSVG = params.hasOwnProperty('isSvg') ? params.isSvg : false, isObjectModify = params.hasOwnProperty('isObjectModify') ? params.isObjectModify : false, eventService = params.eventService, currentCanvas = (params.hasOwnProperty('canvas')) ? params.canvas : canvasService.currentCanvas, setActiveObject = (params.hasOwnProperty('setActive')) ? params.setActive : true;\n            // if no object is passed, we will get active object\n            if (obj == null)\n                obj = canvasService.getActiveObject();\n            // if no active object found, return from here\n            if (obj == false)\n                return;\n            // fetch object's current property in array\n            var oldProperties = {};\n            if (isSVG == true || isObjectModify) {\n                for (var key in properties) {\n                    oldProperties[key] = properties[key];\n                }\n            }\n            else {\n                for (var key in properties) {\n                    if (Array.isArray(obj)) {\n                        oldProperties[key] = obj[0][key];\n                    }\n                    else {\n                        oldProperties[key] = obj[key];\n                    }\n                }\n            }\n            // If object is modified due to inbuilt fabric property then no updation required\n            if (isObjectModify) {\n                properties = {};\n            }\n            return {\n                /**\n                 * this function is used when special operation needs to be performed on objects(eg. bold/italic on text)\n                 *\n                 */\n                exec: function () {\n                    // if no active object found, return from here\n                    if (obj == false)\n                        return;\n                    var selectedObjs = canvasService.currentCanvas.getActiveObjects();\n                    if (selectedObjs.length > 1) {\n                        canvasService.deselectAllObjects();\n                    }\n                    // set properties to current object\n                    if (isSVG) {\n                        obj._objects.forEach(function (data) {\n                            if (data.fill && properties['old_fill'] == data.fill) {\n                                data.set({ fill: properties['fill'] });\n                            }\n                        });\n                    }\n                    else {\n                        if (Array.isArray(obj)) {\n                            for (var i = 0; i < obj.length; i++) {\n                                //obj[i] = Object.assign(obj[i], properties);\n                                for (var key in properties) {\n                                    var property = properties[key];\n                                    var functionName = key.charAt(0).toUpperCase() + key.substr(1);\n                                    if (typeof obj[i]['set' + functionName] == 'function') {\n                                        obj[i]['set' + functionName](property);\n                                    }\n                                    else {\n                                        obj[i][key] = property;\n                                    }\n                                }\n                                obj[i].dirty = true;\n                                if (obj[i].selectable)\n                                    if (isCenter === true)\n                                        obj[i].center();\n                                obj[i].setCoords();\n                            }\n                            if (setActiveObject)\n                                currentCanvas.setActiveObject(obj[0]);\n                        }\n                        else {\n                            for (var key in properties) {\n                                var property = properties[key];\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\n                                if (typeof obj['set' + functionName] == 'function') {\n                                    obj['set' + functionName](property);\n                                }\n                                else {\n                                    obj[key] = property;\n                                }\n                            }\n                            obj.dirty = true;\n                            if (isCenter === true)\n                                obj.center();\n                            if (obj.selectable && setActiveObject)\n                                currentCanvas.setActiveObject(obj);\n                            obj.setCoords();\n                        }\n                    }\n                    // finally update the canvas object\n                    currentCanvas.calcOffset();\n                    setTimeout(function () {\n                        currentCanvas.renderAll();\n                        // Publish an event when new object is updated\n                        eventService.$pub('objectUpdated', obj);\n                    }, 50);\n                },\n                /**\n                 * This function is used to revert back the last updated object while using undo redo\n                 */\n                unexec: function () {\n                    var canvas = currentCanvas;\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    // return of obj is null\n                    if (!obj)\n                        return;\n                    // if no canvas is selected\n                    if (!canvas) {\n                        return;\n                    }\n                    var selectedObjs = canvasService.currentCanvas.getActiveObjects();\n                    if (selectedObjs.length > 1) {\n                        canvasService.deselectAllObjects();\n                    }\n                    if (isObjectModify) {\n                        for (var key in oldProperties) {\n                            properties[key] = obj[key];\n                        }\n                    }\n                    if (isSVG) {\n                        obj._objects.forEach(function (data) {\n                            if (data.fill && oldProperties['fill'] == data.fill) {\n                                data.set({ fill: oldProperties['old_fill'] });\n                            }\n                        });\n                    }\n                    else {\n                        // set properties to current object from undoPropertiesStack\n                        if (Array.isArray(obj)) {\n                            for (var i = 0; i < obj.length; i++) {\n                                //obj[i] = Object.assign(obj[i], oldProperties);\n                                for (var key in oldProperties) {\n                                    var property = oldProperties[key];\n                                    var functionName = key.charAt(0).toUpperCase() + key.substr(1);\n                                    if (typeof obj[i]['set' + functionName] == 'function') {\n                                        obj[i]['set' + functionName](property);\n                                    }\n                                    else {\n                                        obj[i][key] = property;\n                                    }\n                                }\n                                obj[i].setCoords();\n                                obj[i].dirty = true;\n                            }\n                            if (setActiveObject)\n                                currentCanvas.setActiveObject(obj[0]);\n                        }\n                        else {\n                            for (var key in oldProperties) {\n                                var property = oldProperties[key];\n                                var functionName = key.charAt(0).toUpperCase() + key.substr(1);\n                                if (typeof obj['set' + functionName] == 'function') {\n                                    obj['set' + functionName](property);\n                                }\n                                else {\n                                    obj[key] = property;\n                                }\n                            }\n                            obj.setCoords();\n                            obj.dirty = true;\n                            if (setActiveObject)\n                                currentCanvas.setActiveObject(obj);\n                        }\n                    }\n                    // finally update the canvas object\n                    currentCanvas.renderAll();\n                    eventService.$pub('objectUpdated', obj);\n                }\n            };\n        };\n    }\n    UpdateObjectService = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\n        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Injectable\"])({\n            providedIn: 'root'\n        }),\n        tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [])\n    ], UpdateObjectService);\n    return UpdateObjectService;\n}());\n\n\n\n/***/ }),\n\n/***/ \"./src/environments/environment.ts\":\n/*!*****************************************!*\\\n  !*** ./src/environments/environment.ts ***!\n  \\*****************************************/\n/*! exports provided: environment */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"environment\", function() { return environment; });\n// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\nvar environment = {\n    production: true\n};\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n\n\n/***/ }),\n\n/***/ \"./src/main.ts\":\n/*!*********************!*\\\n  !*** ./src/main.ts ***!\n  \\*********************/\n/*! no exports provided */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ \"./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js\");\n/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ \"./src/app/app.module.ts\");\n/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ \"./src/environments/environment.ts\");\n\n\n\n\nif (_environments_environment__WEBPACK_IMPORTED_MODULE_3__[\"environment\"].production) {\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"enableProdMode\"])();\n}\nObject(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__[\"platformBrowserDynamic\"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__[\"AppModule\"])\n    .catch(function (err) { return console.error(err); });\n\n\n/***/ }),\n\n/***/ 0:\n/*!************************************************************************************!*\\\n  !*** multi (webpack)-dev-server/client?http://0.0.0.0:0/sockjs-node ./src/main.ts ***!\n  \\************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(/*! /var/www/html/BYIV2/mag232/angular/node_modules/webpack-dev-server/client/index.js?http://0.0.0.0:0/sockjs-node */\"./node_modules/webpack-dev-server/client/index.js?http://0.0.0.0:0/sockjs-node\");\nmodule.exports = __webpack_require__(/*! /var/www/html/BYIV2/mag232/angular/src/main.ts */\"./src/main.ts\");\n\n\n/***/ }),\n\n/***/ 1:\n/*!***********************!*\\\n  !*** jsdom (ignored) ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 2:\n/*!********************************************************!*\\\n  !*** jsdom/lib/jsdom/living/generated/utils (ignored) ***!\n  \\********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 3:\n/*!***************************************!*\\\n  !*** jsdom/lib/jsdom/utils (ignored) ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n\n},[[0,\"runtime\",\"vendor\"]]]);\n//# sourceMappingURL=main.js.map"}
}});
